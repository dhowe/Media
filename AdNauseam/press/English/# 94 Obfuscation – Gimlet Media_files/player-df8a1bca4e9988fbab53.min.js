!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/webpack-assets/",e(e.s=876)}({326:function(t,e,n){(function(n){var i,r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var t=this||s;return t._counter=0,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||s;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),r=0;r<i.length;r++){var o=e._howls[n]._soundById(i[r]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||s;e.ctx||p(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),r=0;r<i.length;r++){var o=e._howls[n]._soundById(i[r]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||s,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;void 0===e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||s,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),n=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||n)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var i=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",i,!0)}};return document.addEventListener("touchend",i,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&s.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&s.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new o,a=function(t){var e=this;if(!t.src||0===t.src.length)return void console.error("An array of source files must be passed with any new Howl.");e.init(t)};a.prototype={init:function(t){var e=this;return s.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=s.usingWebAudio&&!e._html5,void 0!==s.ctx&&s.ctx&&s.mobileAutoEnable&&s._enableMobileAudio(),s._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(s.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var i,r;if(t._format&&t._format[n])i=t._format[n];else{if("string"!=typeof(r=t._src[n])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(r),i||(i=/\.([^.]+)$/.exec(r.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&s.codecs(i)){e=t._src[n];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new u(t),t._webAudio&&h(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var n=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t){t="__default";for(var r=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(r++,i=n._sounds[o]._id);1===r?t=null:i=null}}var a=i?n._soundById(i):n._inactiveSound();if(!a)return null;if(i&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state&&!n._sprite[t])return n._queue.push({event:"play",action:function(){n.play(n._soundById(a._id)?a._id:void 0)}}),a._id;if(i&&!a._paused)return e||setTimeout(function(){n._emit("play",a._id)},0),a._id;n._webAudio&&s._autoResume();var u=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-u),h=1e3*l/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=t,a._seek=u,a._start=n._sprite[t][0]/1e3,a._stop=(n._sprite[t][0]+n._sprite[t][1])/1e3,a._loop=!(!a._loop&&!n._sprite[t][2]);var c=a._node;if(n._webAudio){var d=function(){n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;c.gain.setValueAtTime(t,s.ctx.currentTime),a._playStart=s.ctx.currentTime,void 0===c.bufferSource.start?a._loop?c.bufferSource.noteGrainOn(0,u,86400):c.bufferSource.noteGrainOn(0,u,l):a._loop?c.bufferSource.start(0,u,86400):c.bufferSource.start(0,u,l),h!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h)),e||setTimeout(function(){n._emit("play",a._id)},0)},f="running"===s.state;if("loaded"===n._state&&f)d();else{var p=f||"loaded"!==n._state?"load":"resume";n.once(p,d,f?a._id:null),n._clearTimer(a._id)}}else{var m=function(){c.currentTime=u,c.muted=a._muted||n._muted||s._muted||c.muted,c.volume=a._volume*s.volume(),c.playbackRate=a._rate,c.play(),h!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),h)),e||n._emit("play",a._id)},v="loaded"===n._state&&(window&&window.ejecta||!c.readyState&&s._navigator.isCocoonJS);if(4===c.readyState||v)m();else{var y=function(){m(),c.removeEventListener(s._canPlayEvent,y,!1)};c.addEventListener(s._canPlayEvent,y,!1),n._clearTimer(a._id)}}return a._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var r=e._soundById(n[i]);if(r&&!r._paused&&(r._seek=e.seek(n[i]),r._rateSeek=0,r._paused=!0,e._stopFade(n[i]),r._node))if(e._webAudio){if(!r._node.bufferSource)return e;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var i=n._getSoundIds(t),r=0;r<i.length;r++){n._clearTimer(i[r]);var o=n._soundById(i[r]);if(o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(i[r]),o._node))if(n._webAudio){if(!o._node.bufferSource)return e||n._emit("stop",o._id),n;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause());o&&!e&&n._emit("stop",o._id)}return n},mute:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var i=n._getSoundIds(e),r=0;r<i.length;r++){var o=n._soundById(i[r]);o&&(o._muted=t,n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,s.ctx.currentTime):o._node&&(o._node.muted=!!s._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n=this,i=arguments;if(0===i.length)return n._volume;if(1===i.length||2===i.length&&void 0===i[1]){n._getSoundIds().indexOf(i[0])>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));var r;if(!(void 0!==t&&t>=0&&t<=1))return r=e?n._soundById(e):n._sounds[0],r?r._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;void 0===e&&(n._volume=t),e=n._getSoundIds(e);for(var o=0;o<e.length;o++)(r=n._soundById(e[o]))&&(r._volume=t,i[2]||n._stopFade(e[o]),n._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,s.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*s.volume()),n._emit("volume",r._id));return n},fade:function(t,e,n,i){var r=this,o=Math.abs(t-e),a=t>e?"out":"in",u=o/.01,l=u>0?n/u:n;if(l<4&&(u=Math.ceil(u/(4/l)),l=4),"loaded"!==r._state)return r._queue.push({event:"fade",action:function(){r.fade(t,e,n,i)}}),r;r.volume(t,i);for(var h=r._getSoundIds(i),c=0;c<h.length;c++){var d=r._soundById(h[c]);if(d){if(i||r._stopFade(h[c]),r._webAudio&&!d._muted){var f=s.ctx.currentTime,p=f+n/1e3;d._volume=t,d._node.gain.setValueAtTime(t,f),d._node.gain.linearRampToValueAtTime(e,p)}var m=t;d._interval=setInterval(function(n,o){u>0&&(m+="in"===a?.01:-.01),m=Math.max(0,m),m=Math.min(1,m),m=Math.round(100*m)/100,r._webAudio?(void 0===i&&(r._volume=m),o._volume=m):r.volume(m,n,!0),(e<t&&m<=e||e>t&&m>=e)&&(clearInterval(o._interval),o._interval=null,r.volume(e,n),r._emit("fade",n))}.bind(r,h[c],d),l)}}return r},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(n._interval),n._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=i._soundById(parseInt(r[0],10)))&&n._loop;t=r[0],i._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var o=i._getSoundIds(e),s=0;s<o.length;s++)(n=i._soundById(o[s]))&&(n._loop=t,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var t,e,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var r=n._getSoundIds(),o=r.indexOf(i[0]);o>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));var a;if("number"!=typeof t)return a=n._soundById(e),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;void 0===e&&(n._rate=t),e=n._getSoundIds(e);for(var u=0;u<e.length;u++)if(a=n._soundById(e[u])){a._rateSeek=n.seek(e[u]),a._playStart=n._webAudio?s.ctx.currentTime:a._playStart,a._rate=t,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=t:a._node&&(a._node.playbackRate=t);var l=n.seek(e[u]),h=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-l,c=1e3*h/Math.abs(a._rate);!n._endTimers[e[u]]&&a._paused||(n._clearTimer(e[u]),n._endTimers[e[u]]=setTimeout(n._ended.bind(n,a),c)),n._emit("rate",a._id)}return n},seek:function(){var t,e,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var r=n._getSoundIds(),o=r.indexOf(i[0]);o>=0?e=parseInt(i[0],10):(e=n._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(void 0===e)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?s.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+u*Math.abs(a._rate))}return a._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),h&&n.play(e,!0),!n._webAudio&&a._node&&(a._node.currentTime=t),n._emit("seek",e)}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var i=0;i<e._sounds.length;i++)if(!e._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,i=e._soundById(t);return i&&(n=e._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++){e[n]._paused||t.stop(e[n]._id),t._webAudio||(e[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(s._canPlayEvent,e[n]._loadFn,!1)),delete e[n]._node,t._clearTimer(e[n]._id);var i=s._howls.indexOf(t);i>=0&&s._howls.splice(i,1)}var r=!0;for(n=0;n<s._howls.length;n++)if(s._howls[n]._src===t._src){r=!1;break}return l&&r&&delete l[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,i){var r=this,o=r["_on"+t];return"function"==typeof e&&o.push(i?{id:n,fn:e,once:i}:{id:n,fn:e}),r},off:function(t,e,n){var i=this,r=i["_on"+t],o=0;if(e){for(o=0;o<r.length;o++)if(e===r[o].fn&&n===r[o].id){r.splice(o,1);break}}else if(t)i["_on"+t]=[];else{var s=Object.keys(i);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(i[s[o]])&&(i[s[o]]=[])}return i},once:function(t,e,n){var i=this;return i.on(t,e,n,1),i},_emit:function(t,e,n){for(var i=this,r=i["_on"+t],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(i,r[o].fn),0),r[o].once&&i.off(t,r[o].fn,r[o].id));return i},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,n=t._sprite,i=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&i&&e.stop(t._id,!0).play(t._id),e._webAudio&&i){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),r)}return e._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),s._autoSuspend()),e._webAudio||i||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new u(t)},_drain:function(){var t=this,e=t._pool,n=0,i=0;if(!(t._sounds.length<e)){for(i=0;i<t._sounds.length;i++)t._sounds[i]._ended&&n++;for(i=t._sounds.length-1;i>=0;i--){if(n<=e)return;t._sounds[i]._ended&&(t._webAudio&&t._sounds[i]._node&&t._sounds[i]._node.disconnect(0),t._sounds.splice(i,1),n--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var n=[],i=0;i<e._sounds.length;i++)n.push(e._sounds[i]._id);return n}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=l[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}}return t.bufferSource=null,e}};var u=function(t){this._parent=t,this.init()};u.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=s._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),t._node.gain.setValueAtTime(n,s.ctx.currentTime),t._node.paused=!0,t._node.connect(s.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(s._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*s.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(s._canPlayEvent,t._loadFn,!1)}};var l={},h=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);d(i.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];if("0"!==e&&"2"!==e&&"3"!==e)return void t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".");d(o.response,t)},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},d=function(t,e){s.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(l[e._src]=t,f(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(t){s.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),e=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var i=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());(s._navigator&&s._navigator.standalone&&!i||s._navigator&&!s._navigator.standalone&&!i)&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.value=1,s.masterGain.connect(s.ctx.destination)),s._setup()};i=[],void 0!==(r=function(){return{Howler:s,Howl:a}}.apply(e,i))&&(t.exports=r),e.Howler=s,e.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=s,window.Howl=a,window.Sound=u):void 0!==n&&(n.HowlerGlobal=o,n.Howler=s,n.Howl=a,n.Sound=u)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var i=this;return i.ctx&&i.ctx.listener?(e="number"!=typeof e?i._pos[1]:e,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof t?i._pos:(i._pos=[t,e,n],i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(t,e,n,i,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;var a=s._orientation;return e="number"!=typeof e?a[1]:e,n="number"!=typeof n?a[2]:n,i="number"!=typeof i?a[3]:i,r="number"!=typeof r?a[4]:r,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(s._orientation=[t,e,n,i,r,o],s.ctx.listener.setOrientation(t,e,n,i,r,o),s)},Howl.prototype.init=function(t){return function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,n)}}),i;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var o=i._getSoundIds(n),s=0;s<o.length;s++){var a=i._soundById(o[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,r),"spatial"===r?a._panner.setPosition(e,0,0):a._panner.pan.value=e),i._emit("stereo",a._id)}}return i},Howl.prototype.pos=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,i,r)}}),o;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,void 0===r){if("number"!=typeof e)return o._pos;o._pos=[e,n,i]}for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,i],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),u._panner.setPosition(e,n,i)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,i,r)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,i="number"!=typeof i?o._orientation[2]:i,void 0===r){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,i]}for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,i],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),u._panner.setOrientation(e,n,i)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,i,r=this,o=arguments;if(!r._webAudio)return r;if(0===o.length)return r._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return i=r._soundById(parseInt(o[0],10)),i?i._pannerAttr:r._pannerAttr;e=o[0],void 0===n&&(r._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:r._distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:r._maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:r._panningModel,refDistance:void 0!==e.refDistance?e.refDistance:r._refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:r._rolloffFactor})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var s=r._getSoundIds(n),a=0;a<s.length;a++)if(i=r._soundById(s[a])){var u=i._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor};var l=i._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.panningModel=u.panningModel,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor):(i._pos||(i._pos=r._pos||[0,0,-.5]),t(i,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,n(82))},535:function(t,e){function n(){}function i(t,e){return Math.floor(Math.random()*(e-t+1))+t}n.maxFromBits=function(t){return Math.pow(2,t)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return i(0,n.limitUI04-1)},n.randomUI06=function(){return i(0,n.limitUI06-1)},n.randomUI08=function(){return i(0,n.limitUI08-1)},n.randomUI12=function(){return i(0,n.limitUI12-1)},n.randomUI14=function(){return i(0,n.limitUI14-1)},n.randomUI16=function(){return i(0,n.limitUI16-1)},n.randomUI32=function(){return i(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(t,e,n){t=String(t),n=n||"0";for(var i=e-t.length;i>0;i>>>=1,n+=n)1&i&&(t=n+t);return t},n.prototype.fromParts=function(t,e,i,r,o,s){return this.version=i>>12&15,this.hex=n.paddedString(t.toString(16),8)+"-"+n.paddedString(e.toString(16),4)+"-"+n.paddedString(i.toString(16),4)+"-"+n.paddedString(r.toString(16),2)+n.paddedString(o.toString(16),2)+"-"+n.paddedString(s.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var t=this.hex.split("-"),e=[],n=0,i=0;i<t.length;i++)for(var r=0;r<t[i].length;r+=2)e[n++]=parseInt(t[i].substr(r,2),16);return e},n.prototype.equals=function(t){return t instanceof UUID&&this.hex===t.hex},n.getTimeFieldValues=function(t){var e=t-Date.UTC(1582,9,15),n=e/4294967296*1e4&268435455;return{low:1e4*(268435455&e)%4294967296,mid:65535&n,hi:n>>>16,timestamp:e}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var t=(new Date).getTime(),e=n.randomUI14(),i=1099511627776*(1|n.randomUI08())+n.randomUI40(),r=n.randomUI04(),o=0;t!=o?(t<o&&e++,o=t,r=n.randomUI04()):Math.random()<.25&&r<9984?r+=1+n.randomUI04():e++;var s=n.getTimeFieldValues(o),a=s.low+r,u=4095&s.hi|4096;e&=16383;var l=e>>>8|128,h=255&e;return(new n).fromParts(a,s.mid,u,l,h,i)},n.create=function(t){return t=t||4,this["_create"+t]()},n.fromTime=function(t,e){e=e||!1;var i=n.getTimeFieldValues(t),r=i.low,o=4095&i.hi|4096;return!1===e?(new n).fromParts(r,i.mid,o,0,0,0):(new n).fromParts(r,i.mid,o,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(t){return n.fromTime(t,!1)},n.lastFromTime=function(t){return n.fromTime(t,!0)},n.fromURN=function(t){var e;return(e=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(t))?(new n).fromParts(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseInt(e[4],16),parseInt(e[5],16),parseInt(e[6],16)):null},n.fromBytes=function(t){if(t.length<5)return null;for(var e="",i=0,r=[4,2,2,2,6],o=0;o<r.length;o++){for(var s=0;s<r[o];s++){var a=t[i++].toString(16);1==a.length&&(a="0"+a),e+=a}6!==r[o]&&(e+="-")}return n.fromURN(e)},n.fromBinary=function(t){for(var e=[],i=0;i<t.length;i++)if(e[i]=t.charCodeAt(i),e[i]>255||e[i]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(e)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},t.exports=n},597:function(t,e,n){var i,r,o;!function(s,a){r=[t,n(738)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},598:function(t,e,n){var i,r,o;!function(s,a){r=[t,n(597),n(741),n(633)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=r(e),h=r(n),c=r(i),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(t,n){o(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return a(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(h.default);t.exports=f})},599:function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n},600:function(t,e,n){function i(t,e,n,i,o){var s=r.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function r(t,e,n,i){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&i.call(t,n)}}var o=n(599);t.exports=i},632:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},633:function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return r(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return u(document.body,t,e,n)}var a=n(632),u=n(600);t.exports=i},738:function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}t.exports=n},741:function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},754:function(t,e,n){"use strict";function i(t){window.ga("send",{hitType:"event",eventCategory:"Player",eventAction:t})}e.a=i},758:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(850);window.Player=i.a},82:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},850:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){var t=window.location.search,e=/auto=true/.test(t),n=/sharing=false/.test(t),i=/light=true/.test(t),r=/tile=true/.test(t);return{autoplay:e,disableSharing:n,startTime:(t.match(/start=(\d*\.?\d*)(&|$)/)||[])[1],isLightPlayer:i,isTilePlayer:r}}function o(){if("loaded"===this.sound.state()){var t=new XMLHttpRequest,e=this.sound.seek();if(Math.round(e)===Math.round(_))return;t.open("POST","http://traffic.megaphone.fm".replace(/https?\:/,"")+"/listening?source=player&referrer="+document.referrer+"&uid="+this.episode.uid+"&play_id="+this.uid+"&position="+x+"&play_range="+Math.round(_)+"-"+Math.round(e),!0),x++,_=e,t.send()}}var s=n(851),a=n(852),u=n(853),l=n(754),h=n(326),c=(n.n(h),n(598)),d=n.n(c),f=n(535),p=n.n(f),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v=1e4,y=p.a.create(),g=void 0,_=void 0,x=0,b=function(){function t(e,c){var f=this,p=c.hideBranding;i(this,t),this.episode=e,this.uid=y.toString(),this.volume=1,this.sound=new h.Howl({src:[e.mediaUrl],html5:!0,preload:!1,volume:this.volume,onplay:function(){window.requestAnimationFrame(f.step.bind(f)),g=window.setInterval(function(){o.call(f)},v),n.i(l.a)("play"),f.DOM.setPlaying(!0)},onload:function(){n.i(l.a)("load.sound"),f.sound.seek(f.position),f.DOM.setLoading(!1),f.sound._duration=e.duration,f.sound._sprite.__default[1]=1e3*e.duration},onend:function(){window.clearInterval(g),o.call(f),n.i(l.a)("finish"),f.looping?n.i(l.a)("loop"):(f.DOM.setPlaying(!1),f.receiver.emit("ended"))},onpause:function(){window.clearInterval(g),o.call(f),f.DOM.setPlaying(!1),n.i(l.a)("pause")}});var m=r.apply(this),x=m.autoplay,b=m.disableSharing,w=m.startTime,T=m.isLightPlayer,A=m.isTilePlayer;this.duration=e.duration,this.waveform=new a.a(e.waveformURL,{isLightPlayer:T,isTilePlayer:A}),this.waveform.draw(),this.DOM=new s.a(this,{hideBranding:p}),x&&this.play(),b?this.DOM.disableSharing():new d.a("#embed"),w?(this.position=Math.max(0,Math.min(w,e.duration)),this.DOM.renderAudioPosition(this.position,this.duration)):this.position=0,_=this.position,this.receiver=n.i(u.a)(this)}return m(t,[{key:"play",value:function(){"loaded"!==this.sound.state()&&this.DOM.setLoading(!0),parent.postMessage({context:"megaphone-player",type:"play"},"*"),this.sound.play()}},{key:"pause",value:function(){parent.postMessage({context:"megaphone-player",type:"pause"},"*"),this.sound.pause()}},{key:"mute",value:function(t){this.muted=t,this.sound.mute(t)}},{key:"setVolume",value:function(t){this.volume=t,this.sound.volume(t)}},{key:"toggleLoop",value:function(t){this.looping=t,this.sound.loop(t)}},{key:"seek",value:function(t){var e=this;this.playing&&(window.clearInterval(g),o.call(this),g=window.setInterval(function(){o.call(e)},v));var n=this.duration*t;this.position=n,_=n,"loaded"===this.sound.state()&&this.sound.seek(n),this.DOM.renderAudioPosition(n,this.duration)}},{key:"step",value:function(){var t=this.sound.seek();this.position=t,this.DOM.renderAudioPosition(t,this.duration),this.receiver.emit("timeupdate",{seconds:Math.round(t),duration:this.duration}),this.sound.playing()&&window.requestAnimationFrame(this.step.bind(this))}},{key:"playing",get:function(){return this.sound.playing()}}]),t}();e.a=b},851:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,i=t%60;return e=e<10?"0"+e:e,n=n<10?"0"+n:n,i=i<10?"0"+i:i,e+":"+n+":"+i}function o(t){var e=this;this.playBtn.addEventListener("click",function(){t.playing?t.pause():t.play()}),this.caddy.addEventListener("click",function(n){var i=n.pageX,r=e.waveform.getBoundingClientRect(),o=r.width,s=r.left,a=i-s;t.seek(a/o)}),this.caddy.addEventListener("mousemove",function(n){var i=n.pageX,r=e.waveform.getBoundingClientRect(),o=r.width,s=r.left,a=i-s;e.setScrubberWidth(a);var u=Math.round(a/o*t.duration);e.renderTime(u)}),this.caddy.addEventListener("mouseout",function(){e.setScrubberWidth(0),e.renderTime(t.position)}),this.subscribeToggle.addEventListener("click",function(t){var i=t.target;e.subscriptionsTab.classList.add("is-visible"),e.sharingTab.classList.remove("is-visible"),e.overlay.classList.toggle("is-up"),i.offsetParent.classList.contains("is-up")?(n.i(s.a)("subscribe"),e.setSubscribeText("&#xe209 Hide"),e.shareToggle.classList.add("is-hidden")):(e.setSubscribeText("Subscribe"),e.shareToggle.classList.remove("is-hidden"))}),this.shareToggle.addEventListener("click",function(t){var i=t.target;e.sharingTab.classList.add("is-visible"),e.subscriptionsTab.classList.remove("is-visible"),e.overlay.classList.toggle("is-up"),i.offsetParent.classList.contains("is-up")?(n.i(s.a)("share"),e.setShareText("&#xe209 Hide"),e.subscribeToggle.classList.add("is-hidden")):(e.setShareText("Share"),e.subscribeToggle.classList.remove("is-hidden"))}),this.embedBtn.addEventListener("click",function(t){t.target;n.i(s.a)("embed"),e.embedBtn.classList.add("is-copied"),setTimeout(function(){e.embedBtn.classList.remove("is-copied")},1500)})}var s=n(754),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(){function t(e,n){var r=n.hideBranding;i(this,t),this.timer=document.getElementById("timer"),this.playBtn=document.getElementById("play"),this.caddy=document.getElementById("caddy"),this.waveform=document.getElementById("waveform"),this.progress=document.getElementById("progress"),this.scrubber=document.getElementById("scrubber"),this.subscribeToggle=document.getElementById("subscribe-toggle"),this.subscriptionsTab=document.getElementById("subscriptions-tab"),this.overlay=document.getElementById("overlay-container"),this.shareToggle=document.getElementById("share-toggle"),this.sharingTab=document.getElementById("sharing-tab"),this.controls=document.getElementById("controls"),this.episodeInfo=document.getElementById("episode-info"),this.embedBtn=document.getElementById("embed"),this.loader=document.getElementById("loader"),this.logo=document.getElementById("logo"),o.call(this,e),this.renderTime(e.duration),r&&this.logo.remove()}return a(t,[{key:"setScrubberWidth",value:function(t){this.scrubber.style.width=t+"px"}},{key:"setSubscribeText",value:function(t){this.subscribeToggle.innerHTML=t}},{key:"setShareText",value:function(t){this.shareToggle.innerHTML=t}},{key:"setProgress",value:function(t){this.progress.style.width=100*t+"%"}},{key:"setLoading",value:function(t){t?this.loader.classList.add("is-loading"):this.loader.classList.remove("is-loading")}},{key:"setPlaying",value:function(t){t?this.playBtn.classList.add("is-playing"):this.playBtn.classList.remove("is-playing")}},{key:"renderTime",value:function(t){this.timer.innerHTML=r(Math.round(t))}},{key:"disableSharing",value:function(){this.shareToggle.classList.add("is-hidden"),this.subscribeToggle.classList.add("is-hidden")}},{key:"renderAudioPosition",value:function(t,e){this.renderTime(Math.round(t)),this.setProgress(t/e)}}]),t}();e.a=u},852:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(871),o=n.n(r),s=n(861),a=n.n(s),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(){function t(e,n){var r=n.isLightPlayer,o=n.isTilePlayer;i(this,t),this.waveformNode=document.getElementById("waveform"),this.progressNode=document.getElementById("progress"),this.url=e,this.arcDir=0,this.centerLine=30,this.waveformStrokeColor="#eaeaef",this.progressStrokeColor="#7474ec",this.isTilePlayer=o,o&&(this.waveformStrokeColor="#3b3f4d"),r&&(this.waveformStrokeColor="#555555"),window.addEventListener("resize",a()(this.redraw.bind(this),200))}return u(t,[{key:"draw",value:function(){this.width=this.waveformNode.offsetWidth,this.height=this.waveformNode.offsetHeight,this.isTilePlayer?this.drawLine():this.drawWave()}},{key:"drawLine",value:function(){var t=o()("waveform").size(this.width,this.height);t.rect(this.width,this.height).attr({fill:"none","stroke-width":this.height,stroke:this.waveformStrokeColor}),t.viewbox(0,0,t.bbox().width,this.height);var e=o()("progress").size(this.width,this.height);e.viewbox(0,0,t.bbox().width,this.height),e.rect(this.width,this.height).attr({fill:"none","stroke-width":this.height,stroke:this.progressStrokeColor})}},{key:"drawWave",value:function(){var t=this;this.path="M 0 30",this.getData(function(){var e=o()("waveform").size(t.width,t.height);e.path(t.path).attr({fill:"none","stroke-width":1.2,stroke:t.waveformStrokeColor}),e.viewbox(0,0,e.bbox().width,60);var n=o()("progress").size(t.width,t.height);n.viewbox(0,0,e.bbox().width,60),n.path(t.path).attr({fill:"none","stroke-width":1.6,stroke:t.progressStrokeColor})})}},{key:"redraw",value:function(){this.waveformNode.innerHTML="",this.progressNode.innerHTML="",this.draw()}},{key:"buildPath",value:function(t){var e=this,n=Math.max.apply(null,t),i=Math.min.apply(null,t),r=(this.height-10)/2/Math.max(n,Math.abs(i));t.map(function(t){return t*r}).forEach(function(n,i){t[i-1]===n?e.path+=""+e.arcPath()+4.5*(i+1)+" "+(e.centerLine-n):e.path+=" L "+4.5*i+" "+(e.centerLine-n)+e.arcPath()+4.5*(i+1)+" "+(e.centerLine-n)})}},{key:"arcPath",value:function(){return 1===this.arcDir?(this.arcDir=0," A 2.25 2.25 0 0 1 "):(this.arcDir=1," A 2.25 2.25 0 0 0 ")}},{key:"setError",value:function(){var t=document.getElementsByClassName("player-container")[0],e=document.createElement("div"),n=document.createElement("div"),i=document.createTextNode("Episode currently unavailable. Try refreshing the page."),r=document.createElement("div"),o=document.createElement("div"),s=document.createTextNode("Copyright © 2015 The Slate Group LLC. All rights reserved");r.classList.add("megaphone-icon","waveform-error__logo"),o.classList.add("waveform-error__copyright"),n.classList.add("waveform-error__message"),n.appendChild(i),o.appendChild(s),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.classList.add("waveform-error"),t.insertBefore(e,t.firstChild);var a=document.getElementById("scrubber");a.parentNode.removeChild(a)}},{key:"getData",value:function(t){var e=this,n=new XMLHttpRequest;n.open("GET",this.url+"&width="+this.width),n.send(null),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var i=JSON.parse(n.responseText).data;e.buildPath(i),t()}else e.setError(),console.log("Failed to get waveform data:",n.status)}}}]),t}();e.a=l},853:function(t,e,n){"use strict";function i(t){var e=new o;return e.on("play",function(){t.play(),e.emit("play")}),e.on("pause",function(){t.pause(),e.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("mute",function(){t.mute(!0)}),e.on("unmute",function(){t.mute(!1)}),e.on("getMuted",function(e){e(!!t.muted)}),e.on("setVolume",function(e){t.setVolume(e/100)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("getDuration",function(e){e(t.duration)}),e.on("setCurrentTime",function(e){t.seek(e/t.duration)}),e.on("getCurrentTime",function(e){e(t.position)}),e.on("setLoop",function(e){t.toggleLoop(e)}),e.on("getLoop",function(e){e(!!t.looping)}),e.ready(),e}var r=n(866);n.n(r);e.a=i;var o=window.playerjs.Receiver},861:function(t,e){t.exports=function(t,e,n){function i(){var l=Date.now()-a;l<e&&l>=0?r=setTimeout(i,e-l):(r=null,n||(u=t.apply(s,o),s=o=null))}var r,o,s,a,u;null==e&&(e=100);var l=function(){s=this,o=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(i,e)),l&&(u=t.apply(s,o),s=o=null),u};return l.clear=function(){r&&(clearTimeout(r),r=null)},l}},866:function(t,e){!function(t,e){var n={};n.DEBUG=!1,n.VERSION="0.0.11",n.CONTEXT="player.js",n.POST_MESSAGE=!!t.postMessage,n.origin=function(e){return"//"===e.substr(0,2)&&(e=t.location.protocol+e),e.split("/").slice(0,3).join("/")},n.addEvent=function(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},n.log=function(){n.log.history=n.log.history||[],n.log.history.push(arguments),t.console&&n.DEBUG&&t.console.log(Array.prototype.slice.call(arguments))},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isNone=function(t){return null===t||void 0===t},n.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.indexOf=function(t,e){if(null==t)return-1;var n=0,i=t.length;if(Array.prototype.IndexOf&&t.indexOf===Array.prototype.IndexOf)return t.indexOf(e);for(;n<i;n++)if(t[n]===e)return n;return-1},n.assert=function(t,e){if(!t)throw e||"Player.js Assert Failed"},n.Keeper=function(){this.init()},n.Keeper.prototype.init=function(){this.data={}},n.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},n.Keeper.prototype.has=function(t,e){if(!this.data.hasOwnProperty(t))return!1;if(n.isNone(e))return!0;for(var i=this.data[t],r=0;r<i.length;r++)if(i[r].id===e)return!0;return!1},n.Keeper.prototype.add=function(t,e,n,i,r){var o={id:t,event:e,cb:n,ctx:i,one:r};this.has(e)?this.data[e].push(o):this.data[e]=[o]},n.Keeper.prototype.execute=function(t,e,i,r){if(!this.has(t,e))return!1;for(var o=[],s=[],a=0;a<this.data[t].length;a++){var u=this.data[t][a];n.isNone(e)||!n.isNone(e)&&u.id===e?(s.push({cb:u.cb,ctx:u.ctx?u.ctx:r,data:i}),!1===u.one&&o.push(u)):o.push(u)}0===o.length?delete this.data[t]:this.data[t]=o;for(var l=0;l<s.length;l++){var h=s[l];h.cb.call(h.ctx,h.data)}},n.Keeper.prototype.on=function(t,e,n,i){this.add(t,e,n,i,!1)},n.Keeper.prototype.one=function(t,e,n,i){this.add(t,e,n,i,!0)},n.Keeper.prototype.off=function(t,e){var i=[];if(!this.data.hasOwnProperty(t))return i;for(var r=[],o=0;o<this.data[t].length;o++){var s=this.data[t][o];n.isNone(e)||s.cb===e?n.isNone(s.id)||i.push(s.id):r.push(s)}return 0===r.length?delete this.data[t]:this.data[t]=r,i},n.Player=function(t,e){if(!(this instanceof n.Player))return new n.Player(t,e);this.init(t,e)},n.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},n.EVENTS.all=function(){var t=[];for(var e in n.EVENTS)n.has(n.EVENTS,e)&&n.isString(n.EVENTS[e])&&t.push(n.EVENTS[e]);return t},n.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},n.METHODS.all=function(){var t=[];for(var e in n.METHODS)n.has(n.METHODS,e)&&n.isString(n.METHODS[e])&&t.push(n.METHODS[e]);return t},n.READIED=[],n.Player.prototype.init=function(i,r){var o=this;n.isString(i)&&(i=e.getElementById(i)),this.elem=i,this.origin=n.origin(i.src),this.keeper=new n.Keeper,this.isReady=!1,this.queue=[],this.events=n.EVENTS.all(),this.methods=n.METHODS.all(),n.POST_MESSAGE?n.addEvent(t,"message",function(t){o.receive(t)}):n.log("Post Message is not Available."),n.indexOf(n.READIED,i.src)>-1?o.loaded=!0:this.elem.onload=function(){o.loaded=!0}},n.Player.prototype.send=function(t,e,i){if(t.context=n.CONTEXT,t.version=n.VERSION,e){var r=this.keeper.getUUID();t.listener=r,this.keeper.one(r,t.method,e,i)}return this.isReady||"ready"===t.value?(n.log("Player.send",t,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(t),this.origin),!0):(n.log("Player.queue",t),this.queue.push(t),!1)},n.Player.prototype.receive=function(t){if(n.log("Player.receive",t),t.origin!==this.origin)return!1;var e;try{e=JSON.parse(t.data)}catch(t){return!1}if(e.context!==n.CONTEXT)return!1;"ready"===e.event&&e.value&&e.value.src===this.elem.src&&this.ready(e),this.keeper.has(e.event,e.listener)&&this.keeper.execute(e.event,e.listener,e.value,this)},n.Player.prototype.ready=function(t){if(!0===this.isReady)return!1;t.value.events&&(this.events=t.value.events),t.value.methods&&(this.methods=t.value.methods),this.isReady=!0,this.loaded=!0;for(var e=0;e<this.queue.length;e++){var i=this.queue[e];n.log("Player.dequeue",i),"ready"===t.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},n.Player.prototype.on=function(t,e,n){var i=this.keeper.getUUID();return"ready"===t?this.keeper.one(i,t,e,n):this.keeper.on(i,t,e,n),this.send({method:"addEventListener",value:t,listener:i}),!0},n.Player.prototype.off=function(t,e){var i=this.keeper.off(t,e);if(n.log("Player.off",i),i.length>0)for(var r in i)return this.send({method:"removeEventListener",value:t,listener:i[r]}),!0;return!1},n.Player.prototype.supports=function(t,e){n.assert(n.indexOf(["method","event"],t)>-1,'evtOrMethod needs to be either "event" or "method" got '+t),e=n.isArray(e)?e:[e];for(var i="event"===t?this.events:this.methods,r=0;r<e.length;r++)if(-1===n.indexOf(i,e[r]))return!1;return!0};for(var i=0,r=n.METHODS.all().length;i<r;i++){var o=n.METHODS.all()[i];n.Player.prototype.hasOwnProperty(o)||(n.Player.prototype[o]=function(t){return function(){var e={method:t},i=Array.prototype.slice.call(arguments);/^get/.test(t)?(n.assert(i.length>0,"Get methods require a callback."),i.unshift(e)):(/^set/.test(t)&&(n.assert(0!==i.length,"Set methods require a value."),e.value=i[0]),i=[e]),this.send.apply(this,i)}}(o))}t.playerjs=n,n.addEvent(t,"message",function(t){var e;try{e=JSON.parse(t.data)}catch(t){return!1}if(e.context!==n.CONTEXT)return!1;"ready"===e.event&&e.value&&e.value.src&&n.READIED.push(e.value.src)}),n.Receiver=function(t,e){this.init(t,e)},n.Receiver.prototype.init=function(i,r){var o=this;this.isReady=!1,this.origin=n.origin(e.referrer),this.methods={},this.supported={events:i||n.EVENTS.all(),methods:r||n.METHODS.all()},this.eventListeners={},this.reject=!(t.self!==t.top&&n.POST_MESSAGE),this.reject||n.addEvent(t,"message",function(t){o.receive(t)})},n.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var i={};if(n.isObject(e.data))i=e.data;else try{i=t.JSON.parse(e.data)}catch(t){n.log("JSON Parse Error",t)}if(n.log("Receiver.receive",e,i),!i.method)return!1;if(i.context!==n.CONTEXT)return!1;if(-1===n.indexOf(n.METHODS.all(),i.method))return this.emit("error",{code:2,msg:'Invalid Method "'+i.method+'"'}),!1;var r=n.isNone(i.listener)?null:i.listener;if("addEventListener"===i.method)this.eventListeners.hasOwnProperty(i.value)?-1===n.indexOf(this.eventListeners[i.value],r)&&this.eventListeners[i.value].push(r):this.eventListeners[i.value]=[r],"ready"===i.value&&this.isReady&&this.ready();else if("removeEventListener"===i.method){if(this.eventListeners.hasOwnProperty(i.value)){var o=n.indexOf(this.eventListeners[i.value],r);o>-1&&this.eventListeners[i.value].splice(o,1),0===this.eventListeners[i.value].length&&delete this.eventListeners[i.value]}}else this.get(i.method,i.value,r)},n.Receiver.prototype.get=function(t,e,n){var i=this;if(!this.methods.hasOwnProperty(t))return this.emit("error",{code:3,msg:'Method Not Supported"'+t+'"'}),!1;var r=this.methods[t];if("get"===t.substr(0,3)){var o=function(e){i.send(t,e,n)};r.call(this,o)}else r.call(this,e)},n.Receiver.prototype.on=function(t,e){this.methods[t]=e},n.Receiver.prototype.send=function(e,i,r){if(n.log("Receiver.send",e,i,r),this.reject)return n.log("Receiver.send.reject",e,i,r),!1;var o={context:n.CONTEXT,version:n.VERSION,event:e};n.isNone(i)||(o.value=i),n.isNone(r)||(o.listener=r);var s=JSON.stringify(o);t.parent.postMessage(s,""===this.origin?"*":this.origin)},n.Receiver.prototype.emit=function(t,e){if(!this.eventListeners.hasOwnProperty(t))return!1;n.log("Instance.emit",t,e,this.eventListeners[t]);for(var i=0;i<this.eventListeners[t].length;i++){var r=this.eventListeners[t][i];this.send(t,e,r)}return!0},n.Receiver.prototype.ready=function(){n.log("Receiver.ready"),this.isReady=!0;var e={src:t.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},n.HTML5Adapter=function(t){if(!(this instanceof n.HTML5Adapter))return new n.HTML5Adapter(t);this.init(t)},n.HTML5Adapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a video element");var e=this.receiver=new n.Receiver;t.addEventListener("playing",function(){e.emit("play")}),t.addEventListener("pause",function(){e.emit("pause")}),t.addEventListener("ended",function(){e.emit("ended")}),t.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:t.currentTime,duration:t.duration})}),t.addEventListener("progress",function(){e.emit("buffered",{percent:t.buffered.length})}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("setVolume",function(e){t.volume=e/100}),e.on("mute",function(){t.muted=!0}),e.on("unmute",function(){t.muted=!1}),e.on("getMuted",function(e){e(t.muted)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},n.JWPlayerAdapter=function(t){if(!(this instanceof n.JWPlayerAdapter))return new n.JWPlayerAdapter(t);this.init(t)},n.JWPlayerAdapter.prototype.init=function(t){n.assert(t,"playerjs.JWPlayerAdapter requires a player object");var e=this.receiver=new n.Receiver;this.looped=!1,t.onPause(function(){e.emit("pause")}),t.onPlay(function(){e.emit("play")}),t.onTime(function(t){var n=t.position,i=t.duration;if(!n||!i)return!1;var r={seconds:n,duration:i};e.emit("timeupdate",r)});var i=this;t.onComplete(function(){!0===i.looped?t.seek(0):e.emit("ended")}),t.onError(function(){e.emit("error")}),e.on("play",function(){t.play(!0)}),e.on("pause",function(){t.pause(!0)}),e.on("getPaused",function(e){e("PLAYING"!==t.getState())}),e.on("getCurrentTime",function(e){e(t.getPosition())}),e.on("setCurrentTime",function(e){t.seek(e)}),e.on("getDuration",function(e){e(t.getDuration())}),e.on("getVolume",function(e){e(t.getVolume())}),e.on("setVolume",function(e){t.setVolume(e)}),e.on("mute",function(){t.setMute(!0)}),e.on("unmute",function(){t.setMute(!1)}),e.on("getMuted",function(e){e(!0===t.getMute())}),e.on("getLoop",function(t){t(this.looped)},this),e.on("setLoop",function(t){this.looped=t},this)},n.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},n.MockAdapter=function(){if(!(this instanceof n.MockAdapter))return new n.MockAdapter;this.init()},n.MockAdapter.prototype.init=function(){var t={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){t.interval=setInterval(function(){t.currentTime+=.25,t.timeupdate({seconds:t.currentTime,duration:t.duration})},250),t.playing=!0},pause:function(){clearInterval(t.interval),t.playing=!1}},e=this.receiver=new n.Receiver;e.on("play",function(){var e=this;t.play(),this.emit("play"),t.timeupdate=function(t){e.emit("timeupdate",t)}}),e.on("pause",function(){t.pause(),this.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(t.volume)}),e.on("setVolume",function(e){t.volume=e}),e.on("mute",function(){t.mute=!0}),e.on("unmute",function(){t.mute=!1}),e.on("getMuted",function(e){e(t.mute)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.MockAdapter.prototype.ready=function(){this.receiver.ready()},n.SublimeAdapter=function(t){if(!(this instanceof n.SublimeAdapter))return new n.SublimeAdapter(t);this.init(t)},n.SublimeAdapter.prototype.events=[n.EVENTS.READY,n.EVENTS.PLAY,n.EVENTS.PAUSE,n.EVENTS.ENDED,n.EVENTS.TIMEUPDATE,n.EVENTS.ERROR],n.SublimeAdapter.prototype.methods=[n.METHODS.PLAY,n.METHODS.PAUSE,n.METHODS.GETDURATION,n.METHODS.SETCURRENTTIME,n.METHODS.GETCURRENTTIME,n.METHODS.REMOVEEVENTLISTENER,n.METHODS.ADDEVENTLISTENER],n.SublimeAdapter.prototype.init=function(t){n.assert(t,"playerjs.SublimeAdapter requires a player object");var e=this.receiver=new n.Receiver(this.events,this.methods);t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeUpdate",function(t,n){var i=t.duration();if(!n||!i)return!1;var r={seconds:n,duration:i};e.emit("timeupdate",r)}),t.on("end",function(){e.emit("ended")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getCurrentTime",function(e){e(t.playbackTime())}),e.on("setCurrentTime",function(e){t.seekTo(e)}),e.on("getDuration",function(e){e(t.duration())})},n.SublimeAdapter.prototype.ready=function(){this.receiver.ready()},n.VideoJSAdapter=function(t){if(!(this instanceof n.VideoJSAdapter))return new n.VideoJSAdapter(t);this.init(t)},n.VideoJSAdapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a player object");var e=this.receiver=new n.Receiver;t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeupdate",function(n){var i=t.currentTime(),r=t.duration();if(!i||!r)return!1;var o={seconds:i,duration:r};e.emit("timeupdate",o)}),t.on("ended",function(){e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused())}),e.on("getCurrentTime",function(e){e(t.currentTime())}),e.on("setCurrentTime",function(e){t.currentTime(e)}),e.on("getDuration",function(e){e(t.duration())}),e.on("getVolume",function(e){e(100*t.volume())}),e.on("setVolume",function(e){t.volume(e/100)}),e.on("mute",function(){t.volume(0)}),e.on("unmute",function(){t.volume(1)}),e.on("getMuted",function(e){e(0===t.volume())}),e.on("getLoop",function(e){e(t.loop())}),e.on("setLoop",function(e){t.loop(e)})},n.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()}}(window,document)},871:function(t,e,n){var i;!function(r,o){void 0!==(i=function(){return o(r,r.document)}.call(e,n,e,t))&&(t.exports=i)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e,n,i){return n+i.replace(_.regex.dots," .")}function i(t){for(var e=t.slice(0),n=e.length;n--;)Array.isArray(e[n])&&(e[n]=i(e[n]));return e}function r(t,e){return t instanceof e}function o(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function s(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function l(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function h(t,e,n){if(null==e||null==n){var i=t.bbox();null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)}return{width:e,height:n}}function c(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function d(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function f(t){return t instanceof _.Matrix||(t=new _.Matrix(t)),t}function p(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}function v(e){for(var n=e.childNodes.length-1;n>=0;n--)e.childNodes[n]instanceof t.SVGElement&&v(e.childNodes[n]);return _.adopt(e).id(_.eid(e.nodeName))}function y(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function g(t){var e=t.toString().match(_.regex.reference);if(e)return e[1]}var _=this.SVG=function(t){if(_.supported)return t=new _.Doc(t),_.parser.draw||_.prepare(),t};if(_.ns="http://www.w3.org/2000/svg",_.xmlns="http://www.w3.org/2000/xmlns/",_.xlink="http://www.w3.org/1999/xlink",_.svgjs="http://svgjs.com/svgjs",_.supported=function(){return!!e.createElementNS&&!!e.createElementNS(_.ns,"svg").createSVGRect}(),!_.supported)return!1;_.did=1e3,_.eid=function(t){return"Svgjs"+a(t)+_.did++},_.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},_.extend=function(){var t,e,n,i;for(t=[].slice.call(arguments),e=t.pop(),i=t.length-1;i>=0;i--)if(t[i])for(n in e)t[i].prototype[n]=e[n];_.Set&&_.Set.inherit&&_.Set.inherit()},_.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,_.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&_.extend(e,t.extend),t.construct&&_.extend(t.parent||_.Container,t.construct),e},_.adopt=function(e){if(!e)return null;if(e.instance)return e.instance;var n;return n="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new _.Nested:new _.Doc:"linearGradient"==e.nodeName?new _.Gradient("linear"):"radialGradient"==e.nodeName?new _.Gradient("radial"):_[a(e.nodeName)]?new(_[a(e.nodeName)]):new _.Element(e),n.type=e.nodeName,n.node=e,e.instance=n,n instanceof _.Doc&&n.namespace().defs(),n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n},_.prepare=function(){var t=e.getElementsByTagName("body")[0],n=(t?new _.Doc(t):_.adopt(e.documentElement).nested()).size(2,0);_.parser={body:t||e.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:n.polyline().node,path:n.path().node,native:_.create("svg")}},_.parser={native:_.create("svg")},e.addEventListener("DOMContentLoaded",function(){_.parser.draw||_.prepare()},!1),_.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},_.utils={map:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)r.push(e(t[n]));return r},filter:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)e(t[n])&&r.push(t[n]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,function(e){return e instanceof t.SVGElement})}},_.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},_.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?_.regex.isRgb.test(t)?(e=_.regex.rgb.exec(t.replace(_.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):_.regex.isHex.test(t)&&(e=_.regex.hex.exec(u(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},_.extend(_.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+l(this.r)+l(this.g)+l(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new _.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new _.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),_.Color.test=function(t){return t+="",_.regex.isHex.test(t)||_.regex.isRgb.test(t)},_.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},_.Color.isColor=function(t){return _.Color.isRgb(t)||_.Color.test(t)},_.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},_.extend(_.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];e<n;e++)i.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new _.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(_.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=i(this.value),t}}),_.PointArray=function(t,e){_.Array.call(this,t,e||[[0,0]])},_.PointArray.prototype=new _.Array,_.PointArray.prototype.constructor=_.PointArray,_.extend(_.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,i=[];e<n;e++)i.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new _.PointArray(i)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t}else t=t.trim().split(_.regex.delimiter).map(parseFloat);t.length%2!=0&&t.pop();for(var n=0,i=t.length;n<i;n+=2)e.push([t[n],t[n+1]]);return e},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+t,this.value[i][1]+e];return this},size:function(t,e){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)i.width&&(this.value[n][0]=(this.value[n][0]-i.x)*t/i.width+i.x),i.height&&(this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y);return this},bbox:function(){return _.parser.poly.setAttribute("points",this.toString()),_.parser.poly.getBBox()}});for(var x={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},b="mlhvqtcsaz".split(""),w=0,T=b.length;w<T;++w)x[b[w]]=function(t){return function(e,n,i){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var r=0,o=e.length;r<o;++r)e[r]=e[r]+(r%2?n.y:n.x);return x[t](e,n,i)}}(b[w].toUpperCase());_.PathArray=function(t,e){_.Array.call(this,t,e||[["M",0,0]])},_.PathArray.prototype=new _.Array,_.PathArray.prototype.constructor=_.PathArray,_.extend(_.PathArray,{toString:function(){return m(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i,r=this.value.length-1;r>=0;r--)i=this.value[r][0],"M"==i||"L"==i||"T"==i?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==i?this.value[r][1]+=t:"V"==i?this.value[r][1]+=e:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==i&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==i&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)i=this.value[n][0],"M"==i||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*t/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*e/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*t/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*e/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*t/r.width,this.value[n][2]=this.value[n][2]*e/r.height,this.value[n][6]=(this.value[n][6]-r.x)*t/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*e/r.height+r.y);return this},equalCommands:function(t){var e,n,i;for(t=new _.PathArray(t),i=this.value.length===t.value.length,e=0,n=this.value.length;i&&e<n;e++)i=this.value[e][0]===t.value[e][0];return i},morph:function(t){return t=new _.PathArray(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,n,i,r,o=this.value,s=this.destination.value,a=[],u=new _.PathArray;for(e=0,n=o.length;e<n;e++){for(a[e]=[o[e][0]],i=1,r=o[e].length;i<r;i++)a[e][i]=o[e][i]+(s[e][i]-o[e][i])*t;"A"===a[e][0]&&(a[e][4]=+(0!=a[e][4]),a[e][5]=+(0!=a[e][5]))}return u.value=a,u},parse:function(t){if(t instanceof _.PathArray)return t.valueOf();var e,i,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(_.regex.numbersWithDots,n).replace(_.regex.pathLetters," $& ").replace(_.regex.hyphen,"$1 -").trim().split(_.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]);var i=[],o=new _.Point,s=new _.Point,a=0,u=t.length;do{_.regex.isPathLetter.test(t[a])?(e=t[a],++a):"M"==e?e="L":"m"==e&&(e="l"),i.push(x[e].call(null,t.slice(a,a+=r[e.toUpperCase()]).map(parseFloat),o,s))}while(u>a);return i},bbox:function(){return _.parser.path.setAttribute("d",this.toString()),_.parser.path.getBBox()}}),_.Number=_.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(_.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof _.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new _.Number(t),new _.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new _.Number(t),new _.Number(this-t,this.unit||t.unit)},times:function(t){return t=new _.Number(t),new _.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new _.Number(t),new _.Number(this/t,this.unit||t.unit)},to:function(t){var e=new _.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new _.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new _.Number(this.destination).minus(this).times(t).plus(this):this}}}),_.Element=_.invent({create:function(t){this._stroke=_.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=h(this,t,e);return this.width(new _.Number(n.width)).height(new _.Number(n.height))},clone:function(t,e){this.writeDataToDom();var n=v(this.node.cloneNode(!0));return t?t.add(n):this.after(n),n},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(_.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return _.get(this.attr(t))},parent:function(e){var n=this;if(!n.node.parentNode)return null;if(n=_.adopt(n.node.parentNode),!e)return n;for(;n&&n.node instanceof t.SVGElement;){if("string"==typeof e?n.matches(e):n instanceof e)return n;n=_.adopt(n.node.parentNode)}},doc:function(){return this instanceof _.Doc?this:this.parent(_.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return o(this.node,t)},native:function(){return this.node},svg:function(t){var n=e.createElement("svg");if(!(t&&this instanceof _.Parent))return n.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,r=n.firstChild.childNodes.length;i<r;i++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){(this.each?this:this.lines()).each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return r(this,t)}}}),_.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},_.morph=function(t){return function(e,n){return new _.MorphObj(e,n).at(t)}},_.Situation=_.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new _.Number(t.duration).valueOf(),this.delay=new _.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),_.FX=_.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,n){"object"==typeof t&&(e=t.ease,n=t.delay,t=t.duration);var i=new _.Situation({duration:t||1e3,delay:n||0,ease:_.easing[e||"-"]||e});return this.queue(i),this},delay:function(t){var e=new _.Situation({duration:t,delay:0,ease:_.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof _.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof _.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof _.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,n=this.situation;if(n.init)return this;for(t in n.animations)e=this.target()[t](),n.animations[t]instanceof _.Number&&(e=new _.Number(e)),n.animations[t]=e.morph(n.animations[t]);for(t in n.attrs)n.attrs[t]=new _.MorphObj(this.target().attr(t),n.attrs[t]);for(t in n.styles)n.styles[t]=new _.MorphObj(this.target().style(t),n.styles[t]);return n.initialTransformation=this.target().matrixify(),n.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(t,e){var n=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var n=this.last();return n.loops=null==t||t,n.loop=0,e&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last(),n=function n(i){i.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))};return this.target().on("finished.fx",n),this._callStart()},during:function(t){var e=this.last(),n=function(n){n.detail.situation==e&&t.call(this,n.detail.pos,_.morph(n.detail.pos),n.detail.eased,e)};return this.target().off("during.fx",n).on("during.fx",n),this.after(function(){this.off("during.fx",n)}),this._callStart()},afterAll:function(t){var e=function e(n){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,_.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){if(t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops){var e,n,i;e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e,n,i=this,r=this.target(),o=this.situation;for(t in o.animations)n=[].concat(o.animations[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),r[t].apply(r,n);for(t in o.attrs)n=[t].concat(o.attrs[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),r.attr.apply(r,n);for(t in o.styles)n=[t].concat(o.styles[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),r.style.apply(r,n);if(o.transforms.length){for(n=o.initialTransformation,t=0,e=o.transforms.length;t<e;t++){var s=o.transforms[t];s instanceof _.Matrix?n=s.relative?n.multiply((new _.Matrix).morph(s).at(o.ease(this.pos))):n.morph(s).at(o.ease(this.pos)):(s.relative||s.undo(n.extract()),n=n.multiply(s.at(o.ease(this.pos))))}r.matrix(n)}return this},once:function(t,e,n){return n||(t=this.situation.ease(t)),this.situation.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:_.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new _.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new _.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),_.MorphObj=_.invent({create:function(t,e){return _.Color.isColor(e)?new _.Color(t).morph(e):_.regex.numberAndUnit.test(e)?new _.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),_.extend(_.FX,{attr:function(t,e,n){if("object"==typeof t)for(var i in t)this.attr(i,t[i]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof _.G)return this.transform({x:t},e),this;var n=new _.Number(t);return n.relative=e,this.add("x",n)},y:function(t,e){if(this.target()instanceof _.G)return this.transform({y:t},e),this;var n=new _.Number(t);return n.relative=e,this.add("y",n)},cx:function(t){return this.add("cx",new _.Number(t))},cy:function(t){return this.add("cy",new _.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target()instanceof _.Text)this.attr("font-size",t);else{var n;t&&e||(n=this.target().bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.add("width",new _.Number(t)).add("height",new _.Number(e))}return this},plot:function(){return this.add("plot",arguments.length>1?[].slice.call(arguments):arguments[0])},leading:function(t){return this.target().leading?this.add("leading",new _.Number(t)):this},viewbox:function(t,e,n,i){return this.target()instanceof _.Container&&this.add("viewbox",new _.ViewBox(t,e,n,i)),this},update:function(t){if(this.target()instanceof _.Stop){if("number"==typeof t||t instanceof _.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),_.Box=_.invent({create:function(t,e,n,i){if(!("object"!=typeof t||t instanceof _.Element))return _.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=n,this.height=i),y(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,y(e)},transform:function(t){var e,n=1/0,i=-1/0,r=1/0,o=-1/0;return[new _.Point(this.x,this.y),new _.Point(this.x2,this.y),new _.Point(this.x,this.y2),new _.Point(this.x2,this.y2)].forEach(function(e){e=e.transform(t),n=Math.min(n,e.x),i=Math.max(i,e.x),r=Math.min(r,e.y),o=Math.max(o,e.y)}),e=new this.constructor,e.x=n,e.width=i-n,e.y=r,e.height=o-r,y(e),e}}}),_.BBox=_.invent({create:function(t){if(_.Box.apply(this,[].slice.call(arguments)),t instanceof _.Element){var n;try{if(e.documentElement.contains){if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var i=t.node;i.parentNode;)i=i.parentNode;if(i!=e)throw new Exception("Element not in the dom")}n=t.node.getBBox()}catch(e){if(t instanceof _.Shape){var r=t.clone(_.parser.draw.instance).show();n=r.node.getBBox(),r.remove()}else n={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}_.Box.call(this,n)}},inherit:_.Box,parent:_.Element,construct:{bbox:function(){return new _.BBox(this)}}}),_.BBox.prototype.constructor=_.BBox,_.extend(_.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),_.RBox=_.invent({create:function(t){_.Box.apply(this,[].slice.call(arguments)),t instanceof _.Element&&_.Box.call(this,t.node.getBoundingClientRect())},inherit:_.Box,parent:_.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new _.RBox(this).transform(t.screenCTM().inverse()):new _.RBox(this).addOffset()}}}),_.RBox.prototype.constructor=_.RBox,_.Matrix=_.invent({create:function(t){var e,n=d([1,0,0,1,0,0]);for(t=t instanceof _.Element?t.matrixify():"string"==typeof t?d(t.split(_.regex.delimiter).map(parseFloat)):6==arguments.length?d([].slice.call(arguments)):Array.isArray(t)?d(t):"object"==typeof t?t:n,e=S.length-1;e>=0;--e)this[S[e]]=t&&"number"==typeof t[S[e]]?t[S[e]]:n[S[e]]},extend:{extract:function(){var t=c(this,0,1),e=c(this,1,0),n=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new _.Matrix(this)}},clone:function(){return new _.Matrix(this)},morph:function(t){return this.destination=new _.Matrix(t),this},at:function(t){return this.destination?new _.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new _.Matrix(this.native().multiply(f(t).native()))},inverse:function(){return new _.Matrix(this.native().inverse())},translate:function(t,e){return new _.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,n,i){return 1==arguments.length?e=t:3==arguments.length&&(i=n,n=e,e=t),this.around(n,i,new _.Matrix(t,0,0,e,0,0))},rotate:function(t,e,n){return t=_.utils.radians(t),this.around(e,n,new _.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,n,i){return 1==arguments.length?e=t:3==arguments.length&&(i=n,n=e,e=t),t=_.utils.radians(t),e=_.utils.radians(e),this.around(n,i,new _.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,n){return this.skew(t,0,e,n)},skewY:function(t,e,n){return this.skew(0,t,e,n)},around:function(t,e,n){return this.multiply(new _.Matrix(1,0,0,1,t||0,e||0)).multiply(n).multiply(new _.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=_.parser.native.createSVGMatrix(),e=S.length-1;e>=0;e--)t[S[e]]=this[S[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:_.Element,construct:{ctm:function(){return new _.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof _.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new _.Matrix(e)}return new _.Matrix(this.node.getScreenCTM())}}}),_.Point=_.invent({create:function(t,e){var n,i={x:0,y:0};n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:i,this.x=n.x,this.y=n.y},extend:{clone:function(){return new _.Point(this)},morph:function(t,e){return this.destination=new _.Point(t,e),this},at:function(t){return this.destination?new _.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=_.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new _.Point(this.native().matrixTransform(t.native()))}}}),_.extend(_.Element,{point:function(t,e){return new _.Point(t,e).transform(this.screenCTM().inverse())}}),_.extend(_.Element,{attr:function(t,e,n){if(null==t){for(t={},e=this.node.attributes,n=e.length-1;n>=0;n--)t[e[n].nodeName]=_.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?_.defaults.attrs[t]:_.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(_.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof _.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new _.Number(e):_.Color.isColor(e)?e=new _.Color(e):Array.isArray(e)&&(e=new _.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),_.extend(_.Element,{transform:function(t,e){var n,i,r=this;if("object"!=typeof t)return n=new _.Matrix(r).extract(),"string"==typeof t?n[t]:n;if(n=new _.Matrix(r),e=!!e||!!t.relative,null!=t.a)n=e?n.multiply(new _.Matrix(t)):new _.Matrix(t);else if(null!=t.rotation)p(t,r),n=e?n.rotate(t.rotation,t.cx,t.cy):n.rotate(t.rotation-n.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(p(t,r),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var o=n.extract();t.scaleX=1*t.scaleX/o.scaleX,t.scaleY=1*t.scaleY/o.scaleY}n=n.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skew||null!=t.skewX||null!=t.skewY){if(p(t,r),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,!e){var o=n.extract();n=n.multiply((new _.Matrix).skew(o.skewX,o.skewY,t.cx,t.cy).inverse())}n=n.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?r.bbox()["c"+t.flip]:t.offset:null==t.offset?(i=r.bbox(),t.flip=i.cx,t.offset=i.cy):t.flip=t.offset,n=(new _.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?n=n.translate(t.x,t.y):(null!=t.x&&(n.e=t.x),null!=t.y&&(n.f=t.y)));return this.attr("transform",n)}}),_.extend(_.FX,{transform:function(t,e){var n,i,r=this.target();return"object"!=typeof t?(n=new _.Matrix(r).extract(),"string"==typeof t?n[t]:n):(e=!!e||!!t.relative,null!=t.a?n=new _.Matrix(t):null!=t.rotation?(p(t,r),n=new _.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(p(t,r),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,n=new _.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(p(t,r),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,n=new _.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?r.bbox()["c"+t.flip]:t.offset:null==t.offset?(i=r.bbox(),t.flip=i.cx,t.offset=i.cy):t.flip=t.offset,n=(new _.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(n=new _.Translate(t.x,t.y)),n?(n.relative=e,this.last().transforms.push(n),this._callStart()):this)}}),_.extend(_.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(_.regex.transforms).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(_.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(d(e[1])):t[e[0]].apply(t,e[1])},new _.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),_.Transformation=_.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[n];else if("object"==typeof t)for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],n=0,i=this.arguments.length;n<i;++n)e.push(this[this.arguments[n]]);var r=this._undo||new _.Matrix;return r=(new _.Matrix).morph(_.Matrix.prototype[this.method].apply(r,e)).at(t),this.inversed?r.inverse():r},undo:function(t){for(var e=0,n=this.arguments.length;e<n;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(_[a(this.method)])(t,!0).at(1),this}}}),_.Translate=_.invent({parent:_.Matrix,inherit:_.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),_.Rotate=_.invent({parent:_.Matrix,inherit:_.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new _.Matrix).rotate((new _.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),_.Scale=_.invent({parent:_.Matrix,inherit:_.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),_.Skew=_.invent({parent:_.Matrix,inherit:_.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),_.extend(_.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!_.regex.isCss.test(t))return this.node.style[s(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[s(t)]=null===e||_.regex.isBlank.test(e)?"":e;return this}}),_.Parent=_.invent({create:function(t){this.constructor.call(this,t)},inherit:_.Element,extend:{children:function(){return _.utils.map(_.utils.filterSVGElements(this.node.childNodes),function(t){return _.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return _.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var n,i,r=this.children();for(n=0,i=r.length;n<i;n++)r[n]instanceof _.Element&&t.apply(r[n],[n,r]),e&&r[n]instanceof _.Container&&r[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),_.extend(_.Parent,{ungroup:function(t,e){return 0===e||this instanceof _.Defs||this.node==_.parser.draw?this:(t=t||(this instanceof _.Doc?this:this.parent(_.Parent)),e=e||1/0,this.each(function(){return this instanceof _.Defs?this:this instanceof _.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),_.Container=_.invent({create:function(t){this.constructor.call(this,t)},inherit:_.Parent}),_.ViewBox=_.invent({create:function(t){var e,n,i,r,o,s,a,u=[0,0,0,0],l=1,h=1,c=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof _.Element){for(s=t,a=t,o=(t.attr("viewBox")||"").match(c),t.bbox,i=new _.Number(t.width()),r=new _.Number(t.height());"%"==i.unit;)l*=i.value,i=new _.Number(s instanceof _.Doc?s.parent().offsetWidth:s.parent().width()),s=s.parent();for(;"%"==r.unit;)h*=r.value,r=new _.Number(a instanceof _.Doc?a.parent().offsetHeight:a.parent().height()),a=a.parent();this.x=0,this.y=0,this.width=i*l,this.height=r*h,this.zoom=1,o&&(e=parseFloat(o[0]),n=parseFloat(o[1]),i=parseFloat(o[2]),r=parseFloat(o[3]),this.zoom=this.width/this.height>i/r?this.height/r:this.width/i,this.x=e,this.y=n,this.width=i,this.height=r)}else t="string"==typeof t?t.match(c).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):u,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,n,i){return this.destination=new _.ViewBox(t,e,n,i),this},at:function(t){return this.destination?new _.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:_.Container,construct:{viewbox:function(t,e,n,i){return 0==arguments.length?new _.ViewBox(this):this.attr("viewBox",new _.ViewBox(t,e,n,i))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){_.Element.prototype[t]=function(e){return _.on(this.node,t,e),this}}),_.listeners=[],_.handlerMap=[],_.listenerId=0,_.on=function(t,e,n,i,r){var o=n.bind(i||t.instance||t),s=(_.handlerMap.indexOf(t)+1||_.handlerMap.push(t))-1,a=e.split(".")[0],u=e.split(".")[1]||"*";_.listeners[s]=_.listeners[s]||{},_.listeners[s][a]=_.listeners[s][a]||{},_.listeners[s][a][u]=_.listeners[s][a][u]||{},n._svgjsListenerId||(n._svgjsListenerId=++_.listenerId),_.listeners[s][a][u][n._svgjsListenerId]=o,t.addEventListener(a,o,r||!1)},_.off=function(t,e,n){var i=_.handlerMap.indexOf(t),r=e&&e.split(".")[0],o=e&&e.split(".")[1],s="";if(-1!=i)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;_.listeners[i][r]&&_.listeners[i][r][o||"*"]&&(t.removeEventListener(r,_.listeners[i][r][o||"*"][n],!1),delete _.listeners[i][r][o||"*"][n])}else if(o&&r){if(_.listeners[i][r]&&_.listeners[i][r][o]){for(n in _.listeners[i][r][o])_.off(t,[r,o].join("."),n);delete _.listeners[i][r][o]}}else if(o)for(e in _.listeners[i])for(s in _.listeners[i][e])o===s&&_.off(t,[e,o].join("."));else if(r){if(_.listeners[i][r]){for(s in _.listeners[i][r])_.off(t,[r,s].join("."));delete _.listeners[i][r]}}else{for(e in _.listeners[i])_.off(t,e);delete _.listeners[i],delete _.handlerMap[i]}},_.extend(_.Element,{on:function(t,e,n,i){return _.on(this.node,t,e,n,i),this},off:function(t,e){return _.off(this.node,t,e),this},fire:function(e,n){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new t.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),_.Defs=_.invent({create:"defs",inherit:_.Container}),_.G=_.invent({create:"g",inherit:_.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new _.G)}}}),_.extend(_.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof _.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof _.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),_.Mask=_.invent({create:function(){this.constructor.call(this,_.create("mask")),this.targets=[]},inherit:_.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new _.Mask)}}}),_.extend(_.Element,{maskWith:function(t){return this.masker=t instanceof _.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),_.ClipPath=_.invent({create:function(){this.constructor.call(this,_.create("clipPath")),this.targets=[]},inherit:_.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new _.ClipPath)}}}),_.extend(_.Element,{clipWith:function(t){return this.clipper=t instanceof _.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),_.Gradient=_.invent({create:function(t){this.constructor.call(this,_.create(t+"Gradient")),this.type=t},inherit:_.Container,extend:{at:function(t,e,n){return this.put(new _.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),_.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),_.extend(_.Gradient,_.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new _.Number(t),fy:new _.Number(e)}):this.attr({x1:new _.Number(t),y1:new _.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new _.Number(t),cy:new _.Number(e)}):this.attr({x2:new _.Number(t),y2:new _.Number(e)})}}),_.extend(_.Defs,{gradient:function(t,e){return this.put(new _.Gradient(t)).update(e)}}),_.Stop=_.invent({create:"stop",inherit:_.Element,extend:{update:function(t){return("number"==typeof t||t instanceof _.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new _.Number(t.offset)),this}}}),_.Pattern=_.invent({create:"pattern",inherit:_.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),_.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),_.extend(_.Defs,{pattern:function(t,e,n){return this.put(new _.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),_.Doc=_.invent({create:function(t){t&&(t="string"==typeof t?e.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,_.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:_.Container,extend:{namespace:function(){return this.attr({xmlns:_.ns,version:"1.1"}).attr("xmlns:xlink",_.xlink,_.xmlns).attr("xmlns:svgjs",_.svgjs,_.xmlns)},defs:function(){if(!this._defs){var t;(t=this.node.getElementsByTagName("defs")[0])?this._defs=_.adopt(t):this._defs=new _.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(t){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,_.parser.draw.parentNode||this.node.appendChild(_.parser.draw),this}}}),_.Shape=_.invent({create:function(t){this.constructor.call(this,t)},inherit:_.Element}),_.Bare=_.invent({create:function(t,e){if(this.constructor.call(this,_.create(t)),e)for(var n in e.prototype)"function"==typeof e.prototype[n]&&(this[n]=e.prototype[n])},inherit:_.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),_.extend(_.Parent,{element:function(t,e){return this.put(new _.Bare(t,e))}}),_.Symbol=_.invent({create:"symbol",inherit:_.Container,construct:{symbol:function(){return this.put(new _.Symbol)}}}),_.Use=_.invent({create:"use",inherit:_.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,_.xlink)}},construct:{use:function(t,e){return this.put(new _.Use).element(t,e)}}}),_.Rect=_.invent({create:"rect",inherit:_.Shape,construct:{rect:function(t,e){return this.put(new _.Rect).size(t,e)}}}),_.Circle=_.invent({create:"circle",inherit:_.Shape,construct:{circle:function(t){return this.put(new _.Circle).rx(new _.Number(t).divide(2)).move(0,0)}}}),_.extend(_.Circle,_.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),_.Ellipse=_.invent({create:"ellipse",inherit:_.Shape,construct:{ellipse:function(t,e){return this.put(new _.Ellipse).size(t,e).move(0,0)}}}),_.extend(_.Ellipse,_.Rect,_.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),_.extend(_.Circle,_.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new _.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new _.Number(t).divide(2))},size:function(t,e){var n=h(this,t,e);return this.rx(new _.Number(n.width).divide(2)).ry(new _.Number(n.height).divide(2))}}),_.Line=_.invent({create:"line",inherit:_.Shape,extend:{array:function(){return new _.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,i){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:i}:new _.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=h(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,n,i){return _.Line.prototype.plot.apply(this.put(new _.Line),null!=t?[t,e,n,i]:[0,0,0,0])}}}),_.Polyline=_.invent({create:"polyline",inherit:_.Shape,construct:{polyline:function(t){return this.put(new _.Polyline).plot(t||new _.PointArray)}}}),_.Polygon=_.invent({create:"polygon",inherit:_.Shape,construct:{polygon:function(t){return this.put(new _.Polygon).plot(t||new _.PointArray)}}}),_.extend(_.Polyline,_.Polygon,{array:function(){return this._array||(this._array=new _.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new _.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=h(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),_.extend(_.Line,_.Polyline,_.Polygon,{morphArray:_.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),_.Path=_.invent({create:"path",inherit:_.Shape,extend:{morphArray:_.PathArray,array:function(){return this._array||(this._array=new _.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new _.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=h(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new _.Path).plot(t||new _.PathArray)}}}),_.Image=_.invent({create:"image",inherit:_.Shape,extend:{load:function(e){if(!e)return this;var n=this,i=new t.Image;return _.on(i,"load",function(){var t=n.parent(_.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(i.width,i.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:i.width,height:i.height,ratio:i.width/i.height,url:e}))}),_.on(i,"error",function(t){"function"==typeof n._error&&n._error.call(n,t)}),this.attr("href",i.src=this.src=e,_.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new _.Image).load(t).size(e||0,n||e||0)}}}),_.Text=_.invent({create:function(){this.constructor.call(this,_.create("text")),this.dom.leading=new _.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",_.defaults.attrs["font-family"])},inherit:_.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){for(var t="",e=this.node.childNodes,n=0,i=e.length;n<i;++n)0!=n&&3!=e[n].nodeType&&1==_.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=t.split("\n");for(var n=0,r=t.length;n<r;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new _.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=_.utils.map(_.utils.filterSVGElements(t.childNodes),function(t){return _.adopt(t)});return new _.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,i=this.dom.leading*new _.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?n+=i:(this.attr("dy",i+n),n=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new _.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new _.Text).text(t)},plain:function(t){return this.put(new _.Text).plain(t)}}}),_.Tspan=_.invent({create:"tspan",inherit:_.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(_.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),_.extend(_.Text,_.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new _.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),_.TextPath=_.invent({create:"textPath",inherit:_.Parent,parent:_.Text,construct:{path:function(t){for(var e=new _.TextPath,n=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+n,_.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return _.adopt(this.node.firstChild)}}}),_.Nested=_.invent({create:function(){this.constructor.call(this,_.create("svg")),this.style("overflow","visible")},inherit:_.Container,construct:{nested:function(){return this.put(new _.Nested)}}}),_.A=_.invent({create:"a",inherit:_.Container,extend:{to:function(t){return this.attr("href",t,_.xlink)},show:function(t){return this.attr("show",t,_.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new _.A).to(t)}}}),_.extend(_.Element,{linkTo:function(t){var e=new _.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),_.Marker=_.invent({create:"marker",inherit:_.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),_.extend(_.Defs,{marker:function(t,e,n){return this.put(new _.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),_.extend(_.Line,_.Polyline,_.Polygon,_.Path,{marker:function(t,e,n,i){var r=["marker"];return"all"!=t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof _.Marker?arguments[1]:this.doc().marker(e,n,i),this.attr(r,t)}});var A={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,n={};n[t]=function(n){if(void 0===n)return this;if("string"==typeof n||_.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=A[t].length-1;e>=0;e--)null!=n[A[t][e]]&&this.attr(A.prefix(t,A[t][e]),n[A[t][e]]);return this},_.extend(_.Element,_.FX,n)}),_.extend(_.Element,_.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:t,cx:e,cy:n}):this.transform({skewX:t,skewY:e,cx:n,cy:i})},scale:function(t,e,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:n}):this.transform({scaleX:t,scaleY:e,cx:n,cy:i})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return e="number"==typeof t?t:e,this.transform({flip:t||"both",offset:e})},matrix:function(t){return this.attr("transform",new _.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new _.Number(t).plus(this instanceof _.FX?0:this.x()),!0)},dy:function(t){return this.y(new _.Number(t).plus(this instanceof _.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),_.extend(_.Rect,_.Ellipse,_.Circle,_.Gradient,_.FX,{radius:function(t,e){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new _.Number(t)):this.rx(t).ry(null==e?t:e)}}),_.extend(_.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),_.extend(_.Parent,_.Text,_.Tspan,_.FX,{font:function(t,e){if("object"==typeof t)for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):"anchor"==t?this.attr("text-anchor",e):"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?this.attr("font-"+t,e):this.attr(t,e)}}),_.Set=_.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new _.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each(function(){t=t.merge(this.rbox(this.doc()))}),t}},construct:{set:function(t){return new _.Set(t)}}}),_.FX.Set=_.invent({create:function(t){this.set=t}}),_.Set.inherit=function(){var t,e=[];for(var t in _.Shape.prototype)"function"==typeof _.Shape.prototype[t]&&"function"!=typeof _.Set.prototype[t]&&e.push(t);e.forEach(function(t){_.Set.prototype[t]=function(){for(var e=0,n=this.members.length;e<n;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new _.FX.Set(this)):this}}),e=[];for(var t in _.FX.prototype)"function"==typeof _.FX.prototype[t]&&"function"!=typeof _.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){_.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},_.extend(_.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),_.extend(_.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),_.get=function(t){var n=e.getElementById(g(t)||t);return _.adopt(n)},_.select=function(t,n){return new _.Set(_.utils.map((n||e).querySelectorAll(t),function(t){return _.adopt(t)}))},_.extend(_.Parent,{select:function(t){return _.select(t,this.node)}});var S="abcdef".split("");if("function"!=typeof t.CustomEvent){var E=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i};E.prototype=t.Event.prototype,t.CustomEvent=E}return function(e){for(var n=0,i=["moz","webkit"],r=0;r<i.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[i[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[r]+"CancelAnimationFrame"]||e[i[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=e.setTimeout(function(){t(i+r)},r);return n=i+r,o},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),_})},876:function(t,e,n){t.exports=n(758)}});