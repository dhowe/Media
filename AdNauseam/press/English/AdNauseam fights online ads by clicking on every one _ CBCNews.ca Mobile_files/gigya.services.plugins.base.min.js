var gigya;(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.resources||(a.resources={});a=a.html||(a.html={});(a.base||(a.base={})).legacyModal='<div class="gigya-screen-dialog-inner">\r\n    <div class="gigya-screen-dialog-top">\r\n        <div class="gigya-screen-dialog-caption">$title</div>\r\n        <div class="gigya-screen-dialog-close"></div>\r\n    </div>\r\n</div>'})(gigya||(gigya={}));
(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.resources||(a.resources={});a=a.html||(a.html={});(a.base||(a.base={})).modal='<div id="gigya-screen-dialog-page-overlay" style="display:${overlayDisplay}"></div>\r\n<div class="gigya-screen-dialog-main">\r\n    <div class="gigya-screen-dialog-top">\r\n        <div class="gigya-screen-dialog-caption">$title</div>\r\n        <div class="gigya-screen-dialog-close">\r\n            <a href="#">${closeImage}</a>\r\n        </div>\r\n    </div>\r\n    <div class="gigya-screen-dialog-inner">\r\n    </div>\r\n</div>\r\n'})(gigya||
(gigya={}));(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.resources||(a.resources={});a=a.html||(a.html={});(a.base||(a.base={})).modalCloseButton='<img src="${imgUrl}" alt="X" height="${imgHeight}" width="${imgWidth}" />\r\n'})(gigya||(gigya={}));
(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.resources||(a.resources={});a=a.css||(a.css={});(a.base||(a.base={})).legacy_modal="div.gigya-screen-dialog,div.gigya-screen-dialog-mobile{position:absolute;display:inline-block;background-color:#FFF}div.gigya-screen-dialog{top:25px;left:25px;border:8px solid #CCC;border-radius:8px}div.gigya-screen-dialog-inner{border:1px solid #AAA}div.gigya-screen-dialog-close{line-height:33px;height:33px;width:20px;float:right;cursor:pointer;background-image:url(${imgBase}/accounts/close_dialog.png);background-position:right;background-repeat:no-repeat}div.gigya-screen-dialog-caption{float:left;font-weight:700;font-size:16px;font-family:arial}div.gigya-screen-dialog-mobile{top:0;left:0;width:100%}div.gigya-screen-dialog-top{overflow:hidden;zoom:1;background-color:#F3F3F3;line-height:33px;padding:0 10px 0 11px}"})(gigya||(gigya=
{}));
(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.resources||(a.resources={});a=a.css||(a.css={});(a.base||(a.base={})).modern_modal=".gigya-style-modern #gigya-screen-dialog-page-overlay{width:100vw;height:100vh;background:#000;position:fixed;top:0;left:0;z-index:-1;filter:alpha(opacity=20);opacity:.2}.gigya-style-modern div.gigya-screen-dialog-main{border:.5px;border-radius:3px;background-color:transparent;-webkit-box-shadow:0 3px 6px 0 rgba(0,0,0,.5);-moz-box-shadow:0 3px 6px 0 rgba(0,0,0,.5);box-shadow:0 3px 6px 0 rgba(0,0,0,.5);max-height:99vh;max-width:99vw;overflow:auto}.gigya-style-modern div.gigya-screen-dialog-top{overflow:hidden;zoom:1;background-color:#1371B9;line-height:38px;padding:0 10px 0 11px;border-radius:3px 3px 0 0}.gigya-style-modern div.gigya-screen-dialog-close{background-image:initial;background-position:initial;background-repeat:initial;float:right;cursor:pointer}.gigya-style-modern div.gigya-screen-dialog-close>a>img{margin-top:11px;vertical-align:initial;border:0}.gigya-style-modern div.gigya-screen-dialog-caption{float:left;font-size:19px;font-family:arial;color:#FFF;padding-right:20px}.gigya-style-modern div.gigya-screen-dialog-inner{padding:0;overflow:hidden;min-width:32px;min-height:64px;background-color:#fff}.gigya-style-modern div.gigya-screen-dimmer{position:absolute;opacity:.2;filter:alpha(opacity=20);background-color:#FFF}.gigya-style-modern div.gigya-screen-loader{position:absolute;background:url(${imgBase}/accounts/bigLoader.gif) center center no-repeat;min-height:32px;min-width:32px}.gigya-style-modern.gigya-screen-dialog{position:fixed;border:none}.gigya-style-modern.gigya-screen-dialog-mobile{position:absolute;display:inline-block;top:0;left:0;background-color:#fff;width:100%;height:100%}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-main{max-height:100vh;max-width:100vw;box-shadow:initial;overflow:visible}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-top{position:fixed;top:0;border-radius:0;line-height:27px;box-sizing:border-box;width:100%;z-index:1}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-caption{font-size:14px}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-close>a>img{margin-top:5px}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-inner{border:0;margin-top:27px;box-sizing:border-box}.gigya-style-modern.gigya-screen-dialog-mobile div.gigya-screen-dialog-inner>div{margin:0 auto}.gigya-style-modern.gigya-ios.gigya-ios-v7.gigya-screen-dialog-mobile div.gigya-screen-dialog-top,.gigya-style-modern.gigya-ios.gigya-screen-dialog{position:absolute}.gigya-style-modern.gigya-android.gigya-screen-dialog-mobile{overflow:auto}.gigya-style-modern.gigya-ie8 #gigya-screen-dialog-page-overlay{width:100%;height:100%}html.gigya-mobile-modal-mode{overflow:hidden}html.gigya-mobile-modal-mode body{height:0;overflow:hidden}"})(gigya||(gigya=
{}));(function(a){(function(a){(function(a){(function(a){a[a._undefined=0]="_undefined";a[a.none=1]="none";a[a.legacy=2]="legacy";a[a.modern=3]="modern"})(a.PluginStyle||(a.PluginStyle={}));var b=a.PluginStyle;a.getPluginStyleClass=function(a){return"gigya-style-"+b[a]}})(a.plugins||(a.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(a){var c=function(){function a(d){void 0===d&&(d="object"==typeof console&&console.log?console.log:function(){});this._logger=d;this._intervalID=void 0;this._actions=[]}a.prototype.addActions=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];for(var e in a)this._actions.push(a[e])};a.prototype.hasActions=function(){return 0<this._actions.length};a.prototype.start=function(a,b){var e=this;void 0===b&&(b=!1);if(this.isStarted())return 1;if(this.hasActions||
b)this._intervalID=setInterval(function(){for(var a in e._actions)if(e._actions[a]instanceof Function)e._actions[a]();else e._actions[a].act()},a);else throw"Poller has no actions to perform on interval";};a.prototype.stop=function(){this._intervalID&&(clearInterval(this._intervalID),delete this._intervalID)};a.prototype.isStarted=function(){return!!this._intervalID};a.prototype.dispose=function(){this.stop();for(var a in this._actions)this._actions[a]instanceof Function||this._actions[a].dispose();
delete this._actions;delete this._logger};return a}();a.Poller=c})(a._||(a._={}))})(gigya||(gigya={}));var __extends=this&&this.__extends||function(a,f){function c(){this.constructor=a}for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);c.prototype=f.prototype;a.prototype=new c};
(function(a){(function(f){(function(c){(function(b){var d=function(){function a(e,b,d){this._object=e;this._propery=b;this.callback=d}a.prototype.act=function(){this._object[this._propery]||this.callback()};a.prototype.dispose=function(){delete this._object;delete this.callback};return a}();b.InvalidPropertyAction=d;d=function(){function a(e){this.callback=e;this._last={width:void 0,height:void 0}}a.prototype.act=function(){var a=this.getCurrSize();this.isChanged(this._last,a)&&this.callback(this._last,
a);this._last=a};a.prototype.dispose=function(){delete this.callback};a.prototype.getCurrSize=function(){};a.prototype.isChanged=function(a,e){return e.width!=this._last.width||e.height!=this._last.height};return a}();b.SizeChangeAction=d;var g=function(a){function b(d,g){a.call(this,g);this._container=d}__extends(b,a);b.prototype.getCurrSize=function(){return{width:this._container&&this._container.style?this._container.clientWidth:void 0,height:this._container&&this._container.style?this._container.clientHeight:
void 0}};b.prototype.dispose=function(){delete this._container;a.prototype.dispose.call(this)};return b}(d);b.ContainerSizeAction=g;d=function(e){function b(a){e.call(this,a)}__extends(b,e);b.prototype.getCurrSize=function(){var e=a.utils.viewport.getInnerSize(),b=a.utils.viewport.getOrientation();return{width:e.w,height:e.h,orientation:b}};b.prototype.isChanged=function(a,b){return e.prototype.isChanged.call(this,a,b)||a.orientation!=b.orientation};return b}(d);b.ViewportSizeAction=d})(c.pollerActions||
(c.pollerActions={}))})(f.plugins||(f.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){var b=function(){function b(a){this._container=a;this._isActive=!1;this._dimmer=document.createElement("div");this._dimmer.className="gigya-screen-dimmer";this._loader=document.createElement("div");this._loader.className="gigya-screen-loader"}b.prototype.show=function(){this._isActive||(this.setElementOverContainer(this._dimmer),this.setElementOverContainer(this._loader),a.utils.DOM.appendToBody(this._dimmer),a.utils.DOM.appendToBody(this._loader),this._isActive=
!0)};b.prototype.setElementOverContainer=function(b){var e=a.global.getPos(this._container);b.style.width=this._container.offsetWidth+"px";b.style.height=this._container.offsetHeight+"px";b.style.top=e.y+"px";b.style.left=e.x+"px";b.style.zIndex=""+a.utils.DOM._nextZIndex++};b.prototype.isActive=function(){return this._isActive};b.prototype.hide=function(){this._isActive&&(this.unlinkElement(this._loader),this.unlinkElement(this._dimmer),this._isActive=!1)};b.prototype.unlinkElement=function(a){a.parentNode.removeChild(a)};
b.prototype.dispose=function(){this.hide();delete this._container};return b}();c.LoadDimmer=b})(f.plugins||(f.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){var f=a._||(a._={}),f=f.plugins||(f.plugins={}),f=f.modal||(f.modal={});f.dialogClasses={document_mobile:"gigya-mobile-modal-mode",all_web:"gigya-screen-dialog",all_mobile:"gigya-screen-dialog-mobile",main:"gigya-screen-dialog-main",caption:"gigya-screen-dialog-caption",closeButton:"gigya-screen-dialog-close",content:"gigya-screen-dialog-inner"};f.legacyDialogClasses=a.utils.object.clone(f.dialogClasses);f.legacyDialogClasses.main=f.legacyDialogClasses.content})(gigya||(gigya={}));
(function(a){(function(f){(function(c){(function(b){var d=function(d){function e(a,e,c,f,l){void 0===f&&(f=!1);d.call(this,c);this._triggerMethod=a;this.isMobileUI=e;this._dialogClasses=(this.isLegacy=f)?b.legacyDialogClasses:b.dialogClasses;this.create(l)}__extends(e,d);e.prototype.onAfterCenterEvent=function(){return this.getEvent("onAfterModalCenter")};e.prototype.getConfig=function(){return{defaultParams:{},requiredParams:["modalTemplate"]}};e.prototype.showAll=function(){this._allContainer||
this.create();this.center();this.isMobileUI&&a.utils.DOM.addClassToElement(document.documentElement,this._dialogClasses.document_mobile);this._allContainer.style.visibility="visible"};e.prototype.hideAll=function(){this._allContainer&&(this._allContainer.style.visibility="hidden",this.isMobileUI&&(document.documentElement.style.height="",a.utils.DOM.removeClassFromElement(document.documentElement,this._dialogClasses.document_mobile)))};e.prototype.showMainDialog=function(){this._mainContainer&&(this._mainContainer.style.visibility=
"visible")};e.prototype.hideMainDialog=function(){this._mainContainer&&(this._mainContainer.style.visibility="visibile")};e.prototype.showLoading=function(){this._loader&&this._loader.show()};e.prototype.hideLoading=function(){this._loader&&this._loader.hide()};e.prototype.changeToMobile=function(){this._allContainer.className=this._dialogClasses.all_mobile};e.prototype.changeToWeb=function(){this._allContainer.className=this._dialogClasses.all_web};e.prototype.isLoading=function(){return this._loader&&
this._loader.isActive()};e.prototype.resize=function(a){a&&(this.applyStyle("height",a.height),this.applyStyle("minHeight",a.minHeight),this.applyStyle("width",a.width),this.applyStyle("minWidth",a.minWidth),this.center())};e.prototype.applyStyle=function(a,b){null===b?this._mainContainer.style[a]="":b&&(this._mainContainer.style[a]=b)};e.prototype.center=function(){if(this.isMobileUI)document.documentElement.style.height=window.getComputedStyle(this._allContainer).height;else{var b=!1;this.isLoading()&&
(this.hideLoading(),b=!0);var e=a.utils.viewport.getInnerSize(),d=Math.max(0,(e.h-this._allContainer.clientHeight)/2),e=Math.max(0,(e.w-this._allContainer.clientWidth)/2);this._allContainer.style.top=d.toString()+"px";this._allContainer.style.left=e.toString()+"px";b&&this.showLoading();"absolute"==a.global.getStyle(this._allContainer,"position")&&window.scrollTo(0,0)}this.dispatchEvent("onAfterModalCenter")};e.prototype.create=function(b){var e=this;void 0===b&&(b=!0);var d=a.utils.DOM.getCenteredDivID(this._triggerMethod);
this.params.newModal&&(d+=(new Date).getTime());this._allContainer=a.utils.DOM.createTopLevelDiv(d);b&&this.hideAll();this._allContainer.innerHTML=a.utils.templates.fill(this.params.modalTemplate,{title:this.params.captionText,closeImage:this.params.closeImage,overlayDisplay:!this.isMobileUI&&this.params.dimDialogBackground?"block":"none"});c.utils.css.addCss(this.params.modalCss,void 0,!1);this._mainContainer=a.utils.DOM.getElementsByClass(this._allContainer,this._dialogClasses.main)[0];this._captionContainer=
a.utils.DOM.getElementsByClass(this._mainContainer,this._dialogClasses.caption)[0];(this._closeButtonElement=a.utils.DOM.getElementsByClass(this._mainContainer,this._dialogClasses.closeButton)[0])&&a.utils.DOM.addEventListener(this._closeButtonElement,"click",function(b){a.utils.DOM.disableDefaultEventHandling(b);e.hideAll();if(e.params.onModalClose)e.params.onModalClose(c.CloseReasons.canceled)});this._contentContainer=a.utils.DOM.getElementsByClass(this._mainContainer,this._dialogClasses.content,
!0)[0];this._contentContainer.id="gigya-modal-plugin-container-"+this._triggerMethod;this._loader=new c.LoadDimmer(this._contentContainer);this.isMobileUI?a.utils.DOM.addClassToElement(this._allContainer,this._dialogClasses.all_mobile):a.utils.DOM.addClassToElement(this._allContainer,this._dialogClasses.all_web);this.center()};e.prototype.getMainContainer=function(){return this._mainContainer};e.prototype.getContentContainer=function(){return this._contentContainer};e.prototype.getCaptionContainer=
function(){return this._captionContainer};e.prototype.getModalDialogContainer=function(){return this._allContainer};e.prototype.getLoadingIndicator=function(){return this._loader};e.prototype.dispose=function(){this.hideAll();this._allContainer&&this._allContainer.parentElement&&this._allContainer.parentElement.removeChild(this._allContainer);this._loader&&this._loader.dispose();delete this.params;d.prototype.dispose.call(this)};return e}(f.BaseObject);b.ModalDialog=d})(c.modal||(c.modal={}))})(f.plugins||
(f.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));(function(a){a=a._||(a._={});a=a.plugins||(a.plugins={});a=a.CloseReasons||(a.CloseReasons={});a[a.pendingError=0]="pendingError";a[a.missing=1]="missing";a[a.finished=2]="finished";a[a.canceled=3]="canceled";a[a.backButton=4]="backButton";a[a.canceledByParent=5]="canceledByParent";a[a.skip=6]="skip";a[a.error=7]="error"})(gigya||(gigya={}));
(function(a){(function(f){(function(c){c.cssFlags={};var b=function(b){function g(e,r){b.call(this,e,!1);this.params=e;this.injectionInfo=r;this._pixelRatio=g.globalPixelRatio;this._imgBase=g.globalImgBase;this._imgExt="png";this.MOBILE_MODAL_MIN_WIDTH=400;this.lang=this.params.lang;this._style=c.PluginStyle.modern;this._poller=new f.Poller;this.POLL_INTERVAL=150;this.config=a.utils.object.merge([this.injectionInfo,this.getConfig()]);this.localizedJsName=this.getTranslationJsName()}__extends(g,b);
g.prototype.onRefreshExternalComponentsEvent=function(){return this.getEvent("onRefreshExternalComponentsEvent")};g.prototype.refreshExternalComponents=function(){this.dispatchPluginEvent("onRefreshExternalComponentsEvent")};g.prototype.getTranslationJsName=function(){var a=this.config.jsName,a=a.split("_v")[0];-1===a.indexOf(".js")&&(a+=".js");return a};g.prototype.start=function(){var b=this;if(this.params.containerID||this.config.allowModal)if(this.params.containerID)if(this.container=document.getElementById(this.params.containerID))this.container.innerHTML=
"",this.containerID=this.params.containerID;else{this.dispatchInvalidParamError("containerID");return}else this.isModal=!0,this.params=a.utils.object.merge([this.config.defaultModalParams,this.params]);else this.dispatchInvalidParamError("containerID");this.validateParams()&&(this.initUI(),this.params._noInit?this.loadComplete():this.init(function(a){return b.loadComplete(a)}))};g.prototype.initUI=function(){var b=this;this._templates=c.resources.getTemplates(["base",this.config.name]);this._css=
c.resources.getCss(["base",this.config.name]);var d=f.DeviceTypes._undefined;this.params.deviceType&&(d=f.DeviceTypes[this.params.deviceType.toLowerCase()]);d=d||this.getConfig().defaultDeviceType||f.DeviceTypes.desktop;this.params.deviceType=f.DeviceTypes[d];this.isMobileUI=d==f.DeviceTypes.mobile||d==f.DeviceTypes.auto&&a.localInfo.isMobile&&a.localInfo.isMobileApp;this.isRtl="he"==this.lang||"ar"==this.lang;this.initContainer();this._style!=c.PluginStyle.none&&this.injectCss();this._poller.addActions(new c.pollerActions.InvalidPropertyAction(this,
"container",function(){return b.dispose()}))};g.prototype.loadComplete=function(a){var b=this;void 0===a&&(a=!0);a&&(this.dispatchPluginEvent("load"),this.container&&(this.isModal?(this._modalDialog&&!this.config.disableModalContainerInit&&this._modalDialog.showAll(),this.config.enableViewportPolling&&this._poller.addActions(new c.pollerActions.ViewportSizeAction(function(a,e){b.onViewportSizeChanged(a,e);b.centerModal();b.refreshExternalComponents()}))):!this.config.enableSizePolling||this.params.width&&
-1===this.params.width.toString().indexOf("%",this.params.width.length-1)||this._poller.addActions(new c.pollerActions.ContainerSizeAction(this.container,function(a,e){b.resizePlugin(a,e);b.refreshExternalComponents()})),this._poller.hasActions()&&this._poller.start(this.POLL_INTERVAL)))};g.prototype.initContainer=function(){this.isModal?this.initModalContainer():(a.utils.DOM.setSize(this.container,this.params.width,this.params.height,!1),this.addMetaDataClasses(this.container),this.params.responsive&&
(this.container.style.width="auto"),this._loadingIndicator=new c.LoadDimmer(this.container))};g.prototype.initModalContainer=function(){this._style=this.getPluginStyle();this.createModalDialog();this._captionElement=this._modalDialog.getCaptionContainer();this.container=this._modalDialog.getContentContainer();this.containerID=this.container.id;this._loadingIndicator=this._modalDialog.getLoadingIndicator()};g.prototype.addMetaDataClasses=function(b){var d=this.getPluginStyle();switch(d){case c.PluginStyle.legacy:case c.PluginStyle.modern:a.utils.DOM.addClassToElement(b,
c.getPluginStyleClass(d))}a.pluginUtils.DOM.addBrowserInfoClassesToElement(b)};g.prototype.getPluginStyle=function(){return c.PluginStyle[this.params.dialogStyle]||this.config.defaultDialogStyle||this._style};g.prototype.setContainerMinSize=function(){this.params.height&&"auto"!=this.params.height&&-1==this.params.height.indexOf("%")&&(this.container.style.minHeight=this.params.height+"px");this.params.width&&"auto"!=this.params.width&&-1==this.params.width.indexOf("%")&&(this.container.style.minWidth=
this.params.width+"px")};g.prototype.createModalDialog=function(){var b=this,d;d=this.params.captionText?this.params.captionText:this.params.captionTextKey?this.getText(this.params.captionTextKey):"&nbsp;";var g,h;h="undefined"!=typeof this.params.dimDialogBackground?this.params.dimDialogBackground:this.config.defaultModalParams&&"undefined"!=typeof this.config.defaultModalParams.dimDialogBackground?this.config.defaultModalParams.dimDialogBackground:!1;var f=this.params.modalCss,l=!1;if(!f)switch(this._style){case c.PluginStyle.modern:f=
this.getCss().modern_modal;g=this.getPhotoFullName("gm/close");break;case c.PluginStyle.legacy:l=!0;f=this.getCss().legacy_modal;g=this._imgBase+"gm/CloseButton."+this._imgExt;break;case c.PluginStyle.none:f="";g=this.getPhotoFullName("gm/close");break;default:throw Error("unrecognized dialog style");}f=a.utils.templates.fill(f,{imgBase:this._imgBase});g=this.params.closeImage?this.params.closeImage:a.utils.templates.fill(this.getTemplates().modalCloseButton,{imgUrl:this.params.closeImageUrl||g,imgHeight:this.params.closeImageHeight||
15,imgWidth:this.params.closeImageWidth||15});this._modalDialog=new c.modal.ModalDialog(this.injectionInfo.methodName,this.isMobileUI,{modalTemplate:this.params.modalTemplate||(l?this.getTemplates().legacyModal:this.getTemplates().modal),modalCss:f,captionText:d,closeImage:g,dimDialogBackground:h,newModal:this.params.newModal,onModalClose:function(a){return b.close(c.CloseReasons[a])}},l);this.addMetaDataClasses(this._modalDialog.getModalDialogContainer())};g.prototype.injectCss=function(){var b=
"",d=this.params.cssPrefix,g=this.getCss(),h=this.config.jsName;c.cssFlags[h]||(c.cssFlags[h]={});h=c.cssFlags[h];if(d||!this.addedCss)b=this.addCssIfDidntLoad("reset",g,h,b),this.isRtl&&(b=this.addCssIfDidntLoad("resetRtl",g,h,b)),b=this.addCssIfDidntLoad("global",g,h,b),this.isRtl&&(b=this.addCssIfDidntLoad("globalRtl",g,h,b)),this.isMobileUI?(b=this.addCssIfDidntLoad("mobile",g,h,b),this.isRtl&&(b=this.addCssIfDidntLoad("mobileRtl",g,h,b))):(b=this.addCssIfDidntLoad("nonMobile",g,h,b),this.isRtl&&
(b=this.addCssIfDidntLoad("nonMobileRtl",g,h,b))),b&&a._.plugins.utils.css.addCss(b,d),this.addedCss=!0;this.config.hasMobileUI&&this.isMobileUI&&this.container&&(this.container.style.width="100%")};g.prototype.init=function(a){this.error(f.BaseObject.NOT_IMPLEMENTED_ERROR,400096);a(!1)};g.prototype.resizePlugin=function(a,b){};g.prototype.onViewportSizeChanged=function(a,b){};g.prototype.shouldCloseModal=function(){return!0};g.prototype.centerModal=function(){this._modalDialog&&!this.isMobileUI&&
this._modalDialog.center()};g.prototype.resizeModal=function(a){this.isModal&&this._modalDialog&&!this.isMobileUI&&(this.getPluginStyle()===c.PluginStyle.legacy&&(a.height&&(a.minHeight=parseInt(a.height)+"px",delete a.height),a.width&&(a.minWidth=parseInt(a.width)+"px",delete a.width)),this._modalDialog.resize(a),this.config.disableModalContainerInit||this.centerModal())};g.prototype.getPhotoFullName=function(a,b,d,g){void 0===b&&(b=this._pixelRatio);void 0===d&&(d=this._imgExt);void 0===g&&(g=this._imgBase);
return g+a+"_x"+b+"."+d};g.prototype.dispatchPluginEvent=function(a,b){void 0===b&&(b={});return this.dispatchEvent(a,b)};g.prototype.getTemplates=function(){return this._templates};g.prototype.getCss=function(){return this._css};g.prototype.addCssIfDidntLoad=function(a,b,d,g){return b[a]&&!d[a]?(d[a]=!0,g+(" "+b[a])):g};g.prototype.getText=function(b,d,g){var c=b,c=this.params.customLang&&this.params.customLang[b]?this.params.customLang[b]:a.pluginUtils.lang.getLocalizedText(this.localizedJsName,
b,this.lang);return c.replace(d,g)};g.prototype.toString=function(){return this.params.containerID+"."+this.injectionInfo.name};g.prototype.error=function(a,b,d){void 0===b&&(b=300001);b={errorMessage:a,errorCode:b,errorDetails:this.toString(),containerID:this.params.containerID,params:this.params,info:d};this.warn(a,d);this.dispatchErrorFromResponse(b)};g.prototype.close=function(a,b){b||(b={});b.reason=a;this.dispatchPluginEvent("hide",b);this.isModal&&this.shouldCloseModal()&&this.dispose()};g.prototype.dispose=
function(){this._poller.dispose();this.container&&(this.container.innerHTML="");this._modalDialog&&this._modalDialog.dispose();this._loadingIndicator&&this._loadingIndicator.dispose();this.container=null;c.removePluginInstance(this.params,this.injectionInfo);b.prototype.dispose.call(this)};g.globalPixelRatio=window.devicePixelRatio?Math.min(Math.ceil(window.devicePixelRatio),3):1;g.globalImgBase=a._.getImgCdnResource();return g}(f.BaseObject);c.BasePlugin=b})(f.plugins||(f.plugins={}))})(a._||(a._=
{}))})(gigya||(gigya={}));
gigya.socialize._AddJSRequest=function(a,f,c,b){if(document.body){b||(b={});gigya.log.logCall(f.split(".").pop(),b);var d=b.containerID,g=!1,e;c?"undefined"==typeof d||""==d?(d=gigya.utils.DOM.getCenteredDivID(f),b.containerID=d,g=!0,b.isPopup=!0,e=document.getElementById(d),null==e&&(e=gigya.utils.DOM.createTopLevelDiv(d))):e=document.getElementById(d):(null==gigya.utils.DOM._pseudoContainers[d]&&(gigya.utils.DOM._pseudoContainers[d]={}),e=gigya.utils.DOM._pseudoContainers[d]);if(e){var r=f.split(".").pop();
e.setAttribute&&e.setAttribute("gigid",(b.source&&b.source!=r?b.source+"_":"")+r);if(e.style){e.style.display="";e.style.visibility="";e.innerHTML="";if(r=document.getElementById("gigya_ifr_"+d))r.style.display="",r.style.visibility="";null!=r&&(gigya.utils.DOM.setSize(r,b.width,b.height,g),r.style.visibility="visible");gigya.utils.DOM.setSize(e,b.width,b.height,g)}g=e.Reqs?e.Reqs:e.Reqs=[];r=g.length+"@"+a+"@"+d;b.rid=r;var n=f;b._operation&&(n=b._operation);g[g.length]={rid:r,servicedBy:a,container:e,
method:f,context:b.context,c:b,p:b,i:b,operation:n,isHTML:!0};e=f.split(".");g=eval(e[0]);for(r=1;null!=(g=g[e[r]])&&++r<e.length;);gigya.utils.script.load(gigya._.getCdnResource("/js/"+a+".min.js"+(b.lang?"?lang="+b.lang:"")),null,function(){gigya.reports.reportLoad(f,b);gigya.utils.functions.callFunction(f,[b,b,b])},!0);return d}gigya.events.dispatchInvalidParamError(b,"containerID")}else{var h=arguments;window.setTimeout(function(){gigya.socialize._AddJSRequest.apply(this,h)},300)}};
gigya.socialize._parseRID=function(a){var f=a.split("@"),c=document.getElementById(f[2]+"_"+f[1]),b;null==(b=gigya.utils.DOM._pseudoContainers[f[2]])&&(b=document.getElementById(f[2]));var d=null;null!=b&&(d=b.Reqs);var g=null;null!=d&&(g=d[parseInt(f[0])]);return{rid:a,container:b,Reqs:d,req:g,swf:c}};
(function(a){(function(f){f.getCombination=function(c,b){void 0===b&&(b=0);b||(b=0);if(!c||0==c.length)return[];var d=c[b];if(b==c.length-1)for(var g=[],e=0;e<d.length;e++)g.push([d[e]]);else{var g=[],r=a.global.getCombination(c,b+1);if(d)for(e=0;e<d.length;e++)for(var f=0;f<r.length;f++)g.push([d[e]].concat(r[f]))}return g};f.resolveProviders=function(c,b,d){c=a.utils.array.getArrayFromString(c,",",!0);b=a.utils.array.getArrayFromString(b,",",!0);d=a.utils.array.getArrayFromString(d,",",!0);for(var g=
0;g<b.length;g++)a.utils.array.removeByValue(c,b[g]);c=a._.providers.getProvidersByName(c.join(","));for(g=0;g<b.length;g++)a.utils.array.removeByProperty(c,"name",b[g]);return a.socialize.getProvidersForRequiredCapabilities(c,d)}})(a.global||(a.global={}))})(gigya||(gigya={}));(function(a){(function(f){(function(c){c.cloneParamsForPlugin=function(b){b=a.utils.object.clone(b);delete b.instanceID;delete b.getInstance;return b}})(f.object||(f.object={}))})(a.utils||(a.utils={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){a.getISODate=function(a){var d,g=/^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/.exec(a)||[];if(g[1]){a=g[1].split(/\D/);d=0;for(var e=a.length;d<e;d++)a[d]=parseInt(a[d],10)||0;a[1]-=1;a=new Date(Date.UTC.apply(Date,a));if(!a.getDate())return NaN;g[5]&&(d=60*parseInt(g[5],10),g[6]&&(d+=parseInt(g[6],10)),"+"==g[4]&&(d*=-1),d&&a.setUTCMinutes(a.getUTCMinutes()+d));return a}return NaN}})(a.date||(a.date={}))})(a.global||(a.global={}))})(gigya||
(gigya={}));(function(a){(function(f){(function(c){c.getLocalizedText=function(b,d,g,e,c){if("te-st"==g)return"TEST_"+d.substring(0,10);g||(g="en");(b=a.i18n[b][g]?a.i18n[b][g][d]:a.i18n[b].en[d])&&e&&(b=b.replace(e,c));return b}})(f.lang||(f.lang={}))})(a.pluginUtils||(a.pluginUtils={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){c.isEmailValid=function(b){return a.pluginUtils.validation.isEmailListValid(b)};c.isEmailListValid=function(a){var d=RegExp("((\"[^<]+<(((?=([^.].{0,63}@.{1,255}))([!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9}]{1,64}(\\.[!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9]{1,}){0,})@((\\[(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}\\])|([a-zA-Z0-9-]{1,63}(\\.[a-zA-Z0-9-]{1,63}){1,}))))>\")|((\"[^\"]*\" *)?<(((?=([^.].{0,63}@.{1,255}))([!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9}]{1,64}(\\.[!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9]{1,}){0,})@((\\[(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}\\])|([a-zA-Z0-9-]{1,63}(\\.[a-zA-Z0-9-]{1,63}){1,}))))>)|(((?=([^.].{0,63}@.{1,255}))([!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9}]{1,64}(\\.[!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9]{1,}){0,})@((\\[(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}\\])|([a-zA-Z0-9-]{1,63}(\\.[a-zA-Z0-9-]{1,63}){1,})))))");a=
a.split(",");for(var g=0;g<a.length;g++)if(!d.test(a[g]))return!1;return!0}})(f.validation||(f.validation={}));(function(a){a.isInDomain=function(a){void 0===a&&(a=void 0);if(a)return a="^"+a.replace(/\./g,"\\.").replace(/\*\\./g,"([a-zA-Z0-9]+\\.)*")+"$",(new RegExp(a)).test(document.domain)}})(f.domain||(f.domain={}))})(a.pluginUtils||(a.pluginUtils={}))})(gigya||(gigya={}));
(function(a){(function(a){a.isEmail=function(a){if(0<=a.indexOf(" "))return!1;a=a.split("@");if(2!=a.length||0==a[0].length||0==a[1].length)return!1;a=a[1].split(".");if(2>a.length)return!1;for(var b=0;b<a.length;b++)if(0==a[b].length||0<a[b].indexOf(" "))return!1;return!0}})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){c.fadeIn=function(a,d){void 0===d&&(d=1);void 0==a.style.opacity?a.style.filter="alpha(opacity=0)":a.style.opacity="0";window.setTimeout(function(){void 0==a.style.opacity?a.style.filter="alpha(opacity="+100*d+")":a.style.opacity=d+""},10)};c.slideDown=function(b){var d=a.global.getClassBordersAndPaddings(b.className),g=b.offsetHeight-d.h,e=b.style.transitionProperty;b.style.maxHeight="1px";b.style.transitionProperty=b.style.webkitTransitionProperty="max-height";
window.setTimeout(function(){b.style.maxHeight=g+"px";b.style.transitionProperty=b.style.webkitTransitionProperty=e},100);var c=function(){b.style.maxHeight="999px";a.utils.DOM.removeEventListener(b,"transitionend",c);a.utils.DOM.removeEventListener(b,"webkitTransitionEnd",c)};a.utils.DOM.addEventListener(b,"transitionend",c);a.utils.DOM.addEventListener(b,"webkitTransitionEnd",c);window.setTimeout(c,500)}})(f.animation||(f.animation={}))})(a.pluginUtils||(a.pluginUtils={}))})(gigya||(gigya={}));
(function(a){(function(f){f.showLoader=function(c,b,d){void 0===b&&(b="");void 0===d&&(d=void 0);c&&(d||(d=parseInt(a.global.getStyle(c,"height"))),c.innerHTML='<div class="'+b+'" style="height:'+d+"px;background-image:url('"+a._.getCdnResource("/gs/i/gm/loader.gif")+"'); background-repeat:no-repeat;background-position:center center\"></div>")};f.fadeIn=function(a){a.interval&&clearInterval(a.interval);a.style.opacity="0";a.interval=setInterval(function(){var b=parseFloat(a.style.opacity);1<=b&&clearInterval(a.interval);
a.style.opacity=b+0.1},10)};f.getBalloonHTML=function(c,b,d,g,e,r,f,h,k){a.global.addedBalloonCSS||(a.global.addCSS([".gig-balloons *, div.gig-balloons, .gig-balloons span, .gig-balloons a:hover, .gig-balloons a:visited, .gig-balloons a:link, .gig-balloons a:active{","border:none; line-height:normal;padding:0px;margin:0px;color:inherit;text-decoration:none;width:auto;float:none;-moz-border-radius:0;border-radius:0;","font-family:arial;font-size:10px;color:#797979;background:none;text-align:left}",
"div.gig-balloon-frame {","zoom:1;padding:15px 10px 10px 10px; border:1px solid #b4b4b4; min-height:80px; background-color:#FFFFFF; z-index:"+a.utils.DOM._nextZIndex++ +";","box-shadow:0 0 5px RGBA(0,0,0,0.6);-webkit-box-shadow:0 0 5px RGBA(0,0,0,0.6);-moz-box-shadow:0 0 5px RGBA(0,0,0,0.6);}",'div.gig-balloon-nub {left:+1px; position:relative;background-image:url("'+a._.getCdnResource("/gs/i/gm/nub.png")+'");width:13px;height:25px; z-index:'+a.utils.DOM._nextZIndex++ +" }",'div.gig-balloon-nub-right { left:-1px; position:relative;background-image:url("'+
a._.getCdnResource("/gs/i/gm/nub_right.png")+'");width:13px;height:25px; z-index:'+a.utils.DOM._nextZIndex++ +" }",'div.gig-balloon-nub-up { top:+1px; position:relative;background-image:url("'+a._.getCdnResource("/gs/i/gm/nub_up.png")+'");width:25px;height:13px; z-index:'+a.utils.DOM._nextZIndex++ +" }",'div.gig-balloon-nub-down { top:-1px; position:relative;background-image:url("'+a._.getCdnResource("/gs/i/gm/nub_down.png")+'");width:25px;height:13px; z-index:'+a.utils.DOM._nextZIndex++ +" }",'span.gig-balloon-closeImage { cursor:pointer; float:right;background-image:url("'+
a._.getCdnResource("/gs/i/gm/CloseButton.png")+'"); width:14px;height:14px; margin:-7px -2px 0 0  }',"div.gig-balloon-caption {font-family:arial; font-size: 12px; font-weight:bold; color: #0b81c1; border-bottom: 1px solid #e8e8e8;padding-bottom:2px;}","span.gig-balloon-caption-text {float:left}"]),!a.localInfo.isIE||!a.localInfo.quirksMode&&a.localInfo.isIE9||a.global.addCSS(["div.gig-balloon-frame {","-ms-filter: \"progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#B4B4B4');\";",
"filter: progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#B4B4B4');}","}","div.gig-balloon-nub-right { left:-5px;}"]),a.global.addedBalloonCSS=!0);var l="";if(a.localInfo.quirksMode){var m=a.global.getClassBordersAndPaddings("gig-balloon-frame");d&&(d+=m.w);g&&(g+=m.h)}d&&(l+="width: "+d+"px;");g&&(l+="height: "+g+"px;");g="";e&&(g="left"===r||"right"===r?g+("top: "+e+"px;"):g+("left: "+e+"px;"));m="";m=b?m+('<div class="gig-balloon-caption"><span class="gig-balloon-caption-text" style="width:'+
(d-20)+'px">'+b+"</span>"):m+'<div class="gig-balloon-caption" style="border-bottom:none">';!f&&h&&(m+='<span class="gig-balloon-closeImage" onclick="'+h+'"></span>');m+='<div style="clear:both;height:0;width:0;font-size:1px;">\x3c!-- empty divs=100% height IE --\x3e</div></div><div class="gig-balloon-body">'+c+"</div>";e?(c='<table cellpadding="0" cellspacing="0" class="gig-balloon"><tr>',"up"===r&&(c+='<td style=""><div class="gig-balloon-nub-up" style="'+g+'"></div></td></tr><tr>'),"left"===r&&
(c+='<td style="vertical-align:top"><div class="gig-balloon-nub" style="'+g+'"></div></td>'),c+='<td style="vertical-align:top"><div id="'+k+'" class="gig-balloon-frame" style="'+l+'">'+m+"</div></td>","right"===r&&(c+='<td style="vertical-align:top"><div class="gig-balloon-nub-right" style="'+g+'"></div></td>'),"down"===r&&(c+='</tr><tr><td style="vertical-align:top"><div class="gig-balloon-nub-down" style="'+g+'"></div></td>'),c+='</tr></table><div style="clear:both;height:0;width:0;font-size:1px;">\x3c!-- empty divs=100% height IE --\x3e</div>'):
c='<div class="gig-balloon gig-balloon-frame" style="'+l+'">'+m+"</div>";return c};f.createGMBalloon=function(c,b,d,g,e,r,f,h,k,l){l=l?"gig-balloon "+l:"gig-balloon";a.global.removeGMBalloon();var m="gig_gmBalloon_"+(new Date).getTime();h&&(m=h);c=a.global.getBalloonHTML(c,b,d,g,e,r,f,"gigya.global.removeGMBalloon()",m+"_frame");var p=document.createElement("div");p.className=l;p.style.position="absolute";p.style.zIndex=(a.utils.DOM._nextZIndex++).toString();p.innerHTML=c;p.id=m;a.global.fadeIn(p);
a.utils.DOM.appendToBody(p);a.global.divGMBalloon=p;k||window.setTimeout(function(){a.pluginUtils.DOM.removeElementOnDocClick(p,null,null,"click")},50);return p};f.removeGMBalloon=function(c){var b;if(c)for(b=c.target,b||(b=c.srcElement);null!=b&&b.offsetParent&&-1==b.id.indexOf(a.global.divGMBalloon.id);)b=b.offsetParent;if(!b||-1==b.id.indexOf(a.global.divGMBalloon.id))try{a.global.removeIframeShim(document.getElementById(a.global.divGMBalloon.id+"_frame")),a.global.divGMBalloon.parentNode.removeChild(a.global.divGMBalloon),
document.detachEvent?document.detachEvent("onclick",a.global.removeGMBalloon):document.removeEventListener&&document.removeEventListener("click",a.global.removeGMBalloon,!1)}catch(d){}};f.putGMBalloonNextTo=function(c,b,d,g,e,r,f,h,k,l){void 0===l&&(l="");k=k||"left";"right"===k||"left"===k?a.global.createGMBalloon(b,d,g,e,47,"left",r,f,h,l):a.global.createGMBalloon(b,d,g,e,10,"down",r,f,h,l);var m=a.global.divGMBalloon.offsetWidth,p=a.global.divGMBalloon.offsetHeight,q=a.global._GetElementPos(c),
s,t,v=document.body,w=document.documentElement.clientHeight;0==w&&(w=v.clientHeight);window.innerHeight&&(w=window.innerHeight);var v=a.utils.viewport.getScroll().top+w,u,x;if("right"===k||"left"===k)x=47,t=q.top+c.offsetHeight/2-47-12.5,t+p>v&&(t=v-p-10),s=q.left-m-5,m=q.left+c.offsetWidth+5,"right"===k?(s=m,u="left",l+=" gig-balloon-right"):10<s?(u="right",l+=" gig-balloon-left"):(s=m,u="left",l+=" gig-balloon-right");if("up"===k||"down"===k)x=10,s=q.left,p=q.top-p-10,c=q.top+c.offsetHeight+5,"down"===
k?(t=c,u="up",l+=" gig-balloon-down"):5>p?(t=c,u="up",l+=" gig-balloon-down"):(t=p,u="down",l+=" gig-balloon-up");a.global.createGMBalloon(b,d,g,e,x,u,r,f,h,l);10>s&&(s=10);10>t&&(t=10);a.global.divGMBalloon.style.left=s+"px";a.global.divGMBalloon.style.top=t+"px";a.localInfo.isIE&&(b=document.getElementById(a.global.divGMBalloon.id+"_frame"))&&a.global.addIframeShim(b)};f.scrollToElement=function(c){c&&(c=a.global._GetElementPos(c),window.scrollTo(c.left,c.top))}})(a.global||(a.global={}))})(gigya||
(gigya={}));
(function(a){(function(f){(function(c){c.GrayOut=function(b,d){var g=d||{},e=g.zindex||50,c=g.opacity||70,f=c/100,g=g.bgcolor||"#000000",h=document.getElementById("darkenScreenObject"),k=document.body;if(!h){var l=a.localInfo.isMobile||a.localInfo.isIE6||"BackCompat"==document.compatMode,h=document.documentElement.scrollTop;0==h&&(h=document.body.scrollTop);var m=document.createElement("div");l?(m.style.position="absolute",m.style.top=""+h+"px"):(m.style.position="fixed",m.style.top="0px");m.style.overflow=
"hidden";m.style.left="0px";m.style.display="none";m.id="darkenScreenObject";m.innerHTML="&#160;";k.appendChild(m);h=document.getElementById("darkenScreenObject");a.attachedFixGray||(a.attachedFixGray=!0,window.addEventListener&&window.addEventListener("resize",a.services.socialize._fixGraySize,!1),window.attachEvent&&window.attachEvent("onresize",a.services.socialize._fixGraySize),l&&(window.addEventListener&&window.addEventListener("scroll",a.services.socialize._fixGrayPosition,!1),window.attachEvent&&
window.attachEvent("onscroll",a.services.socialize._fixGrayPosition)))}if(b){var p,q;window.innerHeight&&(p=window.innerHeight,q=window.innerWidth);"undefined"==typeof p&&(q=document.documentElement,p=q.clientHeight,q=q.clientWidth);0==q&&(q=k.clientWidth);0==p&&(p=k.clientHeight);h.style.opacity=f.toString();h.style.MozOpacity=f;h.style.width=""+q+"px";h.style.height=""+p+"px";h.style.filter="alpha(opacity="+c+")";h.style.zIndex=e;h.style.backgroundColor=g;h.style.display="block"}else k.removeChild(h)};
c.hideUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.services.socialize.GrayOut(!1);for(var d in a._.plugins.instances){var g=a._.plugins.instances[d];g.isModal&&g.dispose()}for(var e in a.utils.DOM._popupContainers)d=a.utils.DOM._popupContainers[e],null!=d&&(d.innerHTML="",d.parentNode&&(d.style.display="none")),d=document.getElementById("gigya_ifr_"+e),null!=d&&(d.style.display="none");a.events.global.dispatch({eventName:"HideUIRequested"});"function"==typeof b.callback&&
b.callback({status:"OK",statusMessage:"",operation:"hideUI",context:b.context,errorMessage:"",errorCode:0})}})(f.socialize||(f.socialize={}))})(a.services||(a.services={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){c.addBrowserInfoClassesToElement=function(b){var g="gigya-"+a.localInfo.currentBrowser;a.localInfo.isIOS&&(g+=" ios");g=g.replace(/ /g," gigya-");a.localInfo.isNativeMobileApp&&(g="gigya-native-mobile-app "+g);a.utils.DOM.addClassToElement(b,g)};c.setTextboxSubmitButton=function(b,g){var e=function(a){a&&a.which?a=a.which:(a=event,a=a.keyCode);13==a&&g.click()};a.utils.DOM.addEventListener(b,"keyup",e);a.utils.DOM.addEventListener(g,"keyup",e)};c.getRelativePosition=
function(a,b,e,c,f){var h={top:0,left:0,bottom:0,right:0};"bottom"===e?(h.top=a.bottom+c,h.left=f?a.right-b.w:a.left):"top"===e?(h.top=a.top-b.h-c,h.left=f?a.right-b.w:a.left):"left"===e?(h.top=f?a.bottom-b.h:a.top,h.left=a.left-b.w-c):(h.top=f?a.bottom-b.h:a.top,h.left=a.right+c);h.bottom=h.top+b.h;h.right=h.left+b.w;return h};c.placePopoverNearElement=function(b,g,e,c,f,h){b=a.utils.DOM.getElementPosition(b);var k={w:g.offsetWidth,h:g.offsetHeight},l=this.getRelativePosition(b,k,e,c,f);h&&!a.utils.viewport.isRectFullyVisible(l)&&
(h=this.getRelativePosition(b,k,{bottom:"top",left:"right",right:"left",top:"bottom"}[e],c),a.utils.viewport.isRectHorizontallyVisible(h)&&(l=h));a.utils.viewport.isRectHorizontallyVisible(l)||(h=this.getRelativePosition(b,k,e,c,!f),a.utils.viewport.isRectHorizontallyVisible(h)&&(l=h));g.style.left=""+l.left+"px";g.style.top=""+l.top+"px"};c.addPopoverNearElement=function(b,g,e,c,f,h,k,l,m,p){void 0===e&&(e="bottom");void 0===c&&(c=0);void 0===f&&(f=!1);void 0===h&&(h=!0);void 0===k&&(k=null);void 0===
l&&(l=null);void 0===m&&(m=null);void 0===p&&(p="click");if(b&&g){var q=document.createElement("div");q.appendChild(g);q.style.position="absolute";q.style.zIndex=(a.utils.DOM._nextZIndex++).toString();q.style.left="-1000px";document.body.appendChild(q);this.placePopoverNearElement(b,q,e,c,f,h);a.pluginUtils.DOM.removeElementOnDocClick(q,l,m,p);if(k&&"function"===typeof a.pluginUtils.animation[k])a.pluginUtils.animation[k](g);return q}};c.removeElementOnDocClick=function(a,b,e,c){void 0===b&&(b=null);
void 0===e&&(e=null);void 0===c&&(c="mousedown");if(a){var f=[a];e&&(f=f.concat(e));this.performOnDocClick(function(e){var c=a&&a.parentNode;c&&a.parentNode.removeChild(a);b&&b(e,c)},f,c)}};c.hideElementOnDocClick=function(a,b,e){void 0===b&&(b=null);void 0===e&&(e=null);if(a){var c=[a];e&&c.concat(e);this.performOnDocClick(function(){a.style.display="none";b&&b()},c)}};var b=!1;c.performOnDocClick=function(d,g,e){void 0===d&&(d=null);void 0===g&&(g=null);void 0===e&&(e="mousedown");var c=function(b){for(var f=
b.target||b.srcElement,k=!1;f&&f.parentNode;){if(g&&-1!=g.indexOf(f)){k=!0;break}f=f.parentNode}k||(a.utils.DOM.removeClassFromElement(document.body,"gig-clickable"),a.utils.DOM.removeEventListener(document,e,c),d&&d(b))};if(a.localInfo.isIOS&&a.localInfo.isSafari||a.localInfo.isIOSWebView)b||(a._.plugins.utils.css.addCss("*.gig-clickable {cursor: pointer;}",null),b=!0),a.utils.DOM.addClassToElement(document.body,"gig-clickable");a.utils.DOM.addEventListener(document,e,c)};c.hideElement=function(a){a.style.display=
"none"};c.showElement=function(a){a.style.display="block"}})(f.DOM||(f.DOM={}))})(a.pluginUtils||(a.pluginUtils={}))})(gigya||(gigya={}));
(function(a){(function(f){f.addIframeShim=function(c,b){if(!c.shim){var d=document.createElement("IFRAME");d.frameborder="0";d.frameBorder="0";d.allowtransparency=!0;d.style.position="absolute";d.update=function(g){if(d&&c){if(b)d.style.left=c.offsetLeft+"px",d.style.top=c.offsetTop+"px";else{var e=a.global._GetElementPos(c);d.style.left=e.left+"px";d.style.top=e.top+"px"}g&&(d.style.width=c.offsetWidth+"px",d.style.height=c.offsetHeight+"px")}};d.update(!0);b?(d.style.zIndex=(a.utils.DOM._nextZIndex++).toString(),
c.style.zIndex=(a.utils.DOM._nextZIndex++).toString(),b.appendChild(d)):a.utils.DOM.appendToBody(d);c.shim=d}};f.removeIframeShim=function(a){a&&a.shim&&a.shim.parentNode&&(a.shim.parentNode.removeChild(a.shim),a.shim=null)};f.scaleImage=function(a,b,d,g){var e=a;a.width&&a.height||(e=new Image,e.src=a.src);var f=function(){0==e.width?window.setTimeout(f,100):(e.width>e.height?a.style.width=b+"px":a.style.height=b+"px",a.style.display="",g&&g(a),d||(a.style.marginTop=(b-a.offsetHeight)/2+"px",a.style.marginLeft=
(b-a.offsetWidth)/2+"px"))};0<e.width?f():(a.style.display="none",e.onload=function(){window.setTimeout(f,50)})};f.fillUserActionTemplate=function(c,b){for(var d in c){var g=c[d];"string"==typeof g&&(c[d]=a.utils.templates.fill(c[d],b));if("mediaItems"==d)for(var e=0;e<g.length;e++)g[e].src&&(g[e].src=a.utils.templates.fill(g[e].src,b))}return c};f.setPlaceholder=function(c,b,d){if(c){var g=function(){""==this.value&&(d?a.utils.DOM.addClassToElement(c,d):c.style.color="#585858",this.value=b,this.placeholderCleared=
!1)};c.refreshPlaceholder=function(){c.value?(d?a.utils.DOM.removeClassFromElement(c,d):c.style.color="",this.placeholderCleared=!0):(d?a.utils.DOM.addClassToElement(c,d):c.style.color="#585858",c.value=b,this.placeholderCleared=!1)};a.utils.DOM.addEventListener(c,"blur",g);a.utils.DOM.addEventListener(c,"focus",function(){if(!this.placeholderCleared)if(d?a.utils.DOM.removeClassFromElement(c,d):c.style.color="",this.value="",this.placeholderCleared=!0,c.setSelectionRange)c.focus(),c.setSelectionRange(0,
0);else if(c.createTextRange){var b=c.createTextRange();b.collapse(!0);b.moveEnd("character",0);b.moveStart("character",0);b.select()}});a.utils.DOM.addEventListener(c,"change",g);c.refreshPlaceholder()}}})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){(function(b){(function(b){b.replaceLinksWithHTMLElements=function(b,d){var c=b.match(/(?:(?:https?):\/\/|www\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gmi),f="";if(c)for(var h=0;h<c.length;h++){a.utils.sanitize.sanitizeAttribute(c[h]);var k="";-1==c[h].indexOf("http:")&&-1==c[h].indexOf("https:")&&(k="http://");var l="";d&&(l='class="'+d+'"');var m=b.substr(0,b.indexOf(c[h])+c[h].length);
b=b.substr(m.length,b.length-m.length);var p=c[h].replace(/&#173;/g,""),f=f+m.replace(c[h],"<a "+l+' href="'+k+p+'" target="_blank" rel="nofollow">'+c[h]+"</a>")}0<b.length&&(f+=b);return f};b.setAttribute=function(a,b,d){switch(b){case "class":a.className=d;break;default:a.setAttribute(b,d)}};b.getAttribute=function(b,d){var c="";return c=a.localInfo.isIE8?b.getAttribute(d):b.getAttributeNS("",d)}})(b.DOM||(b.DOM={}))})(c.utils||(c.utils={}))})(f.plugins||(f.plugins={}))})(a._||(a._={}))})(gigya||
(gigya={}));
gigya.utils.object.add(gigya.utils.DOM,{enableSafeCopy:function(a){a.addedSafeCopy||(gigya.utils.DOM.addEventListener(a,"copy",function(a){a=a||window.event;var c=a.target||a.srcElement,c=c&&c.nodeName?c.nodeName.toLowerCase():"";if("textarea"!=c&&"input"!=c){var b=document.createElement("div");b.style.color=window.getComputedStyle?window.getComputedStyle(document.body).backgroundColor:"#FFFFFF";b.style.fontSize="0px";gigya.utils.DOM.appendToBody(b);var c=new RegExp("(&shy;|"+String.fromCharCode(173)+")",
"g"),d;if(window.getSelection){a.stopPropagation();d=window.getSelection();var g=d.getRangeAt(0);b.appendChild(g.cloneContents());b.innerHTML=b.innerHTML.replace(c,"");d.selectAllChildren(b);a=function(){b.parentNode.removeChild(b);d.removeAllRanges();d.addRange(g)}}else a.cancelBubble=!0,d=window.document.selection,g=d.createRange(),b.innerHTML=g.htmlText,b.innerHTML=b.innerHTML.replace(c,""),a=document.body.createTextRange(),a.moveToElementText(b),a.select(),a=function(){b.parentNode.removeChild(b);
""!==g.text&&g.select()};window.setTimeout(a,0)}}),a.addedSafeCopy=!0)}});
(function(a){(function(f){(function(c){c.fixCss=function(b){if(a.localInfo.isIE7||a.localInfo.isIE&&a.localInfo.quirksMode)b=b.replace(/display:inline-block/g,"display:inline-block;zoom:1;*display:inline");return b.replace(/gradient\((.*?),(.*?)\)/g,'filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="$1", endColorstr="$2");background: linear-gradient(top,  $1,  $2);background: -ms-linear-gradient(top left, $1, $2);background: -webkit-gradient(linear, left top, left bottom, from($1), to($2));background: -moz-linear-gradient(top,  $1,  $2)')}})(f.css||(f.css=
{}));(function(c){c.measureText=function(b,d,g){void 0===g&&(g=0);if(isNaN(g)||0>g)g=0;var e=document.getElementById("gigya_ruler"),c=document.getElementById("gigya_ruler_text");null==e&&(e=document.createElement("div"),c=document.createElement("span"),e.id="gigya_ruler",c.id="gigya_ruler_text",e.style.visibility="hidden",e.style.position="absolute",e.style.margin="0px",e.style.padding="0px",e.appendChild(c),a.utils.DOM.appendToBody(e));d&&(e.style.lineHeight=d.size+"px",e.style.fontFamily=d.font,
e.style.fontSize=d.size+"px",e.style.fontWeight="true"==(""+d.bold).toLowerCase()?"bold":"");g?(e.style.whiteSpace="",e.style.width=""+g+"px"):(e.style.whiteSpace="nowrap",e.style.width="auto");e.style.overflow="hidden";e.style.display="";c.innerHTML=b;b=c.offsetWidth;c=c.offsetHeight;if(0==b||0==c)b=e.offsetWidth,c=e.offsetHeight;e.style.display="none";return{w:b,h:c}}})(f.layout||(f.layout={}));(function(a){a.normalizeLinebreaks=function(a){void 0===a&&(a=void 0);return a&&a.replace?a.replace(/\r/,
"").replace(/\n/g,"\r\n"):a}})(f.text||(f.text={}))})(a.pluginUtils||(a.pluginUtils={}))})(gigya||(gigya={}));
(function(a){(function(f){function c(a,d,g,e,c,f,h){this.src=a;this.srcTemplate=d;this.spriteData=g;this.spriteW=e;this.spriteH=c;this.pixelRatio=f;this.spriteLength=h}f.getClassBordersAndPaddings=function(b){var d=document.createElement("div");d.className=b;a.utils.DOM.appendToBody(d);b=a.global.getBordersAndPaddings(d);d.parentNode.removeChild(d);return b};f.getBordersAndPaddings=function(b){var d=function(d){d=parseInt(a.global.getStyle(b,d));isNaN(d)&&(d=0);return d};return{w:d("border-left-width")+
d("border-right-width")+d("padding-right")+d("padding-left"),h:d("border-top-width")+d("border-bottom-width")+d("padding-top")+d("padding-bottom")}};f.getStyle=function(a,d){if(a.currentStyle)return a.currentStyle[d];if(window.getComputedStyle)return document.defaultView.getComputedStyle(a,null).getPropertyValue(d)};f.scaleImageToContainer=function(b,d,g){d||(b.parentNode.style.textAlign="left",b.parentNode.style.verticalAlign="top");var e=function(d){for(var g=b.parentNode,e=a.global.getStyle(g,
d);"auto"==e;)g=g.parentNode,e=a.global.getStyle(g,d);d=parseInt(e);isNaN(d)&&(d=0);return d},c=Math.min(e("width"),e("height"));if(a.localInfo.quirksMode)var f=a.global.getBordersAndPaddings(b.parentNode),c=e("width")-f.w,e=e("height")-f.h,c=Math.min(c,e);a.global.scaleImage(b,c,d,g)};f.getClassInnerSize=function(b,d,g){var e=document.createElement("div");e.className=b;a.utils.DOM.appendToBody(e);b=a.global.getBordersAndPaddings(e);d-=b.w;g-=b.h;e.parentNode.removeChild(e);return{w:d,h:g}};f.SpriteRenderer=
c;c.prototype={getSpriteData:function(a,d){if(this.spriteData[a]&&!d)return this.spriteData[a];var g=0,e=a.split("-");return{isSingleImage:!0,src:this.srcTemplate.replace(/\{(.*?)\}/g,function(a,b){var d=e[g++];return d?d:""})}},getStyleString:function(a,d){var g=this.getSpriteData(a),e=[];g&&(e.push("background-image:url('"+this.src+"');"),e.push("background-position:-"+g.x+"px 0px;"),1<this.pixelRatio&&e.push("background-size:"+this.spriteLength*this.spriteW+"px "+this.spriteH+"px;"),d&&e.push("margin: 0 auto;"),
e.push("width: "+this.spriteW+"px;"),e.push("height: "+this.spriteH+"px;line-height: "+this.spriteH+"px;"),e.push("background-repeat:no-repeat;"),e.push("position:static;"));return e.join("")},getHTML:function(a,d,g,e){g=this.getSpriteData(a,g);var c=[];g&&(g.isSingleImage?c.push('<img src="'+g.src+'" style="width:'+this.spriteW+"px;height:"+this.spriteH+'px;position:static;margin:0" alt="" />'):(c.push('<div style="'),c.push(this.getStyleString(a,d)),c.push('"'),e&&c.push(' id="'+e+'"'),c.push("></div>")));
return c.join("")}};f.getSpriteRenderers=function(b){var d=[],g=0,e={},c;for(c in b){var f=b[c];f.pixelRatio||(f.pixelRatio=1);d.push(f.path+"|"+f.w*f.pixelRatio+","+f.h*f.pixelRatio)}d=a._.getCdnResource("/gs/GetSprite.ashx?path="+encodeURIComponent(d.join("^").replace(/\[\]/,"")));for(c in b){var f=b[c],h={spriteData:{}},k=[],l=0;h.srcTemplate=a._.getCdnResource("/gs/i"+f.path.replace(/\[(.*?)\]/g,function(a,b){k.push(b.split(","));return"{"+l++ +"}"}));var m=a.global.getCombination(k);0==m.length&&
m.push([""]);for(var p=0;p<m.length;p++){var q=m[p].join("-");""==q&&(q="default");h.spriteData[q]={groupId:c,id:q,x:g,w:f.w,h:f.h};g+=f.w}e[c]=new a.global.SpriteRenderer(d,h.srcTemplate,h.spriteData,f.w,f.h,f.pixelRatio,m.length)}return e}})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){(function(b){(function(b){b.fixCss=function(b){if(a.localInfo.isIE7||a.localInfo.isIE&&a.localInfo.quirksMode)b=b.replace(/display:inline-block/g,"display:inline-block;zoom:1;*display:inline");return b.replace(/gradient\((.*?),(.*?)\)/g,'filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="$1", endColorstr="$2");background: linear-gradient(top,  $1,  $2);background: -ms-linear-gradient(top left, $1, $2);background: -webkit-gradient(linear, left top, left bottom, from($1), to($2));background: -moz-linear-gradient(top,  $1,  $2)')};
var g={};b.addCss=function(b,d,c,f){void 0===c&&(c=!0);b&&""!=b&&(b instanceof Array&&(b=b.join(" ")),d&&(b=b.replace(/([^\s}]*\.gig)/g,d+" $1")),f||(f=a.utils.object.getMurmurHash(b).toString()),!g[f]||c)&&(g[f]=!0,d=document.createElement("style"),d.type="text/css",b=document.createTextNode(b),d.styleSheet?d.styleSheet.cssText=null!=b.value?b.value:b.nodeValue:d.appendChild(b),b=document.getElementsByTagName("head"),c=document.body,(0<b.length?b[0]:c).appendChild(d))}})(b=b.css||(b.css={}));a.utils.functions.createAlias("gigya.global.addCSS",
b.addCss);a.utils.functions.createAlias("gigya.pluginUtils.css.fixCss",b.fixCss)})(c.utils||(c.utils={}))})(f.plugins||(f.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){a.getStyleString=function(a,d){var c;c="line-height: normal;";d&&(c+="cursor:pointer;");a.underline&&(c+="text-decoration:underline;");a.font&&(c+="font-family:"+a.font+";");a.size&&(c+="font-size:"+a.size+"px;");a.color&&(c+="color:"+a.color+";");a.bold&&(c+="font-weight:bold;");a["frame-thickness"]&&(c+="border-style:solid; border-width:"+a["frame-thickness"]+"px;");a["frame-color"]&&(c+="border-color:"+a["frame-color"]+";");a["background-color"]&&(c+="background-color:"+
a["background-color"]+";");return c}})(a.socialize||(a.socialize={}))})(a.services||(a.services={}))})(gigya||(gigya={}));
(function(a){(function(f){f.preloadImages=function(a,b){for(var d=[],g=0,e=function(){g++;g==a.length&&b()},f=0;f<a.length;f++)if(null==a[f])e();else{var n=new Image;n.onload=e;n.onerror=e;n.src=a[f];d.push(n)}};f.applyEllipsis=function(a,b){for(var d="",g=[],e=/\<(\/)?([^ \/>]+)[ ]?[^>]*(\/)?\>/i,f=0,n=0;n<a.length&&(f<b||0==b);){var h=a.substr(n,1);if("<"==h){h=a.indexOf(">",n);h=a.substring(n,h+1);e.lastIndex=0;var h=e.exec(h),k=h[2].toLowerCase();"/"==h[1]?0<g.length&&g[g.length-1].tagname==k&&
g.pop():"/"!=h[3]&&(k="</"+h[2]+">",0<g.length&&(k+=g[g.length-1].cl),g.push({tagname:h[2],cl:k}));d+=h[0];n+=h[0].length-1}else"&"==h?(h=a.indexOf(";",n),8<h-n?d+="&":(d+=a.substring(n,h+1),n=h)):d+=h,f++;n++}return f<b?a:d+"&#133;"+(0<g.length?g[g.length-1].cl:"")};f.getPhotoURL=function(c,b){return!b||c&&""!=c?c&&""!=c&&"https"==a.thisScript.protocol&&0==c.indexOf("http:")?a._.getCdnResource("/proxy/photos.ashx?u="+a.utils.URL.URLEncode(c)):c:a.global.getPhotoURL(b)};f.wbr=function(a,b){a=a.replace(/\n/g,
"\n ");for(var d=a.split(" "),g=0;g<d.length;g++)if(d[g].length>b){for(var e=d[g].split(""),f=!1,n,h=-1,k=0;k<e.length;k+=1)f||h++,h==b&&(e.splice(k,0,"&#173;"),h=-1),"&"==e[k]?(f=!0,n=";"):"<"==e[k]&&(f=!0,n=">"),f&&e[k]==n&&(f=!1);d[g]=e.join("")}return d.join(" ").replace(/\n /g,"\n")};f.getPos=function(a){var b=navigator.userAgent.toLowerCase();b.indexOf("opera");b.indexOf("msie");if(null===a.parentNode||"none"==a.style.display)return!1;var d=null,g=[];if(a.getBoundingClientRect)return b=a.getBoundingClientRect(),
a=Math.max(document.documentElement.scrollTop,document.body.scrollTop),d=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),{x:b.left+d,y:b.top+a};if(document.getBoxObjectFor)b=document.getBoxObjectFor(a),d=a.style.borderLeftWidth?parseInt(a.style.borderLeftWidth):0,g=a.style.borderTopWidth?parseInt(a.style.borderTopWidth):0,g=[b.x-d,b.y-g];else{g=[a.offsetLeft,a.offsetTop];d=a.offsetParent;if(d!=a)for(;d;)g[0]+=d.offsetLeft,g[1]+=d.offsetTop,d=d.offsetParent;if(-1!=b.indexOf("opera")||
-1!=b.indexOf("safari")&&"absolute"==a.style.position)g[0]-=document.body.offsetLeft,g[1]-=document.body.offsetTop}for(d=a.parentNode?a.parentNode:null;d&&"BODY"!=d.tagName&&"HTML"!=d.tagName;)g[0]-=d.scrollLeft,g[1]-=d.scrollTop,d=d.parentNode?d.parentNode:null;return{x:g[0],y:g[1]}};f._GetElementPos=function(c){c=a.global.getPos(c);return{left:c.x,top:c.y}}})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){(function(a){(function(a){function b(a,d,c){var g="#";if(-1!=a.indexOf("#"))if(-1==a.indexOf(d))g="&";else return g=d+"="+this.getHashParamValue(a,d),a.replace(g,d+"="+c),a;return a+g+d+"="+c}function c(a,b){if(-1==a.indexOf("#"))return a;var d=a.split("#")[1],g=f(a,b);g&&(d=d.replace(b+"="+g,""));d=d.replace("&"+b,"");d=d.replace("#"+b,"#");0<d.length&&(d[0]+="&")&&(d=d.substring(1,d.length));g=a.split("#")[0];return 0==d.length?g:g+"#"+d}function f(a,b){b+=
"=";if(-1==a.indexOf("#")||-1==a.indexOf(b,a.indexOf("#")))return null;var d=a.indexOf(b,a.indexOf("#")),c=a.indexOf("&",d);-1==c&&(c=a.length);return a.substring(d+b.length,c)}a.addOrReplaceHashFragment=function(a,d,f){a=c(a,d);return a=b(a,d,f)};a.addHashFragment=b;a.removeHashFragment=c;a.getHashParamValue=f})(a.URL||(a.URL={}))})(a.utils||(a.utils={}))})(a.plugins||(a.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){c._fixGrayPosition=function(){var a=document.getElementById("darkenScreenObject");if(a){var d=document.documentElement,c=document.body,e=d.scrollTop;0==e&&(e=c.scrollTop);d=d.scrollLeft;0==d&&(d=c.scrollLeft);a.style.top=e.toString();a.style.left=d.toString()}};c._fixGraySize=function(){var b=document.getElementById("darkenScreenObject");if(b){var d=document.documentElement,c=document.body,e=d.clientHeight;0==e&&(e=c.clientHeight);d=d.clientWidth;0==d&&(d=c.clientWidth);
a.localInfo.isIE6&&(d-=1);b.style.width=""+d+"px";b.style.height=""+e+"px"}};c._createJSPopup=function(b,d,c,e){var f=a.services.socialize._parseRID(b).req,n=f.p,h=f.c;a.utils.validation.isExplicitFalse(n.showCaption)&&(e=!0);var k=a.services.socialize,l=document.getElementById(n.containerID);f.container=l;f=d.Resolve("+/config/body/background");d=d.Resolve("+/config/body/captions");var m='<table style="'+k.getStyleString(f)+';empty-cells:show;" cellpadding="0" cellspacing="0" >';e?m+="<tr><td>":
(m+='<tr style="'+k.getStyleString(d)+'"><td><table style="width:100%" width="100%" cellpadding="0" cellspacing="0"><tr id="'+n.containerID+'_caption"><td style="vertical-align:middle"><div style="'+k.getStyleString(d)+';padding:7px">'+c+'</div></td><td style="vertical-align:middle">',m+='<div align="right" style="padding-right: 7px; cursor: pointer;'+k.getStyleString(d)+'"><img onclick="gigya.services.socialize._closeComponent(\''+b+'\', true);"  src="'+a._.getCdnResource("/gs/i/HTMLLogin/closeIcon.gif")+
'" alt="" /></div></td></tr></table></td></tr><tr><td colspan="2">');m+='<div id="'+n.containerID+'_container"></div></td></tr></table>';l.innerHTML=m;b={};c={};for(var p in n)b[p]=n[p];for(p in h)c[p]=h[p];n=document.getElementById(b.containerID+"_caption");b.height-=2*f["frame-thickness"];e||(b.height-=n.offsetHeight);b.width-=2*f["frame-thickness"];a.utils.DOM._popupContainers[b.containerID]=l;b.containerID+="_container";return{c:c,p:b}};c._createJSPopup2=function(b,d,c,e,f,n){var h=a.services.socialize._parseRID(b).req,
k=h.p,l=h.c,m=a.services.socialize,p=document.getElementById(k.containerID);h.container=p;d=d.Resolve("+/config/body/captions");c||(c=10);e||(e=a._.getCdnResource("/gs/i/Dialog/DialogBg_"));var h="width:"+c+"px;height:"+c+"px",q;n&&(q="1px solid #555555");n='<table style="font-size:1px;padding:0px;margin:0px;vertical-align:middle;font-size:1px;line-height:1px;empty-cells:show;" cellpadding="0" cellspacing="0" >'+('<tr><td height="'+c+'" style="font-size:1px"><div style="height:'+c+'px"><img src="'+
e+'TopLeft.png" style="'+h+'" alt="" /></div></td><td height="'+c+'" style="background-image:url(\''+e+'filler.png\');bakground-repeat:repeat"></td><td height="'+c+'" style="font-size:1px;"><div style="height:'+c+'px"><img style="'+h+'" src="'+e+'TopRight.png" alt="" /></div></td></tr>');f&&(n+="<tr><td style=\"background-image:url('"+e+'filler.png\');background-repeat:repeat"></td><td><table width="100%" cellspacing="0" cellpadding="0" style="border-top:'+q+";border-left:"+q+";border-right:"+q+';width:100%;background-color:#FFFFFF"><tr><td style="padding-top:10px;padding-left:10px;'+
m.getStyleString(d)+'">'+f+'</td><td align="right" valign="top" style="'+m.getStyleString(d)+'"><div style="padding-right:5px;padding-top:5px;text-align:right;"><img style="cursor:pointer" onclick="gigya.services.socialize._closeComponent(\''+b+'\', true);" src="'+e+'close.png" alt="" /></div></td></tr></table></td><td style="background-image:url(\''+e+"filler.png');background-repeat:repeat\"></td></tr>");n+="<tr><td style=\"background-image:url('"+e+'filler.png\');background-repeat:repeat"></td><td><div style="border-bottom:'+
q+";border-left:"+q+";border-right:"+q+';background-color:#FFFFFF" id="'+k.containerID+'_container"></div></td><td style="background-image:url(\''+e+"filler.png');background-repeat:repeat\"></td></tr>";p.innerHTML=n+('<tr><td height="'+c+'" style="font-size:1px;"><div style="height:'+c+'px"><img style="'+h+'" src="'+e+'BottomLeft.png" alt="" /></div></td><td height="'+c+'" style="background-image:url(\''+e+'filler.png\');bakground-repeat:repeat"></td><td height="'+c+'" style="font-size:1px;"><div style="height:'+
c+'px"><img style="'+h+'" src="'+e+'BottomRight.png" alt="" /></div></td></tr></table>');b={};e={};for(var s in k)b[s]=k[s];for(s in l)e[s]=l[s];a.utils.DOM._popupContainers[b.containerID]=p;b.containerID+="_container";b.height-=2*c;f&&(""==f.replace(/ /g,"")?b.height-=10:b.height-=a.pluginUtils.layout.measureText(f,d).h+10);b.width-=2*c;return{c:e,p:b}};c._parseRID=function(b){var d=b.split("@"),c=document.getElementById(d[2]+"_"+d[1]),e;null==(e=a.utils.DOM._pseudoContainers[d[2]])&&(e=document.getElementById(d[2]));
var f=null;null!=e&&(f=e.Reqs);var n=null;null!=f&&(n=f[parseInt(d[0])]);return{rid:b,container:e,Reqs:f,req:n,swf:c}}})(f.socialize||(f.socialize={}))})(a.services||(a.services={}))})(gigya||(gigya={}));
gigya.socialize._closeComponent=function(a,f){var c=gigya.socialize._parseRID(a).req;gigya.socialize.GrayOut&&gigya.socialize.GrayOut(!1);var b=document.getElementById("gigya_ifr_"+c.container.id);null!=b&&(b.style.display="none");f&&gigya.events.dispatchForWidget({eventName:"close"},c.p);c.container.style.display="none"};
gigya.utils.object.add(gigya.pluginUtils.lang,{getDateString:function(a,f){if(a&&a.dateFormat){var c=a.dateFormat,b=f.getDate(),d=f.getMonth()+1,g="January February March April May June July August September October November December".split(" ")[f.getMonth()],e=f.getFullYear();return c.replace(/%dd/g,("0"+b).slice(-2)).replace(/%d/g,b).replace(/%MMMM/g,g).replace(/%MMM/g,g.substr(0,3)).replace(/%MM/g,("0"+d).slice(-2)).replace(/%M/g,d).replace(/%yyyy/g,e).replace(/%yy/g,e.toString().slice(-2))}}});
(function(a){(function(f){(function(c){c.CreateXMLFromString=function(b){var d=null;if(window.ActiveXObject&&(a.localInfo.isIE8||a.localInfo.isIE9))try{d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b)}catch(c){a.log.addLog("Failed to create Microsoft.XMLDOM ActiveX parser",c)}else d=(new DOMParser).parseFromString(b,"text/xml");return d};c.CopyProperties=function(a,d,c,e){"undefined"==typeof c&&(c="");"undefined"==typeof d&&(d={});if(null!=e)for(var f in a)d[c+f]=e(f,a[f]);else for(var n in a)d[c+
n]=a[n];return d};c.CollectAttributesFromXMLPathToObject=function(a,d,c,e,f){for(var n=0;n<d.length&&"undefined"!=typeof a;n++)a=a.childNodes[d[n]],null!=a&&e&&this.CopyProperties(a.attributes,c,"",f);"undefined"!=typeof a&&this.CopyProperties(a.attributes,c,"",f)};c.mergeNodes=function(a,d){"undefined"==typeof d.attributes&&(d.attributes={});"undefined"==typeof d.childNodes&&(d.childNodes={});var c=d.attributes,e=a.attributes;if(e)for(var f=0;f<e.length;f++)c[e[f].nodeName]=null!=e[f].value?e[f].value:
e[f].nodeValue;for(e=0;e<a.childNodes.length;e++)f=a.childNodes[e],c=d.childNodes[f.nodeName],"undefined"==typeof c&&(c=d.childNodes[f.nodeName]={attributes:{},childNodes:{}}),this.mergeNodes(f,c);return d}})(f.XMLUtils||(f.XMLUtils={}))})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(f){function c(b){this.configurations=[];this.mergedConfig={};this.isMerged=!0;this._processor=b;this.merge=function(){if(!this.isMerged){this.mergedConfig={attributes:{},childNodes:{}};for(var b=0;b<this.configurations.length;b++)a.global.XMLUtils.mergeNodes(this.configurations[b],this.mergedConfig);this.isMerged=!0}};this.Resolve=function(b,c){this.merge&&this.merge();var e={};"object"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1]);for(var f=0;f<arguments.length;f++){var n=
arguments[f],h=n.constructor;if(h==String)for(n=n.split("|"),h=n.length-1;0<=h;h--){var k=this.trimCharsAtSuffix(this.trimCharsAtPrefix(n[h]," \n\r\t")," \n\r\t"),l="+"==k.charAt(0),m=k.split("/").slice(1);l&&k.substring(1);a.global.XMLUtils.CollectAttributesFromXMLPathToObject(this.mergedConfig,m,e,l,this._processor)}else if(h==Array)for(h=0;h<n.length;h++)this.Resolve(n[h],e)}return e};this.trimCharsAtPrefix=function(a,b){var c=0;if("undefined"==typeof a||0==a.length)return"";for(var f=a.length;c<=
f&&-1<b.indexOf(a.charAt(c));)c++;return a.substring(c,f)};this.trimCharsAtSuffix=function(a,b){if("undefined"==typeof a||0==a.length)return"";for(var c=a.length-1;0<=c&&-1<b.indexOf(a.charAt(c));)c--;return a.substring(0,c+1)};this.addConfig=function(b){"string"==typeof b&&(this.configurations.push(a.global.XMLUtils.CreateXMLFromString(b)),this.isMerged=!1)};this.getTextFromKey=function(a){return this.Resolve("/config/lang/"+a).text}}f.resolver=c;(function(a){a.defaultProccessor=function(a,b){var c=
a.toLowerCase(),f=c.indexOf("-");-1!=f&&(c=c.substring(f+1,c.length));switch(c){case "bold":case "italic":case "underline":return"true"==b.toString().toLowerCase();case "width":case "height":return b.replace("%","");case "size":return parseInt(b);default:return b}}})(c=f.resolver||(f.resolver={}))})(a.global||(a.global={}))})(gigya||(gigya={}));
(function(a){(function(f){(function(c){(function(b){b.getTemplates=function(b){var c=[],e;for(e in b)c.push(a._.plugins.resources.html[b[e]]);return a.utils.object.merge(c)};b.getCss=function(b){var c=[],e;for(e in b)c.push(a._.plugins.resources.css[b[e]]);return a.utils.object.merge(c)}})(c.resources||(c.resources={}))})(f.plugins||(f.plugins={}))})(a._||(a._={}))})(gigya||(gigya={}));
// Injected language object
if (!gigya.i18n) gigya.i18n = { };
if (!gigya.i18n['gigya.services.socialize.plugins.reactions.js']) gigya.i18n['gigya.services.socialize.plugins.reactions.js'] = { };
gigya.i18n['gigya.services.socialize.plugins.reactions.js']['en'] = {"print": "Print", "comments": "Comments", "lineit": "LINE it!", "share": "Share", "email": "Email"};
// End injected language object

gigya._.UI.registerPlugin(function() {
gigya = window.gigya;
!function(){"undefined"==typeof gigya.services.socialize.plugins&&(gigya.services.socialize.plugins={});var t=gigya.services.socialize.plugins,e="reactions";if("undefined"==typeof t[e]){var n={instances_size:0,bookmarks:"Facebook,Twitter,Google,LinkedIn,Digg,Messenger,VKontakte,Spiceworks,Viadeo,nk.pl,Xing,Tuenti,Delicious,Google Bookmarks,Baidu,FriendFeed,Tumblr,Pinterest,StumbleUpon,Skyrock,QQ,Sina,Kaixin,Renren,VZNet,Share,Email,facebook-like,facebook-send,facebook-subscribe,facebook-share,google-plusone,twitter-tweet,Comments,Reddit,Mixi,Naver,pinterest-pinit,twitter-hashtag,twitter-mention,Print,Foursquare,Foursquare-save,googlePlus-share,moshare-sms,getglue,Kindle,Hatena-bookmark,lineit,Wanelo,WhatsApp",createBookmarksObject:function(t){t.bookmarkSitesArray=[],t.bookmarkSitesHash={};var e=this.bookmarks.split(","),n=this.bookmarks.replace(",Google,",",googleplus,").replace(/ /g,"").replace(/!/g,"").replace(/\./g,"").replace(/\+/g,"plus").toLowerCase().split(",");e.push("Google"),n.push("googleplus-interactive");for(var i=0;i<e.length;i++){var o=t.TEXT(n[i]);o||(o=e[i]);var a={name:n[i],displayName:o,toString:function(){return this.name}};t.bookmarkSitesArray.push(a),t.bookmarkSitesHash[name]=a}},reactionsPlugin:function(t,e,n){this._c=t,this._p=e,this._i=n,this._elid=e.containerID,this._barID=this._p.barID;var i=e.deviceType?e.deviceType.toLowerCase():"desktop";this.isMobileUI="mobile"==i||"auto"==i&&gigya.localInfo.isMobile},createInstance:function(i,o,a){var s=document.getElementById(o.containerID);if(null!=s){s.innerHTML="";var r=new n.reactionsPlugin(i,o,a);r.lang=o.lang,n.createBookmarksObject(r),t[e].instances[o.containerID]=r,n.instances_size++,r.draw()}},createDefaultTemplates:function(){var t={_map:{},get:function(t){return this._map[t]},set:function(t,e){this._map[t]=e instanceof Array?e.join(""):e}};return t.set("button",['<div class="gig-button gig-$buttonType-button gig-button-up gig-button-count-${showCounts}" id="$id" title="$tooltip" alt="$tooltip"  onclick="$onClick" onmouseover="$onMouseOver" onmouseout="$onMouseOut"><table cellpadding="0" cellspacing="0"><tr>','<td id="$id-left">$elButtonLeftImg</td>',"$iconTD","$textTD",'<td id="$id-right">$elButtonRightImg</td>',"</tr></table></div>"]),t.set("newButton",['<a class="gig-bar-button gig-$buttonType-bar-button">','<div class="gig-bar-button-icon gig-$buttonType-bar-button-icon">$elIconImg</div>','<span class="gig-bar-button-text gig-$buttonType-bar-button-text">$text</span>',"</a>"]),t.set("textTD",['<td id="$id-text" style="vertical-align:middle;background-repeat:repeat-x;$buttonCenterBGStyle">','<div class="gig-button-text gig-$buttonType-button-text">$text</div>',"</td>"]),t.set("iconTD",['<td id="$id-icon" style="zoom:1;vertical-align:middle;text-align:left;background-repeat:repeat-x;$buttonCenterBGStyle">$elIconImg</td>']),t.set("countContainer",['<div class="gig-counter gig-$buttonType-counter gig-counter-${rid} gig-counter-${showCounts}" id="$countId" style="display:none; ${countBgStyle};text-align:center;vertical-align:middle;">',"$count","</div>"]),t.set("count",['<span class="$counterTextClass" id="$countId-value">$countValue</span>']),t.set("buttonCell",['<td style="vertical-align:$cellValign; white-space:nowrap;zoom:1;"><div class="$className">$buttonContainer</div></td>']),t.set("buttonWithoutCell",['<div class="$className">$buttonContainer</div>']),t.set("buttonRow",['<tr><td style="position:relative;zoom:1;"><div class="$className">$buttonContainer</div></td></tr>']),t.set("buttonWithoutCount",["$button"]),t.set("buttonWithCountTop",['<table cellspacing="0" cellpadding="0">','<tr><td style="text-align:center" align="center">$countContainer</td></tr>','<tr><td class="gig-button-td"  style="text-align:center">$button</td></tr>',"</table>"]),t.set("buttonWithCountRight",['<table cellspacing="0" cellpadding="0"><tr>','<td class="gig-button-td">$button</td>',"<td>$countContainer</td>","</tr></table>"]),t.set("image",['<img id="$imgId" src="$src" alt="" />']),t.set("imageWithSize",['<img id="$imgId" src="$src" width="$size" height="$size" alt="" />']),t.set("facebookLikeButton",['<div id="$containerID"><div class="fb-like" style="zoom:1" data-width="$width" data-send="false" data-show-faces="false" data-ref="$ref" data-href="$href" data-layout="$layout" data-action="$action" data-gig-btnid="$id" data-colorscheme="$colorscheme" data-font="$font"></div></div>']),t.set("facebookSendButton",['<div id="$containerID"><div class="fb-send" data-ref="$ref" data-href="$href" data-colorscheme="$colorscheme" data-font="$font"></div></div>']),t.set("facebookShareButton",['<div id="$containerID"><div class="fb-share-button" data-ref="$ref" data-href="$href" data-type="$layout" data-width="$width"></div></div>']),t.set("facebookSubscribeButton",['<div id="$containerID"><div class="fb-subscribe" data-height="80" data-width="$width" data-show-faces="false" data-href="$href" data-layout="$layout" data-gig-btnid="$id" data-colorscheme="$colorscheme" data-font="$font"></div></div>']),t.set("googlePlusOneButton",['<div id="$containerID" style="line-height:1px;"><div class="g-plusone" data-href="$href" data-size="$size" data-callback="$callback" data-annotation="$annotation" data-width="$width"></div></div>']),t.set("googlePlusShareButton",['<div id="$containerID" style="line-height:1px;"><div class="g-plus" data-action="share" data-href="$href" data-onendinteraction="$callback" data-annotation="$annotation" data-height="$height" data-width="$width"></div></div>']),t.set("twitterTweetButton",['<div id="$containerID" style="min-width:${width}px"><a href="$twitterHref" class="$twitterClass" data-url="$href" data-via="$via" data-size="$size" ','data-text="$defaultText" data-count="$count" data-counturl="$countURL" data-lang="$lang" data-related="$related" ></a></div>']),t.set("pinterestPinitButton",['<div id="$containerID"><a href="http://pinterest.com/pin/create/button/?url=${href}&media=${thumbnailURL}&description=${description}" class="pin-it-buttona" count-layout="${count}" ${shape} ><img border="0" src="${imgName}" title="Pin It" /></a></div>']),t.set("moshareSmsButton",['<a href="http://www.mogreet.com/moshare/it/" class="${moshareClass}" data-title="${title}" data-message="${description}" data-thumbnail="${thumbnailURL}"></a>']),t.set("getglueButton",['<a class="glue-checkin-widget" href="$href" data-type="$type" data-message="$message" data-title="$title" data-callback="$callbackId"></a>']),t.set("hatenaBookmarkButton",['<div id="$containerID">','<a href="$protocol//b.hatena.ne.jp/entry/$href"',' class="hatena-bookmark-button"',' data-hatena-bookmark-title="$title"',' data-hatena-bookmark-layout="$layout"',' data-hatena-bookmark-lang="$lang" title="">','<img src="$protocol//b.st-hatena.com/images/entry-button/button-only@2x.png" alt="" width="20" height="20" style="border: none;" />',"</a>","</div>"]),t.set("lineitShareButton",['<div id="$containerID">','     <a href="http://line.naver.jp/R/msg/text/?$title%0a$href">','         <img src="$imgUrl" width="$w" height="$h" alt="$alt" />',"     </a>","</div>"]),t},defaultCss:[".gig-bar-container *, div.gig-reactions-container, .gig-reactions-container span, .gig-reactions-container a:hover, .gig-reactions-container a:visited, .gig-reactions-container a:link, .gig-reactions-container a:active{","font-size:12px;border:none; padding:0px;margin:0px;color:inherit;text-decoration:none;width:auto;float:none;-moz-border-radius:0;border-radius:0;","font-family:arial;font-size:10px;color:#4D4D4D;background:none}","table.gig-reactions-container{border-collapse:separate;}","div.gig-button-container {padding:0 5px 0 0; display:inline-block;vertical-align:top;margin-bottom:5px;} ","div.gig-button-container-vertical {padding:0 0 5px 0}","div.gig-button {cursor:pointer;}","div.gig-button-disabled {cursor:default;}","div.gig-counter{margin:0 auto;position:relative;zoom:1;}","span.gig-counter-text{display:block;position:relative;font-weight:bold;zoom:1}","td.gig-button-td{vertical-align:middle}","*.gig-bar-container img {display:block}","div.gig-button-container-twitter-tweet iframe,div.gig-button-container-twitter-hashtag iframe,div.gig-button-container-twitter-mention iframe {display:block}","div.gig-button-container-pinterest-pinit {height:20px;}","div.gig-button-container-pinterest-pinit a {cursor: pointer;}","div.gig-button-container-pinterest-pinit.gig-button-container-count-right {width:80px;}","div.gig-button-container-pinterest-pinit.gig-button-container-count-top.gig-button-container-vertical {position:relative;height:50px;}","div.gig-button-container-pinterest-pinit.gig-button-container-count-top.gig-button-container-vertical > div {position:absolute;bottom:2px;}","div.gig-counter-top {margin-bottom: 1px;}","div.gig-counter-right {margin-left: 1px;}","div.gig-button-count-top table {margin:0 auto;text-align:center;}","div.gig-bar-button-icon {position:absolute;padding-top:1px;}","span.gig-bar-button-text {padding-left:19px;white-space:nowrap;zoom:1;}","a.gig-bar-button,a:hover.gig-bar-button,a:link.gig-bar-button,a:active.gig-bar-button,a:visited.gig-bar-button {","white-space:nowrap;line-height: 18px;position:relative;border-radius: 3px; color:#4d4d4d;cursor:pointer;","font-size: 11px;padding: 0 5px; border: 1px solid #C5C7C7;display:inline-block;zoom:1;vertical-align:middle; text-align:center;","}","a.gig-bar-button,a:link.gig-bar-button,a:active.gig-bar-button,a:visited.gig-bar-button {",'background: #FFFFFF; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#FFFFFF", endColorstr="#EAEBEB");',"background: -webkit-gradient(linear, left top, left bottom, from(#FFFFFF), to(#EAEBEB));","background: -moz-linear-gradient(top,  #FFFFFF,  #EAEBEB)}","a:hover.gig-bar-button, a.gig-bar-button-down,a:link.gig-bar-button-down,a:active.gig-bar-button-down,a:visited.gig-bar-button-down {",'background: #EAEBEB; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#EAEBEB", endColorstr="#FFFFFF");',"background: -webkit-gradient(linear, left top, left bottom, from(#EAEBEB), to(#FFFFFF));","background: -moz-linear-gradient(top,  #EAEBEB,  #FFFFFF)}"],nonMobileCss:["div.gig-button-text {white-space:nowrap;font-size:11px;color:#333333; padding: 0 3px 0 3px;}","span.gig-counter-text-right{left:1px;font-size:11px;line-height:20px;}","span.gig-counter-text-top{top:-2px;font-size:14px}","div.gig-button-container-facebook-like-count-right {height:20px}","div.gig-button-container-facebook-like-count-top {height:62px}","div.gig-button-container-facebook-send {height:20px}"],mobileCss:[".gig-bar-container * {font-size: 16px;-webkit-text-size-adjust:none; -webkit-touch-callout: none; -webkit-user-select: none;font-family:sans-serif}",".gig-bar-container {overflow:auto;}","div.gig-button-text {white-space:nowrap;font-size:15px;color:#333333; padding: 0 3px 0 3px;}","span.gig-counter-text-right{left:1px;font-size:14px;line-height:35px;}","span.gig-counter-text-top{top:-2px;font-size:18px}"]};n.providerSupportsCounter=function(t){switch(t){case"digg":case"delicious":case"share":case"twitter":case"stumbleupon":case"facebook":case"comments":case"facebook-like":case"facebook-send":case"facebook-subscribe":case"facebook-share":case"google-plusone":case"googleplus-share":case"moshare-sms":case"twitter-tweet":case"twitter-hashtag":case"twitter-mention":case"pinterest":case"pinterest-pinit":case"linkedin":case"getglue":case"hatena-bookmark":case"vkontakte":return!0}return!1};var i=function(){return function(t){this.button=t,this.item=this.getItem()}};n.ButtonItem={generic:i(),"facebook-subscribe":i(),"facebook-send":i(),"facebook-share":i(),"facebook-like":i(),"google-plusone":i(),"googleplus-share":i(),"googleplus-interactive":i(),"moshare-sms":i(),getglue:i(),"twitter-tweet":i(),"twitter-hashtag":i(),"twitter-mention":i(),comments:i(),foursquare:i(),"foursquare-save":i(),"pinterest-pinit":i(),kindle:i(),"hatena-bookmark":i(),lineit:i()},n.ButtonItem.generic.prototype.getItem=function(){var t=this.button,e=t.plugin.spriteRenderer.button,n=t.plugin.spriteRenderer.icons,i=gigya.utils.object.clone(t.oButton);i.onClick=gigya.utils.DOM.attributeEncode(t.getRefString()+".onClick()");var o=gigya.utils.object.clone(t.plugin.buttonImages);t.noButtonBorders&&(o={countBGImg:o.countBGImg}),i.buttonLeftImg=o["buttonLeftImg"+t.state],i.buttonCenterBGImg=o["buttonCenterBGImg"+t.state],i.buttonRightImg=o["buttonRightImg"+t.state],o.countBGImg?(i.countBGImg=o.countBGImg,i.countBgStyle="background-image:url('$countBGImg');background-repeat:no-repeat;"):i.countBgStyle=t.plugin.spriteRenderer.count.getStyleString("default"),i.count="",i.iconImg=i.iconImgUp?i.iconImgUp:i.defaultIconImgUp;var a=t.id.split("-")[0];i.elButtonLeftImg=t.noButtonBorders?"":t.getButtonImageHTML("left-up","buttonLeftImgUp","left",e,o),i.elButtonRightImg=t.noButtonBorders?"":t.getButtonImageHTML("right-up","buttonRightImgUp","right",e,o),i.elIconImg=t.getButtonImageHTML(a,"iconImgUp","icon",n,i,t.iconSize),i.iconTD=t.plugin.templates.get("iconTD"),i.buttonCenterBGImg||(i.buttonCenterBGImg=""),i.countCenterBGImg||(i.countCenterBGImg=""),i.buttonCenterBGStyle=""==i.buttonCenterBGImg?"":"background-image:url('"+i.buttonCenterBGImg+"')",t.labelText&&""!=t.labelText?(i.text=t.labelText,i.textTD=t.plugin.templates.get("textTD")):(i.text="",i.textTD=""),i.tooltip||(i.tooltip=""),i.buttonType=t.plugin._i.buttonsType,i.onMouseOver=t.getRefString()+".changeState('over')",i.onMouseOut=t.getRefString()+".changeState('up')",i.button=t.plugin.templates.get("button"),i.countContainer=t.plugin.templates.get("countContainer"),i.showCounts=t.showCounts,i.count=t.plugin.templates.get("count"),i.countId="$id-count",i.countValue="",i.cellValign="bottom";var s=t.plugin._p.showCounts;switch(s&&(s=s.toLowerCase()),s||(s="right"),gigya.utils.validation.isExplicitTrue((t.plugin._p.iconsOnly||t.noButtonBorders)&&"right"==s)&&(i.cellValign="middle"),t.showCounts){case"right":i.counterTextClass="gig-counter-text gig-$buttonType-counter-text gig-counter-text-right gig-$buttonType-counter-text-right",i.buttonContainer=t.plugin.templates.get("buttonWithCountRight");break;case"top":i.counterTextClass="gig-counter-text gig-$buttonType-counter-text gig-counter-text-top gig-$buttonType-counter-text-top",i.buttonContainer=t.plugin.templates.get("buttonWithCountTop");break;case"none":default:i.buttonContainer=t.plugin.templates.get("buttonWithoutCount")}return t.plugin.usingCountTemplate&&(i.counterTextClass=""),i},n.ButtonItem["facebook-like"].prototype={getItem:function(){var t=this.button,e="none"==t.showCounts?"standard":"top"==t.showCounts?"box_count":"button_count",n=gigya._.apiAdapter.getTokenParam(t.plugin._c.APIKey,"UUID"),i={uu:n,s:t.plugin._p.source,p:t.id},o={id:t.containerID+(new Date).getTime(),buttonType:"share",className:this.className+" gig-facebookLikeButton-"+e,buttonContainer:t.plugin.templates.get("facebookLikeButton"),layout:t.oButton.layout||e,action:t.oButton.action?t.oButton.action:"like",colorscheme:t.oButton.colorscheme?t.oButton.colorscheme:"",font:t.oButton.font?t.oButton.font:"",containerID:t.containerID,ref:gigya.utils.keyValue.serialize(i,":"),width:t.oButton.width?t.oButton.width:55,href:t.getShareURL()};return"facebook-send"==t.id?o.buttonContainer=t.plugin.templates.get("facebookSendButton"):"facebook-subscribe"==t.id?o.buttonContainer=t.plugin.templates.get("facebookSubscribeButton"):"facebook-share"==t.id&&(o.layout="none"==t.showCounts?"button":"top"==t.showCounts?"box_count":"button_count",o.buttonContainer=t.plugin.templates.get("facebookShareButton")),this.id=o.id,o},render:function(){var t=this.button,e=this.id;gigya.external.facebook.initializedTime||gigya.external.facebook.load(!0);var i=gigya.thisScript.lang.full.replace("-","_");gigya.utils.script.load(document.location.protocol+"//connect.facebook.net/"+i+"/sdk.js",null,function(){if("undefined"!=typeof FB){if(FB.XFBML&&FB.XFBML.parse){var i=document.getElementById(t.containerID);i&&gigya.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){""==i.firstChild.innerHTML&&FB.XFBML.parse(i)},100)})}!FB.Event||!FB.Event.subscribe||"facebook-send"==t.id&&n.addedFBSendEvent||("facebook-send"==t.id&&(n.addedFBSendEvent=!0),FB.Event.subscribe("facebook-send"==t.id?"message.send":"edge.create",function(n,i){if(i.getAttribute("data-gig-btnid")==e||"facebook-send"==t.id){var o={eventName:"sendDone",providers:t.plugin._p.facebookLikeButton&&"facebook-like"==t.id?"facebookLike":t.id,userMessage:"",targetURL:n};gigya.events.dispatchForWidget(o,t.plugin._p),t.plugin.reportShare(t.id,n)}}))}},!0)}},n.ButtonItem["facebook-send"]=n.ButtonItem["facebook-like"],n.ButtonItem["facebook-subscribe"]=n.ButtonItem["facebook-like"],n.ButtonItem["facebook-share"]=n.ButtonItem["facebook-like"],n.ButtonItem["google-plusone"].prototype={getItem:function(){var t=this.button.plugin,e=this.button,n={buttonType:"share",buttonContainer:this.button.plugin.templates.get("googlePlusOneButton"),count:e.showCounts&&"none"!=e.showCounts,callback:"gig-googlePlusOne-"+e.containerID,size:e.oButton.size?e.oButton.size:e.showCounts&&"top"==e.showCounts?"tall":t.isMobileUI?"standard":"medium",containerID:e.containerID,annotation:e.oButton.annotation?e.oButton.annotation:"none"==e.showCounts?"none":"bubble",width:e.oButton.width?e.oButton.width:""};return window[n.callback]=function(e){if("on"==e.state){var n={eventName:"sendDone",providers:"google-plusOne",userMessage:"",targetURL:e.href};gigya.events.dispatchForWidget(n,t._p),t.reportShare("google-plusOne",e.href)}},n},render:function(){var t=this.button;window.___gcfg={lang:this.button.plugin._p.lang},gigya.utils.script.load("https://apis.google.com/js/plusone.js",null,function(){"undefined"!=typeof gapi&&gapi.plusone&&gapi.plusone.go(t.containerID)},!0)}},n.ButtonItem["googleplus-share"].prototype={getItem:function(){var t=this.button.plugin,e=this.button,n={buttonType:"share",buttonContainer:this.button.plugin.templates.get("googlePlusShareButton"),callback:"gig-googlePlusOne-"+e.containerID,containerID:e.containerID,annotation:e.oButton.annotation?e.oButton.annotation:"none"==e.showCounts?"none":"top"==e.showCounts?"vertical-bubble":"bubble",width:e.oButton.width?e.oButton.width:"",height:e.oButton.height?e.oButton.height:t.isMobileUI?"24":""};return window[n.callback]=function(e){if("confirm"==e.type){var n={eventName:"sendDone",providers:"google-plusOne",userMessage:"",targetURL:e.href};gigya.events.dispatchForWidget(n,t._p),t.reportShare("googleplus-share",e.id)}},n},render:function(){var t=this.button;window.___gcfg={lang:this.button.plugin._p.lang},gigya.utils.script.load("https://apis.google.com/js/plusone.js",null,function(){"undefined"!=typeof gapi&&gapi.plus&&gapi.plus.go(t.containerID)},!0)}},n.ButtonItem["googleplus-interactive"].prototype={getItem:n.ButtonItem.generic.prototype.getItem,render:function(){var t=this.button,e=t.plugin.$(t.containerID);e.removeAttribute("onClick"),window.___gcfg={lang:this.button.plugin._p.lang},gigya.utils.script.load("https://apis.google.com/js/client:plusone.js",null,function(){var e={calltoactionlabel:t.oButton.callToActionLabel,calltoactionurl:t.oButton.callToActionURL,contentdeeplinkid:t.oButton.contentDeepLinkID,clientid:t.oButton.clientID,contenturl:t.oButton.contentURL,calltoactiondeeplinkid:t.oButton.callToActionDeepLinkID,cookiepolicy:t.oButton.cookiePolicy,prefilltext:t.oButton.preFillText};"undefined"!=typeof gapi&&gapi.interactivepost&&gapi.interactivepost.render(t.containerID,e)},!0)}},n.ButtonItem["moshare-sms"].prototype={getItem:function(){var t,e=this.button,n=e.getUserAction();t="right"==e.showCounts?e.oButton.iconOnly||gigya.utils.validation.isExplicitTrue(e.plugin._p.iconsOnly)?"moshare-chicklet-hor":"moshare-button-hor":e.oButton.iconOnly?"moshare-button-mini":"moshare-button";var i=e.getThumbnailURL(),o={buttonType:"share",buttonContainer:e.plugin.templates.get("moshareSmsButton"),moshareClass:t,title:n.title?n.title:"",description:n.description?n.description:"",thumbnailURL:i?i:""};return o},render:function(){gigya.utils.script.load("http://d2c.bandcon.mogreet.com/moshare/embed/moshare.js")}},n.ButtonItem.getglue.prototype={getItem:function(){var t=this,e=this.button,n=e.getUserAction(),i={buttonType:"share",buttonContainer:e.plugin.templates.get("getglueButton"),title:n.title?n.title:"",message:n.description?n.description:"",type:"right"==e.showCounts?"horizontal":"vertical",callbackId:"gig_getglue+"+(new Date).getTime()};return window[i.callbackId]=function(){var n={eventName:"sendDone",providers:"getglue",targetURL:t.item.href};gigya.events.dispatchForWidget(n,e.plugin._p),e.plugin.reportShare("getglue",t.item.href)},i},render:function(){gigya.utils.script.load(document.location.protocol+"//widgets.getglue.com/checkin.js",null,function(){window.getglue&&window.getglue.loadWidgets()},!0)}},n.ButtonItem["twitter-tweet"].prototype={getItem:function(){var t,e,n=this.button;switch(this.button.id){case"twitter-mention":t="twitter-mention-button",e="https://twitter.com/intent/tweet?screen_name="+(null!=n.oButton.mention?n.oButton.mention:"&#160;");break;case"twitter-hashtag":t="twitter-hashtag-button",e="https://twitter.com/intent/tweet?button_hashtag="+(null!=n.oButton.hashtag?n.oButton.hashtag:"&#160;");break;case"twitter-tweet":default:t="twitter-share-button",e="https://twitter.com/share"}var i=n.getUserAction().title,o=(n.plugin.isMobileUI?90:70)+("right"==n.showCounts?27:0),a={buttonType:"share",buttonContainer:n.plugin.templates.get("twitterTweetButton"),twitterClass:t,twitterHref:e,count:"top"==n.showCounts?"vertical":"right"==n.showCounts?"horizontal":"none",containerID:n.containerID+"_tweet"+(new Date).getTime(),via:n.oButton.via?n.oButton.via:"",defaultText:n.oButton.defaultText?n.oButton.defaultText:i?i:"",countURL:n.oButton.countURL||n.plugin._p.countURL||"",lang:n.oButton.lang?n.oButton.lang:n.plugin._p.lang,related:n.oButton.related?n.oButton.related:"",size:n.plugin.isMobileUI?"large":"",width:n.oButton.width||o};return this.containerID=a.containerID,a},render:function(){var t=this.button.plugin,e=this,n=document.getElementById(this.containerID),i=function(){if(n){try{twttr.widgets.load(n)}catch(i){}twttr.events.bind("tweet",function(n){if(n.target.parentNode.id==e.containerID){var i={eventName:"sendDone",providers:e.button.id,userMessage:"",targetURL:e.item.href};gigya.events.dispatchForWidget(i,t._p),t.reportShare(e.button.id,e.item.href)}})}};gigya.utils.script.load(document.location.protocol+"//platform.twitter.com/widgets.js",null,i,!0)}},n.ButtonItem["twitter-hashtag"]=n.ButtonItem["twitter-tweet"],n.ButtonItem["twitter-mention"]=n.ButtonItem["twitter-tweet"],n.ButtonItem.comments.prototype={getItem:n.ButtonItem.generic.prototype.getItem,render:function(){var t=this,e={callback:function(e){0==e.errorCode&&"none"!=t.button.showCounts&&e.streamInfo&&e.streamInfo.commentCount&&e.streamInfo.commentCount>0&&t.button.updateCount(e.streamInfo.commentCount)},categoryID:this.button.oButton.categoryID,streamID:this.button.oButton.streamID,cacheTimeout:this.button.plugin._p.shareCountCacheTimeout};gigya.services.comments.getStreamInfo(this.button.plugin._c,e)}},n.ButtonItem.foursquare.prototype={getItem:n.ButtonItem.generic.prototype.getItem,render:function(){var t=this.button,e="http://platform.foursquare.com/js/widgets.js";"https"==gigya.thisScript.protocol&&(window.___fourSq={secure:!0},e="https://platform-s.foursquare.com/js/widgets.js"),gigya.utils.script.load(e,null,function(){var e=new fourSq.widget.SaveTo({vid:t.oButton.vid,variant:t.oButton.variant,hideTooltip:t.oButton.hideTooltip});e.bind("added",function(){var e={eventName:"sendDone",providers:t.id,userMessage:"",targetURL:""};gigya.events.dispatchForWidget(e,t.plugin._p),t.plugin.reportShare(t.id,"")}),e.attach(document.getElementById(t.containerID))},!0)}},n.ButtonItem["foursquare-save"].prototype={getItem:function(){var t={buttonType:"share",buttonContainer:'<div id="'+this.button.containerID+'"></div>',count:"none"};return t},render:function(){var t=this.button,e="http://platform.foursquare.com/js/widgets.js";"https"==gigya.thisScript.protocol&&(window.___fourSq={secure:!0},e="https://platform-s.foursquare.com/js/widgets.js"),gigya.utils.script.load(e,null,function(){var e=new fourSq.widget.SaveTo({vid:t.oButton.vid,variant:t.oButton.variant,hideTooltip:t.oButton.hideTooltip});e.bind("open",function(){gigya.events.dispatchForWidget({eventName:"shareButtonClicked",shareItem:t.oButton},t.plugin._p)}),e.bind("added",function(){var e={eventName:"sendDone",providers:t.id,userMessage:"",targetURL:""};gigya.events.dispatchForWidget(e,t.plugin._p),t.plugin.reportShare(t.id,"")}),e.replace(document.getElementById(t.containerID))},!0)}},n.ButtonItem["pinterest-pinit"].prototype={getItem:function(){var t=this.button,e=t.getUserAction(),n=t.oButton.shape?t.oButton.shape:"",i="round"==n?"//assets.pinterest.com/images/pidgets/pinit_fg_en_round_red_16.png":"//assets.pinterest.com/images/PinExt.png",o={buttonType:"share",buttonContainer:t.plugin.templates.get("pinterestPinitButton"),count:"top"==t.showCounts?"vertical":"right"==t.showCounts?"horizontal":"none",description:gigya.utils.URL.URLEncode(e.description),href:gigya.utils.URL.URLEncode(t.getShareURL()),containerID:t.containerID,lang:t.oButton.lang?t.oButton.lang:t.plugin._p.lang,related:t.oButton.related?t.oButton.related:"",shape:"round"==n?'data-pin-shape="round"':"",imgName:i},a=t.getThumbnailURL();return o.thumbnailURL=gigya.utils.URL.URLEncode(a?a:o.href),this.containerID=o.containerID,o},render:function(){gigya.utils.script.load(document.location.protocol+"//assets.pinterest.com/js/pinit.js")}},n.ButtonItem.kindle.prototype={getItem:n.ButtonItem.generic.prototype.getItem,render:function(){var t=this.button.oButton,e=this,n=document.getElementById(this.button.containerID);n&&(gigya.utils.DOM.addClassToElement(n,"kindleWidget"),gigya.utils.DOM.addEventListener(n,"click",function(){e.button.plugin.reportShare("kindle","")}),gigya.utils.script.load("https://d1xnn692s7u6t6.cloudfront.net/widget.js",null,function(){if(window.$SendToKindle&&window.$SendToKindle.Widget){var e=gigya.utils.object.removeUndefined({content:t.content,title:t.title,author:t.author,published:t.published,exclude:t.exclude,pagination:t.pagination,asin:t.asin});$SendToKindle.Widget.init(e)}},!0))}},n.ButtonItem["hatena-bookmark"].prototype={getItem:function(){var t=this.button,e="none"==t.showCounts?"standard-noballoon":"top"==t.showCounts?"vertical-balloon":"standard-balloon",n=gigya.utils.validation.isExplicitTrue(t.plugin._p.iconsOnly);null!=t.oButton.iconOnly&&(n=gigya.utils.validation.isExplicitTrue(t.oButton.iconOnly)),n&&(e="none"==t.showCounts?"simple":"top"==t.showCounts?"simple":"simple-balloon");var i=(t.pluginInstance,"ja");"en"==t.oButton.lang&&(i="en");var o=gigya._.apiAdapter.getTokenParam(t.plugin._c.APIKey,"UUID"),a={uu:o,s:t.plugin._p.source,p:t.id},s={protocol:document.location.protocol,id:t.containerID+(new Date).getTime(),buttonType:"share",className:this.className+" gig-hatenaBookmarkButton-"+e,buttonContainer:t.plugin.templates.get("hatenaBookmarkButton"),layout:e,containerID:t.containerID,ref:gigya.utils.keyValue.serialize(a,":"),lang:i,title:t.getUserAction().title};return this.id=s.id,s},render:function(){gigya.utils.script.load(document.location.protocol+"//b.hatena.ne.jp/js/bookmark_button.js")}},n.ButtonItem.lineit.prototype={constant:{LINE_BASE_URL:"//line.me/R/msg/text/",IMG_BASE_URL:"//media.line.me/img/button/",ALT:{ja:"LINE",en:"LINE it!","zh-hans":"LINE it!","zh-hant":"LINE it!"},IMG_SIZE:{ja:{a:[82,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},en:{a:[78,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},"zh-hans":{a:[84,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]},"zh-hant":{a:[84,20],b:[20,20],c:[30,30],d:[40,40],e:[36,60]}}},getItem:function(){var t=this.button,e=t.getUserAction(),n=this.constant,i=t.plugin._p.lang;"zh-hk"==i||"zh-tw"==i?i="zh-hans":"ja"!=i&&"en"!=i&&(i="en");var o="a",a=n.IMG_SIZE[i][o],s=[n.IMG_BASE_URL,i,"/",a[0],"x",a[1],".png"].join(""),r={id:t.containerID+(new Date).getTime(),buttonType:"share",className:this.className+" gig-lineitShareButton",href:gigya.utils.URL.URLEncode(t.getShareURL()),title:e.title||"",buttonContainer:t.plugin.templates.get("lineitShareButton"),containerID:t.containerID,imgUrl:s,alt:n.ALT[i],w:a[0],h:a[1]};return this.id=r.id,r},render:function(){}},n.Button=function(t,e,i,o){if(this.oButton=t,this.index=e,this.type=i,this.pluginInstance=o,this.containerID=o._p.containerID+"-reaction"+e,this.noButtonBorders=gigya.utils.validation.isExplicitTrue(o._p.noButtonBorders),null!=this.oButton.noButtonBorders&&(this.noButtonBorders=gigya.utils.validation.isExplicitTrue(this.oButton.noButtonBorders)),gigya.utils.validation.isExplicitFalse(t.enableCount)&&(this.showCounts="none"),this.showCounts||(this.showCounts=o._p.showCounts),this.showCounts&&(this.showCounts=this.showCounts.toLowerCase()),"share"==i){var a=gigya.utils.validation.isExplicitTrue(o._p.iconsOnly);null!=this.oButton.iconOnly&&(a=gigya.utils.validation.isExplicitTrue(this.oButton.iconOnly)),a&&(this.noButtonBorders=!0);var s=this.oButton.provider.split(" ").join(""),r=gigya.services.socialize._getProviderByName(s,o.bookmarkSitesArray);this.labelText=r&&!a?r.displayName:"",this.id=this.oButton.provider.toLowerCase().split(" ").join(""),"share"==this.id&&gigya.utils.script.load(gigya._.getCdnResource("/js/gigya.services.socialize.plugins.simpleshare.min.js"),null,null,!0),this.showCounts||(this.showCounts="right"),n.providerSupportsCounter(this.id)||(this.showCounts="none")}"reaction"==i&&(this.showCounts||(this.showCounts="none"),this.labelText=t.text,this.id=t.ID,this.id||(this.id=this.labelText)),this.plugin=o,this.plugin.buttonInstances||(this.plugin.buttonInstances={}),this.plugin.buttonInstances[this.containerID]=this},n.Button.prototype={$:function(t){return document.getElementById(t)},getRefString:function(){return this.plugin.getInstanceRefString()+".buttonInstances['"+this.containerID+"']"},state:"Up",onClick:function(){if("share"==this.type&&this.plugin.onShare(this),"reaction"==this.type)if("Down"==this.state){if(gigya.utils.validation.isExplicitFalse(this.plugin._p.cancelReactions))return;if(gigya.utils.validation.isExplicitFalse(this.plugin._p.multipleReactions)){var t=this.plugin.buttonInstances;for(var e in t)e!=this.containerID&&t[e].enable()}this.plugin.onUndoReaction(this),this.unfixDown()}else this.plugin.onReaction(this),this.fixDown()},updateImageElement:function(t,e,n,i){t=t.toLowerCase();var o=t.split("-"),a=document.getElementById(this.containerID+"-"+o[0]+"_img");if(a){var s=i[e]?i[e]:this.plugin.buttonImages[e];if(s&&"img"==a.nodeName.toLowerCase())a.src=s;else if(n&&n.spriteData[t]){var r=n.getSpriteData(t);a.style.backgroundImage!='url("'+n.src+'")'&&(a.style.backgroundImage='url("'+n.src+'")'),a.style.backgroundPosition="-"+r.x+"px 0px"}}},getButtonImageHTML:function(t,e,n,i,o,a){t=t.toLowerCase();var s=t.split("-"),r=o[e]?o[e]:this.plugin.buttonImages[e];return r?this.plugin.getImageHTML(r,this.containerID+"-"+n+"_img",a):i&&i.spriteData[t]?i.getHTML(t,null,null,this.containerID+"-"+s[0]+"_img"):""},getShareURL:function(){var t=this.oButton.url;if(!t&&this.oButton.userAction&&(t=this.oButton.userAction.linkBack),!t&&this.plugin._p[this.id+"UserAction"]&&(t=this.plugin._p[this.id+"UserAction"].linkBack),!t&&this.plugin._p.userAction&&(t=this.plugin._p.userAction.linkBack),!t)for(var e=document.getElementsByTagName("meta"),n=0;n<e.length;n++)if("og:url"==e[n].getAttribute("property")&&e[n].getAttribute("content")){t=e[n].getAttribute("content");break}if(!t)for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var o=i[n];"canonical"==o.getAttribute("rel")&&(t=o.getAttribute("href"))}return t||(t=document.location.href),t},getUserAction:function(){var t;return this.oButton.userAction&&(t=this.oButton.userAction),!t&&this.plugin._p[this.id+"UserAction"]&&(t=this.plugin._p[this.id+"UserAction"]),!t&&this.plugin._p.userAction&&(t=this.plugin._p.userAction),t=new gigya.socialize.UserAction(t),t.linkBack=this.getShareURL(),t
},getThumbnailURL:function(){var t,e=this.getUserAction(),n=e.mediaItems;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(null!=o){if("image"==o.type){t=o.src;break}if("video"==o.type||"flash"==o.type){t=o.previewImageURL;break}}}return t},getHTML:function(){var t=n.ButtonItem[this.id];t||(t=n.ButtonItem.generic);var e=new t(this),i=e.item;i.href||(i.href=gigya.utils.sanitize.sanitizeAttribute(this.getShareURL())),e.render&&window.setTimeout(function(){e.render()},300);var o=this.plugin._p.layout;o&&(o=o.toLowerCase()),i.className="gig-button-container gig-button-container-count-"+this.showCounts+" gig-button-container-"+this.id+" gig-button-container-"+this.id+"-count-"+this.showCounts+" gig-$buttonType-button-container gig-button-container-horizontal","vertical"==o&&(i.className="gig-button-container gig-button-container-"+this.id+" gig-button-container-count-"+this.showCounts+" gig-$buttonType-button-container gig-button-container-vertical gig-$buttonType-button-container-vertical"),i.cellValign||(i.cellValign="bottom"),i.id||(i.id=this.containerID),(this.plugin._p.buttonTemplate||this.plugin._p.buttonWithCountTemplate)&&("function"==typeof i.buttonContainer&&(i.buttonContainer=i.buttonContainer(i)),i.buttonContainer='<div id="$id" class="gig-button-up"  title="$tooltip" alt="$tooltip">'+i.buttonContainer+"</div>");var a;return a=this.plugin.templates.get("vertical"==o?"buttonRow":this.plugin._p.wrap?"buttonWithoutCell":"buttonCell"),gigya.utils.templates.fill(a,i)},fixDown:function(t){if(gigya.utils.validation.isExplicitFalse(this.plugin._p.multipleReactions)){var e=this.plugin.buttonInstances;for(var n in e)n!=this.containerID&&e[n].disable()}this.changeState("down"),this.disabled=!0,t||this.saveState()},unfixDown:function(){this.disabled=!1,this.changeState("up"),this.saveState()},disable:function(){this.changeState("disabled"),this.disabled=!0},enable:function(){this.disabled=!1,this.changeState("up")},saveState:function(){var t="Down"==this.state;this.plugin.setDownState(this.id,t)},loadState:function(){var t=this.plugin.getDownState(this.id);t&&this.fixDown(!0)},changeState:function(t){if(!this.disabled){var t=t.substring(0,1).toUpperCase()+t.substring(1),e=this.state;this.state=t;var n=this.containerID,i=this.$(n);i.className=i.className.replace("gig-button-"+e.toLowerCase(),"gig-button-"+t.toLowerCase());var o=(this.$(n+"-left_img"),this.$(n+"-icon")),a=this.$(n+"-text"),s=(this.$(n+"-right_img"),this.$(n+"-icon_img"),this.plugin.buttonImages);this.noButtonBorders&&(s={countBGImg:s.countBGImg});var r=this.plugin.spriteRenderer.button,u=this.plugin.spriteRenderer.icons;if(this.noButtonBorders||this.updateImageElement("left-"+t,"buttonLeftImg"+t,r,s),this.noButtonBorders||this.updateImageElement("right-"+t,"buttonRightImg"+t,r,s),this.updateImageElement("icon-"+t,"iconImg"+t,u,this.oButton),!this.noButtonBorders&&o&&s["buttonCenterBGImg"+t]&&(o.style.backgroundImage='url("'+s["buttonCenterBGImg"+t]+'")'),!this.noButtonBorders&&a&&s["buttonCenterBGImg"+t]&&(a.style.backgroundImage='url("'+s["buttonCenterBGImg"+t]+'")'),i){var l;"Disabled"==t?(i.style.cursor="default",l=this.oButton.disabledTooltip):(i.style.cursor="",l=this.oButton.tooltip),l||(l=""),i.title=l,i.alt=l}}},updateCount:function(t,e,n){if(n||(n=0),null!=t&&!(this.plugin._p.displayCountThreshold&&t<this.plugin._p.displayCountThreshold)){this.countValue=t;var i=document.getElementById(this.containerID+"-count"),o=document.getElementById(this.containerID+"-count-value");i&&(i.style.display="");var a="reaction"==this.type&&this.pluginInstance._p.countType&&"percentage"==this.pluginInstance._p.countType.toLowerCase();if(a){if(t=0==this.pluginInstance._totalCount?"0%":Math.round(100*this.countValue/this.pluginInstance._totalCount)+n+"%",!e){var s=this.plugin.buttonInstances;for(var r in s)r!=this.containerID&&s[r].updateCount(s[r].countValue,!0)}}else t>1e3&&(t=Math.round(t/1e3)+"K");o&&(o.innerHTML=""+t),a&&!e&&this.plugin.normalizePercents()}},hideCount:function(){var t=document.getElementById(this.containerID+"-count");t&&(t.style.display="none")}},n.reactionsPlugin.prototype={$:function(t){return document.getElementById(t)},TEXT:function(t,e,n){return gigya.pluginUtils.lang.getLocalizedText("gigya.services.socialize.plugins.reactions.js",t,this._p.lang,e,n)},getImageHTML:function(t,e,n){var i=this.templates.get("image");return n&&(i=this.templates.get("imageWithSize")),gigya.utils.templates.fill(i,{src:t,imgId:e,size:n})},reportShare:function(t,e){var n=this._p.sourceData?gigya.utils.object.clone(this._p.sourceData):{};n.provider=t,n.url=e,gigya.reports.report("share",this._c.APIKey,this._c.cid,this._p.source,n,{tags:this._p.tags})},getInstanceRefString:function(){return"gigya.services.socialize.plugins.reactions.instances['"+this._elid+"']"},loadDownStates:function(){var t={},e=gigya.utils.localStorage.getItem("reactionState-down_"+this._barID);if(e){for(var n=e.split(","),i=0;i<n.length;i++)t[n[i]]=!0;this._oDownStates=t}this._oDownStates=t},getDownState:function(t){return this._oDownStates[t]},setDownState:function(t,e){this._oDownStates[t]=e;var n=[];for(var i in this._oDownStates)this._oDownStates[i]&&n.push(i);gigya.utils.localStorage.setItem("reactionState-down_"+this._barID,n.join(","))},draw:function(){var t=this.$(this._elid),e=(t.parentNode,this._elid+"_gig_containerParent");if(t.parentNode&&(t.parentNode.id?e=t.parentNode.id:t.parentNode.id=e),this.loadDownStates(),"vertical"==this._p.layout&&(this._p.wrap=!1),(this._p.cssPrefix||1==n.instances_size)&&(gigya.global.addCSS(n.defaultCss,this._p.cssPrefix),this.isMobileUI?gigya.global.addCSS(n.mobileCss,this._p.cssPrefix):gigya.global.addCSS(n.nonMobileCss,this._p.cssPrefix)),this.templates=n.createDefaultTemplates(),this._p.buttonTemplate){var i=this._p.buttonTemplate;this.templates.set("buttonWithoutCount",i),"reaction"==this._i.buttonsType&&(this.templates.set("buttonWithCountTop",i),this.templates.set("buttonWithCountRight",i),"string"==typeof i&&-1!=i.indexOf("$count")&&(this.usingCountTemplate=!0))}if(this._p.buttonWithCountTemplate&&"share"==this._i.buttonsType){var o=this._p.buttonWithCountTemplate;this.templates.set("buttonWithCountTop",o),this.templates.set("buttonWithCountRight",o),"string"==typeof o&&-1!=o.indexOf("$count")&&(this.usingCountTemplate=!0)}this.buttonImages=this._p.buttonImages;var a={};if(!this.buttonImages)if("share"==this._i.buttonsType)if(this.isMobileUI){var s=gigya._.getCdnResource("/gs/i/shareBar/button/mobile/");this.buttonImages={buttonCenterBGImgUp:s+"buttonCenterImgUp.png"},a.button={path:"/shareBar/button/mobile/button[left,right]Img[up].png",w:5,h:35}}else{var s=gigya._.getCdnResource("/gs/i/shareBar/button/");this.buttonImages={buttonCenterBGImgUp:s+"buttonCenterImgUp.png",buttonCenterBGImgOver:s+"buttonCenterImgUp.png"},a.button={path:"/shareBar/button/button[left,right]Img[up,over].png",w:2,h:20}}else{a.button={path:"/shareBar/button/button[left,right]Img[up,over,down,disabled].png",w:2,h:20};var s=gigya._.getCdnResource("/gs/i/reactions/default/");this.buttonImages={buttonCenterBGImgUp:s+"buttonCenterImgUp.gif",buttonCenterBGImgOver:s+"buttonCenterImgBGOver.gif",buttonCenterBGImgDisabled:s+"buttonCenterBGImgDisabled.gif",buttonCenterBGImgDown:s+"buttonCenterImgBGDown.gif"},"right"==this._p.showCounts&&(this.buttonImages.countBGImg=gigya._.getCdnResource("/gs/i/reactions/default/rightCountImg.gif"))}a.count="top"==this._p.showCounts?this.isMobileUI?{path:"/shareBar/button/mobile/topCountImg.png",w:87,h:53}:{path:"/shareBar/button/topCountImg.png",w:55,h:37}:this.isMobileUI?{path:"/shareBar/button/mobile/rightCountImg.png",w:45,h:35}:{path:"/shareBar/button/rightCountImg.png",w:38,h:20},this.imageCache={loadedCount:0,imgs:[],imgCount:0};for(var r in this.buttonImages)this.imageCache.imgCount++;if(this.imageCache.imgCount>0){t.style.visibility="hidden";var u=this.imageCache,l=function(){u.loadedCount++,u.loadedCount==u.imgCount&&(t.style.visibility="visible")}}window.setTimeout(function(){t&&t.style&&(t.style.visibility="visible")},5e3);var g=this;for(btnImg in this.buttonImages){var c=new Image;if(c.onload=l,c.onerror=l,"countBGImg"==btnImg){if("none"==this._p.showCounts){l();continue}c.onload=function(){var e=this,n=t.getElementsByTagName("div");window.setTimeout(function(){for(var t=0;t<n.length;t++)-1!=n[t].className.indexOf("gig-counter")&&(n[t].style.width=e.width+"px",n[t].style.height=e.height+"px",n[t].style.zoom="1",n[t].style.position="relative")},100),l(),this.onload=null}}"buttonCenterBGImgUp"==btnImg&&(c.onload=function(){var e=this,n=t.getElementsByTagName("div");window.setTimeout(function(){for(var t=0;t<n.length;t++)-1!=n[t].className.indexOf("gig-button-td")&&(n[t].style.height=e.height+"px")},100),l(),this.onload=null}),c.src=this.buttonImages[btnImg],u.count++,u.imgs.push(c)}var d,h,p=[],b=this._i.buttonsType;switch(b){case"share":var m=this._p.shareButtons;if("string"==typeof m){d=[];for(var f=m.split(","),v=0;v<f.length;v++){var I={},y=f[v];I.provider=y,d.push(I)}}else d=m;var B=[],w=[],C="/sharebar/icons/",k=16;this.isMobileUI&&(C+="mobile/",k=25);for(var v=0;v<d.length;v++){var I=d[v];if(I){var y=I.provider;if(y){y=y.split(" ").join("");var _=gigya.services.socialize._getProviderByName(y,this.bookmarkSitesArray);if(null!=_){var D=_.name.split("-")[0];w.push(D),I.iconImgUp||(I.defaultIconImgUp=gigya._.getCdnResource("/gs/i"+C+D+".png"),I.iconSize=k),B.push(d[v])}}}}a.icons={path:C+"["+w.join(",")+"].png",w:k,h:k},d=B,h=this.updateShareCounts;break;case"reaction":default:h=this.updateReactionsCounts,d=this._p.reactions}this.spriteRenderer=gigya.global.getSpriteRenderers(a);var x=this._p.layout;x&&(x=x.toLowerCase());var T="vertical"==x,$=this._p.showCounts;$&&($=$.toLowerCase()),this._p.wrap||(p.push('<table cellspacing="0" cellpadding="0">'),T||p.push("<tr>"));var S="first";this._p.facebookLikeButton&&this._p.facebookLikeButton.position&&(S=this._p.facebookLikeButton.position),S=S.toLowerCase();var L="gig-facebookLikeButton";if(T||("first"==S&&(L="gig-facebookLikeButton-first"),"last"==S&&(L="gig-facebookLikeButton-last")),"share"==b&&this._p.facebookLikeButton){var U=gigya.utils.object.clone(this._p.facebookLikeButton);U.provider="facebook-like","first"==S?d.splice(0,0,U):"last"==S&&d.push(U)}for(var v=0;v<d.length;v++)if(d[v]){var E=new n.Button(d[v],v,b,this);p.push(E.getHTML())}this._p.wrap||T||p.push("</tr>"),p.push("</table>"),t.innerHTML='<div class="gig-bar-container gig-'+b+'-bar-container">'+p.join("")+"</div>";for(var R in this.buttonInstances)this.buttonInstances[R].loadState();h.apply(this,[$]),gigya.events.dispatchForWidget({eventName:"load",containerID:this._p.containerID},this._p),this.isMobileUI&&(gigya.utils.DOM.addEventListener(window,"resize",function(){return g.onResize()}),this.onResize())},onResize:function(){var t=this.$(this._elid);t&&(t.style.width=document.body.offsetWidth+"px")},updateShareCounts:function(t){if("none"!=t){var e=this,n="",i={enabledProviders:"",URL:this._p.userAction.linkBack,callback:function(t){e.updateCounts(t.shareCounts,"id")},cacheTimeout:this._p.shareCountCacheTimeout};for(var o in this.buttonInstances){var a=this.buttonInstances[o].oButton.provider.toLowerCase().split("-")[0];-1==n.indexOf(a)&&(n+=a+",")}for(var o in this.buttonInstances){var s=this.buttonInstances[o].oButton.provider.toLowerCase().split(" ").join("");"share"==s?i.enabledProviders=n:(i[s+"URL"]=this._p.countURL||this.buttonInstances[o].oButton.countURL||this.buttonInstances[o].getShareURL(),i.enabledProviders!=n&&(i.enabledProviders+=s+","))}gigya.services.socialize.getProviderShareCounts(this._c,i)}},updateReactionsCounts:function(t){var e="",n=this;for(var i in this.buttonInstances){var o=this.buttonInstances[i].id;e+=o+","}if(e){var a={barID:this._barID,buttonIDs:e,callback:function(t){if(t.errorCode>0&&gigya.events.dispatchErrorFromResponse(n._p,t),t.counts){for(var e={},i=0;i<t.counts.length;i++)e[t.counts[i].buttonId]=t.counts[i].count;n.updateCounts(e,"id")}}};a.reportLoad=this.usingCountTemplate||null!=t&&"none"!=t?"yes":"reportOnly",gigya.services.socialize.getReactionsCount(this._c,a)}},normalizePercents:function(){var t=0;for(var e in this.buttonInstances){var n=this.buttonInstances[e];n.delta=Math.round(n.countValue/this._totalCount*100)-n.countValue/this._totalCount*100,t+=Math.round(n.countValue/this._totalCount*100)}for(var i=t-100;0>i;){var o;for(var e in this.buttonInstances){var n=this.buttonInstances[e];(!o||n.delta<o.delta)&&(o=n)}o.updateCount(o.countValue,!0,1),o.delta=0,i++}for(;i>0;){var a;for(var e in this.buttonInstances){var n=this.buttonInstances[e];(!a||n.delta>a.delta)&&(a=n)}a.updateCount(a.countValue,!0,-1),a.delta=0,i--}},updateCounts:function(t,e){if(t){var n=0;for(var i in t)n+=t[i];this._totalCount=n;for(var o in this.buttonInstances){var a=this.buttonInstances[o],s=a[e];a.updateCount("share"==s?n:t[s])}}},onShare:function(t){var e=t.oButton;"share"==t.id||"comments"==t.id||isNaN(t.countValue)||t.sharedOnce||(this._totalCount+=1,t.updateCount(t.countValue+1),t.sharedOnce=!0);var n=gigya.utils.object.clone(this._p,!1,!0);n.onSendDone=this._p.onSendDone,n.userAction=t.getUserAction(),t.oButton.userMessage&&(n.userAction.userMessage=t.oButton.userMessage);var i=e.provider.toLowerCase().split(" ").join("");switch(i){case"foursquare":break;case"kindle":break;case"print":window.print();break;case"comments":break;case"email":this.isMobileUI?gigya._.sendEmailNative(n):(n.operationMode="multiSelect",n.hideSidebar=!0,n.initialView="email",n.containerID="",gigya.services.socialize.showShareUI(n));break;case"share":n.operationMode||(n.operationMode="simpleShare"),delete n.containerID,n.snapToElementID=t.containerID,gigya.services.socialize.showShareUI(n);break;default:n.provider=i,n.description=n.userAction.description,n.title=n.userAction.title,n.url=n.userAction.linkBack,n.providerKey=this._p[i+"Key"];var o=t.getThumbnailURL();o&&(n.thumbnailURL=o),gigya.services.socialize.postBookmark(n);var a={eventName:"sendDone",providers:i,userMessage:n.userAction.userMessage,targetURL:n.userAction.linkBack};gigya.events.dispatchForWidget(a,this._p)}gigya.utils.sessionCache.remove("getProviderShareCount_"+i.toLowerCase()+"_"+encodeURIComponent(n.url)),gigya.events.dispatchForWidget({eventName:"shareButtonClicked",shareItem:e},this._p)},onUndoReaction:function(t){var e=this._c.sourceData?gigya.utils.object.clone(this._c.sourceData,!1,!0):{};e.buttonID=t.id,e.buttonText=t.labelText,gigya.services.socialize.incrementReactionsCount(this._c,{barID:this._barID,buttonID:t.id,count:-1,sourceData:e}),isNaN(t.countValue)||(this._totalCount-=1,t.updateCount(t.countValue-1)),gigya.events.dispatchForWidget({eventName:"reactionUnclicked",reaction:t.oButton},this._p)},onReaction:function(t){if(!t.disabled){var e=this._c.sourceData?gigya.utils.object.clone(this._c.sourceData,!1,!0):{};e.buttonID=t.id,e.buttonText=t.labelText,gigya.services.socialize.incrementReactionsCount(this._c,{reactionBarId:this._barID,buttonID:t.id,count:1,sourceData:e}),isNaN(t.countValue)||(this._totalCount+=1,t.updateCount(t.countValue+1));var n=this.$(t.containerID),i=t.oButton;if(this._p.scope&&"internal"==this._p.scope.toLowerCase())gigya.services.socialize.publishUserAction(this._c,{sourceData:e});else if(n&&!gigya.utils.validation.isExplicitFalse(this._p.promptShare)){var o=t.index,a=this._p.containerID+"-share"+o,s=document.getElementById(a);if(s&&"none"!=s.style.display)return;s||(s=gigya.utils.DOM.createTopLevelDiv(a));var r,u,l=320,g=156,c=s.style,d=document.documentElement;if(window.innerHeight&&(r=window.innerHeight,u=window.innerWidth),"undefined"==typeof r){var d=document.documentElement;r=d.clientHeight,u=d.clientWidth}("undefined"==typeof r||0==r)&&document.body&&document.body.clientHeight&&(r=document.body.clientHeight,u=document.body.clientWidth);var h=gigya.utils.viewport.getScroll(),p=h.top,b=h.left,m=p+Math.floor(r/2),f=b+Math.floor(u/2),v=gigya.global._GetElementPos(n);c.top=v.top>m&&v.top>g?v.top-g+"px":v.top+n.offsetHeight+5+"px",c.left=v.left>f?v.left+n.offsetWidth-l+"px":v.left+"px",c.width=""+l+"px",c.height=""+g+"px";var I=document.getElementById("gigya_ifr_"+a);null!=I&&(I.style.top=parseInt(c.top)+5+"px",I.style.left=parseInt(c.left)+5+"px",I.style.width=l-10+"px",I.style.height=g-10+"px");var y=gigya.utils.object.clone(this._p,!0,!0);y.containerID=a,y.autoShareActionID=this._p.autoShareActionID?this._p.autoShareActionID:this._barID,y.onSendDone=this._p.onSendDone,y.onError=this._p.onError,y.sourceData=e,i.bodyText&&(y.bodyText=i.bodyText),i.headerText&&(y.headerText=i.headerText),i.userAction&&(y.userAction=new gigya.services.socialize.UserAction(gigya.utils.object.clone(i.userAction,!1,!0)));var B;if(t.oButton.userMessage&&(B=t.oButton.userMessage),t.oButton.feedMessage&&(B=t.oButton.feedMessage),B){var w=y.userAction.title;y.userAction.title=B,w&&""!=w&&(y.userAction.title+=" - "+w)}n.fncHide||(n.fncHide=function(t){var e;if(t)for(e=t.target,e||(e=t.srcElement);null!=e&&e.offsetParent&&-1==e.id.indexOf(a);)e=e.offsetParent;if(!e||-1==e.id.indexOf(a)){var i=document.getElementById(a),o=document.getElementById("gigya_ifr_"+a);i&&(i.style.display="none"),o&&(o.style.display="none"),document.attachEvent?document.detachEvent("onclick",n.fncHide):document.addEventListener&&document.removeEventListener("click",n.fncHide,!1)}}),y.onClose=n.fncHide,document.attachEvent?window.setTimeout(function(){document.attachEvent("onclick",n.fncHide)},100):document.addEventListener&&window.setTimeout(function(){document.addEventListener("click",n.fncHide,!1)},100),gigya.services.socialize.showMiniShareUI(y)}gigya.events.dispatchForWidget({eventName:"reactionClicked",reaction:i},this._p)}}},t[e]={instances:{},showReactionsBarUI:function(t,e,i){i.buttonsType="reaction",n.createInstance(t,e,i)},showShareBarUI:function(t,e,i){i.buttonsType="share",n.createInstance(t,e,i)}}}}();
});

// Combined services: gigya.services.plugins.base, gigya.services.socialize.plugins.reactions
// Failed services: 