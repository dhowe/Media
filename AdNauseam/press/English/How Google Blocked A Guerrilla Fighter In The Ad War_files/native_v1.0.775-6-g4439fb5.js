/*
 RequireJS 2.3.3 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
 ? 2016 Zentrick nv
*/
var $jscomp={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(e,a){($jscomp.patches[e]=$jscomp.patches[e]||[]).push(a);var g=$jscomp.global;e=e.split(".");for(var c=0;c<e.length-1&&g;c++)g=g[e[c]];e=e[e.length-1];g&&g[e]instanceof Function&&(g[e]=a(g[e]))};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var e=[],a=function(a){return function(c){e=[];c=a(c);for(var d=[],h=0,f=c.length;h<f;h++){var b;a:if(b=c[h],b.length<$jscomp.SYMBOL_PREFIX.length)b=!1;else{for(var k=0;k<$jscomp.SYMBOL_PREFIX.length;k++)if(b[k]!=$jscomp.SYMBOL_PREFIX[k]){b=!1;break a}b=!0}b?e.push(c[h]):d.push(c[h])}return d}};$jscomp.patch("Object.keys",a);$jscomp.patch("Object.getOwnPropertyNames",a);$jscomp.patch("Object.getOwnPropertySymbols",
function(g){return function(c){a.unused=Object.getOwnPropertyNames(c);e.push.apply(g(c));return e}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+e+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};var requirejs,require,define;
(function(e,a){function g(b,a){return a||""}function c(b){return"[object Function]"===Q.call(b)}function d(b){return"[object Array]"===Q.call(b)}function h(b,a){if(b){var f;for(f=0;f<b.length&&(!b[f]||!a(b[f],f,b));f+=1);}}function f(b,a){if(b){var f;for(f=b.length-1;-1<f&&(!b[f]||!a(b[f],f,b));--f);}}function b(b,a){return B.call(b,a)}function k(a,f){return b(a,f)&&a[f]}function l(a,f){for(var k in a)if(b(a,k)&&f(a[k],k))break}function m(a,f,k,e){f&&l(f,function(f,h){if(k||!b(a,h))!e||"object"!==
typeof f||!f||d(f)||c(f)||f instanceof RegExp?a[h]=f:(a[h]||(a[h]={}),m(a[h],f,k,e))});return a}function n(b,a){return function(){return a.apply(b,arguments)}}function p(b){throw b;}function y(b){if(!b)return b;var a=e;h(b.split("."),function(b){a=a[b]});return a}function u(b,a,f,k){a=Error(a+"\nhttp://requirejs.org/docs/errors.html#"+b);a.requireType=b;a.requireModules=k;f&&(a.originalError=f);return a}function r(g){function v(b,a,f){var c,e,d,h,g,l,m,n;a=a&&a.split("/");var p=H.map,q=p&&p["*"];
if(b){b=b.split("/");e=b.length-1;H.nodeIdCompat&&ba.test(b[e])&&(b[e]=b[e].replace(ba,""));"."===b[0].charAt(0)&&a&&(e=a.slice(0,a.length-1),b=e.concat(b));e=b;for(d=0;d<e.length;d++)h=e[d],"."===h?(e.splice(d,1),--d):".."===h&&0!==d&&(1!==d||".."!==e[2])&&".."!==e[d-1]&&0<d&&(e.splice(d-1,2),d-=2);b=b.join("/")}if(f&&p&&(a||q)){e=b.split("/");d=e.length;a:for(;0<d;--d){g=e.slice(0,d).join("/");if(a)for(h=a.length;0<h;--h)if(f=k(p,a.slice(0,h).join("/")))if(f=k(f,g)){c=f;l=d;break a}!m&&q&&k(q,g)&&
(m=k(q,g),n=d)}!c&&m&&(c=m,l=n);c&&(e.splice(0,l,c),b=e.join("/"))}return(c=k(H.pkgs,b))?c:b}function G(b){F&&h(document.getElementsByTagName("script"),function(a){if(a.getAttribute("data-requiremodule")===b&&a.getAttribute("data-requirecontext")===x.contextName)return a.parentNode.removeChild(a),!0})}function N(b){var a=k(H.paths,b);if(a&&d(a)&&1<a.length)return a.shift(),x.require.undef(b),x.makeRequire(null,{skipMap:!0})([b]),!0}function t(b){var a,f=b?b.indexOf("!"):-1;-1<f&&(a=b.substring(0,
f),b=b.substring(f+1,b.length));return[a,b]}function Z(b,a,f,e){var d,c,h=null,g=a?a.name:null,l=b,m=!0,n="";b||(m=!1,b="_@r"+(ab+=1));b=t(b);h=b[0];b=b[1];h&&(h=v(h,g,e),c=k(V,h));b&&(h?n=f?b:c&&c.normalize?c.normalize(b,function(b){return v(b,g,e)}):-1===b.indexOf("!")?v(b,g,e):b:(n=v(b,g,e),b=t(n),h=b[0],n=b[1],f=!0,d=x.nameToUrl(n)));f=!h||c||f?"":"_unnormalized"+(ca+=1);return{prefix:h,name:n,parentMap:a,unnormalized:!!f,url:d,originalName:l,isDefine:m,id:(h?h+"!"+n:n)+f}}function z(b){var a=
b.id,f=k(O,a);f||(f=O[a]=new x.Module(b));return f}function r(a,f,e){var c=a.id,d=k(O,c);if(!b(V,c)||d&&!d.defineEmitComplete)if(d=z(a),d.error&&"error"===f)e(d.error);else d.on(f,e);else"defined"===f&&e(V[c])}function C(b,a){var f=b.requireModules,d=!1;if(a)a(b);else if(h(f,function(a){if(a=k(O,a))a.error=b,a.events.error&&(d=!0,a.emit("error",b))}),!d)q.onError(b)}function D(){ga.length&&(h(ga,function(b){var a=b[0];"string"===typeof a&&(x.defQueueMap[a]=!0);W.push(b)}),ga=[])}function U(b){delete O[b];
delete Ja[b]}function R(b,a,f){var d=b.map.id;b.error?b.emit("error",b.error):(a[d]=!0,h(b.depMaps,function(d,e){d=d.id;var c=k(O,d);!c||b.depMatched[e]||f[d]||(k(a,d)?(b.defineDep(e,V[d]),b.check()):R(c,a,f))}),f[d]=!0)}function B(){var b,f,k=(b=1E3*H.waitSeconds)&&x.startTime+b<(new Date).getTime(),d=[],e=[],c=!1,g=!0;if(!P){P=!0;l(Ja,function(b){var a=b.map,h=a.id;if(b.enabled&&(a.isDefine||e.push(b),!b.error))if(!b.inited&&k)N(h)?c=f=!0:(d.push(h),G(h));else if(!b.inited&&b.fetched&&a.isDefine&&
(c=!0,!a.prefix))return g=!1});if(k&&d.length)return b=u("timeout","Load timeout for modules: "+d,null,d),b.contextName=x.contextName,C(b);g&&h(e,function(b){R(b,{},{})});k&&!f||!c||!F&&!J||ma||(ma=a(function(){ma=0;B()},50));P=!1}}function S(a){b(V,a[0])||z(Z(a[0],null,!0)).init(a[1],a[2])}function Q(b){b=b.currentTarget||b.srcElement;var a=x.onScriptLoad;b.detachEvent&&!da?b.detachEvent("onreadystatechange",a):b.removeEventListener("load",a,!1);a=x.onScriptError;b.detachEvent&&!da||b.removeEventListener("error",
a,!1);return{node:b,id:b&&b.getAttribute("data-requiremodule")}}function E(){var b;for(D();W.length;){b=W.shift();if(null===b[0])return C(u("mismatch","Mismatched anonymous define() module: "+b[b.length-1]));S(b)}x.defQueueMap={}}var P,A,x,ia,ma,H={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},O={},Ja={},Ka={},W=[],V={},ra={},za={},ab=1,ca=1;ia={require:function(b){return b.require?b.require:b.require=x.makeRequire(b.map)},exports:function(b){b.usingExports=!0;if(b.map.isDefine)return b.exports?
V[b.map.id]=b.exports:b.exports=V[b.map.id]={}},module:function(b){return b.module?b.module:b.module={id:b.map.id,uri:b.map.url,config:function(){return k(H.config,b.map.id)||{}},exports:b.exports||(b.exports={})}}};A=function(b){this.events=k(Ka,b.id)||{};this.map=b;this.shim=k(H.shim,b.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};A.prototype={init:function(b,a,f,k){k=k||{};if(!this.inited){this.factory=a;if(f)this.on("error",f);else this.events.error&&
(f=n(this,function(b){this.emit("error",b)}));this.depMaps=b&&b.slice(0);this.errback=f;this.inited=!0;this.ignore=k.ignore;k.enabled||this.enabled?this.enable():this.check()}},defineDep:function(b,a){this.depMatched[b]||(this.depMatched[b]=!0,--this.depCount,this.depExports[b]=a)},fetch:function(){if(!this.fetched){this.fetched=!0;x.startTime=(new Date).getTime();var b=this.map;if(this.shim)x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],n(this,function(){return b.prefix?this.callPlugin():
this.load()}));else return b.prefix?this.callPlugin():this.load()}},load:function(){var b=this.map.url;ra[b]||(ra[b]=!0,x.load(this.map.id,b))},check:function(){if(this.enabled&&!this.enabling){var a,f,k=this.map.id;f=this.depExports;var d=this.exports,e=this.factory;if(!this.inited)b(x.defQueueMap,k)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(c(e)){if(this.events.error&&this.map.isDefine||q.onError!==
p)try{d=x.execCb(k,e,f,d)}catch(g){a=g}else d=x.execCb(k,e,f,d);this.map.isDefine&&void 0===d&&((f=this.module)?d=f.exports:this.usingExports&&(d=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",C(this.error=a)}else d=e;this.exports=d;if(this.map.isDefine&&!this.ignore&&(V[k]=d,q.onResourceLoad)){var l=[];h(this.depMaps,function(b){l.push(b.normalizedMap||b)});q.onResourceLoad(x,this.map,l)}U(k);
this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,f=a.id,d=Z(a.prefix);this.depMaps.push(d);r(d,"defined",n(this,function(d){var e,c,h=k(za,this.map.id),g=this.map.name,m=this.map.parentMap?this.map.parentMap.name:null,p=x.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(d.normalize&&(g=d.normalize(g,function(b){return v(b,m,!0)})||
""),c=Z(a.prefix+"!"+g,this.map.parentMap,!0),r(c,"defined",n(this,function(b){this.map.normalizedMap=c;this.init([],function(){return b},null,{enabled:!0,ignore:!0})})),d=k(O,c.id)){this.depMaps.push(c);if(this.events.error)d.on("error",n(this,function(b){this.emit("error",b)}));d.enable()}}else h?(this.map.url=x.nameToUrl(h),this.load()):(e=n(this,function(b){this.init([],function(){return b},null,{enabled:!0})}),e.error=n(this,function(b){this.inited=!0;this.error=b;b.requireModules=[f];l(O,function(b){0===
b.map.id.indexOf(f+"_unnormalized")&&U(b.map.id)});C(b)}),e.fromText=n(this,function(k,d){var c=a.name,h=Z(c),g=T;d&&(k=d);g&&(T=!1);z(h);b(H.config,f)&&(H.config[c]=H.config[f]);try{q.exec(k)}catch(l){return C(u("fromtexteval","fromText eval for "+f+" failed: "+l,l,[f]))}g&&(T=!0);this.depMaps.push(h);x.completeLoad(c);p([c],e)}),d.load(a.name,p,e,H))}));x.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){Ja[this.map.id]=this;this.enabling=this.enabled=!0;h(this.depMaps,n(this,function(a,
f){var d,e;if("string"===typeof a){a=Z(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[f]=a;if(d=k(ia,a.id)){this.depExports[f]=d(this);return}this.depCount+=1;r(a,"defined",n(this,function(b){this.undefed||(this.defineDep(f,b),this.check())}));this.errback?r(a,"error",n(this,this.errback)):this.events.error&&r(a,"error",n(this,function(b){this.emit("error",b)}))}d=a.id;e=O[d];b(ia,d)||!e||e.enabled||x.enable(a,this)}));l(this.pluginMaps,n(this,function(b){var a=k(O,
b.id);a&&!a.enabled&&x.enable(b,this)}));this.enabling=!1;this.check()},on:function(b,a){var f=this.events[b];f||(f=this.events[b]=[]);f.push(a)},emit:function(b,a){h(this.events[b],function(b){b(a)});"error"===b&&delete this.events[b]}};x={config:H,contextName:g,registry:O,defined:V,urlFetched:ra,defQueue:W,defQueueMap:{},Module:A,makeModuleMap:Z,nextTick:q.nextTick,onError:C,configure:function(b){b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/");if("string"===typeof b.urlArgs){var a=
b.urlArgs;b.urlArgs=function(b,f){return(-1===f.indexOf("?")?"?":"&")+a}}var f=H.shim,k={paths:!0,bundles:!0,config:!0,map:!0};l(b,function(b,a){k[a]?(H[a]||(H[a]={}),m(H[a],b,!0,!0)):H[a]=b});b.bundles&&l(b.bundles,function(b,a){h(b,function(b){b!==a&&(za[b]=a)})});b.shim&&(l(b.shim,function(b,a){d(b)&&(b={deps:b});!b.exports&&!b.init||b.exportsFn||(b.exportsFn=x.makeShimExports(b));f[a]=b}),H.shim=f);b.packages&&h(b.packages,function(b){var a;b="string"===typeof b?{name:b}:b;a=b.name;b.location&&
(H.paths[a]=b.location);H.pkgs[a]=b.name+"/"+(b.main||"main").replace(w,"").replace(ba,"")});l(O,function(b,a){b.inited||b.map.unnormalized||(b.map=Z(a,null,!0))});(b.deps||b.callback)&&x.require(b.deps||[],b.callback)},makeShimExports:function(b){return function(){var a;b.init&&(a=b.init.apply(e,arguments));return a||b.exports&&y(b.exports)}},makeRequire:function(a,d){function e(f,k,h){var l,m;d.enableBuildCallback&&k&&c(k)&&(k.__requireJsBuild=!0);if("string"===typeof f){if(c(k))return C(u("requireargs",
"Invalid require call"),h);if(a&&b(ia,f))return ia[f](O[a.id]);if(q.get)return q.get(x,f,a,e);l=Z(f,a,!1,!0);l=l.id;return b(V,l)?V[l]:C(u("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+g+(a?"":". Use require([])")))}E();x.nextTick(function(){E();m=z(Z(null,a));m.skipMap=d.skipMap;m.init(f,k,h,{enabled:!0});B()});return e}d=d||{};m(e,{isBrowser:F,toUrl:function(b){var f,k=b.lastIndexOf("."),d=b.split("/")[0];-1!==k&&("."!==d&&".."!==d||1<k)&&(f=b.substring(k,b.length),b=b.substring(0,
k));return x.nameToUrl(v(b,a&&a.id,!0),f,!0)},defined:function(f){return b(V,Z(f,a,!1,!0).id)},specified:function(f){f=Z(f,a,!1,!0).id;return b(V,f)||b(O,f)}});a||(e.undef=function(b){D();var d=Z(b,a,!0),e=k(O,b);e.undefed=!0;G(b);delete V[b];delete ra[d.url];delete Ka[b];f(W,function(a,f){a[0]===b&&W.splice(f,1)});delete x.defQueueMap[b];e&&(e.events.defined&&(Ka[b]=e.events),U(b))});return e},enable:function(b){k(O,b.id)&&z(b).enable()},completeLoad:function(a){var f,d,e=k(H.shim,a)||{},c=e.exports;
for(D();W.length;){d=W.shift();if(null===d[0]){d[0]=a;if(f)break;f=!0}else d[0]===a&&(f=!0);S(d)}x.defQueueMap={};d=k(O,a);if(!f&&!b(V,a)&&d&&!d.inited)if(!H.enforceDefine||c&&y(c))S([a,e.deps||[],e.exportsFn]);else return N(a)?void 0:C(u("nodefine","No define call for "+a,null,[a]));B()},nameToUrl:function(b,a,f){var e,c,h,g;(e=k(H.pkgs,b))&&(b=e);if(e=k(za,b))return x.nameToUrl(e,a,f);if(q.jsExtRegExp.test(b))e=b+(a||"");else{e=H.paths;c=b.split("/");for(h=c.length;0<h;--h)if(g=c.slice(0,h).join("/"),
g=k(e,g)){d(g)&&(g=g[0]);c.splice(0,h,g);break}e=c.join("/");e+=a||(/^data\:|^blob\:|\?/.test(e)||f?"":".js");e=("/"===e.charAt(0)||e.match(/^[\w\+\.\-]+:/)?"":H.baseUrl)+e}return H.urlArgs&&!/^blob\:/.test(e)?e+H.urlArgs(b,e):e},load:function(b,a){q.load(x,b,a)},execCb:function(b,a,f,k){return a.apply(k,f)},onScriptLoad:function(b){if("load"===b.type||aa.test((b.currentTarget||b.srcElement).readyState))K=null,b=Q(b),x.completeLoad(b.id)},onScriptError:function(b){var a=Q(b);if(!N(a.id)){var f=[];
l(O,function(b,k){0!==k.indexOf("_@r")&&h(b.depMaps,function(b){if(b.id===a.id)return f.push(k),!0})});return C(u("scripterror",'Script error for "'+a.id+(f.length?'", needed by: '+f.join(", "):'"'),b,[a.id]))}}};x.require=x.makeRequire();return x}function t(){if(K&&"interactive"===K.readyState)return K;f(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return K=b});return K}var q,z,D,E,A,v,K,N,G,C,R=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,U=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
ba=/\.js$/,w=/^\.\//;z=Object.prototype;var Q=z.toString,B=z.hasOwnProperty,F=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),J=!F&&"undefined"!==typeof importScripts,aa=F&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,da="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),S={},P={},ga=[],T=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(c(requirejs))return;P=requirejs;requirejs=void 0}"undefined"===typeof require||
c(require)||(P=require,require=void 0);q=requirejs=function(b,a,f,e){var c,h="_";d(b)||"string"===typeof b||(c=b,d(a)?(b=a,a=f,f=e):b=[]);c&&c.context&&(h=c.context);(e=k(S,h))||(e=S[h]=q.s.newContext(h));c&&e.configure(c);return e.require(b,a,f)};q.config=function(b){return q(b)};q.nextTick="undefined"!==typeof a?function(b){a(b,4)}:function(b){b()};require||(require=q);q.version="2.3.3";q.jsExtRegExp=/^\/|:|\?|\.js$/;q.isBrowser=F;z=q.s={contexts:S,newContext:r};q({});h(["toUrl","undef","defined",
"specified"],function(b){q[b]=function(){var a=S._;return a.require[b].apply(a,arguments)}});F&&(D=z.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0])&&(D=z.head=E.parentNode);q.onError=p;q.createNode=function(b,a,f){a=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");a.type=b.scriptType||"text/javascript";a.charset="utf-8";a.async=!0;return a};q.load=function(b,f,k){var d=b&&b.config||{},e;if(F){e=
q.createNode(d,f,k);e.setAttribute("data-requirecontext",b.contextName);e.setAttribute("data-requiremodule",f);!e.attachEvent||e.attachEvent.toString&&0>e.attachEvent.toString().indexOf("[native code")||da?(e.addEventListener("load",b.onScriptLoad,!1),e.addEventListener("error",b.onScriptError,!1)):(T=!0,e.attachEvent("onreadystatechange",b.onScriptLoad));e.src=k;if(d.onNodeCreated)d.onNodeCreated(e,d,f,k);N=e;E?D.insertBefore(e,E):D.appendChild(e);N=null;return e}if(J)try{a(function(){},0),importScripts(k),
b.completeLoad(f)}catch(c){b.onError(u("importscripts","importScripts failed for "+f+" at "+k,c,[f]))}};F&&!P.skipDataMain&&f(document.getElementsByTagName("script"),function(b){D||(D=b.parentNode);if(A=b.getAttribute("data-main"))return G=A,P.baseUrl||-1!==G.indexOf("!")||(v=G.split("/"),G=v.pop(),C=v.length?v.join("/")+"/":"./",P.baseUrl=C),G=G.replace(ba,""),q.jsExtRegExp.test(G)&&(G=A),P.deps=P.deps?P.deps.concat(G):[G],!0});define=function(b,a,f){var k,e;"string"!==typeof b&&(f=a,a=b,b=null);
d(a)||(f=a,a=null);!a&&c(f)&&(a=[],f.length&&(f.toString().replace(R,g).replace(U,function(b,f){a.push(f)}),a=(1===f.length?["require"]:["require","exports","module"]).concat(a)));T&&(k=N||t())&&(b||(b=k.getAttribute("data-requiremodule")),e=S[k.getAttribute("data-requirecontext")]);e?(e.defQueue.push([b,a,f]),e.defQueueMap[b]=!0):ga.push([b,a,f])};define.amd={jQuery:!0};q.exec=function(b){return eval(b)};q(P)}})(this,"undefined"===typeof setTimeout?void 0:setTimeout);define("requireLib",function(){});
define("unrulyAdCore/util/window",[],function(){return window.parent});define("util/publisherWindow",[],function(){return window.top});
define("util/trackingEvent",[],function(){return{TAG_IMP:"pp_tag_imp",ADCALL:"pp_adcall",CREATIVE_RECEIVED:"creative_received",PP_IMP:"pp_imp",COMPLETED_VIEW:"pp_completed_view",IMP:"imp",VIEW_IMP:"viewableImpression",ORIENTATION_CHANGE:"orientation_change",CLICK:"click",VIDEO_CLICK:"video_click",POST_VIDEO_CLICK:"post_video_click",PRIVACY_POLICY:"privacy_policy",THREE:"three",TEN:"ten",THIRTY:"thirty",THUMB_IMP:"thumb_imp3",TWO_SECOND_VIEW_IMP:"two_second_view_imp",PP_PAUSE:"pp_pause",PP_RESUME:"pp_resume",
DEBUG_TICK:"debug_tick",PIXEL_TIMING:"pixeltiming",COMPATIBLE_MEDIA_FILE:"compatible_media_file",share:{FACEBOOK:"share_facebook",TWITTER:"share_twitter",GOOGLEPLUS:"share_googleplus",LINKEDIN:"share_linkedin",PINTEREST:"share_pinterest"},error:{ERROR:"error",NO_ADS:"no_ads",NO_MATCHING_PLACEMENT:"no_matching_placement",ZERO_MATCHING_PLACEMENTS:"zero_matching_placements",NO_SKIN:"no_skin",UNSUPPORTED_BROWSER:"unsupported_browser",AD_REQUEST_FAILED:"error_ad_request_failed",AUDIENCE_TARGETING_REQUEST_FAILED:"error_audience_targeting_request_failed",
SKIN_SETUP_FAILED:"error_skin_setup_failed",INFEED_VIDEO_SETUP_FAILED:"error_infeed_video_setup_failed",BLOCKED_CROSS_ORIGIN_FRAME:"error_blocked_cross_origin_frame",UNSUPPORTED_FALLBACK_CONFIG:"error_unsupported_fallback_config",PLACEMENT_ALREADY_FOUND:"placement_already_found",ELEMENT_STYLE_CLONE_ERROR:"element_style_clone_error",MEDIA_ERR_SRC_NOT_SUPPORTED:"media_err_src_not_supported",MEDIA_ERR_ABORTED:"media_err_aborted",MEDIA_ERR_NETWORK:"media_err_network",MEDIA_ERR_DECODE:"media_err_decode",
CLICK_ACTION_CREATION_FAILURE:"click_action_creation_failure",SCHEME_NOT_SUPPORTED:"scheme_not_supported",AD_ERROR:"ad_error",AD_REMAININGTIME_NOT_AVAILABLE:"adremainingtime_not_available",NO_COMPATIBLE_MEDIA_FILE_FOUND:"no_compatible_media_file_found",NO_LINEAR_CREATIVE:"no_linear_creative_found"},publisher_marker:{FALLBACK:"publisher_marker_fallback"},prefixed:{VAST_REQUEST_X:"vast_request_"},START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",
UNMUTE:"unmute",MUTE:"mute",PAUSE:"pause",RESUME:"resume",UNRULY_OPT_OUT_CLICK:"unruly_opt_out_click"}});
define("util/browser",["util/publisherWindow"],function(e){function a(){return/Android.*mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e.navigator.userAgent)&&m()}function g(){return 4.4<=p()}function c(){return(/CPU iPhone OS (9|10|11)/i.test(e.navigator.userAgent)||g())&&m()}function d(){var b;if(b=h())b=e.screen?!m():!1;return b}function h(){var b=/Android (4|5|6|7|8|9)\.\d(\.\d)?;/i,a=e.navigator.userAgent;return/iPad; CPU OS (9|10|11)/i.test(a)||b.test(a)}function f(b){return(b=
b.exec(e.navigator.userAgent))&&2===b.length?b=parseFloat(b[1]):-1}function b(){var b=/ OPR\/30/,b=25<=u()&&!b.test(e.navigator.userAgent),f=a()||h();return!f&&b||f&&b&&c()}function k(){var b=/ Firefox\/(\d+\.\d+)/i,a=/\(Windows NT (\d+\.\d+)/i,k=/Macintosh; Intel Mac OS X/i,d=e.navigator.userAgent,a=25<=f(b)&&6.1<=f(a),b=35<=f(b)&&k.test(d);return a||b}function l(){var b=/ Version\/(\d+\.\d+)(?:\.\d+)?.* Safari\/\d+\.\d+/i,k=/iPad; /i;return a()||k.test(e.navigator.userAgent)?9<=f(b):6<=f(b)}function m(){return e.screen?
1150>Math.sqrt(e.screen.width*e.screen.width+e.screen.height*e.screen.height):!1}function n(b){var a=e.document.createElement("a");a.href=b;return a.hostname}function p(){var b=e.navigator.userAgent.match(/Android (\d+)\.(\d+)/);return void 0!==b&&null!==b?(b=[parseInt(b[1],10),parseInt(b[2],10)],parseFloat(b.join("."))):!1}function y(){var b=e.navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return void 0!==b&&null!==b?(b=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)],parseFloat(b.join("."))):
!1}function u(){return f(/ Chrome\/(\d+\.\d+)/i)}var r=void 0;return{isMobile:a,isSupportedMobileDevice:c,isSupportedTablet:d,isTablet:h,isSupported:function(){var a;a=/MSIE (\d+\.\d+)/i;var h=/Trident\/(\d+\.\d+)/i;a="CSS1Compat"===e.document.compatMode?10<=f(a)||7<=f(h)?!0:!1:void 0;return a||b()||k()||l()||c()||d()},isSupportedFirefox:k,isSupportedChrome:b,isLandscape:function(){return e.matchMedia("(orientation: landscape)").matches},openWindow:function(b){var a=e.open(b,"_blank");a||(a=e.open("",
"_blank"),a.location.href=b);a&&(a.opener=null)},requestFullscreen:function(b){b.requestFullscreen?b.requestFullscreen():b.msRequestFullscreen?b.msRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.webkitEnterFullscreen&&b.webkitEnterFullscreen()},exitFullscreen:function(b){b.exitFullscreen?b.exitFullscreen():b.webkitExitFullScreen?b.webkitExitFullScreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen&&b.msExitFullscreen()},
getLanguage:function(){return e.navigator.language||e.navigator.userLanguage},getDomain:function(){return n(e.location.href)},getDomainFromURL:n,getPerformance:function(){return e.performance},supportsFlash:function(){if(void 0===r){var b;if(b=!a()&&!h()){var f;if(e.ActiveXObject)try{new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),f=!0}catch(k){f=!1}else f=!!e.navigator.plugins["Shockwave Flash"];b=f}r=b}return r},openInCurrentTab:function(b){e.location.href=b},iOSVersion:y,androidVersion:p,
isFlashBlocked:function(f,k){var e=16/9;return a()||!b()&&!l()||!f||!k||398<=f&&298<=k||.01>Math.abs(f/k-e)&&12E4<=f*k?!1:!0},supportsMobileAutoPlay:function(){return 10<=y()||g()&&53<=u()},chromeVersion:u,isSupportedAndroid:g}});
define("util/enable",["util/browser","util/publisherWindow"],function(e,a){return{audienceTargeting:!0,targetingXhrWithCredentials:!0,letterboxInFeedVideo:!1,quartileTracking:!0,inFeedVideoIcons:!0,siteSupportsResponsiveInFeedVideo:!1,videoClickthroughNewTab:!1,videoClickthroughCurrentTab:!1,reportSize:!1,inProduction:!0,siteSupportsHTTPS:!0,skipIOSCheck:!1,measureDisplayImpressions:!1,fullscreenInArticleSupported:!1,debugTicker:!1,loadFlashFaster:!1,mobileOutOfViewPause:!1,supportsCurrentURLScheme:function(){var e=
"http:"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:a).location.protocol;return this.siteSupportsHTTPS||e},supportsDesktopVideoContainer:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e;return!a.isMobile()&&!a.isTablet()},moatViewabilityTracking:function(a){return this.supportsDesktopVideoContainer(1<arguments.length&&void 0!==arguments[1]?arguments[1]:e)&&"true"===a.ve},outOfViewPauseOverride:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
e;return this.mobileOutOfViewPause&&a.isMobile()},loggingServiceDoSample:!1,skinAttributeCopyToVideoContainer:!1}});define("util/stopwatch",[],function(){var e={};return{init:function(){e={}},start:function(a,g){e[a]={start:g||(new Date).getTime()}},stop:function(a){(e[a]||{}).end=(new Date).getTime()},getTime:function(a){return(a=e[a])&&a.end?a.end-a.start:null},getStopwatch:function(a){return e[a]},getStopwatches:function(){return e}}});
define("util/url",["util/publisherWindow"],function(e){return{getQueryParameterValue:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");return(a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(e.location.search))&&2===a.length?decodeURIComponent(a[1]):""},ensureProtocolPrefix:function(a){return 0===a.indexOf("//")?e.location.protocol+a:a},extractDomainFromUrl:function(a){return a?(a=a.match(/^(?:https?:)?\/\/([a-zA-Z0-9\.\-]+)/))&&1<a.length?a[1]:"":""}}});
define("publisherConfigController",["jquery","util/trackingEvent","util/enable","util/stopwatch","util/url"],function(e,a,g,c,d){var h=["demo.unrulymedia.com","publisher.unrulytest.tk","video.unrulymedia.com","test.video.unrulymedia.com"];return{getPublisherConfig:function(f,b,k){var l="//cloud-video.unrulymedia.com/native/skins/skin-"+f+".json";if(f){c.start("skin");var m=d.getQueryParameterValue("unruly_skin_override");if(m){var n=d.extractDomainFromUrl(m);-1!==h.indexOf(n)&&(l=m)}e.getJSON(l).done(function(e){c.stop("skin");
if(e.siteId!==f)k("siteid of skin does not match requested siteid",a.error.SKIN_SETUP_FAILED);else{if(e.featureOverrides)for(var d in e.featureOverrides)e.featureOverrides.hasOwnProperty(d)&&(g[d]=e.featureOverrides[d]);b(e)}}).fail(function(b,f,e){c.stop("skin");k("could not get skin ("+e+")",a.error.NO_SKIN)})}else k("site id not provided",a.error.SKIN_SETUP_FAILED)}}});
define("unrulyError",[],function(){function e(a,e,c){this.message=a;this.errorType=e;this.errorParams=c}e.prototype=Object.create(Error.prototype);return e.prototype.constructor=e});
define("placementController",["util/trackingEvent","unrulyError"],function(e,a){function g(a){return a.format&&a.format.inArticle}function c(a){return a.format&&a.format.inFeed}function d(a,f){return function(b){return a(b)&&f(b)}}return{verifyConfig:function(h){if(h&&h.placements){if(0===h.placements.length)throw new a("no placements found in publisher config",e.error.SKIN_SETUP_FAILED);if(0<h.placements.filter(d(g,c)).length)throw new a("placements must be either in-feed or in-article, not both",
e.error.SKIN_SETUP_FAILED);}else throw new a("no valid publisher config found",e.error.SKIN_SETUP_FAILED);return h.placements}}});
(function(e,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define("es6promise",a):e.ES6Promise=a()})(this,function(){function e(){return function(){return process.nextTick(h)}}function a(){return function(){Q(h)}}function g(){var b=0,a=new aa(h),f=document.createTextNode("");a.observe(f,{characterData:!0});return function(){f.data=b=++b%2}}function c(){var b=new MessageChannel;b.port1.onmessage=h;return function(){return b.port2.postMessage(0)}}
function d(){var b=setTimeout;return function(){return b(h,1)}}function h(){for(var b=0;b<w;b+=2)(0,S[b])(S[b+1]),S[b]=void 0,S[b+1]=void 0;w=0}function f(){try{var b=require("vertx");Q=b.runOnLoop||b.runOnContext;return a()}catch(f){return d()}}function b(b,a){var f=arguments,k=this,e=new this.constructor(l);void 0===e[ga]&&N(e);var d=k._state;d?function(){var b=f[d-1];F(function(){return v(d,e,b,k._result)})}():D(k,e,b,a);return e}function k(b){if(b&&"object"===typeof b&&b.constructor===this)return b;
var a=new this(l);r(a,b);return a}function l(){}function m(b){try{return b.then}catch(a){return ka.error=a,ka}}function n(b,a,f,k){try{b.call(a,f,k)}catch(e){return e}}function p(b,a,f){F(function(b){var k=!1,e=n(f,a,function(f){k||(k=!0,a!==f?r(b,f):q(b,f))},function(a){k||(k=!0,z(b,a))},"Settle: "+(b._label||" unknown promise"));!k&&e&&(k=!0,z(b,e))},b)}function y(b,a){a._state===na?q(b,a._result):a._state===ja?z(b,a._result):D(a,void 0,function(a){return r(b,a)},function(a){return z(b,a)})}function u(a,
f,e){f.constructor===a.constructor&&e===b&&f.constructor.resolve===k?y(a,f):e===ka?z(a,ka.error):void 0===e?q(a,f):"function"===typeof e?p(a,f,e):q(a,f)}function r(b,a){b===a?z(b,new TypeError("You cannot resolve a promise with itself")):"function"===typeof a||"object"===typeof a&&null!==a?u(b,a,m(a)):q(b,a)}function t(b){b._onerror&&b._onerror(b._result);E(b)}function q(b,a){b._state===T&&(b._result=a,b._state=na,0!==b._subscribers.length&&F(E,b))}function z(b,a){b._state===T&&(b._state=ja,b._result=
a,F(t,b))}function D(b,a,f,k){var e=b._subscribers,d=e.length;b._onerror=null;e[d]=a;e[d+na]=f;e[d+ja]=k;0===d&&b._state&&F(E,b)}function E(b){var a=b._subscribers,f=b._state;if(0!==a.length){for(var k,e,d=b._result,c=0;c<a.length;c+=3)k=a[c],e=a[c+f],k?v(f,k,e,d):e(d);b._subscribers.length=0}}function A(){this.error=null}function v(b,a,f,k){var e="function"===typeof f,d,c=void 0,h=void 0,g=void 0;if(e){try{d=f(k)}catch(l){oa.error=l,d=oa}d===oa?(g=!0,c=d.error,d=null):h=!0;if(a===d){z(a,new TypeError("A promises callback cannot return that same promise."));
return}}else d=k,h=!0;a._state===T&&(e&&h?r(a,d):g?z(a,c):b===na?q(a,d):b===ja&&z(a,d))}function K(b,a){try{a(function(a){r(b,a)},function(a){z(b,a)})}catch(f){z(b,f)}}function N(b){b[ga]=fa++;b._state=void 0;b._result=void 0;b._subscribers=[]}function G(b,a){this._instanceConstructor=b;this.promise=new b(l);this.promise[ga]||N(this.promise);ba(a)?(this._input=a,this._remaining=this.length=a.length,this._result=Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||
0,this._enumerate(),0===this._remaining&&q(this.promise,this._result))):z(this.promise,Error("Array Methods must be provided an Array"))}function C(b){this[ga]=fa++;this._result=this._state=void 0;this._subscribers=[];if(l!==b){if("function"!==typeof b)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof C)K(this,b);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}function R(){var b=void 0;if("undefined"!==typeof global)b=global;else if("undefined"!==typeof self)b=self;else try{b=Function("return this")()}catch(a){throw Error("polyfill failed because global object is unavailable in this environment");}var f=b.Promise;if(f){var k=null;try{k=Object.prototype.toString.call(f.resolve())}catch(a){}if("[object Promise]"===k&&!f.cast)return}b.Promise=C}var U=void 0,ba=U=Array.isArray?Array.isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)},
w=0,Q=void 0,B=void 0,F=function(b,a){S[w]=b;S[w+1]=a;w+=2;2===w&&(B?B(h):P())},J=(U="undefined"!==typeof window?window:void 0)||{},aa=J.MutationObserver||J.WebKitMutationObserver,J="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),da="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,S=Array(1E3),P=void 0,P=J?e():aa?g():da?c():void 0===U&&"function"===typeof require?f():d(),ga=Math.random().toString(36).substring(16),
T=void 0,na=1,ja=2,ka=new A,oa=new A,fa=0;G.prototype._enumerate=function(){for(var b=this.length,a=this._input,f=0;this._state===T&&f<b;f++)this._eachEntry(a[f],f)};G.prototype._eachEntry=function(a,f){var e=this._instanceConstructor,d=e.resolve;d===k?(d=m(a),d===b&&a._state!==T?this._settledAt(a._state,f,a._result):"function"!==typeof d?(this._remaining--,this._result[f]=a):e===C?(e=new e(l),u(e,a,d),this._willSettleAt(e,f)):this._willSettleAt(new e(function(b){return b(a)}),f)):this._willSettleAt(d(a),
f)};G.prototype._settledAt=function(b,a,f){var k=this.promise;k._state===T&&(this._remaining--,b===ja?z(k,f):this._result[a]=f);0===this._remaining&&q(k,this._result)};G.prototype._willSettleAt=function(b,a){var f=this;D(b,void 0,function(b){return f._settledAt(na,a,b)},function(b){return f._settledAt(ja,a,b)})};C.all=function(b){return(new G(this,b)).promise};C.race=function(b){var a=this;return ba(b)?new a(function(f,k){for(var e=b.length,d=0;d<e;d++)a.resolve(b[d]).then(f,k)}):new a(function(b,
a){return a(new TypeError("You must pass an array to race."))})};C.resolve=k;C.reject=function(b){var a=new this(l);z(a,b);return a};C._setScheduler=function(b){B=b};C._setAsap=function(b){F=b};C._asap=F;C.prototype={constructor:C,then:b,"catch":function(b){return this.then(null,b)}};R();C.polyfill=R;return C.Promise=C});define("promise",["es6promise"],function(e){return e.Promise});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
define("placementFinder","util/publisherWindow jquery util/trackingEvent promise unrulyAdCore/util/window unrulyError".split(" "),function(e,a,g,c,d,h){function f(b){var a=this;this.deferred=new c(function(b,f){a.resolve=b;a.reject=f});this.placement=b;this.placementPollTimeouts=[]}function b(b){var a=b.format;b=a.inFeed;return(a=a.inArticle)?a:b}function k(b,f){"undefined"!==typeof f&&d.clearTimeout(f);a(b).waitUntilExists("remove")}function l(b,f){var e=void 0,e=d.setTimeout(function(){k(b,e);f(!1,
b)},14E3);a(b).waitUntilExists(function(){k(b,e);1<a(b).length?f(!1,b):f(!0,b)},!0);return e}f.prototype.matchPlacement=function(){var f=this,k=b(this.placement),d=this.getRequiredPlacementSelectors(k);if(k.adInsertion&&!k.adInsertion.selector)this.reject(new h("adInsertion selector is not present",g.error.SKIN_SETUP_FAILED));else if(k.adInsertion&&"function"!==typeof a(e)[k.adInsertion.mode])this.reject(new h("adInsertion mode is unsupported",g.error.SKIN_SETUP_FAILED));else{var c=function(b,a){b?
f.reject(b):f.resolve(a)};a(e.document).ready(function(){f.findRequiredPlacementElements(f.placement,d,c)})}return this.deferred};f.prototype.getPlacementId=function(){if("object"!==_typeof(this.placement))throw new h("invalid placement provided");return this.placement.placementId};f.prototype.getPlacement=function(){return this.placement};f.prototype.cancel=function(){this.reject(new h("cancelled",g.error.PLACEMENT_ALREADY_FOUND));this.placementPollTimeouts.forEach(function(b){k(b.selector,b.timeout)})};
f.prototype.getRequiredPlacementSelectors=function(b){var a=[{selector:b.basePlacement.selector}];b.adInsertion&&b.adInsertion.selector!==b.basePlacement.selector&&a.push({selector:b.adInsertion.selector});return a};f.prototype.findRequiredPlacementElements=function(b,a,f){function k(e,d){var c=void 0,c=void 0;a.filter(function(b){return b.selector===d}).map(function(b){b.found=e});c=a.filter(function(b){return"undefined"===typeof b.found});0<c.length||(c=a.filter(function(b){return!1===b.found}).map(function(b){return b.selector}),
0<c.length?f(new h("incorrect number of matches for "+c.join(", "),g.error.NO_MATCHING_PLACEMENT),void 0):f(void 0,{config:b}))}this.placementPollTimeouts=a.map(function(b){return{timeout:l(b.selector,k),selector:b.selector}})};return f});define("util/imageFactory",[],function(){return{createImage:function(e,a){return new Image(e,a)}}});
define("util/pixelService",["promise","util/imageFactory"],function(e,a){return{fire:function(g){return new e(function(e,d){var h=a.createImage(1,1),f=(new Date).getTime();h.onload=function(){var b=(new Date).getTime();e({url:g,time:b-f})};h.onerror=function(){var b=(new Date).getTime(),a=Error("Failed to load the image");a.url=g;a.time=b-f;d(a)};h.src=g})},fireBeacon:function(a){navigator.sendBeacon&&navigator.sendBeacon(a)}}});
define("util/performanceMetrics",["util/stopwatch","util/browser"],function(e,a){var g={requestStart:"perf_req_start",responseStart:"perf_res_start",responseEnd:"perf_res_end",domContentLoadedEventEnd:"perf_dom_ready",loadEventEnd:"perf_onload"};return{buildParameters:function(){var c,d="",h=a.getPerformance();if(h&&h.timing)for(c in g)if(g.hasOwnProperty(c)){var h=c,f="",b=a.getPerformance();b.timing[h]&&(f=f+"&"+g[h],f=f+"="+b.timing[h]);d+=f}c=d;var h="",d=e.getStopwatches(),k;for(k in d)d.hasOwnProperty(k)&&
(f=d[k],b="&perf_"+k+"_start="+f.start,f.end&&(b+="&perf_"+k+"_end="+f.end),h+=b);return c+h}}});define("util/global",[],function(){return window});
define("session/sessionInfo",["util/browser","util/publisherWindow","unrulyAdCore/util/window","util/global"],function(e,a,g,c){function d(){return a.location.href}function h(){return encodeURIComponent(d())}return{getSiteInfo:function(){return{site:{lang:e.getLanguage(),ref:a.document.referrer,page:a.location.href,domain:e.getDomain()}}},getGitHash:function(){return"v1.0.775-6-g4439fb5"},getSessionId:function(){return c._sessionId},getSiteId:function(){return g.unruly&&g.unruly.native&&g.unruly.native.siteId||
null},getRefUrl:function(){return a.document.referrer},getPageUrl:d,getEncodedPageURL:h,getDoubleEncodedPageURL:function(){return encodeURIComponent(h())}}});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
define("tracking","util/pixelService util/trackingEvent util/performanceMetrics session/sessionInfo util/browser util/url promise util/publisherWindow".split(" "),function(e,a,g,c,d,h,f,b){function k(b,a,f,k){b="//stats3.unrulymedia.com/blank.gif?"+b+"="+a+"&app=native&pid="+c.getSiteId();k=k||{};for(var d in f)f.hasOwnProperty(d)&&(b+="&"+d+"="+encodeURIComponent(f[d]));b=n(b,k);k.noTopWindowAccess||(b+=g.buildParameters());return e.fire(b)}function l(b){return-1===[a.CLICK,a.VIDEO_CLICK,a.POST_VIDEO_CLICK,
a.error.ELEMENT_STYLE_CLONE_ERROR,a.UNMUTE,a.MUTE].indexOf(b)}function m(b,e){return f.all(e.map(function(b){return b["catch"](function(b){return b})})).then(function(f){var e=[];f.forEach(function(b){var a=h.extractDomainFromUrl(b.url);e.push({domain:a,time:b.time})});k("t",a.PIXEL_TIMING,{eventTracked:b,times:JSON.stringify(e)})})}function n(b,a){var f=/\[ENCODED_URL\]/g,k=/\[DOUBLE_ENCODED_URL\]/g;a=a||{};r.test(b)&&(b=b+"&id=[CACHEBUSTER]"+("&d="+(new Date).getTime()),b+="&h="+c.getGitHash());
a.noTopWindowAccess||(b=b.replace(f,c.getEncodedPageURL()).replace(k,c.getDoubleEncodedPageURL()));return b.replace(/\[CACHEBUSTER\]/g,c.getSessionId())}function p(b){var a="apid skid aid crid cid vid playThrough bidder_name demand_partner demand_source txid deal_id rtb_all_adomains rtb_adid rtb_crid rtb_seatid".split(" ");b=b||{};t&&a.forEach(function(a){var f=t[a];f&&(b[a]=f)});return b}function y(a){a=a||{};a.isMobile=d.isMobile();a.pageLoadId=b.__unrulyPageLoadId;u(a);return a}function u(b){d.isMobile()&&
(b.isLandscape=d.isLandscape());return b}var r=/stats3\.unrulymedia\.com/,t,q={};return{trackSplunk:function(b,a){return this._firePixel("e",b,a)},trackActivate:function(b,a){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!q[b]||!l(b))return a=p(a),f.noTopWindowAccess||(a=y(a)),q[b]=!0,this._firePixel("t",b,a,f)},trackActivateBeacon:function(b,a){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};a=p(a);f.noTopWindowAccess||(a=y(a));return this._fireBeacon("t",b,a,
f)},trackThirdParty:function(f){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=t.tracking[f];k.pageLoadId=b.__unrulyPageLoadId;u(k);"object"!==("undefined"===typeof d?"undefined":_typeof(d))||q[f]&&l(f)||(d=d.map(n).map(function(b){if(r.test(b)){for(var a in k)k.hasOwnProperty(a)&&void 0!==k[a]&&(b+="&"+a+"="+encodeURIComponent(k[a]));b+=g.buildParameters()}return b}).map(e.fire),f===a.IMP&&m(f,d),q[f]=!0)},registerCampaignConfig:function(b){t=b},enrichParametersFromPlacement:function(b,
a){a.placementId&&(b.placementId=a.placementId);a.name&&(b.placementName=a.name);a.format&&a.format.inArticle&&a.format.inArticle.basePlacement&&a.format.inArticle.basePlacement.tagManaged&&(b.tagManaged=a.format.inArticle.basePlacement.tagManaged);a.format&&0<Object.keys(a.format).length&&"string"===typeof Object.keys(a.format)[0]&&(b.adf=Object.keys(a.format)[0].toLowerCase())},_firePixel:k,_fireBeacon:function(b,a,f,k){b="//stats3.unrulymedia.com/blank.gif?"+b+"="+a+"&app=native&pid="+c.getSiteId();
k=k||{};for(var d in f)f.hasOwnProperty(d)&&(b+="&"+d+"="+encodeURIComponent(f[d]));b=n(b,k);k.noTopWindowAccess||(b+=g.buildParameters());return e.fireBeacon(b)},_trackTimeTaken:m}});define("util/publisherApi",["unrulyAdCore/util/window"],function(e){return{onFinished:function(){e.unruly&&e.unruly.native&&"function"===typeof e.unruly.native.onFinished&&e.unruly.native.onFinished.call(e)}}});
define("util/elementStyleReset",["jquery"],function(e){var a={DIV:"block",IFRAME:"inline"};return{resetStyles:function(g){if(g){var c=e(g),d=a[c.prop("tagName")];c.setImportantStyle({margin:0,padding:0,border:0,"line-height":"normal","text-align":"left","letter-spacing":"initial","min-width":"initial","min-height":"initial"});d&&c.setImportantStyle({display:d});return g}}}});
define("util/dom/styles",["jquery"],function(e){return Object.keys(e.fn).concat(["setImportantStyle"]).reduce(function(a,g){a[g]=function(a){for(var d,h=arguments.length,f=Array(1<h?h-1:0),b=1;b<h;b++)f[b-1]=arguments[b];return(d=e(a))[g].apply(d,f)};return a},{})});
define("audienceTargeting","jquery promise util/trackingEvent util/publisherWindow util/elementStyleReset util/dom/styles session/sessionInfo unrulyError".split(" "),function(e,a,g,c,d,h,f,b){function k(){setTimeout(function(){var b="//video.unrulymedia.com/iframes/third-party-iframes.html?h="+f.getGitHash(),a=c.location.protocol,k;k=e("<iframe>");k.attr("src",a+b);d.resetStyles(k);h.setImportantStyle(k,{width:0,height:0,border:0,display:"none"});e("body",c.document).append(k)},1E3)}return{request:function(){return new a(function(a,
f){var k="unruly_infeed_audience_cb_"+(new Date).getTime()+"_"+Math.floor(1E7*Math.random());e.ajax({url:"//segapi.quantserve.com/api/segments.json?a=p-e8Y0HwzVa2sIw&callback="+k,dataType:"jsonp",jsonp:!1,jsonpCallback:k,cache:!0,success:function(b){a(b)},error:function(a,k){f(new b("Audience Targeting Request Failed ("+k+" "+a.status+")",g.error.AUDIENCE_TARGETING_REQUEST_FAILED))}})})},syncData:function(){e(c).ready(k)},_addDataSyncIFrameAfterTimeout:k}});
define("util/eventDispatcher",["jquery"],function(e){function a(a){this.target=e(a)}a.prototype={addEventListener:function(a,e){this.target.on(a,e)},one:function(a,e){this.target.one(a,e)},removeEventListener:function(a,e){this.target.off(a,e)},dispatchEvent:function(a,e){this.target.trigger(a,e)}};return a});define("util/eventBus",["util/eventDispatcher"],function(e){return new e({})});
(function(e){"object"===typeof exports&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define("vpaid-consumer/vpaid-consumer",[],e):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).VPAIDConsumer=e()})(function(){return function a(g,c,d){function h(b,l){if(!c[b]){if(!g[b]){var m="function"==typeof require&&require;if(!l&&m)return m(b,!0);if(f)return f(b,!0);l=Error("Cannot find module '"+b+"'");throw l.code=
"MODULE_NOT_FOUND",l;}l=c[b]={exports:{}};g[b][0].call(l.exports,function(a){var f=g[b][1][a];return h(f?f:a)},l,l.exports,a,g,c,d)}return c[b].exports}for(var f="function"==typeof require&&require,b=0;b<d.length;b++)h(d[b]);return h}({1:[function(a,g,c){a=a("./lib/vpaid-consumer");g.exports=a},{"./lib/vpaid-consumer":4}],2:[function(a,g,c){var d=a("./utils/dom-utils");g.exports={embed:function(a){var f,b={type:"application/x-shockwave-flash",data:a.swfUrl,width:a.width,height:a.height,style:"width: "+
a.width+" !important; height: "+a.height+" !important;"};f=d.createElement("object");d.addAttributes(f,b);var b={allowScriptAccessParam:{name:"allowScriptAccess",value:"always"},allowFullscreenParam:{name:"allowFullScreen",value:"true"},wmodeParam:{name:"wmode",value:"opaque"},qualityParam:{name:"quality",value:"high"},menuParam:{name:"menu",value:"false"},flashvarsParam:{name:"flashvars",value:"onConsumerReady="+a.flashVars.onConsumerReady+"&onFlashEvent="+a.flashVars.onFlashEvent}},k,c;for(k in b)b.hasOwnProperty(k)&&
(c=d.createElement("param",k),d.addAttributes(c,b[k]),d.appendChild(f,c));d.addClass(f,"unruly_vpaid_player");d.prependChild(a.parentElement,f);return f}}},{"./utils/dom-utils":3}],3:[function(a,g,c){g.exports={createElement:function(a){return document.createElement(a)},addAttributes:function(a,c){for(var f in c)a.setAttribute(f,c[f])},appendChild:function(a,c){a.appendChild(c)},prependChild:function(a,c){a.insertBefore(c,a.firstChild)},addClass:function(a,c){var f=a.className;a.className=""==f?c:
f+" "+c}}},{}],4:[function(a,g,c){function d(a){this.width=a.width;this.height=a.height;this.parentElement=a.parentElement;this.flashBridgeName=a.flashBridgeName||"__unrulyFlashBridge";this._emitter=new b.EventEmitter;this.consumerUrl=a.consumerUrl;this.isReady=!1}var h=a("./swf-embedder"),f=a("./vpaid-creative"),b=a("events");d.prototype.init=function(){var b=this.consumerUrl,a=this.parentElement.ownerDocument,d=this;(a.defaultView||a.parentWindow)[this.flashBridgeName]={onConsumerReady:function(){d.isReady=
!0;d._emitter.emit("ready",!0)},onFlashEvent:function(b,a){var k;a=decodeURIComponent(a);try{k=JSON.parse(a)}catch(c){k={type:"Error",message:"Could not deserialise the flash event "+a}}"VPAIDCreativeLoaded"===b?(d.vpaidCreative=f.create({flashObject:d._flashObj}),d._emitter.emit(b,d.vpaidCreative)):d.vpaidCreative&&d.vpaidCreative.trigger(b,k)}};return this._flashObj=h.embed({width:this.width,height:this.height,parentElement:this.parentElement,flashVars:{onConsumerReady:this.flashBridgeName+".onConsumerReady",
onFlashEvent:this.flashBridgeName+".onFlashEvent"},flashParams:{allowScriptAccess:"always",allowFullScreen:"true",wmode:"opaque",quality:"high",menu:"false"},swfUrl:b})};d.prototype.on=function(b,a){this._emitter.on(b,a)};d.prototype.consume=function(b,a){function f(a){a&&d._flashObj.consumeVPAIDCreative(b)}var d=this;if(this.isReady)f(!0);else this.on("ready",f);this.on("VPAIDCreativeLoaded",function(b){a(void 0,b)})};d.prototype.mute=function(){function b(f){f&&a._flashObj.masterVolume(0)}var a=
this;if(this.isReady)b(!0);else this.on("ready",b)};d.prototype.unmute=function(){function b(f){f&&a._flashObj.masterVolume(1)}var a=this;if(this.isReady)b(!0);else this.on("ready",b)};g.exports={VPAIDConsumer:d}},{"./swf-embedder":2,"./vpaid-creative":5,events:6}],5:[function(a,g,c){function d(a){a=a||{};this._flashObject=a.flashObject;this._emitter=new h.EventEmitter}var h=a("events");d.prototype.trigger=function(a,b){this._emitter.emit(a,b)};d.prototype.on=function(a,b){this._emitter.on(a,b)};
d.prototype.once=function(a,b){this._emitter.once(a,b)};d.prototype.handshakeVersion=function(a){return this._flashObject.handshakeVersion(a)};d.prototype.initAd=function(a,b,k,d,c,h){return this._flashObject.initAd(a,b,k,d,c,h)};d.prototype.resizeAd=function(a,b,k){return this._flashObject.resizeAd(a,b,k)};d.prototype.setAdVolume=function(a){return this._flashObject.adVolume(a)};d.prototype.getAdVolume=function(){return this._flashObject.adVolume()};d.prototype.adDuration=function(){if(this._flashObject.adDuration)return this._flashObject.adDuration()};
d.prototype.adRemainingTime=function(){if(this._flashObject.adRemainingTime)return this._flashObject.adRemainingTime()};(function(){"startAd stopAd pauseAd resumeAd expandAd collapseAd skipAd".split(" ").forEach(function(a){d.prototype[a]=function(){if(this._flashObject[a])return this._flashObject[a]()}})})();g.exports={create:function(a){return new d(a)}}},{events:6}],6:[function(a,g,c){function d(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function h(b){return"function"===
typeof b}function f(b){return"object"===typeof b&&null!==b}g.exports=d;d.EventEmitter=d;d.prototype._events=void 0;d.prototype._maxListeners=void 0;d.defaultMaxListeners=10;d.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};d.prototype.emit=function(b){var a,d,c,g;this._events||(this._events={});if("error"===b&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){a=arguments[1];
if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');}d=this._events[b];if(void 0===d)return!1;if(h(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;c=Array(a-1);for(g=1;g<a;g++)c[g-1]=arguments[g];d.apply(this,c)}else if(f(d)){a=arguments.length;c=Array(a-1);for(g=1;g<a;g++)c[g-1]=arguments[g];d=d.slice();a=d.length;for(g=0;g<a;g++)d[g].apply(this,
c)}return!0};d.prototype.addListener=function(b,a){if(!h(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",b,h(a.listener)?a.listener:a);this._events[b]?f(this._events[b])?this._events[b].push(a):this._events[b]=[this._events[b],a]:this._events[b]=a;f(this._events[b])&&!this._events[b].warned&&(a=void 0!==this._maxListeners?this._maxListeners:d.defaultMaxListeners)&&0<a&&this._events[b].length>a&&(this._events[b].warned=
!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[b].length),"function"===typeof console.trace&&console.trace());return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(b,a){function f(){this.removeListener(b,f);d||(d=!0,a.apply(this,arguments))}if(!h(a))throw TypeError("listener must be a function");var d=!1;f.listener=a;this.on(b,f);return this};d.prototype.removeListener=
function(b,a){var d,c,g;if(!h(a))throw TypeError("listener must be a function");if(!this._events||!this._events[b])return this;d=this._events[b];g=d.length;c=-1;if(d===a||h(d.listener)&&d.listener===a)delete this._events[b],this._events.removeListener&&this.emit("removeListener",b,a);else if(f(d)){for(;0<g--;)if(d[g]===a||d[g].listener&&d[g].listener===a){c=g;break}if(0>c)return this;1===d.length?(d.length=0,delete this._events[b]):d.splice(c,1);this._events.removeListener&&this.emit("removeListener",
b,a)}return this};d.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(h(a))this.removeListener(b,a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];
return this};d.prototype.listeners=function(b){return this._events&&this._events[b]?h(this._events[b])?[this._events[b]]:this._events[b].slice():[]};d.listenerCount=function(b,a){return b._events&&b._events[a]?h(b._events[a])?1:b._events[a].length:0}},{}]},{},[1])(1)});define("vpaid-consumer",["vpaid-consumer/vpaid-consumer"],function(e){return e});
define("videoPlayers/videoPlayerTypes",[],function(){return{FLASH_VPAID_DIRECT_EMBED:"flash_vpaid_direct_embed",ZENTRICK_JSVPAID:"zentrick_jsvpaid",ZENTRICK_MP4:"zentrick_mp4",values:function(){return[this.ZENTRICK_JSVPAID,this.FLASH_VPAID_DIRECT_EMBED,this.ZENTRICK_MP4]}}});
define("videoPlayers/utils/mediaFilesUtil",[],function(){var e=function(a){if(!a)return!1;var f=a.delivery,b=a.url;return"video/mp4"===a.type&&"progressive"===f&&"string"===typeof b},a=function(a){return"VPAID"===a.apiFramework},g=function(d){if(!d)return!1;var f=d.url;return"application/x-shockwave-flash"===d.type&&a(d)&&"string"===typeof f},c=function(d){if(!d)return!1;var f=d.url;return"application/javascript"===d.type&&a(d)&&"string"===typeof f},d=function(a,f){return a.bitrate>f.bitrate||void 0===
a.bitrate?1:a.bitrate<f.bitrate||void 0===f.bitrate?-1:0};return{isMP4:e,isFlashVPAID:g,isJavascriptVPAID:c,isVPAID:a,byBitrateWhereUnknownIsLargest:d,getSmallestMP4:function(a){return a?a.filter(e).sort(d)[0]:void 0},getFlashVPAID:function(a){return a?a.filter(g)[0]:void 0},getJavascriptVPAID:function(a){return a?a.filter(c)[0]:void 0},getMediaFileAspectRatio:function(a){var f=16/9;if(!a)return f;var b=parseInt(a.width,10);a=parseInt(a.height,10);return b&&a?b/a:f}}});
var _createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("videoPlayers/flashVPAIDTimingHelper",[],function(){var e=Math.min,a=Math.max;return{FlashVPAIDTimingHelper:function(){function g(a,d){var e=this;_classCallCheck(this,g);this.vpaidCreative=a;this.playerDispatcher=d;this.backupDuration=this.duration=0;var f=function(){var b=a.adRemainingTime&&a.adRemainingTime();e.recordInitialAdRemainingTime(b)};["AdRemainingTimeChange","AdStarted","AdVideoStart","vast:start"].forEach(function(b){return a.once(b,f)});d=function(){e.adRemainingTimeTimeout=setTimeout(function(){0===
e.getDuration()&&e.playerDispatcher.dispatchEvent("adremainingtime_timeout")},5E3);e.timeUpdateTimer||(e.timeUpdateTimer=setInterval(function(){var b={percentComplete:e.getPercentComplete()};e.playerDispatcher.dispatchEvent("timeupdate",b)},100))};a.once("AdVideoStart",d);a.once("vast:start",d);["AdStopped","AdError","error","vast:complete","vpaid:AdStopped"].forEach(function(b){return a.once(b,function(){e.clearTimeouts()})});a.on("AdDurationChange",this.updateInitialDuration.bind(this))}_createClass(g,
[{key:"getDuration",value:function(){this.recordInitialDuration();return this.duration||this.backupDuration||0}},{key:"clearTimeouts",value:function(){clearInterval(this.adRemainingTimeTimeout);clearInterval(this.timeUpdateTimer)}},{key:"getCurrentTime",value:function(){var c=this.vpaidCreative.adRemainingTime&&this.vpaidCreative.adRemainingTime();if(0<=c){this.recordInitialAdRemainingTime(c);var d=this.getDuration();return a(0,e(d,d-c))}return 0}},{key:"recordInitialAdRemainingTime",value:function(a){!this.backupDuration&&
0<=a&&(this.backupDuration=a)}},{key:"updateInitialDuration",value:function(){var a=this.vpaidCreative.adDuration&&this.vpaidCreative.adDuration();0<=a&&(this.duration=a)}},{key:"recordInitialDuration",value:function(){this.duration||this.updateInitialDuration()}},{key:"getPercentComplete",value:function(){var a=this.getDuration();return a?100*this.getCurrentTime()/a:0}}]);return g}()}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("videoPlayers/flashVPAIDDirectEmbedPlayer","util/eventDispatcher vpaid-consumer jquery util/eventBus util/trackingEvent util/elementStyleReset util/global videoPlayers/videoPlayerTypes videoPlayers/utils/mediaFilesUtil tracking videoPlayers/flashVPAIDTimingHelper util/stopwatch unrulyError".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n,p){return{FlashVPAIDDirectEmbedPlayer:function(){function f(b,d){_classCallCheck(this,f);if(!d)throw new p("Element not provided");this.mediaFile=k.getFlashVPAID(b.mediaFiles);
if(!this.mediaFile)throw new p("No valid mediaFiles provided");this.videoUrl=this.mediaFile.url;this.adStopped=this.adStarted=this.adLoaded=this.startAdCalled=!1;this.muted=!0;this.container=d;this.campaignConfig=b;this.VPAIDConfig={width:"100%",height:"100%",parentElement:d&&d.jquery?d[0]:d,flashBridgeName:"__testFlashBridge",consumerUrl:"//video.unrulymedia.com/native/flash-vpaid-consumer-v1.0.775-6-g4439fb5.swf"};this.dispatcher=new e(this);this.vpaidConsumer=new a.VPAIDConsumer(this.VPAIDConfig);
h.resetStyles(this.vpaidConsumer.init())}_createClass(f,[{key:"supports",value:function(){var b=this;return{ownQuartileTimer:function(){return!0},ownCompletedViewTimer:function(){return"true"===b.campaignConfig.useWrapperCPCV?!1:!0},clickThrough:function(){return!1}}}},{key:"getDuration",value:function(){return this.timingHelper?this.timingHelper.getDuration():0}},{key:"getCurrentTime",value:function(){return this.timingHelper?this.timingHelper.getCurrentTime():0}},{key:"getPlayerType",value:function(){return b.FLASH_VPAID_DIRECT_EMBED}},
{key:"percentComplete",value:function(){var b=this.vpaidConsumer.vpaidCreative;if(!(b.adRemainingTime&&b.adRemainingTime()&&b.adDuration&&b.adDuration()))return 0;b=(b.adDuration()-b.adRemainingTime())/b.adDuration()*100;return Math.max(b,0)}},{key:"load",value:function(b){var a=this;c.one("placement.addedtodom",function(){n.start("vpaid_consumer");a.vpaidConsumer.consume(a.videoUrl,function(f,e){a.VPAIDCreative=e;n.stop("vpaid_consumer");a.dispatcher.one("adremainingtime_timeout",function(){l.trackActivate(d.error.AD_REMAININGTIME_NOT_AVAILABLE,
{url:a.videoUrl})});a.timingHelper=new m.FlashVPAIDTimingHelper(e,a.dispatcher);e.on("AdLoaded",function(){n.stop("vpaid_initAd");a.adLoaded=!0;a.dispatcher.dispatchEvent("readytoplay");a.dispatcher.dispatchEvent("adimpression")});e.on("AdStarted",function(){n.stop("vpaid_play");a.adStarted=!0});e.on("AdVideoStart",function(){a.dispatcher.dispatchEvent("playing");a.muted&&a.VPAIDCreative.setAdVolume(0)});e.on("AdLog",function(b){a.dispatcher.dispatchEvent("AdLog",b)});e.on("AdError",function(b){n.stop("vpaid_error");
a.dispatcher.dispatchEvent("AdError",b)});e.on("AdVideoComplete",function(){a.dispatcher.dispatchEvent("ended");a.dispatcher.dispatchEvent("AdVideoComplete");a.VPAIDCreative.stopAd();setTimeout(function(){a.adStopped||a.dispatcher.dispatchEvent("adstoptimeout")},1E3)});e.on("AdVideoFirstQuartile",function(){a.dispatcher.dispatchEvent(d.FIRST_QUARTILE)});e.on("AdVideoMidpoint",function(){a.dispatcher.dispatchEvent(d.MIDPOINT)});e.on("AdVideoThirdQuartile",function(){a.dispatcher.dispatchEvent(d.THIRD_QUARTILE)});
e.on("AdStopped",function(){a.adStopped=!0;a.dispatcher.dispatchEvent("AdStopped")});e.on("AdClickThru",function(){a.dispatcher.dispatchEvent("AdClickThru")});n.start("vpaid_initAd");n.start("vpaid_error");e.initAd(g(a.VPAIDConfig.parentElement).width(),g(a.VPAIDConfig.parentElement).height(),"normal",999,b&&b.adParameters)});a.muted&&a.vpaidConsumer.mute()});a.dispatcher.dispatchEvent("setupcomplete")}},{key:"play",value:function(){this.VPAIDCreative&&this.adLoaded&&(this.startAdCalled?this.VPAIDCreative.resumeAd():
(n.start("vpaid_play"),this.VPAIDCreative.startAd(),this.startAdCalled=!0))}},{key:"pause",value:function(){this.adStarted&&this.VPAIDCreative.pauseAd()}},{key:"paused",value:function(){}},{key:"skip",value:function(){this.adStarted&&this.VPAIDCreative.stopAd()}},{key:"mute",value:function(){this.VPAIDCreative.setAdVolume(0);this.vpaidConsumer.mute()}},{key:"unmute",value:function(){this.VPAIDCreative.setAdVolume(1);this.vpaidConsumer.unmute()}}]);return f}()}});
define("videoPlayers/videoPlayerFeatures",[],function(){return{LOOP:"loop",CLICK_THROUGH:"click_through",values:function(){return[this.LOOP,this.CLICK_THROUGH]}}});
define("util/dom/matches",[],function(){var e=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var e=a.length;0<=--e&&a.item(e)!==this;);return-1<e};return{matchesElement:function(a,g){return e.call(a,g)}}});
function _toConsumableArray(e){if(Array.isArray(e)){for(var a=0,g=Array(e.length);a<e.length;a++)g[a]=e[a];return g}return Array.from(e)}
define("util/dom/nativeStyles",["./matches"],function(e){function a(a){for(var b=/([\w\-]+(?:\-\w+)*)\s*:\s*([^;!]+)\s*(!important)?\s*;?/gi,e={},d;d=b.exec(a);)e[d[1]]={value:d[2].trim(),important:!!d[3]};return e}function g(a){return Object.keys(a).reduce(function(b,e){return b+" "+e+": "+a[e].value+(a[e].important?" !important":"")+";"},"").trim()}function c(f,b){if(f){var e=a(f.getAttribute("style"));Object.keys(b).forEach(function(a){e[a]={value:b[a],important:!0}});f.setAttribute("style",g(e))}}
function d(a){return a.selector?a:Object.assign({selector:"*"},a)}var h=e.matchesElement;return{createElement:function(a,b){return b.createElement(a)},setImportant:c,reset:function(a){if(a){c(a,{margin:0,padding:0,border:0,"line-height":"normal","box-sizing":"border-box","text-align":"left","letter-spacing":"initial","min-width":"initial","min-height":"initial"});var b={DIV:"block",IFRAME:"inline"}[a.tagName];b&&c(a,{display:b})}},applyStylesUsingSelectors:function(a){var b=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:[];Array.isArray(b)&&b.filter(function(b){return b&&b.style}).map(d).map(function(b){var e=b.style;b=b.selector;return{elements:h(a,b)?[a]:[].slice.call(a.querySelectorAll(b)),style:e}}).reduce(function(b,a){var f=a.style;b.splice.apply(b,[b.length,0].concat(_toConsumableArray(a.elements.map(function(b){return{style:f,el:b}}))));return b},[]).forEach(function(b){c(b.el,b.style)})}}});
(function(e){"object"===typeof exports&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define("iab-vast-model/iab-vast-model",[],e):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).zentrickVast=e()})(function(){return function a(g,c,d){function h(b,l){if(!c[b]){if(!g[b]){var m="function"==typeof require&&require;if(!l&&m)return m(b,!0);if(f)return f(b,!0);l=Error("Cannot find module '"+b+"'");throw l.code=
"MODULE_NOT_FOUND",l;}l=c[b]={exports:{}};g[b][0].call(l.exports,function(a){var f=g[b][1][a];return h(f?f:a)},l,l.exports,a,g,c,d)}return c[b].exports}for(var f="function"==typeof require&&require,b=0;b<d.length;b++)h(d[b]);return h}({1:[function(a,g,c){function d(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(c,"__esModule",{value:!0});c.Ad=void 0;var h=function(){function b(b,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(a,f,d){f&&b(a.prototype,f);d&&b(a,d);return a}}(),f=a("../util/sorted-list");a=a("../util/sorted-list-item");c.Ad=function(b){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var b;b=(a.__proto__||Object.getPrototypeOf(a)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b._creatives=new f.SortedList;b._impressions=[];b._errors=[];b._extensions=[];return b}d(a,b);h(a,[{key:"id",get:function(){return this._id},set:function(b){this._id=b}},{key:"adSystem",get:function(){return this._adSystem},set:function(b){this._adSystem=b}},{key:"creatives",get:function(){return this._creatives}},
{key:"impressions",get:function(){return this._impressions}},{key:"errors",get:function(){return this._errors}},{key:"error",get:function(){console.warn("Ad.error is deprecated. Please use ad.errors instead.");return this._errors[0]},set:function(b){console.warn("Ad.error is deprecated. Please use ad.errors instead.");this._errors[0]=b}},{key:"extensions",get:function(){return this._extensions}}]);return a}(a.SortedListItem)},{"../util/sorted-list":36,"../util/sorted-list-item":35}],2:[function(a,
g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.InLine=void 0;var h=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=
!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.InLine=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"adTitle",
get:function(){return this._adTitle},set:function(b){this._adTitle=b}},{key:"description",get:function(){return this._description},set:function(b){this._description=b}},{key:"advertiser",get:function(){return this._advertiser},set:function(b){this._advertiser=b}},{key:"survey",get:function(){return this._survey},set:function(b){this._survey=b}},{key:"pricing",get:function(){return this._pricing},set:function(b){this._pricing=b}},{key:"$type",get:function(){return"InLine"}}]);return b}(a.Ad)},{"./base":1}],
3:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.Wrapper=void 0;var h=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;
c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.Wrapper=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,
a);h(b,[{key:"vastAdTagURI",get:function(){return this._vastAdTagURI},set:function(b){this._vastAdTagURI=b}},{key:"followAdditionalWrappers",get:function(){return this._followAdditionalWrappers},set:function(b){this._followAdditionalWrappers=b}},{key:"allowMultipleAds",get:function(){return this._allowMultipleAds},set:function(b){this._allowMultipleAds=b}},{key:"fallbackOnNoAd",get:function(){return this._fallbackOnNoAd},set:function(b){this._fallbackOnNoAd=b}},{key:"$type",get:function(){return"Wrapper"}}]);
return b}(a.Ad)},{"./base":1}],4:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(f,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}return function(f,b,d){b&&a(f.prototype,b);d&&a(f,d);return f}}();c.AbstractClicks=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._clickTrackings=[]}d(a,[{key:"clickThrough",
get:function(){return this._clickThrough},set:function(a){this._clickThrough=a}},{key:"clickTrackings",get:function(){return this._clickTrackings}}]);return a}()},{}],5:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}
Object.defineProperty(c,"__esModule",{value:!0});c.IconClicks=void 0;var h=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./abstract");c.IconClicks=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,
arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"$type",get:function(){return"IconClicks"}}]);return b}(a.AbstractClicks)},{"./abstract":4}],6:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.VideoClicks=void 0;var h=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./abstract");c.VideoClicks=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._customClicks=[];return a}d(b,a);h(b,[{key:"customClicks",get:function(){return this._customClicks}},{key:"$type",get:function(){return"VideoClicks"}}]);return b}(a.AbstractClicks)},{"./abstract":4}],7:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});c.AdBuffet=void 0;var d=
function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),h=a("../util/sorted-list");c.AdBuffet=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._ads=new h.SortedList}d(a,[{key:"ads",get:function(){return this._ads}},{key:"adPod",get:function(){return this._adPod},
set:function(b){this._adPod=b}},{key:"$type",get:function(){return"AdBuffet"}}]);return a}()},{"../util/sorted-list":36}],8:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});c.AdPod=void 0;var d=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),h=a("../util/sorted-list");c.AdPod=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._ads=new h.SortedList}d(a,[{key:"ads",get:function(){return this._ads}},{key:"$type",get:function(){return"AdPod"}}]);return a}()},{"../util/sorted-list":36}],9:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(f,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}return function(f,b,d){b&&
a(f.prototype,b);d&&a(f,d);return f}}();c.AdSystem=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"name",get:function(){return this._name},set:function(a){this._name=a}},{key:"version",get:function(){return this._version},set:function(a){this._version=a}},{key:"$type",get:function(){return"AdSystem"}}]);return a}()},{}],10:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Companion=void 0;var d=function(){function a(b,
f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),h=a("../tracking/events");c.Companion=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._clickTrackings=[];this._trackingEvents=new h.TrackingEvents}d(a,[{key:"id",get:function(){return this._id},set:function(b){this._id=b}},
{key:"width",get:function(){return this._width},set:function(b){this._width=b}},{key:"height",get:function(){return this._height},set:function(b){this._height=b}},{key:"assetWidth",get:function(){return this._assetWidth},set:function(b){this._assetWidth=b}},{key:"assetHeight",get:function(){return this._assetHeight},set:function(b){this._assetHeight=b}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(b){this._expandedWidth=b}},{key:"expandedHeight",get:function(){return this._expandedHeight},
set:function(b){this._expandedHeight=b}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(b){this._apiFramework=b}},{key:"adSlotID",get:function(){return this._adSlotID},set:function(b){this._adSlotID=b}},{key:"resource",get:function(){return this._resource},set:function(b){this._resource=b}},{key:"adParameters",get:function(){return this._adParameters},set:function(b){this._adParameters=b}},{key:"altText",get:function(){return this._altText},set:function(b){this._altText=
b}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(b){this._clickThrough=b}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"Companion"}}]);return a}()},{"../tracking/events":33}],11:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Icon=void 0;var d=function(){function a(b,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||
!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),h=a("../clicks/icon");c.Icon=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._clicks=new h.IconClicks;this._viewTrackings=[]}d(a,[{key:"program",get:function(){return this._program},set:function(b){this._program=b}},{key:"width",get:function(){return this._width},set:function(b){this._width=
b}},{key:"height",get:function(){return this._height},set:function(b){this._height=b}},{key:"xPosition",get:function(){return this._xPosition},set:function(b){this._xPosition=b}},{key:"yPosition",get:function(){return this._yPosition},set:function(b){this._yPosition=b}},{key:"duration",get:function(){return this._duration},set:function(b){this._duration=b}},{key:"offset",get:function(){return this._offset},set:function(b){this._offset=b}},{key:"apiFramework",get:function(){return this._apiFramework},
set:function(b){this._apiFramework=b}},{key:"resource",get:function(){return this._resource},set:function(b){this._resource=b}},{key:"clicks",get:function(){return this._clicks}},{key:"viewTrackings",get:function(){return this._viewTrackings}},{key:"$type",get:function(){return"Icon"}}]);return a}()},{"../clicks/icon":5}],12:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(f,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=
!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}return function(f,b,d){b&&a(f.prototype,b);d&&a(f,d);return f}}();c.Impression=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"$type",get:function(){return"Impression"}}]);return a}()},{}],13:[function(a,g,c){Object.defineProperty(c,
"__esModule",{value:!0});var d=function(){function a(f,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.MediaFile=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"delivery",get:function(){return this._delivery},
set:function(a){this._delivery=a}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"bitrate",get:function(){return this._bitrate},set:function(a){this._bitrate=a}},{key:"minBitrate",get:function(){return this._minBitrate},set:function(a){this._minBitrate=a}},{key:"maxBitrate",get:function(){return this._maxBitrate},set:function(a){this._maxBitrate=a}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},
set:function(a){this._height=a}},{key:"scalable",get:function(){return this._scalable},set:function(a){this._scalable=a}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(a){this._maintainAspectRatio=a}},{key:"codec",get:function(){return this._codec},set:function(a){this._codec=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"$type",
get:function(){return"MediaFile"}}]);return a}()},{}],14:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.NonLinear=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._clickTrackings=
[]}d(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(a){this._expandedWidth=a}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(a){this._expandedHeight=a}},{key:"scalable",get:function(){return this._scalable},
set:function(a){this._scalable=a}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(a){this._maintainAspectRatio=a}},{key:"minSuggestedDuration",get:function(){return this._minSuggestedDuration},set:function(a){this._minSuggestedDuration=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"resource",get:function(){return this._resource},set:function(a){this._resource=a}},{key:"clickThrough",get:function(){return this._clickThrough},
set:function(a){this._clickThrough=a}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"adParameters",get:function(){return this._adParameters},set:function(a){this._adParameters=a}},{key:"$type",get:function(){return"NonLinear"}}]);return a}()},{}],15:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,
g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.Pricing=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"model",get:function(){return this._model},set:function(a){this._model=a}},{key:"currency",get:function(){return this._currency},set:function(a){this._currency=a}},{key:"value",get:function(){return this._value},set:function(a){this._value=a}},{key:"$type",get:function(){return"Pricing"}}]);return a}()},
{}],16:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.VAST=void 0;var h=function(){function a(b,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||
!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./ad-buffet");c.VAST=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._errors=
[];return a}d(b,a);h(b,[{key:"version",get:function(){return this._version},set:function(a){this._version=a}},{key:"errors",get:function(){return this._errors}},{key:"$type",get:function(){return"VAST"}}]);return b}(a.AdBuffet)},{"./ad-buffet":7}],17:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.Creative=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("../util/sorted-list-item");c.Creative=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._extensions=[];return a}d(b,a);h(b,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"adID",get:function(){return this._adID},set:function(a){this._adID=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"extensions",
get:function(){return this._extensions}}]);return b}(a.SortedListItem)},{"../util/sorted-list-item":35}],18:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.CompanionAds=
void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.CompanionAds=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._companions=[];return a}d(b,a);h(b,[{key:"companions",get:function(){return this._companions}},{key:"required",get:function(){return this._required},set:function(a){this._required=a}},{key:"$type",get:function(){return"CompanionAds"}}]);return b}(a.Creative)},{"./base":17}],19:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.Linear=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();g=a("./base");var f=a("../clicks/video"),
b=a("../tracking/events");c.Linear=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;a=(c.__proto__||Object.getPrototypeOf(c)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._mediaFiles=[];a._trackingEvents=new b.TrackingEvents;a._videoClicks=new f.VideoClicks;a._icons=[];return a}d(c,a);h(c,[{key:"skipoffset",get:function(){return this._skipoffset},
set:function(a){this._skipoffset=a}},{key:"adParameters",get:function(){return this._adParameters},set:function(a){this._adParameters=a}},{key:"duration",get:function(){return this._duration},set:function(a){this._duration=a}},{key:"mediaFiles",get:function(){return this._mediaFiles}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"videoClicks",get:function(){return this._videoClicks}},{key:"icons",get:function(){return this._icons}},{key:"$type",get:function(){return"Linear"}}]);
return c}(g.Creative)},{"../clicks/video":6,"../tracking/events":33,"./base":17}],20:[function(a,g,c){function d(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}Object.defineProperty(c,"__esModule",{value:!0});c.NonLinearAds=void 0;var h=function(){function a(b,
d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(d,c,f){c&&a(d.prototype,c);f&&a(d,f);return d}}();g=a("./base");var f=a("../tracking/events");c.NonLinearAds=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;a=(c.__proto__||Object.getPrototypeOf(c)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._nonLinears=[];a._trackingEvents=new f.TrackingEvents;return a}d(c,a);h(c,[{key:"nonLinears",get:function(){return this._nonLinears}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"NonLinearAds"}}]);return c}(g.Creative)},{"../tracking/events":33,"./base":17}],21:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=
b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.AbstractExtension=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"content",get:function(){return this._content},set:function(a){this._content=a}}]);return a}()},{}],22:[function(a,
g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.CreativeExtension=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./abstract");c.CreativeExtension=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,
a);h(b,[{key:"$type",get:function(){return"CreativeExtension"}}]);return b}(a.AbstractExtension)},{"./abstract":21}],23:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});
c.Extension=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./abstract");c.Extension=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"$type",get:function(){return"Extension"}}]);return b}(a.AbstractExtension)},{"./abstract":21}],24:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=a("./core/vast");Object.defineProperty(c,"VAST",{enumerable:!0,get:function(){return d.VAST}});var h=a("./core/ad-system");Object.defineProperty(c,"AdSystem",{enumerable:!0,get:function(){return h.AdSystem}});var f=a("./core/ad-pod");Object.defineProperty(c,
"AdPod",{enumerable:!0,get:function(){return f.AdPod}});var b=a("./ad/in-line");Object.defineProperty(c,"InLine",{enumerable:!0,get:function(){return b.InLine}});var k=a("./ad/wrapper");Object.defineProperty(c,"Wrapper",{enumerable:!0,get:function(){return k.Wrapper}});var l=a("./creative/linear");Object.defineProperty(c,"Linear",{enumerable:!0,get:function(){return l.Linear}});var m=a("./creative/companion-ads");Object.defineProperty(c,"CompanionAds",{enumerable:!0,get:function(){return m.CompanionAds}});
var n=a("./creative/non-linear-ads");Object.defineProperty(c,"NonLinearAds",{enumerable:!0,get:function(){return n.NonLinearAds}});var p=a("./core/companion");Object.defineProperty(c,"Companion",{enumerable:!0,get:function(){return p.Companion}});var y=a("./core/non-linear");Object.defineProperty(c,"NonLinear",{enumerable:!0,get:function(){return y.NonLinear}});var u=a("./core/impression");Object.defineProperty(c,"Impression",{enumerable:!0,get:function(){return u.Impression}});var r=a("./core/media-file");
Object.defineProperty(c,"MediaFile",{enumerable:!0,get:function(){return r.MediaFile}});var t=a("./resource/html");Object.defineProperty(c,"HTMLResource",{enumerable:!0,get:function(){return t.HTMLResource}});var q=a("./resource/iframe");Object.defineProperty(c,"IFrameResource",{enumerable:!0,get:function(){return q.IFrameResource}});var z=a("./resource/static");Object.defineProperty(c,"StaticResource",{enumerable:!0,get:function(){return z.StaticResource}});var D=a("./core/icon");Object.defineProperty(c,
"Icon",{enumerable:!0,get:function(){return D.Icon}});var E=a("./core/pricing");Object.defineProperty(c,"Pricing",{enumerable:!0,get:function(){return E.Pricing}});var A=a("./extension/default");Object.defineProperty(c,"Extension",{enumerable:!0,get:function(){return A.Extension}});var v=a("./extension/creative");Object.defineProperty(c,"CreativeExtension",{enumerable:!0,get:function(){return v.CreativeExtension}});var K=a("./util/click");Object.defineProperty(c,"Click",{enumerable:!0,get:function(){return K.Click}});
var N=a("./clicks/icon");Object.defineProperty(c,"IconClicks",{enumerable:!0,get:function(){return N.IconClicks}});var G=a("./clicks/video");Object.defineProperty(c,"VideoClicks",{enumerable:!0,get:function(){return G.VideoClicks}});var C=a("./tracking/event");Object.defineProperty(c,"TrackingEvent",{enumerable:!0,get:function(){return C.TrackingEvent}});var R=a("./tracking/events");Object.defineProperty(c,"TrackingEvents",{enumerable:!0,get:function(){return R.TrackingEvents}});var U=a("./time-offset/absolute");
Object.defineProperty(c,"AbsoluteTimeOffset",{enumerable:!0,get:function(){return U.AbsoluteTimeOffset}});var ba=a("./time-offset/relative");Object.defineProperty(c,"RelativeTimeOffset",{enumerable:!0,get:function(){return ba.RelativeTimeOffset}});var w=a("./util/sorted-list");Object.defineProperty(c,"SortedList",{enumerable:!0,get:function(){return w.SortedList}});var Q=a("./util/sorted-list-item");Object.defineProperty(c,"SortedListItem",{enumerable:!0,get:function(){return Q.SortedListItem}})},
{"./ad/in-line":2,"./ad/wrapper":3,"./clicks/icon":5,"./clicks/video":6,"./core/ad-pod":8,"./core/ad-system":9,"./core/companion":10,"./core/icon":11,"./core/impression":12,"./core/media-file":13,"./core/non-linear":14,"./core/pricing":15,"./core/vast":16,"./creative/companion-ads":18,"./creative/linear":19,"./creative/non-linear-ads":20,"./extension/creative":22,"./extension/default":23,"./resource/html":26,"./resource/iframe":27,"./resource/static":28,"./time-offset/absolute":29,"./time-offset/relative":31,
"./tracking/event":32,"./tracking/events":33,"./util/click":34,"./util/sorted-list":36,"./util/sorted-list-item":35}],25:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.Resource=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}d(a,[{key:"content",get:function(){return this._content},set:function(a){this._content=a}}]);return a}()},{}],26:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.HTMLResource=
void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.HTMLResource=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"$type",get:function(){return"HTMLResource"}}]);return b}(a.Resource)},{"./base":25}],27:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,
"__esModule",{value:!0});c.IFrameResource=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.IFrameResource=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"$type",get:function(){return"IFrameResource"}}]);return b}(a.Resource)},{"./base":25}],28:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.StaticResource=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.StaticResource=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"creativeType",get:function(){return this._creativeType},set:function(a){this._creativeType=a}},{key:"$type",get:function(){return"StaticResource"}}]);return b}(a.Resource)},{"./base":25}],29:[function(a,g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.AbsoluteTimeOffset=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();
a=a("./base");c.AbsoluteTimeOffset=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);h(b,[{key:"$type",get:function(){return"AbsoluteTimeOffset"}}]);return b}(a.TimeOffset)},{"./base":30}],30:[function(a,g,c){Object.defineProperty(c,
"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.TimeOffset=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"value",get:function(){return this._value},set:function(a){this._value=a}}]);return a}()},{}],31:[function(a,
g,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});c.RelativeTimeOffset=void 0;var h=function(){function a(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}();a=a("./base");c.RelativeTimeOffset=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}d(b,a);
h(b,[{key:"$type",get:function(){return"RelativeTimeOffset"}}]);return b}(a.TimeOffset)},{"./base":30}],32:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.TrackingEvent=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}d(a,[{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"offset",get:function(){return this._offset},set:function(a){this._offset=a}},{key:"$type",get:function(){return"TrackingEvent"}}]);return a}()},{}],33:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,
b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.TrackingEvents=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._map=Object.create(null)}d(a,[{key:"get",value:function(a){return this._map[a]||[]}},{key:"add",value:function(a,b){this._map[a]=this._map[a]||[];this._map[a].push(b)}},{key:"types",get:function(){return Object.keys(this._map)}},{key:"$type",get:function(){return"TrackingEvents"}}]);return a}()},{}],34:[function(a,g,c){Object.defineProperty(c,
"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.Click=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}d(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"uri",get:function(){return this._uri},
set:function(a){this._uri=a}},{key:"$type",get:function(){return"Click"}}]);return a}()},{}],35:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.SortedListItem=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}d(a,[{key:"sequence",get:function(){return this._sequence},set:function(a){this._sequence=a}}]);return a}()},{}],36:[function(a,g,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(d,b,c){b&&a(d.prototype,b);c&&a(d,c);return d}}();c.SortedList=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._contents=[]}$jscomp.initSymbol();$jscomp.initSymbolIterator();d(a,[{key:"add",value:function(a){this._contents.push(a);this._contents.sort(function(a,d){return(a.sequence||0)-(d.sequence||0)})}},{key:"remove",value:function(a){for(var b=this._contents.indexOf(a);0<=b;)this._contents.splice(b,1),b=this._contents.indexOf(a,b)}},{key:"get",value:function(a){return this._contents[a]}},{key:"clear",value:function(){this._contents.length=0}},{key:Symbol.iterator,value:function(){var a=this,b=0;return{next:function(){return b<
a.length?{value:a.get(b++),done:!1}:{value:void 0,done:!0}}}}},{key:"toArray",value:function(){return this._contents.slice()}},{key:"length",get:function(){return this._contents.length}},{key:"$type",get:function(){return"SortedList"}}]);return a}()},{}]},{},[24])(24)});define("iab-vast-model",["iab-vast-model/iab-vast-model"],function(e){return e});
!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define("iab-vast-executor-factory/iab-vast-executor-factory",a):e.iabVastExecutorFactory=a()}(this,function(){function e(b){switch(b.arrayFormat){case "index":return function(d,c,e){return null===c?[a(d,b),"[",e,"]"].join(""):[a(d,b),"[",a(e,b),"]=",a(c,b)].join("")};case "bracket":return function(d,c){return null===c?a(d,b):[a(d,b),"[]=",a(c,b)].join("")};default:return function(d,
c){return null===c?a(d,b):[a(d,b),"=",a(c,b)].join("")}}}function a(a,b){return b.encode?b.strict?ra(a):encodeURIComponent(a):a}Function.prototype.$asyncbind=function sa(a,b){function d(){return c.apply(a,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:sa,enumerable:!1,configurable:!0,writable:!0});sa.trampoline||(sa.trampoline=function(a,b,d,c,e){return function ib(f){for(;f;){if(f.then)return f=f.then(ib,c),e?void 0:f;try{if(f.pop){if(f.length)return f.pop()?
b.call(a):f;f=d}else f=f.call(a)}catch(g){return c(g)}}}});sa.LazyThenable||(sa.LazyThenable=function(){function a(b){return b&&b instanceof Object&&"function"==typeof b.then}function b(d,c,e){try{var f=e?e(c):c;if(d===f)return d.reject(new TypeError("Promise resolution loop"));a(f)?f.then(function(a){b(d,a)},function(a){d.reject(a)}):d.resolve(f)}catch(g){d.reject(g)}}function d(){}function c(a){}function e(c,f){var g=new d;try{this._resolver(function(d){return a(d)?d.then(c,f):b(g,d,c)},function(a){b(g,
a,f)})}catch(h){b(g,h,f)}return g}function f(a){this._resolver=a;this.then=e}d.prototype={resolve:c,reject:c,then:function(a,b){this.resolve=a;this.reject=b}};f.resolve=function(a){return f.isThenable(a)?a:{then:function(b){return b(a)}}};f.isThenable=a;return f}(),sa.EagerThenable=sa.Thenable=(sa.EagerThenableFactory=function(a){function b(a){if(a){var d=this;a(function(a){d.resolve(a)},function(a){d.reject(a)})}}function d(a,b){if("function"==typeof a.y)try{var c=a.y.call(void 0,b);a.p.resolve(c)}catch(e){a.p.reject(e)}else a.p.resolve(b)}
function c(a,b){if("function"==typeof a.n)try{var d=a.n.call(void 0,b);a.p.resolve(d)}catch(e){a.p.reject(e)}else a.p.reject(b)}a=a||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,0)};var e=function(){function b(){for(;d.length-c;){try{d[c]()}catch(a){}d[c++]=void 0;c===e&&(d.splice(0,e),c=0)}}var d=[],c=0,e=1024;return function(e){d.push(e);1==d.length-c&&a(b)}}();b.prototype={resolve:function(a){if(void 0===this.state){if(a===
this)return this.reject(new TypeError("Attempt to resolve promise with self"));var b=this;if(a&&("function"==typeof a||"object"==typeof a))try{var c=0,f=a.then;if("function"==typeof f){f.call(a,function(a){c++||b.resolve(a)},function(a){c++||b.reject(a)});return}}catch(g){c||this.reject(g);return}this.state=d;this.v=a;b.c&&e(function(){for(var c=0,e=b.c.length;c<e;c++)d(b.c[c],a)})}},reject:function(a){if(void 0===this.state){this.state=c;this.v=a;var b=this.c;b&&e(function(){for(var d=0,e=b.length;d<
e;d++)c(b[d],a)})}},then:function(a,d){var c=new b,f={y:a,n:d,p:c};if(void 0===this.state)this.c?this.c.push(f):this.c=[f];else{var g=this.state,h=this.v;e(function(){g(f,h)})}return c}};b.resolve=function(a){if(a&&a instanceof b)return a;var d=new b;d.resolve(a);return d};b.reject=function(a){if(a&&a instanceof b)return a;var d=new b;d.reject(a);return d};b.version="2.3.3-nodent";return b})());var c=this;switch(b){case !0:return new sa.Thenable(d);case 0:return new sa.LazyThenable(d);case void 0:return d.then=
d;default:return function(){try{return c.apply(a,arguments)}catch(d){return b(d)}}}};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();
$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();
$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();var g,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},h=function(){function a(b,d){for(var c=0;c<d.length;c++){var e=
d[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),f=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},b=function(a,
b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},k=function(){function a(){d(this,a);this._contents=[]}a.prototype.add=function(a){this._contents.push(a);this._contents.sort(function(a,b){return(a.sequence||0)-(b.sequence||0)})};a.prototype.remove=function(a){for(var b=this._contents.indexOf(a);0<=b;)this._contents.splice(b,1),b=this._contents.indexOf(a,b)};a.prototype.get=function(a){return this._contents[a]};
a.prototype.clear=function(){this._contents.length=0};$jscomp.initSymbol();$jscomp.initSymbolIterator();a.prototype[Symbol.iterator]=function(){var a=this,b=0;return{next:function(){return b<a.length?{value:a.get(b++),done:!1}:{value:void 0,done:!0}}}};a.prototype.toArray=function(){return this._contents.slice()};h(a,[{key:"length",get:function(){return this._contents.length}},{key:"$type",get:function(){return"SortedList"}}]);return a}(),l=(function(a){function c(){d(this,c);var e=b(this,a.call(this));
e._errors=[];return e}f(c,a);h(c,[{key:"version",get:function(){return this._version},set:function(a){this._version=a}},{key:"errors",get:function(){return this._errors}},{key:"$type",get:function(){return"VAST"}}])}(function(){function a(){d(this,a);this._ads=new k}h(a,[{key:"ads",get:function(){return this._ads}},{key:"adPod",get:function(){return this._adPod},set:function(a){this._adPod=a}},{key:"$type",get:function(){return"AdBuffet"}}]);return a}()),function(){function a(){d(this,a)}h(a,[{key:"name",
get:function(){return this._name},set:function(a){this._name=a}},{key:"version",get:function(){return this._version},set:function(a){this._version=a}},{key:"$type",get:function(){return"AdSystem"}}])}(),function(){function a(){d(this,a);this._ads=new k}h(a,[{key:"ads",get:function(){return this._ads}},{key:"$type",get:function(){return"AdPod"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"sequence",get:function(){return this._sequence},set:function(a){this._sequence=a}}]);return a}()),m=function(a){function c(){d(this,
c);var e=b(this,a.call(this));e._creatives=new k;e._impressions=[];e._errors=[];e._extensions=[];return e}f(c,a);h(c,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"adSystem",get:function(){return this._adSystem},set:function(a){this._adSystem=a}},{key:"creatives",get:function(){return this._creatives}},{key:"impressions",get:function(){return this._impressions}},{key:"errors",get:function(){return this._errors}},{key:"error",get:function(){console.warn("Ad.error is deprecated. Please use ad.errors instead.");
return this._errors[0]},set:function(a){console.warn("Ad.error is deprecated. Please use ad.errors instead.");this._errors[0]=a}},{key:"extensions",get:function(){return this._extensions}}]);return c}(l),n=function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"adTitle",get:function(){return this._adTitle},set:function(a){this._adTitle=a}},{key:"description",get:function(){return this._description},set:function(a){this._description=a}},{key:"advertiser",get:function(){return this._advertiser},
set:function(a){this._advertiser=a}},{key:"survey",get:function(){return this._survey},set:function(a){this._survey=a}},{key:"pricing",get:function(){return this._pricing},set:function(a){this._pricing=a}},{key:"$type",get:function(){return"InLine"}}]);return c}(m),p=(function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"vastAdTagURI",get:function(){return this._vastAdTagURI},set:function(a){this._vastAdTagURI=a}},{key:"followAdditionalWrappers",get:function(){return this._followAdditionalWrappers},
set:function(a){this._followAdditionalWrappers=a}},{key:"allowMultipleAds",get:function(){return this._allowMultipleAds},set:function(a){this._allowMultipleAds=a}},{key:"fallbackOnNoAd",get:function(){return this._fallbackOnNoAd},set:function(a){this._fallbackOnNoAd=a}},{key:"$type",get:function(){return"Wrapper"}}])}(m),function(a){function c(){d(this,c);var e=b(this,a.call(this));e._extensions=[];return e}f(c,a);h(c,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"adID",
get:function(){return this._adID},set:function(a){this._adID=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"extensions",get:function(){return this._extensions}}]);return c}(l)),y=function(){function a(){d(this,a);this._clickTrackings=[]}h(a,[{key:"clickThrough",get:function(){return this._clickThrough},set:function(a){this._clickThrough=a}},{key:"clickTrackings",get:function(){return this._clickTrackings}}]);return a}(),u=function(a){function c(){d(this,
c);var e=b(this,a.call(this));e._customClicks=[];return e}f(c,a);h(c,[{key:"customClicks",get:function(){return this._customClicks}},{key:"$type",get:function(){return"VideoClicks"}}]);return c}(y),r=function(){function a(){d(this,a);this._map=Object.create(null)}a.prototype.get=function(a){return this._map[a]||[]};a.prototype.add=function(a,b){this._map[a]=this._map[a]||[];this._map[a].push(b)};h(a,[{key:"types",get:function(){return Object.keys(this._map)}},{key:"$type",get:function(){return"TrackingEvents"}}]);
return a}(),t=function(a){function c(){d(this,c);var e=b(this,a.call(this));e._mediaFiles=[];e._trackingEvents=new r;e._videoClicks=new u;e._icons=[];return e}f(c,a);h(c,[{key:"skipoffset",get:function(){return this._skipoffset},set:function(a){this._skipoffset=a}},{key:"adParameters",get:function(){return this._adParameters},set:function(a){this._adParameters=a}},{key:"duration",get:function(){return this._duration},set:function(a){this._duration=a}},{key:"mediaFiles",get:function(){return this._mediaFiles}},
{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"videoClicks",get:function(){return this._videoClicks}},{key:"icons",get:function(){return this._icons}},{key:"$type",get:function(){return"Linear"}}]);return c}(p),q=(function(a){function c(){d(this,c);var e=b(this,a.call(this));e._companions=[];return e}f(c,a);h(c,[{key:"companions",get:function(){return this._companions}},{key:"required",get:function(){return this._required},set:function(a){this._required=a}},{key:"$type",
get:function(){return"CompanionAds"}}])}(p),function(a){function c(){d(this,c);var e=b(this,a.call(this));e._nonLinears=[];e._trackingEvents=new r;return e}f(c,a);h(c,[{key:"nonLinears",get:function(){return this._nonLinears}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"NonLinearAds"}}])}(p),function(){function a(){d(this,a);this._clickTrackings=[];this._trackingEvents=new r}h(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=
a}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}},{key:"assetWidth",get:function(){return this._assetWidth},set:function(a){this._assetWidth=a}},{key:"assetHeight",get:function(){return this._assetHeight},set:function(a){this._assetHeight=a}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(a){this._expandedWidth=a}},{key:"expandedHeight",get:function(){return this._expandedHeight},
set:function(a){this._expandedHeight=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"adSlotID",get:function(){return this._adSlotID},set:function(a){this._adSlotID=a}},{key:"resource",get:function(){return this._resource},set:function(a){this._resource=a}},{key:"adParameters",get:function(){return this._adParameters},set:function(a){this._adParameters=a}},{key:"altText",get:function(){return this._altText},set:function(a){this._altText=
a}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(a){this._clickThrough=a}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"$type",get:function(){return"Companion"}}])}(),function(){function a(){d(this,a);this._clickTrackings=[]}h(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"width",get:function(){return this._width},set:function(a){this._width=
a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}},{key:"expandedWidth",get:function(){return this._expandedWidth},set:function(a){this._expandedWidth=a}},{key:"expandedHeight",get:function(){return this._expandedHeight},set:function(a){this._expandedHeight=a}},{key:"scalable",get:function(){return this._scalable},set:function(a){this._scalable=a}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(a){this._maintainAspectRatio=
a}},{key:"minSuggestedDuration",get:function(){return this._minSuggestedDuration},set:function(a){this._minSuggestedDuration=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"resource",get:function(){return this._resource},set:function(a){this._resource=a}},{key:"clickThrough",get:function(){return this._clickThrough},set:function(a){this._clickThrough=a}},{key:"clickTrackings",get:function(){return this._clickTrackings}},{key:"adParameters",
get:function(){return this._adParameters},set:function(a){this._adParameters=a}},{key:"$type",get:function(){return"NonLinear"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"$type",get:function(){return"Impression"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"delivery",get:function(){return this._delivery},
set:function(a){this._delivery=a}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"bitrate",get:function(){return this._bitrate},set:function(a){this._bitrate=a}},{key:"minBitrate",get:function(){return this._minBitrate},set:function(a){this._minBitrate=a}},{key:"maxBitrate",get:function(){return this._maxBitrate},set:function(a){this._maxBitrate=a}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},
set:function(a){this._height=a}},{key:"scalable",get:function(){return this._scalable},set:function(a){this._scalable=a}},{key:"maintainAspectRatio",get:function(){return this._maintainAspectRatio},set:function(a){this._maintainAspectRatio=a}},{key:"codec",get:function(){return this._codec},set:function(a){this._codec=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"$type",
get:function(){return"MediaFile"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"content",get:function(){return this._content},set:function(a){this._content=a}}]);return a}()),z=(function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"HTMLResource"}}])}(q),function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"IFrameResource"}}])}(q),function(a){function c(){d(this,
c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"creativeType",get:function(){return this._creativeType},set:function(a){this._creativeType=a}},{key:"$type",get:function(){return"StaticResource"}}])}(q),function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"IconClicks"}}]);return c}(y)),D=(function(){function a(){d(this,a);this._clicks=new z;this._viewTrackings=[]}h(a,[{key:"program",get:function(){return this._program},
set:function(a){this._program=a}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}},{key:"xPosition",get:function(){return this._xPosition},set:function(a){this._xPosition=a}},{key:"yPosition",get:function(){return this._yPosition},set:function(a){this._yPosition=a}},{key:"duration",get:function(){return this._duration},set:function(a){this._duration=a}},{key:"offset",get:function(){return this._offset},
set:function(a){this._offset=a}},{key:"apiFramework",get:function(){return this._apiFramework},set:function(a){this._apiFramework=a}},{key:"resource",get:function(){return this._resource},set:function(a){this._resource=a}},{key:"clicks",get:function(){return this._clicks}},{key:"viewTrackings",get:function(){return this._viewTrackings}},{key:"$type",get:function(){return"Icon"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"model",get:function(){return this._model},set:function(a){this._model=
a}},{key:"currency",get:function(){return this._currency},set:function(a){this._currency=a}},{key:"value",get:function(){return this._value},set:function(a){this._value=a}},{key:"$type",get:function(){return"Pricing"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"content",get:function(){return this._content},set:function(a){this._content=a}}]);return a}()),E=(function(a){function c(){d(this,c);return b(this,a.apply(this,
arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"Extension"}}])}(D),function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"CreativeExtension"}}])}(D),function(){function a(){d(this,a)}h(a,[{key:"id",get:function(){return this._id},set:function(a){this._id=a}},{key:"uri",get:function(){return this._uri},set:function(a){this._uri=a}},{key:"$type",get:function(){return"Click"}}])}(),function(){function a(){d(this,a)}h(a,[{key:"uri",
get:function(){return this._uri},set:function(a){this._uri=a}},{key:"offset",get:function(){return this._offset},set:function(a){this._offset=a}},{key:"$type",get:function(){return"TrackingEvent"}}]);return a}()),A=function(){function a(){d(this,a)}h(a,[{key:"value",get:function(){return this._value},set:function(a){this._value=a}}]);return a}(),v=function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"AbsoluteTimeOffset"}}]);return c}(A),
K=function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);h(c,[{key:"$type",get:function(){return"RelativeTimeOffset"}}]);return c}(A),N=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(a){function b(){}function d(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function c(){this._events=new b;this._eventsCount=0}var e=Object.prototype.hasOwnProperty,f="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(f=!1));c.prototype.eventNames=
function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)e.call(a,b)&&c.push(f?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c};c.prototype.listeners=function(a,b){a=this._events[f?f+a:a];if(b)return!!a;if(!a)return[];if(a.fn)return[a.fn];b=0;for(var c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};c.prototype.emit=function(a,b,c,d,e,g){var h=f?f+a:a;if(!this._events[h])return!1;var k,I=this._events[h],va=arguments.length;
if(I.fn){I.once&&this.removeListener(a,I.fn,void 0,!0);switch(va){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,b),!0;case 3:return I.fn.call(I.context,b,c),!0;case 4:return I.fn.call(I.context,b,c,d),!0;case 5:return I.fn.call(I.context,b,c,d,e),!0;case 6:return I.fn.call(I.context,b,c,d,e,g),!0}h=1;for(k=Array(va-1);h<va;h++)k[h-1]=arguments[h];I.fn.apply(I.context,k)}else for(var Fa,l=I.length,h=0;h<l;h++)switch(I[h].once&&this.removeListener(a,I[h].fn,void 0,!0),va){case 1:I[h].fn.call(I[h].context);
break;case 2:I[h].fn.call(I[h].context,b);break;case 3:I[h].fn.call(I[h].context,b,c);break;case 4:I[h].fn.call(I[h].context,b,c,d);break;default:if(!k)for(Fa=1,k=Array(va-1);Fa<va;Fa++)k[Fa-1]=arguments[Fa];I[h].fn.apply(I[h].context,k)}return!0};c.prototype.on=function(a,b,c){b=new d(b,c||this);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};c.prototype.once=function(a,b,c){b=new d(b,c||
this,!0);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};c.prototype.removeListener=function(a,c,d,e){a=f?f+a:a;if(!this._events[a])return this;if(!c)return 0==--this._eventsCount?this._events=new b:delete this._events[a],this;var g=this._events[a];if(g.fn)g.fn!==c||e&&!g.once||d&&g.context!==d||(0==--this._eventsCount?this._events=new b:delete this._events[a]);else{for(var h=0,k=[],I=g.length;h<
I;h++)(g[h].fn!==c||e&&!g[h].once||d&&g[h].context!==d)&&k.push(g[h]);k.length?this._events[a]=1===k.length?k[0]:k:0==--this._eventsCount?this._events=new b:delete this._events[a]}return this};c.prototype.removeAllListeners=function(a){a?(a=f?f+a:a,this._events[a]&&(0==--this._eventsCount?this._events=new b:delete this._events[a])):(this._events=new b,this._eventsCount=0);return this};c.prototype.off=c.prototype.removeListener;c.prototype.addListener=c.prototype.on;c.prototype.setMaxListeners=function(){return this};
c.prefixed=f;c.EventEmitter=c;a.exports=c}),G={timestamp:function(){return+new Date},cachebusting:function(){return 1E7+Math.floor(9E7*Math.random())},errorcode:function(a){return a||900}},C=new RegExp("\\[("+Object.keys(G).join("|")+")\\]","ig"),R=function(a,b){return a.replace(C,function(a,c){return G[c.toLowerCase()](b)})},U=function(a,b,c){return new Promise(function(a){var d=R(b,c),e=document.createElement("img");e.src=d;Object.assign(e.style,{position:"absolute",top:0,left:0,width:0,height:0,
border:0,pointerEvents:"none",visibility:"hidden"});var f=void 0,d=function(){clearTimeout(f);e&&e.parentNode&&e.parentNode.removeChild(e);a()};e.onload=d;e.onerror=d;f=setTimeout(d,2500);document.body.appendChild(e)})},ba=function(a,b){return b.offset.value-a.offset.value},w=Symbol("config"),Q=Symbol("listeners"),B=Symbol("iframe"),F=Symbol("slot"),J=Symbol("videoSlot"),aa=Symbol("width"),da=Symbol("height"),S=Symbol("maxWidth"),P=Symbol("maxHeight"),ga=Symbol("createdVideoSlot"),T=Symbol("progressTimer"),
na=Symbol("boundOnProgressTimer"),ja=Symbol("remainingAbsoluteProgressEvents"),ka=Symbol("remainingRelativeProgressEvents"),oa=Symbol("inflightPixels"),fa=function(a){function c(e){d(this,c);var f=b(this,a.call(this));f[w]=e;f[Q]=[];f[B]=null;f[F]=null;f[J]=null;f[aa]=0;f[da]=0;f[ga]=!1;f[T]=null;f[na]=function(){return f._onProgressTimer()};f[oa]=[];return f}f(c,a);c.canExecute=function(a){throw Error("Method is abstract");};c.prototype.load=function(){return new Promise(function(a,b){this.emit("willLoad");
this._maybeCreateVideoSlot();return this._maybeCreateSlot().then(function(c){this._setDefaultDimensions();this._addAllListeners();return this.loadInternal().then(function(b){this.emit("didLoad");return a()}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.execute=function(){return new Promise(function(a,b){this.emit("willExecute");return this.executeInternal().then(function(c){return this._cleanUp().then(function(b){this.emit("didExecute");return a()}.$asyncbind(this,b),
b)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.pause=function(){return new Promise(function(a,b){this.emit("willPause");return this.pauseInternal().then(function(b){this.emit("didPause");return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.resume=function(){return new Promise(function(a,b){this.emit("willResume");return this.resumeInternal().then(function(b){this.emit("didResume");return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.cancel=function(){return new Promise(function(a,
b){this.emit("willCancel");return this.cancelInternal().then(function(c){return this._cleanUp().then(function(b){this.emit("didCancel");return a()}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.resize=function(a,b){var c=arguments;return new Promise(function(d,e){var f;f=2<c.length&&void 0!==c[2]?c[2]:"normal";this.emit("willResize");return this.resizeInternal(a,b,f).then(function(a){this.emit("didResize");return d()}.$asyncbind(this,e),e)}.$asyncbind(this))};c.prototype.getMediaWidthInternal=
function(){return null==this[w]?0:this[w].mediaFile.width};c.prototype.getMediaHeightInternal=function(){return null==this[w]?0:this[w].mediaFile.height};c.prototype.getClientWidthInternal=function(){return this[aa]};c.prototype.getClientHeightInternal=function(){return this[da]};c.prototype.getVolumeInternal=function(){throw Error("Method is abstract");};c.prototype.setVolumeInternal=function(){throw Error("Method is abstract");};c.prototype.getMutedInternal=function(){throw Error("Method is abstract");
};c.prototype.setMutedInternal=function(){throw Error("Method is abstract");};c.prototype.loadInternal=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.executeInternal=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.pauseInternal=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.resumeInternal=function(){return new Promise(function(a,
b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.resizeInternal=function(a,b,c){return new Promise(function(c,d){this._resizeSlots(a,b);return c()}.$asyncbind(this))};c.prototype._resizeSlots=function(a,b){null!=this.slot&&null!=this.slot.style&&Object.assign(this.slot.style,{width:a+"px",height:b+"px"})};c.prototype.cancelInternal=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.skip=function(){return new Promise(function(a,
b){this.emit("willSkip");this.emitVAST("skip");return this.cancel().then(function(b){this.emit("didSkip");return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.emitVAST=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.emit.apply(this,["vast:"+a].concat(c))};c.prototype._cleanUp=function(){return new Promise(function(a,b){this._removeAllListeners();this._stopProgressTimer();this._maybeRemoveSlot();this._maybeRemoveVideoSlot();return this._finishInflightPixels().then(function(b){return a()}.$asyncbind(this,
b),b)}.$asyncbind(this))};c.prototype._maybeCreateVideoSlot=function(){this[J]=this[w].videoSlot;null==this[J]&&(this[ga]=!0,this[J]=document.createElement("video"),this[J].setAttribute("playsinline","true"),this[J].setAttribute("webkit-playsinline","true"),Object.assign(this[J].style,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),document.body.appendChild(this[J]))};c.prototype._maybeRemoveVideoSlot=function(){this[ga]&&null!=this[J]&&(this[J].parentNode&&this[J].parentNode.removeChild(this[J]),
this[J]=null)};c.prototype._maybeCreateSlot=function(){return new Promise(function(a,b){var c;c=this;this[F]=this[w].slot;return null!=this[F]?(0<this[w].slotWidth&&0<this[w].slotHeight&&Object.assign(this[F].style,{width:this[w].slotWidth+"px",height:this[w].slotHeight+"px"}),a()):(new Promise(function(a){c[B]=c[J].ownerDocument.createElement("iframe");c[B].addEventListener("load",function sb(){c[B].removeEventListener("load",sb);var b=c[B].contentWindow.document;b.write('<!doctype html>\n<html>\n<head>\n<meta charset="utf-8">\n<style>\nhtml,body{margin:0;padding:0}\n#slot{position:absolute;left:0;top:0;width:100%;height:100%}\n</style>\n</head>\n<body>\n<div id="slot"></div>\n</body>\n</html>');
c[F]=b.getElementById("slot");a()});c[B].frameBorder="0";c[B].scrolling="no";c[B].src="about:blank";Object.assign(c[B].style,{position:"absolute",left:0,top:0,width:"100%",height:"100%"});c[J].parentNode.appendChild(c[B])})).then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype._maybeRemoveSlot=function(){null!=this[B]&&null!=this[F]&&(null!=this[B].parentNode&&this[B].parentNode.removeChild(this[B]),this[B]=null)};c.prototype._setDefaultDimensions=function(){var a=0<
this.mediaWidth&&0<this.mediaHeight?this.mediaWidth/this.mediaHeight:16/9;this[S]=0<this[w].slotWidth?this[w].slotWidth:this[F].clientWidth;this[P]=0<this[w].slotHeight?this[w].slotHeight:this[F].clientHeight;a<this[S]/this[P]?(this[da]=this[P],this[aa]=Math.round(a*this[da])):(this[aa]=this[S],this[da]=Math.round(this[aa]/a))};c.prototype._addAllListeners=function(){var a=this;if(null!=this[w].trackingEvents){var b=!1;this[w].trackingEvents.types.forEach(function(c){"progress"===c?b=!0:a._addListener("vast:"+
c,function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];a._onVastEvent.apply(a,[c].concat(d))})});b&&(this._indexProgressEvents(),this._addProgressListeners())}null!=this[w].videoClicks&&this._addListener("clickThrough",this._onVastClickThrough);this._addListener("error",this._onErrorEvent)};c.prototype._addListener=function(a,b){b=b.bind(this);this.on(a,b);this[Q].push({type:a,listener:b})};c.prototype._removeAllListeners=function(){var a=this;this[Q].forEach(function(b){a.removeListener(b.type,
b.listener)});this[Q]=[]};c.prototype._onVastEvent=function(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null!=this[w].trackingEvents&&this[w].trackingEvents.get(a).forEach(function(d){b._track(a,d.uri,c)})};c.prototype._onVastClickThrough=function(a){var b=this;a=Object.assign({},a);"boolean"!=typeof a.playerHandles&&(a.playerHandles=!0);"string"!=typeof a.url&&null!=this[w].videoClicks.clickThrough&&(a.url=this[w].videoClicks.clickThrough.uri);this[w].videoClicks.clickTrackings.forEach(function(a){b._track("clickThrough",
a.uri)});null!=this[w].clickthroughHandler?this[w].clickthroughHandler(a):a.playerHandles&&null!=a.url&&window.open(a.url,"_blank")};c.prototype._onErrorEvent=function(){return new Promise(function(a,b){return this.cancel().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype._indexProgressEvents=function(){var a=this;this[ja]=[];this[ka]=[];this[w].trackingEvents.get("progress").forEach(function(b){b.offset instanceof K||"RelativeTimeOffset"===b.offset.$type?a[ka].push(b):
(b.offset instanceof v||"AbsoluteTimeOffset"===b.offset.$type)&&a[ja].push(b)});this[ja].sort(ba);this[ka].sort(ba)};c.prototype._addProgressListeners=function(){this._addListener("vast:start",this._startProgressTimer);this._addListener("vast:resume",this._startProgressTimer);this._addListener("vast:pause",this._stopProgressTimer);this._addListener("vast:complete",this._stopProgressTimer)};c.prototype._startProgressTimer=function(){null==this[T]&&this._hasRemainingProgressEvents()&&(this[T]=setInterval(this[na],
250))};c.prototype._stopProgressTimer=function(){null!=this[T]&&(clearInterval(this[T]),this[T]=null,this._onProgressTimer())};c.prototype._onProgressTimer=function(){var a=this.remainingTime,b=this.duration;isNaN(a)||0>a||isNaN(b)||0>=b||a>b||(a=b-a,b=100*a/b,this._dispatchProgressEvents(this[ja],a),this._dispatchProgressEvents(this[ka],b),this._hasRemainingProgressEvents()||this._stopProgressTimer())};c.prototype._dispatchProgressEvents=function(a,b){for(var c=this,d=a.length;0<d&&b>=a[d-1].offset.value;)--d;
d<a.length&&a.splice(d).forEach(function(a){c._track("progress",a.uri,{offset:a.offset})})};c.prototype._hasRemainingProgressEvents=function(){return 0<this[ja].length+this[ka].length};c.prototype._track=function(a,b){var c=(null!=this.config.trackingHandler?this.config.trackingHandler:U).call(this,a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});this._addInflightPixel(c)};c.prototype._addInflightPixel=function(a){var b=this;null!=a&&"function"==typeof a.then&&(this[oa].push(a),a.then(function(){b._removeInflightPixel(a)}))};
c.prototype._removeInflightPixel=function(a){for(var b=0;b<this[oa].length&&this[oa][b]!==a;)++b;b<this[oa].length&&this[oa].splice(b,1)};c.prototype._finishInflightPixels=function(){return new Promise(function(a,b){var c;c=this[oa].slice();return Promise.all(c).then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};h(c,[{key:"config",get:function(){return this[w]}},{key:"slot",get:function(){return this[F]}},{key:"videoSlot",get:function(){return this[J]}},{key:"mediaWidth",get:function(){return this.getMediaWidthInternal()}},
{key:"mediaHeight",get:function(){return this.getMediaHeightInternal()}},{key:"clientWidth",get:function(){return this.getClientWidthInternal()}},{key:"clientHeight",get:function(){return this.getClientHeightInternal()}},{key:"maxWidth",get:function(){return this[S]}},{key:"maxHeight",get:function(){return this[P]}},{key:"volume",get:function(){return this.getVolumeInternal()},set:function(a){this.setVolumeInternal(a)}},{key:"muted",get:function(){return this.getMutedInternal()},set:function(a){a!==
this.muted&&(this.setMutedInternal(a),this.emitVAST(a?"mute":"unmute"))}},{key:"paused",get:function(){throw Error("Method is abstract");}},{key:"remainingTime",get:function(){throw Error("Method is abstract");}},{key:"duration",get:function(){throw Error("Method is abstract");}}]);return c}(N),Z=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Y={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",
AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",
AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"},Ra=(g={},g[Y.AdSkipped]="skip",g[Y.AdStarted]="creativeView",g[Y.AdImpression]="impression",g[Y.AdVideoStart]="start",g[Y.AdVideoFirstQuartile]="firstQuartile",g[Y.AdVideoMidpoint]="midpoint",g[Y.AdVideoThirdQuartile]="thirdQuartile",g[Y.AdVideoComplete]="complete",g[Y.AdUserAcceptInvitation]="acceptInvitation",g[Y.AdUserMinimize]="collapse",g[Y.AdUserClose]="close",g[Y.AdPaused]="pause",g[Y.AdPlaying]=
"resume",g),qb=function(){function a(b){d(this,a);this._executor=b;this._listeners=[];this._tracked=Object.create(null)}a.prototype.start=function(){this._muted=0===this._getAdVolume;this._addVpaidListeners()};a.prototype.stop=function(){this._removeVpaidListeners()};a.prototype._addVpaidListeners=function(){var a=this;Object.keys(Y).forEach(function(b){var c=function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];a._onVpaidEvent(b,d)};a._executor._vpaidSubscribe(b,c);a._listeners.push({type:b,
listener:c})})};a.prototype._removeVpaidListeners=function(){var a=this;this._listeners.forEach(function(b){a._executor._vpaidUnsubscribe(b.type,b.listener)});this._listeners=[]};a.prototype._onVpaidEvent=function(a,b){if(a===Y.AdClickThru)this._executor.emit("clickThrough",{url:b[0],id:b[1],playerHandles:b[2]});else if(a===Y.AdVolumeChange){var c=0===this._getAdVolume();this._muted!==c&&(this._muted=c,this._executor.emitVAST(c?"mute":"unmute"))}else a===Y.AdError&&this._executor.emitVAST("error",
{errorCode:901});Ra[a]&&this._executor.emitVAST(Ra[a]);this._executor.emitVPAID(a,b)};a.prototype._getAdVolume=function(){return this._executor._getVpaidProperty("adVolume")};return a}(),rb={AdDurationChange:"durationchange",AdVolumeChange:"volumechange"},pa=Symbol("vpaid"),ha=Symbol("vpaidListeners"),la=Symbol("volume"),ya=Symbol("muted"),qa=Symbol("paused"),Ta=Symbol("width"),Sa=Symbol("height"),Ea=Symbol("adStartTimeout"),x=Symbol("adStopTimeout"),ia=Symbol("tracker"),ma=Symbol("resolveLoad"),
H=Symbol("resolveRemoval"),O=function(a){function c(e){d(this,c);e=b(this,a.call(this,e));e[pa]=null;e[ha]={};e[la]=1;e[ya]=!1;e[qa]=!0;e[Ta]=0;e[Sa]=0;e[Ea]=null;e[x]=null;e[ia]=null;e[ma]=null;e[H]=null;return e}f(c,a);c.prototype.getClientWidthInternal=function(){return this[Ta]||a.prototype.getClientWidthInternal.call(this)};c.prototype.getClientHeightInternal=function(){return this[Sa]||a.prototype.getClientHeightInternal.call(this)};c.prototype.getVolumeInternal=function(){return this[ya]?this[la]:
this._getVpaidProperty("adVolume")};c.prototype.setVolumeInternal=function(a){this[la]=a;this._setVpaidProperty("adVolume",a)};c.prototype.getMutedInternal=function(){return this[ya]};c.prototype.setMutedInternal=function(a){this[ya]=a;this.videoSlot.muted=a;this._setVpaidProperty("adVolume",a?0:this[la])};c.prototype.loadInternal=function(){return new Promise(function(a,b){var c,d;c=this;d=new Promise(function(a){c[ma]=a});return this.setUp().then(function(c){return this.loadMediaFile().then(function(c){this._performAdInit();
return d.then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.executeInternal=function(){return new Promise(function(a,b){var c,d;c=this;d=new Promise(function(a){c[H]=a});this._callVpaidFunction("startAd");return d.then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.pauseInternal=function(){return new Promise(function(a,b){this._callVpaidFunction("pauseAd");return a()}.$asyncbind(this))};c.prototype.resumeInternal=
function(){return new Promise(function(a,b){this._callVpaidFunction("resumeAd");return a()}.$asyncbind(this))};c.prototype.resizeInternal=function(b,c,d){return new Promise(function(e,f){var g,h;g=this;a.prototype.resizeInternal.call(this,b,c,d);return b!==this.clientWidth||c!==this.clientHeight?(h=new Promise(function(a){g.once("resize",a)}),this._callVpaidFunction("resizeAd",b,c,d),h.then(function(a){this._rememberDimensions();return e()}.$asyncbind(this,f),f)):e()}.$asyncbind(this))};c.prototype.cancelInternal=
function(){return new Promise(function(a,b){var c=this;this._cancelTimeouts();this[pa]?(this[x]=setTimeout(function(){c._removeAd()},this.config.adStopTimeout),this._callVpaidFunction("stopAd")):this._removeAd();return a()}.$asyncbind(this))};c.prototype.skip=function(){return new Promise(function(b,c){try{this._callVpaidFunction("skipAd")}catch(d){}return a.prototype.skip.call(this).then(function(a){return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype.setUp=function(){return new Promise(function(a,
b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.tearDown=function(){throw Error("Method is abstract");};c.prototype.loadMediaFile=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};c.prototype.getVPAIDAd=function(){throw Error("Method is abstract");};c.prototype.getEnvironmentVars=function(){return{}};c.prototype.emitVPAID=function(a,b){this.emit("vpaid:"+a,b);a=rb[a];null!=a&&this.emit(a)};c.prototype._rememberDimensions=
function(){this[Ta]=this._getVpaidProperty("adWidth");this[Sa]=this._getVpaidProperty("adHeight")};c.prototype._onAdLoaded=function(){this._rememberDimensions();null!=this[ma]&&(this[ma](),this[ma]=null)};c.prototype._onAdStarted=function(){this[qa]=!1};c.prototype._onAdPlaying=function(){this[qa]=!1};c.prototype._onAdPaused=function(){this[qa]=!0};c.prototype._onAdStopped=function(){this[qa]=!0;this._removeAd()};c.prototype._onAdError=function(a){this[qa]=!0;this.emitVAST("error",{errorCode:901});
this.emit("error",{message:a})};c.prototype._onAdSizeChange=function(){this._resizeSlots(this.clientWidth,this.clientHeight);this.emit("resize")};c.prototype._performAdInit=function(){this[pa]=this.getVPAIDAd();this._handshakeVersion();this._subscribeAll();this[ia]=new qb(this);this[ia].start();this._initAd()};c.prototype._subscribeAll=function(){this._vpaidSubscribe("AdLoaded",this._onAdLoaded);this._vpaidSubscribe("AdStarted",this._onAdStarted);this._vpaidSubscribe("AdPlaying",this._onAdPlaying);
this._vpaidSubscribe("AdPaused",this._onAdPaused);this._vpaidSubscribe("AdStopped",this._onAdStopped);this._vpaidSubscribe("AdError",this._onAdError);this._vpaidSubscribe("AdSizeChange",this._onAdSizeChange)};c.prototype._unsubscribeAll=function(){this._vpaidUnsubscribe("AdLoaded",this._onAdLoaded);this._vpaidUnsubscribe("AdStarted",this._onAdStarted);this._vpaidUnsubscribe("AdPlaying",this._onAdPlaying);this._vpaidUnsubscribe("AdPaused",this._onAdPaused);this._vpaidUnsubscribe("AdStopped",this._onAdStopped);
this._vpaidUnsubscribe("AdError",this._onAdError);this._vpaidUnsubscribe("AdSizeChange",this._onAdSizeChange)};c.prototype._cancelTimeouts=function(){this._cancelAdStartTimeout();this._cancelAdStopTimeout()};c.prototype._cancelAdStartTimeout=function(){null!=this[Ea]&&(clearTimeout(this[Ea]),this[Ea]=null)};c.prototype._cancelAdStopTimeout=function(){null!=this[x]&&(clearTimeout(this[x]),this[x]=null)};c.prototype._handshakeVersion=function(){return this._callVpaidFunction("handshakeVersion","2.0")};
c.prototype._initAd=function(){var a={AdParameters:this.config.adParameters},b=this.getEnvironmentVars();this._callVpaidFunction("initAd",this.maxWidth,this.maxHeight,"normal",-2,a,b)};c.prototype._removeAd=function(){this._cancelTimeouts();null!=this[ia]&&this[ia].stop();null!=this[pa]&&(this._unsubscribeAll(),this[pa]=null);this.tearDown();null!=this[H]&&this[H]()};c.prototype._checkVpaidAvailable=function(a){if(null==this[pa])throw Error("Cannot "+a+" before the ad is initialized");};c.prototype._callVpaidFunction=
function(a){this._checkVpaidAvailable('call VPAID function "'+a+'"');try{for(var b,c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this[pa])[a].apply(b,d)}catch(f){throw Error("Error calling "+a+": "+f);}};c.prototype._getVpaidProperty=function(a){this._checkVpaidAvailable('get VPAID property "'+a+'"');var b="get"+Z(a);try{return this[pa][b]()}catch(c){throw Error("Error getting "+a+": "+c);}};c.prototype._setVpaidProperty=function(a,b){this._checkVpaidAvailable('set VPAID property "'+
a+'"');var c="set"+Z(a);try{this[pa][c](b)}catch(d){throw Error("Error setting "+a+": "+d);}};c.prototype._vpaidSubscribe=function(a,b){var c=this;if(!this[ha].hasOwnProperty(a)){var d=function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];c._onVpaidEvent(a,d)};this[pa].subscribe(d,a);this[ha][a]={metaListener:d,listeners:[]}}this[ha][a].listeners.push(b)};c.prototype._vpaidUnsubscribe=function(a,b){if(this[ha].hasOwnProperty(a)&&(b=this[ha][a].listeners.indexOf(b),!(0>b))){var c=
this[ha][a],d=c.metaListener,c=c.listeners;c.splice(b,1);0===c.length&&(this[pa].unsubscribe(d,a),delete this[ha][a])}};c.prototype._onVpaidEvent=function(a,b){if(this[ha].hasOwnProperty(a)){a=this[ha][a].listeners.slice();for(var c=0;c<a.length;++c)a[c].apply(this,b)}};h(c,[{key:"remainingTime",get:function(){return this._getVpaidProperty("adRemainingTime")}},{key:"duration",get:function(){return this._getVpaidProperty("adDuration")}},{key:"paused",get:function(){return this[qa]}}]);return c}(fa),
Ja=function(a,b,c){return new Promise(function(d,e){return d(new Promise(function(d,e){var f=c.createElement("script");c.getElementsByTagName("head")[0].appendChild(f);f.addEventListener("load",function(){return d()});f.addEventListener("error",function(){return e(Error("Error loading script: "+a))});f.crossOrigin=b;f.src=a}))}.$asyncbind(this))},Ka=function(a){function e(){d(this,e);return b(this,a.apply(this,arguments))}f(e,a);e.canExecute=function(a){var b=a.type;return"VPAID"===a.apiFramework&&
("application/x-javascript"===b||"application/javascript"===b)};e.prototype.setUp=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};e.prototype.tearDown=function(){};e.prototype.loadMediaFile=function(){return new Promise(function(a,b){var d,e,f;d=this.config;e=d.mediaFile;d=d.vpaidCrossOrigin;f=void 0===d?"undefined":c(d);d="string"===f?d:"function"===f?d(e):null;return Ja(e.uri,d,this.slot.ownerDocument).then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};
e.prototype.getVPAIDAd=function(){var a=this.slot.ownerDocument;return(a.defaultView||a.parentWindow).getVPAIDAd()};e.prototype.getEnvironmentVars=function(){return{slot:this.slot,videoSlot:this.videoSlot,videoSlotCanAutoPlay:this.config.videoSlotCanAutoPlay}};return e}(O),W={AdError:["message"],AdLog:["message"],AdClickThru:["url","id","playerHandles"],AdInteraction:["id"]},V=function(){function a(b){d(this,a);this._executor=b;this._subscribers=Object.create(null)}a.prototype._dispose=function(){this._executor=
this._subscribers=null};a.prototype._onSwfEvent=function(a){if(null!=this._subscribers[a.type]){var b=null!=W[a.type]?W[a.type].map(function(b){return a.data&&a.data[b]}):[];this._subscribers[a.type].forEach(function(a){a.fn.apply(a.ctx,b)})}};a.prototype.handshakeVersion=function(){return"2.0"};a.prototype.initAd=function(a,b,c,d,e,f){this._execute("init",{width:a,height:b,viewMode:c,desiredBitrate:d,creativeData:e.AdParameters})};a.prototype.startAd=function(){this._call("startAd")};a.prototype.stopAd=
function(){this._call("stopAd")};a.prototype.getAdRemainingTime=function(){return this._get("adRemainingTime")};a.prototype.getAdDuration=function(){return this._get("adDuration")};a.prototype.getAdVolume=function(){return this._get("adVolume")};a.prototype.getAdExpanded=function(){return this._get("adExpanded")};a.prototype.getAdSkippableState=function(){return this._get("adSkippableState")};a.prototype.setAdVolume=function(a){return this._set("adVolume",a)};a.prototype.getAdWidth=function(){return this._get("adWidth")};
a.prototype.getAdHeight=function(){return this._get("adHeight")};a.prototype.resizeAd=function(a,b,c){this._call("resizeAd",a,b,c)};a.prototype.pauseAd=function(){this._call("pauseAd")};a.prototype.resumeAd=function(){this._call("resumeAd")};a.prototype.expandAd=function(){this._call("expandAd")};a.prototype.collapseAd=function(){this._call("collapseAd")};a.prototype.skipAd=function(){this._call("skipAd")};a.prototype.subscribe=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null;this._subscribers[b]=this._subscribers[b]||[];this._subscribers[b].push({fn:a,ctx:c})};a.prototype.unsubscribe=function(a,b){null!=this._subscribers[b]&&(this._subscribers[b]=this._subscribers[b].filter(function(b){return a!==b.fn}))};a.prototype._call=function(a){for(var b,c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this._executor)._vpaidCall.apply(b,[a].concat(d))};a.prototype._get=function(a){return this._executor._vpaidGet(a)};a.prototype._set=function(a,b){this._executor._vpaidSet(a,
b)};a.prototype._execute=function(a,b){this._executor._swfExecute(a,b)};return a}(),ra=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})},za=Object.getOwnPropertySymbols,ab=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable,mb=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=
a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},c)).join("")}catch(d){return!1}}()?Object.assign:function(a,b){var c,d,e;if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(a);for(var f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var g in c)ab.call(c,g)&&
(e[g]=c[g]);if(za){d=za(c);for(var h=0;h<d.length;h++)ca.call(c,d[h])&&(e[d[h]]=c[d[h]])}}return e},nb=function(b,c){c=mb({encode:!0,strict:!0,arrayFormat:"none"},c);var d=e(c);return b?Object.keys(b).sort().map(function(e){var f=b[e];if(void 0===f)return"";if(null===f)return a(e,c);if(Array.isArray(f)){var g=[];f.slice().forEach(function(a){void 0!==a&&g.push(d(e,a,g.length))});return g.join("&")}return a(e,c)+"="+a(f,c)}).filter(function(a){return 0<a.length}).join("&"):""},Za=function(a,b){Object.keys(b).forEach(function(c){var d=
b[c],e=document.createElement("param");e.setAttribute("name",c);e.setAttribute("value",d);a.appendChild(e)})},$a=function(a,b){Object.keys(b).forEach(function(c){var d=c.toLowerCase();"data"!==d&&a.setAttribute(d,b[c])})},gb=function(a,b){var c=document.createElement("object");Za(c,b);$a(c,a);c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("data",a.data);return c},ob=function(a,b){var c=document.createElement("div");Za(c,b);c.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+
a.data+"'>"+c.innerHTML+"</object>";b=c.firstChild;$a(b,a);return b},Ia=function(){var a=navigator.plugins&&navigator.plugins["Shockwave Flash"];if(a){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(a=a.description)?(a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a={major:parseInt(a.replace(/^(.*)\..*$/,"$1"),10),minor:parseInt(a.replace(/^.*\.(.*)\s.*$/,"$1"),10),patch:/[a-zA-Z]/.test(a)?parseInt(a.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0,create:gb}):a=void 0,a}else if(window.ActiveXObject)try{var b=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),c;var d=b&&b.getVariable("$version");if(d){var e=d.split(" ")[1].split(",");c={major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10),create:ob}}else c=void 0;return c}catch(f){}}(),Qa=function(a){var b=a.major;a=a.minor;return null!=Ia&&(Ia.major>b||Ia.major===b&&Ia.minor>=a)},hb={major:10,minor:1},pb={menu:"false",allowFullscreen:"true",allowScriptAccess:"always",
bgcolor:"#000000",wmode:"direct"},X=Symbol("swf"),ta=Symbol("vpaid"),ua=Symbol("callbackName"),Aa=Symbol("status"),wa=Symbol("resolveStatus"),bb=function(a){function c(){d(this,c);return b(this,a.apply(this,arguments))}f(c,a);c.canExecute=function(a){var b=a.type;a=a.apiFramework;return Qa(hb)&&"VPAID"===a&&("application/x-shockwave-flash"===b||null==b)};c.prototype.setUp=function(){return new Promise(function(a,b){this[ta]=new V(this);this._embedSwf();return this._transitionToStatus("ready").then(function(b){return a()}.$asyncbind(this,
b),b)}.$asyncbind(this))};c.prototype.tearDown=function(){null!=this[X]&&null!=this[X].parentNode&&(this[X].parentNode.removeChild(this[X]),this[X]=null);null!=this[ua]&&(delete window[this[ua]],this[ua]=null);null!=this[ta]&&(this[ta]._dispose(),this[ta]=null)};c.prototype.loadMediaFile=function(){return new Promise(function(a,b){this._swfExecute("load",{uri:this.config.mediaFile.uri});return this._transitionToStatus("loaded").then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};
c.prototype.getVPAIDAd=function(){return this[ta]};c.prototype._transitionToStatus=function(a){var b=this;return(new Promise(function(a,c){b[wa]=a})).then(function(){if(b[Aa]!==a)throw Error("Status is "+b[Aa]+", expecting "+a);})};c.prototype._maybeResolveStatus=function(){null!=this[wa]&&(this[wa](),this[wa]=null)};c.prototype._vpaidCall=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this._swfExecute("call",{name:a,args:c})};c.prototype._vpaidGet=function(a){return this._swfExecute("get",
{name:a})};c.prototype._vpaidSet=function(a,b){this._swfExecute("set",{name:a,value:b})};c.prototype._swfExecute=function(a,b){return this[X].execute(a,encodeURIComponent(JSON.stringify(b)))};c.prototype._embedSwf=function(){var a=this._setupPlaceholder(),b=a.ownerDocument||document,b={callback:this._setUpCallback(b.defaultView||b.parentWindow||window)},c={id:"swf-"+(new Date).getTime()};var d=this.maxWidth,e=this.maxHeight;Qa(hb)?(c=Object.assign({},c,{data:"https://watch.zentrick.com/js/iab-vast-executor-vpaid-swf/0.23.15/vpaid-bridge.swf",
width:d||"100%",height:e||"100%"}),b=nb(b),b=Object.assign({},pb,{flashvars:b}),b=Ia.create(c,b),a.parentNode.replaceChild(b,a),a=b):a=void 0;this[X]=a;Object.assign(this[X].style,{position:"absolute",left:"0",top:"0",margin:"0",padding:"0",border:"0"})};c.prototype._setupPlaceholder=function(){for(var a=this.videoSlot.parentNode,b=a.ownerDocument||document,c=a;null!=c&&null!=c.style;)"none"===c.style.display&&(c.style.display=""),"hidden"===c.style.visibility&&(c.style.visibility="visible"),c=c.parentNode;
this.videoSlot.style.display="none";b=b.createElement("div");a.appendChild(b);return b};c.prototype._setUpCallback=function(a){var b="__cb"+Date.now();this[ua]=b;a[b]=this._onCallback.bind(this);return b};c.prototype._onCallback=function(a){var b=JSON.parse(decodeURIComponent(a));a=b.type;b=b.data;"status"===a?(this[Aa]=b.status,this._maybeResolveStatus()):"event"===a&&this[ta]._onSwfEvent(b)};return c}(O),kb=["firstQuartile","midpoint","thirdQuartile","complete"],ea=Symbol("mouseCatcher"),Ba=Symbol("resumeButton"),
Ua=Symbol("videoListeners"),Ca=Symbol("isMuted"),cb=Symbol("isVideoLoaded"),La=Symbol("hasImpressed"),Ma=Symbol("hasPlayed"),Na=Symbol("resolveCanPlay"),Va=Symbol("hasClicked"),Oa=Symbol("resolveLoad"),Ga=Symbol("resolveExecution"),Wa=Symbol("completion"),Xa=Symbol("cssSuffix"),db=document.createElement("video"),Ha=function(a){function c(e){d(this,c);e=b(this,a.call(this,e));e[Ua]=[];e[Ca]=!1;e[cb]=!1;e[La]=!1;e[Ma]=!1;e[Na]=null;e[Va]=!1;e[Oa]=null;e[Ga]=function(){};e[Wa]=0;e[Xa]="-"+Date.now();
return e}f(c,a);c.canExecute=function(a){var b=a.type;return null==a.apiFramework&&""!==db.canPlayType(b)};c.prototype.getMediaWidthInternal=function(){return this.videoSlot.videoWidth||a.prototype.getMediaWidthInternal.call(this)};c.prototype.getMediaHeightInternal=function(){return this.videoSlot.videoHeight||a.prototype.getMediaHeightInternal.call(this)};c.prototype.getClientWidthInternal=function(){return this.videoSlot.clientWidth||a.prototype.getClientWidthInternal.call(this)};c.prototype.getClientHeightInternal=
function(){return this.videoSlot.clientHeight||a.prototype.getClientHeightInternal.call(this)};c.prototype.getVolumeInternal=function(){return this.videoSlot.volume};c.prototype.setVolumeInternal=function(a){this.videoSlot.volume=a};c.prototype.getMutedInternal=function(){return this.videoSlot.muted};c.prototype.setMutedInternal=function(a){this.videoSlot.muted=a};c.prototype.loadInternal=function(){return new Promise(function(a,b){var c=this;b=new Promise(function(a){c[Oa]=a});this._createStyle();
this._addMouseCatcher();this.config.clickToResume&&!this.config.clickToResumeHidden&&this._addResumeButton();this.config.preloadVideo?(this.videoSlot.autoplay=!1,this._maybeLoadVideo()):this._resolveLoad();return a(b)}.$asyncbind(this))};c.prototype.executeInternal=function(){return new Promise(function(a,b){function c(){this.videoSlot.play();return e.then(function(b){return a()}.$asyncbind(this,b),b)}var d,e;d=this;this._maybeLoadVideo();e=new Promise(function(a){d[Ga]=a});this[Ca]=this.videoSlot.muted;
return 3>this.videoSlot.readyState?(new Promise(function(a){d[Na]=a})).then(function(a){return c.call(this)}.$asyncbind(this,b),b):c.call(this)}.$asyncbind(this))};c.prototype.pauseInternal=function(){return new Promise(function(a,b){this.videoSlot.pause();return a()}.$asyncbind(this))};c.prototype.resumeInternal=function(){return new Promise(function(a,b){this.videoSlot.play();return a()}.$asyncbind(this))};c.prototype.cancelInternal=function(){return new Promise(function(a,b){this._tearDown();return a()}.$asyncbind(this))};
c.prototype._tearDown=function(){this._removeMouseCatcher();this._removeVideoListeners();this.videoSlot.pause();null!=this.videoSlot.removeAttribute?(this.videoSlot.removeAttribute("src"),this.videoSlot.load()):this.videoSlot.src=""};c.prototype._maybeLoadVideo=function(){this[cb]||(this[cb]=!0,this._addVideoListeners(),this.videoSlot.src=this.config.mediaFile.uri,this.videoSlot.load(),3<=this.videoSlot.readyState&&this._onCanplay())};c.prototype._addVideoListeners=function(){this._addVideoListener("canplay",
this._onCanplay);this._addVideoListener("playing",this._onPlaying);this._addVideoListener("pause",this._onPause);this._addVideoListener("timeupdate",this._onTimeupdate);this._addVideoListener("ended",this._onEnded);this._addVideoListener("volumechange",this._onVolumechange);this._addVideoListener("durationchange",this._onDurationChange);this._addVideoListener("resize",this._onResize);this._addVideoListener("error",this._onVideoError)};c.prototype._addVideoListener=function(a,b){b=b.bind(this);this.videoSlot.addEventListener(a,
b);this[Ua].push({type:a,listener:b})};c.prototype._removeVideoListeners=function(){var a=this;this[Ua].forEach(function(b){a.videoSlot.removeEventListener(b.type,b.listener)});this[Ua]=[]};c.prototype._addMouseCatcher=function(){this[ea]=Object.assign(this.slot.ownerDocument.createElement("div"),{className:"mouse-catcher"+this[Xa]});this[ea].addEventListener("click",this._onVideoClick.bind(this));this.slot.insertBefore(this[ea],this.slot.firstChild)};c.prototype._addResumeButton=function(){this[Ba]=
Object.assign(this.slot.ownerDocument.createElement("div"),{className:"resume-button"+this[Xa]});this.slot.insertBefore(this[Ba],this.slot.firstChild)};c.prototype._setResumeButtonVisible=function(a){null!=this[Ba]&&(this[Ba].style.display=a?"block":"none")};c.prototype._createStyle=function(){var a=this.slot.ownerDocument,b=a.createElement("style"),c=this[Xa];b.textContent="\n.resume-button"+c+", .mouse-catcher"+c+" {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.resume-button"+
c+" {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiI+PHBhdGggZD0iTTE3NSAwQzc4LjM0MyAwIDAgNzguMzQzIDAgMTc1YzAgOTYuNjU2IDc4LjM0MyAxNzUgMTc1IDE3NSA5Ni42NTYgMCAxNzUtNzguMzQ0IDE3NS0xNzVDMzUwIDc4LjM0MyAyNzEuNjU2IDAgMTc1IDB6bTgzLjczOCAxODkuMDVsLTEwNC4zODYgNzEuODEyYTE3LjA3MyAxNy4wNzMgMCAwIDEtMTcuNjAzIDEuMDU1Yy01LjYwNS0yLjk2NS05LjEyNS04Ljc3Ny05LjEyNS0xNS4xMDNWMTAzLjE4OGMwLTYuMzI2IDMuNTItMTIuMTM5IDkuMTI1LTE1LjEwNGExNy4wNzQgMTcuMDc0IDAgMCAxIDE3LjYwMyAxLjA1NWwxMDQuMzg2IDcxLjgxMWExNy4wNzIgMTcuMDcyIDAgMCAxIDcuMzg3IDE0LjA1IDE3LjA3IDE3LjA3IDAgMCAxLTcuMzg3IDE0LjA1eiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjUpIi8+PC9zdmc+);\n  background-size: 25%;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  display: none;\n}\n\n.mouse-catcher"+
c+" {\n  cursor: pointer;\n}\n";a.querySelector("head").appendChild(b)};c.prototype._removeMouseCatcher=function(){null!=this[ea]&&null!=this[ea].parentNode&&(this[ea].parentNode.removeChild(this[ea]),this[ea]=null)};c.prototype._onCanplay=function(){this._resolveLoad();this._resolveCanPlay()};c.prototype._resolveLoad=function(){null!=this[Oa]&&(this[Oa](),this[Oa]=null)};c.prototype._resolveCanPlay=function(){null!=this[Na]&&(this[Na](),this[Na]=null)};c.prototype._onPlaying=function(){this[La]||
(this[La]=!0,this.emitVAST("creativeView"),this.emitVAST("impression"));this[Ma]?this.emitVAST("resume"):(this[Ma]=!0,this.emitVAST("start"));this[Va]=!1;this._setResumeButtonVisible(!1)};c.prototype._onPause=function(){this[Ma]&&!this.videoSlot.ended&&(this.emitVAST("pause"),this._setResumeButtonVisible(!0))};c.prototype._onTimeupdate=function(){var a=this.duration;if(0<a)for(var b=this._computePlayedTime(),a=a-b<Math.min(.5,a/10)?4:Math.floor(4*b/a);this[Wa]<a;)this.emitVAST(kb[this[Wa]]),++this[Wa]};
c.prototype._computePlayedTime=function(){if(null!=this.videoSlot.played){var a=this.videoSlot.played;return Array.apply(null,{length:a.length}).reduce(function(b,c,d){return b+a.end(d)-a.start(d)},0)}return this.videoSlot.currentTime};c.prototype._onEnded=function(){this[Ga]();this._tearDown()};c.prototype._onVolumechange=function(){var a=0===this.videoSlot.volume;a||this.videoSlot.muted?this[Ca]||(this[Ca]=!0,this.emitVAST("mute")):!a&&this[Ca]&&(this[Ca]=!1,this.emitVAST("unmute"));this.emit("volumechange")};
c.prototype._onDurationChange=function(){this.emit("durationchange")};c.prototype._onResize=function(){this.emit("resize")};c.prototype._onVideoClick=function(){this[La]&&(this.config.clickToResume&&this[Va]||(this[Va]=!0,this.emit("clickThrough",{})),this.config.clickToResume&&(this.videoSlot.paused?this.resumeInternal():this.pauseInternal()))};c.prototype._onVideoError=function(){var a,b;null!=this.videoSlot.error?(b=this.videoSlot.error,a=Error("Video error "+b.code),a.mediaError=b,b=2===b.code?
402:405):(a=Error("Unknown video error"),b=405);this.emitVAST("error",{errorCode:b});this.emit("error",a)};h(c,[{key:"remainingTime",get:function(){return this.duration-this.videoSlot.currentTime}},{key:"duration",get:function(){var a=this.videoSlot.duration,b=this.config.duration;return(isNaN(a)||0>=a)&&"number"==typeof b?b:a}},{key:"paused",get:function(){return this.videoSlot.paused}}]);return c}(fa),tb={"vpaid-js":Ka,"vpaid-swf":bb,video:Ha},Ya=["width","height","bitrate"],eb=function(a){var b=
{};Ya.forEach(function(c){var d;d=c.charAt(0).toUpperCase()+c.substr(1);b[c]={min:a["min"+d],max:a["max"+d]}});return b},ub=function(a){var b=eb(a);return function(a){var c=a.mediaFile;return null==Ya.find(function(a){var d=b[a];a=c[a];return!(null==a||a>=d.min&&a<=d.max)})}},vb=function(a,b){var c=a.mediaFile;a=a.executorIndex;var d=b.mediaFile;b=b.executorIndex;for(var e=0;e<Ya.length;++e){var f=Ya[e];if(null!=c[f]&&null!=d[f]&&c[f]!==d[f])return d[f]-c[f]}return a-b},wb=function(a,b){return a.findIndex(function(a){return a.canExecute(b)})},
fb=function(a,b){var c=b.fallback,d=b.executors.map(function(a){return tb[a]});a=a.mediaFiles.map(function(a){return{mediaFile:a,executorIndex:wb(d,a)}}).filter(function(a){return 0<=a.executorIndex}).sort(vb);b=a.filter(ub(b))[0];null==b&&c&&(b=a[0]);if(null==b)throw Error("No valid media files found");c=b;return[d[c.executorIndex],c.mediaFile]},xb=function(a,b){a.filter(function(a){return 0<a.ads.length}).forEach(function(a){a=a.ads.get(0);a.impressions.forEach(function(a){a=a.uri;var c=new E;c.uri=
a;b.add("impression",c)});a.errors.forEach(function(a){var c=new E;c.uri=a.replace(/\[ERRORCODE]/g,"900");b.add("error",c)})})},lb=function(a,b){a.types.forEach(function(c){a.get(c).forEach(function(a){b.add(c,a)})})},M={clickToResume:!1,clickToResumeHidden:!1,minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minBitrate:0,maxBitrate:1/0,slotWidth:0,slotHeight:0,slot:null,videoSlot:null,videoSlotCanAutoPlay:!1,preloadVideo:!0,fallback:!1,adStopTimeout:5E3,executors:["vpaid-js","vpaid-swf","video"],
trackingHandler:null},yb=function(a){a=a.creatives.toArray().filter(function(a){return a instanceof t||"Linear"===a.$type});if(1!==a.length)throw Error("Ad must contain exactly one linear");return a[0]};return function(a,b){b=Object.assign({},M,b);var c=a[a.length-1];if(null!=c.adPod)throw Error("Ad pods not supported");if(0===c.ads.length)throw Error("No ads found");c=c.ads.get(0);if(!(c instanceof n||"InLine"===c.$type))throw Error("Ad must be InLine");var c=yb(c),d=c.duration,e=c.adParameters,
f=new r;xb(a,f);null!=c.trackingEvents&&lb(c.trackingEvents,f);for(var g=0;g<a.length-1;++g)if(null!=a[g].ads&&0<a[g].ads.length){var h=a[g].ads.get(0);null!=h.creatives&&0<h.creatives.length&&lb(h.creatives.get(0).trackingEvents,f)}var k,l,g=new u;g.clickThrough=c.videoClicks.clickThrough;(k=g.clickTrackings).push.apply(k,c.videoClicks.clickTrackings);(l=g.customClicks).push.apply(l,c.videoClicks.customClicks);for(k=0;k<a.length-1;++k)if(null!=a[k].creatives&&0<a[k].creatives.length){var v,m;l=a[k].creatives.get(0).videoClicks;
(v=g.clickTrackings).push.apply(v,l.clickTrackings);(m=g.customClicks).push.apply(m,l.customClicks)}a=fb(c,b);return new a[0]({clickthroughHandler:b.clickthroughHandler,clickToResume:b.clickToResume,clickToResumeHidden:b.clickToResumeHidden,trackingHandler:b.trackingHandler,creative:c,duration:d,mediaFile:a[1],adParameters:e,trackingEvents:f,videoClicks:g,slotWidth:b.slotWidth,slotHeight:b.slotHeight,adStopTimeout:b.adStopTimeout,slot:b.slot,videoSlot:b.videoSlot,videoSlotCanAutoPlay:b.videoSlotCanAutoPlay,
preloadVideo:b.preloadVideo})}});define("iab-vast-executor-factory",["iab-vast-executor-factory/iab-vast-executor-factory"],function(e){return e});define("util/collections",[],function(){return{forOwnProperty:function(e,a){for(var g in e)e.hasOwnProperty(g)&&a(g)}}});
define("util/events",["util/collections"],function(e){return{map:function(a,g,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"addEventListener";e.forOwnProperty(c,function(e){a[d](e,function(a){return g.dispatchEvent(c[e],a)})})}}});define("util/nonreenterant",[],function(){return function(e){var a=void 0,g=function(){return a=!1};return function(){return a?a:a=Promise.resolve(e()).then(g).catch(function(){a=!1;throw Error("nonreenterant function has rejected");})}}});
!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define("html5-video-adapter/html5-video-adapter",a):e.html5VideoAdapter=a()}(this,function(){function e(a,b){return b={exports:{}},a(b,b.exports),b.exports}function a(a){return function(b,c){function d(g){f&&f.catch(function(){});return new Promise(function(){var d=arguments[a];setTimeout(function(){d(e?c:g)},b)})}b=b||0;var e=1<arguments.length,f=d(c);d.then=f.then.bind(f);
d.catch=f.catch.bind(f);return d}}Function.prototype.$asyncbind=function xa(a,b){function c(){return d.apply(a,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:xa,enumerable:!1,configurable:!0,writable:!0});xa.trampoline||(xa.trampoline=function(a,b,c,d,e){return function Rb(f){for(;f;){if(f.then)return f=f.then(Rb,d),e?void 0:f;try{if(f.pop){if(f.length)return f.pop()?b.call(a):f;f=c}else f=f.call(a)}catch(g){return d(g)}}}});xa.LazyThenable||
(xa.LazyThenable=function(){function a(b){return b&&b instanceof Object&&"function"==typeof b.then}function b(c,d,e){try{var f=e?e(d):d;if(c===f)return c.reject(new TypeError("Promise resolution loop"));a(f)?f.then(function(a){b(c,a)},function(a){c.reject(a)}):c.resolve(f)}catch(g){c.reject(g)}}function c(){}function d(a){}function e(d,f){var g=new c;try{this._resolver(function(c){return a(c)?c.then(d,f):b(g,c,d)},function(a){b(g,a,f)})}catch(h){b(g,h,f)}return g}function f(a){this._resolver=a;this.then=
e}c.prototype={resolve:d,reject:d,then:function(a,b){this.resolve=a;this.reject=b}};f.resolve=function(a){return f.isThenable(a)?a:{then:function(b){return b(a)}}};f.isThenable=a;return f}(),xa.EagerThenable=xa.Thenable=(xa.EagerThenableFactory=function(a){function b(a){if(a){var c=this;a(function(a){c.resolve(a)},function(a){c.reject(a)})}}function c(a,b){if("function"==typeof a.y)try{var d=a.y.call(void 0,b);a.p.resolve(d)}catch(e){a.p.reject(e)}else a.p.resolve(b)}function d(a,b){if("function"==
typeof a.n)try{var c=a.n.call(void 0,b);a.p.resolve(c)}catch(e){a.p.reject(e)}else a.p.reject(b)}a=a||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,0)};var e=function(){function b(){for(;c.length-d;){try{c[d]()}catch(a){}c[d++]=void 0;d===e&&(c.splice(0,e),d=0)}}var c=[],d=0,e=1024;return function(e){c.push(e);1==c.length-d&&a(b)}}();b.prototype={resolve:function(a){if(void 0===this.state){if(a===this)return this.reject(new TypeError("Attempt to resolve promise with self"));
var b=this;if(a&&("function"==typeof a||"object"==typeof a))try{var d=0,f=a.then;if("function"==typeof f){f.call(a,function(a){d++||b.resolve(a)},function(a){d++||b.reject(a)});return}}catch(g){d||this.reject(g);return}this.state=c;this.v=a;b.c&&e(function(){for(var d=0,e=b.c.length;d<e;d++)c(b.c[d],a)})}},reject:function(a){if(void 0===this.state){this.state=d;this.v=a;var b=this.c;b&&e(function(){for(var c=0,e=b.length;c<e;c++)d(b[c],a)})}},then:function(a,c){var d=new b,f={y:a,n:c,p:d};if(void 0===
this.state)this.c?this.c.push(f):this.c=[f];else{var g=this.state,h=this.v;e(function(){g(f,h)})}return d}};b.resolve=function(a){if(a&&a instanceof b)return a;var c=new b;c.resolve(a);return c};b.reject=function(a){if(a&&a instanceof b)return a;var c=new b;c.reject(a);return c};b.version="2.3.3-nodent";return b})());var d=this;switch(b){case !0:return new xa.Thenable(c);case 0:return new xa.LazyThenable(c);case void 0:return c.then=c;default:return function(){try{return d.apply(a,arguments)}catch(c){return b(c)}}}};
$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var g,c,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},f=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=
c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},k=function(a,
b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},l=function(){function a(b,c,d,e,f){h(this,a);this._listenerSet=b;this._target=c;this._type=d;this._originalListener=e;this._once=f;this._createListener()}a.prototype.remove=function(){this._listenerSet.remove(this)};a.prototype._createListener=function(){if(this._once){var a=this;this._listener=function(b){a.remove();a.originalListener.call(this,b)}}else this._listener=
this._originalListener};f(a,[{key:"target",get:function(){return this._target}},{key:"type",get:function(){return this._type}},{key:"listener",get:function(){return this._listener}},{key:"originalListener",get:function(){return this._originalListener}},{key:"once",get:function(){return this._once}}]);return a}(),m=function(){function a(){h(this,a);this._records=[]}a.prototype.addEventListener=function(a,b,c){a=new l(this,a,b,c,!1);this.add(a);return a};a.prototype.once=function(a,b,c){a=new l(this,
a,b,c,!0);this.add(a);return a};a.prototype.add=function(a){a.target.addEventListener(a.type,a.listener);this._records.push(a)};a.prototype.removeEventListener=function(a,b,c){var d=this._records.findIndex(function(d){return d.target===a&&d.type===b&&d.originalListener===c});0<=d&&this._remove(d)};a.prototype.remove=function(a){a=this._records.indexOf(a);0<=a&&this._remove(a)};a.prototype.clear=function(){for(var a=this._records.length-1;0<=a;--a)this._records[a].remove()};a.prototype._remove=function(a){var b=
this._records[a];b.target.removeEventListener(b.type,b.listener);this._records.splice(a,1)};return a}(),n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p=e(function(a){$jscomp.initSymbol();$jscomp.initSymbol();var b=a.exports.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(a){return"[["+a+"_"+Math.random().toFixed(8).slice(2)+"]]"},c=a.exports.isObject=function(a){return"object"==typeof a&&null!==a};a.exports.LISTENERS=b("listeners");
a.exports.CAPTURE=1;a.exports.BUBBLE=2;a.exports.ATTRIBUTE=3;a.exports.newNode=function(a,b,d){var e=c(d);return{listener:a,kind:b,once:e&&!!d.once,passive:e&&!!d.passive,next:null}}}),y=p.LISTENERS,u=p.ATTRIBUTE,r=p.newNode,t=function(a,b){function c(){a.call(this)}var d={constructor:{value:c,configurable:!0,writable:!0}};b.forEach(function(a){d["on"+a]={get:function(){var b;a:{for(b=this[y][a];null!=b;){if(b.kind===u){b=b.listener;break a}b=b.next}b=null}return b},set:function(b){"function"!=typeof b&&
"object"!=typeof b&&(b=null);for(var c=null,d=this[y][a];null!=d;)d.kind===u?null==c?this[y][a]=d.next:c.next=d.next:c=d,d=d.next;null!=b&&(null==c?this[y][a]=r(b,u):c.next=r(b,u))},configurable:!0,enumerable:!0}});c.prototype=Object.create(a.prototype,d);return c},q=p.createUniqueKey,z=q("stop_immediate_propagation_flag"),D=q("canceled_flag"),E=q("passive_listener_flag"),A=q("original_event"),v=Object.freeze({stopPropagation:Object.freeze({value:function(){var a=this[A];"function"==typeof a.stopPropagation&&
a.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[z]=!0;var a=this[A];"function"==typeof a.stopImmediatePropagation&&a.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){if(!this[E]){!0===this.cancelable&&(this[D]=!0);var a=this[A];"function"==typeof a.preventDefault&&a.preventDefault()}},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[D]},enumerable:!0,
configurable:!0})}),K=e(function(a){var b=p.isObject,c=p.LISTENERS,d=p.CAPTURE,e=p.BUBBLE,f=p.ATTRIBUTE,g=p.newNode,h="undefined"!=typeof window&&void 0!==window.EventTarget;a=a.exports=function Pa(){if(!(this instanceof Pa)){if(1===arguments.length&&Array.isArray(arguments[0]))return t(Pa,arguments[0]);if(0<arguments.length){for(var a=Array(arguments.length),b=0;b<arguments.length;++b)a[b]=arguments[b];return t(Pa,a)}throw new TypeError("Cannot call a class as a function");}Object.defineProperty(this,
c,{value:Object.create(null)})};a.prototype=Object.create((h?window.EventTarget:Object).prototype,{constructor:{value:a,writable:!0,configurable:!0},addEventListener:{value:function(a,f,h){if(null==f)return!1;if("function"!=typeof f&&"object"!=typeof f)throw new TypeError('"listener" is not an object.');var k=(b(h)?h.capture:h)?d:e,l=this[c][a];if(null==l)return this[c][a]=g(f,k,h),!0;for(a=null;null!=l;){if(l.listener===f&&l.kind===k)return!1;a=l;l=l.next}a.next=g(f,k,h);return!0},configurable:!0,
writable:!0},removeEventListener:{value:function(a,f,g){if(null==f)return!1;g=(b(g)?g.capture:g)?d:e;for(var h=null,k=this[c][a];null!=k;){if(k.listener===f&&k.kind===g)return null==h?this[c][a]=k.next:h.next=k.next,!0;h=k;k=k.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(a){var b=a.type,d=this[c][b];if(null==d)return!0;var e="number"==typeof a.timeStamp?a.timeStamp:Date.now(),e={type:{value:a.type,enumerable:!0},target:{value:this,enumerable:!0},currentTarget:{value:this,
enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:!!a.bubbles,enumerable:!0},cancelable:{value:!!a.cancelable,enumerable:!0},timeStamp:{value:e,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};e[z]={value:!1,writable:!0};e[D]={value:!1,writable:!0};e[E]={value:!1,writable:!0};e[A]={value:a};void 0!==a.detail&&(e.detail={value:a.detail,enumerable:!0});a=Object.create(Object.create(a,v),e);for(e=null;null!=d;){d.once?null==e?this[c][b]=d.next:e.next=d.next:e=d;a[E]=d.passive;"function"==
typeof d.listener?d.listener.call(this,a):d.kind!==f&&"function"==typeof d.listener.handleEvent&&d.listener.handleEvent(a);if(a[z])break;d=d.next}return!a.defaultPrevented},configurable:!0,writable:!0}})}),N=e(function(a){!function(b,c){a.exports=function(){function a(b,c){this.pendingPromises=0;this.maxPendingPromises=void 0!==b?b:1/0;this.maxQueuedPromises=void 0!==c?c:1/0;this.queue=[]}var b="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw Error("Queue.configure() before use Queue");
}}},c=function(){},d=function(a){return a&&"function"==typeof a.then?a:new b(function(b){b(a)})};a.configure=function(a){b=a};a.prototype.add=function(a){var d=this;return new b(function(b,e,f){d.queue.length>=d.maxQueuedPromises?e(Error("Queue limit reached")):(d.queue.push({promiseGenerator:a,resolve:b,reject:e,notify:f||c}),d._dequeue())})};a.prototype.getPendingLength=function(){return this.pendingPromises};a.prototype.getQueueLength=function(){return this.queue.length};a.prototype._dequeue=function(){var a=
this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var b=this.queue.shift();if(!b)return!1;try{this.pendingPromises++,d(b.promiseGenerator()).then(function(c){a.pendingPromises--;b.resolve(c);a._dequeue()},function(c){a.pendingPromises--;b.reject(c);a._dequeue()},function(a){b.notify(a)})}catch(c){a.pendingPromises--,b.reject(c),a._dequeue()}return!0};return a}()}()}),G=function(){function a(b,c){h(this,a);this._start=b;this._end=c}f(a,[{key:"start",get:function(){return this._start}},
{key:"end",get:function(){return this._end}}]);return a}(),C=function(a){for(var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;b<this._ranges.length&&a>this._ranges[b].end;)++b;return{index:b,contained:b<this._ranges.length&&a>=this._ranges[b].start}},R=function(a){return"number"==typeof a&&!isNaN(a)},U=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;h(this,a);this._ranges=[];if(null!=b)for(var c=0;c<b.length;++c)this.add(b.start(c),b.end(c))}
a.prototype.start=function(a){if(!(R(a)&&0<=a&&a<this._ranges.length))throw Error("Invalid index");return this._ranges[a].start};a.prototype.end=function(a){if(!(R(a)&&0<=a&&a<this._ranges.length))throw Error("Invalid index");return this._ranges[a].end};a.prototype.add=function(a,b){if(!R(a)||!R(b)||b<a)throw Error("Invalid range");var c=C.call(this,a),d=C.call(this,b,c.index);c.contained&&(a=Math.min(a,this._ranges[c.index].start));d.contained&&(b=Math.max(b,this._ranges[d.index].end));this._ranges.splice(c.index,
d.index-c.index+(d.contained?1:0),new G(a,b))};f(a,[{key:"length",get:function(){return this._ranges.length}}]);return a}(),ba=function Ob(){h(this,Ob);this.spriteEnabled=this.autoplay=this.defaultMuted=!1;this.spriteSlot=this.audioSlot=this.videoSlot=null;this.visibilityTrackingEnabled=this.nativeMutedEnabled=!1},w=/\b(iPad|iPhone|iPod)\b[^)]*;[^)]* OS \d\d/,Q=/\b(iPad|iPhone|iPod)\b/,B=/\bAndroid\b/,F=function(a){return w.test(a)?8:Q.test(a)?1:B.test(a)?((a=a.match(/\bChrome\/([\d.]+)\b/))?(a=a[1].split("."),
a=parseInt(a[0],10),a=isNaN(a)?null:a):a=null,a&&53<=a?16:2):4},J=function(){return F("string"==typeof navigator.userAgent?navigator.userAgent:"")},aa=!0,da=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,a);this.config=Object.assign(new ba,b);this.muted=this.config.defaultMuted;this.paused=!0;this.armed=!1;this.src=null;this.platform=b.platform||J();this.pendingChanges=null}a.prototype.buildNext=function(){var a=0<arguments.length&&void 0!==arguments[0]&&
arguments[0],b=Object.assign({},this,this.pendingChanges);!a&&"src"in b&&(b.src=null!=b.src?b.src.toString():"");return b};f(a,[{key:"videoSlot",get:function(){return this.config.videoSlot}},{key:"audioSlot",get:function(){return this.config.audioSlot}},{key:"spriteSlot",get:function(){return this.config.spriteSlot}},{key:"mediaSlot",get:function(){return 1!==this.platform&&aa?this.videoSlot:this.audioSlot}}]);return a}(),S=function(){function a(b){h(this,a);this._currentState=b;this._currentTransition=
null}a.prototype.initialize=function(){return new Promise(function(a,b){return this._currentState.initialize().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};a.prototype.transition=function(){return new Promise(function(a,b){var c,d=function(a){return function(b){this._currentTransition=null;return a&&a.call(this,b)}.$asyncbind(this,b)}.$asyncbind(this);if(null!=this._currentTransition)return b(Error("Transition in progress"));c=this.selectTransition();if(null==c)return b(Error("No applicable transition found"));
this._currentTransition=c;var e=function(){return a()}.$asyncbind(this,b);c=function(a){throw a;}.$asyncbind(this,d(b));try{return this._currentTransition.apply().then(function(a){this._currentState=this._currentTransition.endState;return d(e)()}.$asyncbind(this,c),c)}catch(f){c(f)}}.$asyncbind(this))};a.prototype.selectTransition=function(){return this._currentState.transitions.find(function(a){return a.isApplicable()})};f(a,[{key:"state",get:function(){return this._currentState}}]);return a}(),
P=function(){function a(b,c){h(this,a);this._startState=b;this._endState=c}a.prototype.isApplicable=function(){throw Error("Method is abstract");};a.prototype.apply=function(){return new Promise(function(a,b){function c(){return this._revalidateEndState().then(function(b){return a()}.$asyncbind(this,b),b)}return this._endState!==this._startState?this._changeStates().then(function(a){return c.call(this)}.$asyncbind(this,b),b):c.call(this)}.$asyncbind(this))};a.prototype._changeStates=function(){return new Promise(function(a,
b){return this._initializeEndState().then(function(c){return this._disposeStartState().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this))};a.prototype._initializeEndState=function(){return new Promise(function(a,b){return this._endState.initialize().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};a.prototype._disposeStartState=function(){return new Promise(function(a,b){return this._startState.dispose().then(function(b){return a()}.$asyncbind(this,
b),b)}.$asyncbind(this))};a.prototype._revalidateEndState=function(){return new Promise(function(a,b){return this._endState.revalidate().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};f(a,[{key:"startState",get:function(){return this._startState}},{key:"endState",get:function(){return this._endState}}]);return a}(),ga=function(a,b){return new P(a,b)},T=function(){function a(){h(this,a);this._transitions=[]}a.prototype.initialize=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};
a.prototype.revalidate=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};a.prototype.dispose=function(){return new Promise(function(a,b){return b(Error("Method is abstract"))}.$asyncbind(this))};a.prototype.createTransition=function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:ga)(this,a);this.transitions.push(b);return b};f(a,[{key:"transitions",get:function(){return this._transitions}}]);return a}(),na="loadedmetadata loadeddata canplay canplaythrough playing waiting loadstart progress suspend abort error emptied stalled seeking seeked ended durationchange timeupdate play pause ratechange resize volumechange".split(" "),
ja=function(a,b){for(var c=function(a){b.dispatchEvent(a)},d=new m,e=0;e<na.length;++e)d.addEventListener(a,na[e],c);return d},ka=function(){var a={};a.promise=new Promise(function(b,c){a.resolve=b;a.reject=c});return a},oa=function(a){function c(){h(this,c);return k(this,a.call(this,"Canceled"))}b(c,a);return c}(function(a){function b(){var c=Reflect.construct(a,Array.from(arguments));Object.setPrototypeOf(c,Object.getPrototypeOf(this));return c}b.prototype=Object.create(a.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a;return b}(Error)),fa=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=ka(),e=function Qb(){a.removeEventListener(b,Qb);d.resolve()};a.addEventListener(b,e);d.promise._cancel=function(){a.removeEventListener(b,e);c&&d.reject(new oa)};return d.promise},Z=Object.freeze({HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}),Y=(g=
{},g[1]="loadedmetadata",g[2]="loadeddata",g[3]="canplay",g[4]="canplaythrough",g),Ra=function(a,b){b=a.then(b);b._cancel=a._cancel.bind(a);return b},qb=function(a){return Ra(fa(a,"error"),function(){var b=Error("Media error while waiting for ready state: code "+a.error.code);b.mediaError=a.error;throw b;})},rb=function(a,b){return Ra(fa(a,Y[b]),function(){})},pa=function(a,b){var c=void 0,d=ka();!function Pb(){c=Ra(fa(a,"emptied"),function(){a.src===b?Pb():d.reject(Error("Source changed"))})}();
d.promise._cancel=function(){c._cancel()};return d.promise},ha=function(a,b){var c=a.src;if(a.readyState>=b)return Promise.resolve();var d=qb(a),c=pa(a,c);a=rb(a,b);var e=[d,c,a],f=function(){for(var a=0;a<e.length;++a)e[a]._cancel()};return Promise.race(e).then(f,function(a){f();throw a;})},la=e(function(a,b){$jscomp.initSymbol();$jscomp.initSymbol();a=b.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(a){return"[["+a+"_"+Math.random().toFixed(8).slice(2)+"]]"};b.LISTENERS=a("listeners");
b.CAPTURE=1;b.BUBBLE=2;b.ATTRIBUTE=3;b.newNode=function(a,b){return{listener:a,kind:b,next:null}}}),ya=la.LISTENERS,qa=la.ATTRIBUTE,Ta=la.newNode,Sa=function(a,b){function c(){a.call(this)}var d={constructor:{value:c,configurable:!0,writable:!0}};b.forEach(function(a){d["on"+a]={get:function(){var b;a:{for(b=this[ya][a];null!=b;){if(b.kind===qa){b=b.listener;break a}b=b.next}b=null}return b},set:function(b){"function"!=typeof b&&"object"!=typeof b&&(b=null);for(var c=null,d=this[ya][a];null!=d;)d.kind===
qa?null==c?this[ya][a]=d.next:c.next=d.next:c=d,d=d.next;null!=b&&(null==c?this[ya][a]=Ta(b,qa):c.next=Ta(b,qa))},configurable:!0,enumerable:!0}});c.prototype=Object.create(a.prototype,d);return c},Ea=la.createUniqueKey,x=Ea("stop_immediate_propagation_flag"),ia=Ea("canceled_flag"),ma=Ea("original_event"),H=Object.freeze({stopPropagation:Object.freeze({value:function(){var a=this[ma];"function"==typeof a.stopPropagation&&a.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[x]=
!0;var a=this[ma];"function"==typeof a.stopImmediatePropagation&&a.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){!0===this.cancelable&&(this[ia]=!0);var a=this[ma];"function"==typeof a.preventDefault&&a.preventDefault()},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[ia]},enumerable:!0,configurable:!0})}),O=e(function(a){var b=la.LISTENERS,c=la.CAPTURE,d=la.BUBBLE,e=la.ATTRIBUTE,f=la.newNode,g="undefined"!=
typeof window&&void 0!==window.EventTarget;a=a.exports=function Pa(){if(!(this instanceof Pa)){if(1===arguments.length&&Array.isArray(arguments[0]))return Sa(Pa,arguments[0]);if(0<arguments.length){for(var a=Array(arguments.length),c=0;c<arguments.length;++c)a[c]=arguments[c];return Sa(Pa,a)}throw new TypeError("Cannot call a class as a function");}Object.defineProperty(this,b,{value:Object.create(null)})};a.prototype=Object.create((g?window.EventTarget:Object).prototype,{constructor:{value:a,writable:!0,
configurable:!0},addEventListener:{value:function(a,e,g){if(null==e)return!1;if("function"!=typeof e&&"object"!=typeof e)throw new TypeError('"listener" is not an object.');g=g?c:d;var h=this[b][a];if(null==h)return this[b][a]=f(e,g),!0;for(a=null;null!=h;){if(h.listener===e&&h.kind===g)return!1;a=h;h=h.next}a.next=f(e,g);return!0},configurable:!0,writable:!0},removeEventListener:{value:function(a,e,f){if(null==e)return!1;f=f?c:d;for(var g=null,h=this[b][a];null!=h;){if(h.listener===e&&h.kind===f)return null==
g?this[b][a]=h.next:g.next=h.next,!0;g=h;h=h.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(a){var c=this[b][a.type];if(null==c)return!0;var d="number"==typeof a.timeStamp?a.timeStamp:Date.now(),d={type:{value:a.type,enumerable:!0},target:{value:this,enumerable:!0},currentTarget:{value:this,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:!!a.bubbles,enumerable:!0},cancelable:{value:!!a.cancelable,enumerable:!0},timeStamp:{value:d,enumerable:!0},isTrusted:{value:!1,
enumerable:!0}};d[x]={value:!1,writable:!0};d[ia]={value:!1,writable:!0};d[ma]={value:a};void 0!==a.detail&&(d.detail={value:a.detail,enumerable:!0});for(a=Object.create(Object.create(a,H),d);null!=c;){"function"==typeof c.listener?c.listener.call(this,a):c.kind!==e&&"function"==typeof c.listener.handleEvent&&c.listener.handleEvent(a);if(a[x])break;c=c.next}return!a.defaultPrevented},configurable:!0,writable:!0}})}),Ja={interval:0},Ka=function(a){function c(b){h(this,c);var d=k(this,a.call(this));
d._options=Object.assign({},Ja,b);d._timeout=null;d._boundOnTick=function(){return d._onTick()};return d}b(c,a);c.prototype.start=function(){if(this.started)throw Error("Already started");this._schedule()};c.prototype.stop=function(){if(!this.started)throw Error("Already stopped");this._cancel()};c.prototype._schedule=function(){this._timeout=setTimeout(this._boundOnTick,this._options.interval)};c.prototype._cancel=function(){clearTimeout(this._timeout);this._timeout=null};c.prototype._onTick=function(){this.dispatchEvent({type:"tick"});
this.started&&this._schedule()};f(c,[{key:"started",get:function(){return null!=this._timeout}}]);return c}(O),W=function(a){function c(){h(this,c);var b=k(this,a.call(this));b._startTime=null;b._timeOffset=0;b._src="";b._duration=1/0;b._muted=!1;b._volume=1;b._readyState=c.HAVE_NOTHING;b._played=new U;b._timer=new Ka({interval:250});b._timer.addEventListener("tick",function(){return b._onTimerTick()});return b}b(c,a);c.prototype.load=function(){var a=this;this._scheduleEvent("loadstart").then(function(){a.readyState=
c.HAVE_ENOUGH_DATA})};c.prototype.play=function(){if(!this.paused)return Promise.resolve();var a=this._readyState;this._readyState=Math.max(this._readyState,c.HAVE_FUTURE_DATA);this._resumeTimer();this._dispatchReadyStateEvents(a);this._dispatchPlaybackEvents(a);return Promise.resolve()};c.prototype.pause=function(){this.paused||(this._pauseTimer(),this._startTime=null,this._scheduleEvent("pause"))};c.prototype._pauseTimer=function(){this._timer.started&&(this._updatePlayed(),this._timeOffset=this.currentTime,
this._timer.stop())};c.prototype._resumeTimer=function(){this._timer.started||(this._startTime=new Date/1E3,this._timer.start())};c.prototype._onTimerTick=function(){this._scheduleEvent("timeupdate");this.ended&&(this.pause(),this._scheduleEvent("ended"))};c.prototype._updatePlayed=function(){this._played.add(this._timeOffset,this.currentTime)};c.prototype._dispatchReadyStateEvents=function(a){for(;a<this._readyState;++a)this._scheduleEvent(ab[a+1])};c.prototype._dispatchPlaybackEvents=function(a){this._canPlay()?
(this._scheduleEvent("play"),this._scheduleEvent("playing")):this._scheduleEvent("waiting")};c.prototype._canPlay=function(){return this._readyState>=c.HAVE_FUTURE_DATA};c.prototype._scheduleEvent=function(a){var b=this;return Promise.resolve().then(function(){b.dispatchEvent({type:a})})};f(c,[{key:"currentTime",get:function(){var a=!this.paused&&this._canPlay()?new Date/1E3-this._startTime:0;return Math.min(this._timeOffset+a,this._duration)},set:function(a){var b=this.paused;b||this._pauseTimer();
this._scheduleEvent("seeking");this._timeOffset=a;b||this._resumeTimer();this._scheduleEvent("seeked")}},{key:"duration",get:function(){return this._duration},set:function(a){this._duration!==a&&(this._duration=a,this._scheduleEvent("durationchange"))}},{key:"paused",get:function(){return null==this._startTime}},{key:"ended",get:function(){return this.currentTime===this._duration}},{key:"muted",get:function(){return this._muted},set:function(a){this._muted!==a&&(this._muted=a,this._scheduleEvent("volumechange"))}},
{key:"volume",get:function(){return this._volume},set:function(a){this._volume!==a&&(this._volume=a,this._scheduleEvent("volumechange"))}},{key:"src",get:function(){return this._src},set:function(a){this._src!==a&&(this._pauseTimer(),this._startTime=null,this._timeOffset=0,this._played=new U,this._src=a,this._scheduleEvent("emptied"))}},{key:"currentSrc",get:function(){return this._src}},{key:"readyState",get:function(){return this._readyState},set:function(a){if(a!==this._readyState){var b=this._readyState,
d=this._canPlay();this.paused||a<c.HAVE_FUTURE_DATA?this._pauseTimer():this._resumeTimer();this._readyState=a;this._dispatchReadyStateEvents(b);this.paused||this._canPlay()===d||this._dispatchPlaybackEvents(b)}}},{key:"played",get:function(){this.paused||this._updatePlayed();return this._played}}]);return c}(O),V=["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"],ra=0;for(;ra<V.length;++ra){var za=V[ra];Object.defineProperty(W,za,{value:ra});Object.defineProperty(W.prototype,
za,{value:ra})}for(var ab=(c={},c[W.HAVE_METADATA]="loadedmetadata",c[W.HAVE_CURRENT_DATA]="loadeddata",c[W.HAVE_FUTURE_DATA]="canplay",c[W.HAVE_ENOUGH_DATA]="canplaythrough",c),ca=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,null,[{key:"instance",get:function(){null==this._instance&&(this._instance=new W);return this._instance}}]);return c}(W),mb=function(a,b){b=a.then(b);b._cancel=a._cancel.bind(a);return b},nb=function(a){return mb(fa(a,"error"),function(){var b=
Error("Media error while trying to play media: "+a.error.message);b.mediaError=a.error;throw b;})},Za=function(a){var b=nb(a),c=fa(a,"playing");a=a.play();null!=a&&"function"==typeof a.then&&"function"==typeof a.catch&&(a.then(function(){}),a.catch(function(a){}));var d=function(){b._cancel();c._cancel()};return Promise.race([b,c]).then(d,function(a){d();throw a;})},$a=function(a){function c(b,d){h(this,c);var e=k(this,a.call(this));e._context=b;e._eventTarget=d;e._eventsSuppressed=!1;e._wasHidden=
!1;e._wasPaused=!1;e._cacheMediaController();e._cacheMediaView();return e}b(c,a);c.prototype.supportsSource=function(a){throw Error("Method is abstract");};c.prototype.initialize=function(){return new Promise(function(a,b){this._listeners=ja(this.mediaController,this);1===this.mediaViewType?null!=this.context.videoSlot.style&&(this.context.videoSlot.style.display="block"):2===this.mediaViewType&&(this.context.spriteSlot.style.display="block");this.context.config.visibilityTrackingEnabled&&"boolean"==
typeof document.hidden&&(this._onVisibilityChange(),this._listeners.addEventListener(document,"visibilitychange",this._onVisibilityChange.bind(this)));return a()}.$asyncbind(this))};c.prototype.revalidate=function(){return new Promise(function(a,b){var c,d;c=this.context.buildNext(!0);return this._synchronizeSources(c).then(function(e){function f(){return this._synchronizePlayState(c).then(function(b){null!=this.context.videoSlot.style&&(this.context.videoSlot.style.display=1===this.mediaViewType?
"block":"none");this.context.spriteSlot&&(this.context.spriteSlot.style.display=2===this.mediaViewType?"block":"none");return a()}.$asyncbind(this,b),b)}return this.mediaController!==c.mediaController?(d=void 0,d=this.context.src===c.src?this.context.mediaController.currentTime:0,this._synchronizeMediaControllers(c,d).then(function(a){return f.call(this)}.$asyncbind(this,b),b)):f.call(this)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(a,b){this._listeners.clear();
return a()}.$asyncbind(this))};c.prototype._synchronizeSources=function(a){return new Promise(function(b,c){var d;return a.src.synchronizeMediaSource(this.mediaController,a).then(function(e){function f(){d=this.context.mediaSlot;return null!=d&&this.mediaController!==d&&this.mediaView!==d?a.src.synchronizeMediaSource(d,a).then(function(a){return b()}.$asyncbind(this,c),c):b()}return null!=this.mediaView&&"function"==typeof this.mediaView.load&&this.mediaView!==this.mediaController?a.src.synchronizeMediaSource(this.mediaView,
a).then(function(a){return f.call(this)}.$asyncbind(this,c),c):f.call(this)}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype._synchronizeMediaControllers=function(a,b){var c=arguments;return new Promise(function(d,e){function f(){return ha(this.mediaController,2).then(function(c){function f(){return ha(this.mediaController,3).then(function(a){return d()}.$asyncbind(this,e),e)}return this.mediaController.buffered&&0<this.mediaController.buffered.length?(Da=this.mediaController.buffered.start(0),
Da>b?this._synchronizeMediaControllers(a,Da,2).then(function(a){return f.call(this)}.$asyncbind(this,e),e):f.call(this)):f.call(this)}.$asyncbind(this,e),e)}var g,h,k,Da;g=2<c.length&&void 0!==c[2]?c[2]:3;return this.mediaController.currentTime!==b?(this._eventsSuppressed=!0,(h=this.mediaController.paused)||this.mediaController.pause(),ha(this.mediaController,g).then(function(a){k=null!=this.mediaController.readyState?fa(this.mediaController,"seeked"):Promise.resolve();this.mediaController.currentTime=
b;return Za(this.mediaController).then(function(a){return k.then(function(a){h&&this.mediaController.pause();this._eventsSuppressed=!1;return f.call(this)}.$asyncbind(this,e),e)}.$asyncbind(this,e),e)}.$asyncbind(this,e),e)):f.call(this)}.$asyncbind(this))};c.prototype._synchronizePlayState=function(a){return new Promise(function(b,c){return a.paused?(this.mediaController.pause(),b()):this.mediaController.paused?(Za(this.mediaController),this.mediaController.paused?c(Error("Failed to play")):fa(this.mediaController,
"playing").then(function(a){return b()}.$asyncbind(this,c),c)):b()}.$asyncbind(this))};c.prototype.dispatchEvent=function(a){this._eventsSuppressed||this._eventTarget.dispatchEvent(a)};c.prototype._cacheMediaController=function(){var a=this.mediaControllerType;this._mediaController=1===a?this.context.videoSlot:2===a?this.context.audioSlot:3===a?ca.instance:null};c.prototype._cacheMediaView=function(){var a=this.mediaViewType;this._mediaView=1===a?this.context.videoSlot:2===a?this.context.spriteSlot:
null};c.prototype._onVisibilityChange=function(){document.hidden!==this._wasHidden&&((this._wasHidden=document.hidden)?(this._wasPaused=this.mediaController.paused,this.mediaController.ended||this.mediaController.pause()):this.mediaController.ended||(this._wasPaused?this.mediaController.pause():this.mediaController.play(),this._synchronizePlayState(this.context)))};f(c,[{key:"context",get:function(){return this._context}},{key:"eventTarget",get:function(){return this._eventTarget}},{key:"disabled",
get:function(){return!1}},{key:"muted",get:function(){return!1}},{key:"armed",get:function(){return!1}},{key:"mediaController",get:function(){return this._mediaController}},{key:"mediaControllerType",get:function(){throw Error("Method is abstract");}},{key:"mediaView",get:function(){return this._mediaView}},{key:"mediaViewType",get:function(){throw Error("Method is abstract");}},{key:"supportedPlatforms",get:function(){throw Error("Method is abstract");}},{key:"paused",get:function(){return this.mediaController.paused}},
{key:"currentTime",get:function(){return this.mediaController.currentTime}},{key:"videoWidth",get:function(){throw Error("Method is abstract");}},{key:"videoHeight",get:function(){throw Error("Method is abstract");}}]);return c}(T),gb=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.supportsSource=function(a){return""===a};f(c,[{key:"disabled",get:function(){return!1}}]);return c}($a),ob=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}
b(c,a);c.prototype.initialize=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};c.prototype.revalidate=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};c.prototype.supportsSource=function(a){return!0};f(c,[{key:"supportedPlatforms",get:function(){return-1}},{key:"videoWidth",get:function(){return 0}},{key:"videoHeight",get:function(){return 0}},{key:"paused",
get:function(){return!this.context.config.autoplay}},{key:"mediaControllerType",get:function(){return 3}},{key:"mediaViewType",get:function(){return 0}}]);return c}(gb),Ia=function(a){function c(b,d){h(this,c);var e=k(this,a.call(this));e._context=b;e._eventTarget=d;return e}b(c,a);c.prototype.initialize=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};c.prototype.revalidate=function(){return new Promise(function(a,b){var c;c=this._context.buildNext();if(this.mediaController.paused){if(!c.paused){var d=
function(){return a()}.$asyncbind(this,b);b=function(a){return d()}.$asyncbind(this,b);try{return this.mediaController.play().then(function(a){this._eventTarget.dispatchEvent({type:"play"});return d()}.$asyncbind(this,b),b)}catch(e){b(e)}}return a()}c.paused&&(this.mediaController.pause(),this._eventTarget.dispatchEvent({type:"pause"}));return a()}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(a,b){return a()}.$asyncbind(this))};c.prototype.supportsSource=function(a){return""===
a};f(c,[{key:"supportedPlatforms",get:function(){return-1}},{key:"videoWidth",get:function(){return 0}},{key:"videoHeight",get:function(){return 0}},{key:"paused",get:function(){return!this.context.config.autoplay}},{key:"mediaControllerType",get:function(){return 3}},{key:"mediaViewType",get:function(){return 0}}]);return c}(gb),Qa=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.supportsSource=function(a){return""!==a};return c}($a),hb=e(function(a){function b(a,
c,d){this.fn=a;this.context=c;this.once=d||!1}function c(){}var d=Object.prototype.hasOwnProperty,e="function"!=typeof Object.create&&"~";c.prototype._events=void 0;c.prototype.eventNames=function(){var a,b=this._events,c=[];if(!b)return c;for(a in b)d.call(b,a)&&c.push(e?a.slice(1):a);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(b)):c};c.prototype.listeners=function(a,b){a=e?e+a:a;a=this._events&&this._events[a];if(b)return!!a;if(!a)return[];if(a.fn)return[a.fn];b=0;
for(var c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};c.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events||!this._events[h])return!1;var k,L=this._events[h],l=arguments.length;if("function"==typeof L.fn){L.once&&this.removeListener(a,L.fn,void 0,!0);switch(l){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,b),!0;case 3:return L.fn.call(L.context,b,c),!0;case 4:return L.fn.call(L.context,b,c,d),!0;case 5:return L.fn.call(L.context,b,c,d,f),!0;case 6:return L.fn.call(L.context,
b,c,d,f,g),!0}h=1;for(k=Array(l-1);h<l;h++)k[h-1]=arguments[h];L.fn.apply(L.context,k)}else for(var Da,zb=L.length,h=0;h<zb;h++)switch(L[h].once&&this.removeListener(a,L[h].fn,void 0,!0),l){case 1:L[h].fn.call(L[h].context);break;case 2:L[h].fn.call(L[h].context,b);break;case 3:L[h].fn.call(L[h].context,b,c);break;default:if(!k)for(Da=1,k=Array(l-1);Da<l;Da++)k[Da-1]=arguments[Da];L[h].fn.apply(L[h].context,k)}return!0};c.prototype.on=function(a,c,d){c=new b(c,d||this);a=e?e+a:a;this._events||(this._events=
e?{}:Object.create(null));this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):this._events[a]=c;return this};c.prototype.once=function(a,c,d){c=new b(c,d||this,!0);a=e?e+a:a;this._events||(this._events=e?{}:Object.create(null));this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):this._events[a]=c;return this};c.prototype.removeListener=function(a,b,c,d){a=e?e+a:a;if(!this._events||!this._events[a])return this;var f=
this._events[a],g=[];if(b)if(f.fn)(f.fn!==b||d&&!f.once||c&&f.context!==c)&&g.push(f);else for(var h=0,k=f.length;h<k;h++)(f[h].fn!==b||d&&!f[h].once||c&&f[h].context!==c)&&g.push(f[h]);g.length?this._events[a]=1===g.length?g[0]:g:delete this._events[a];return this};c.prototype.removeAllListeners=function(a){if(!this._events)return this;a?delete this._events[e?e+a:a]:this._events=e?{}:Object.create(null);return this};c.prototype.off=c.prototype.removeListener;c.prototype.addListener=c.prototype.on;
c.prototype.setMaxListeners=function(){return this};c.prefixed=e;a.exports=c}),pb=e(function(a){(function(){var b,c,d;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(a.exports=function(){return(b()-d)/1E6},c=process.hrtime,b=function(){var a;a=c();return 1E9*a[0]+a[1]},d=b()):Date.now?(a.exports=function(){return Date.now()-d},d=Date.now()):(a.exports=function(){return(new Date).getTime()-
d},d=(new Date).getTime())}).call(n)}),X="undefined"==typeof window?n:window,ta=["moz","webkit"],ua=X.requestAnimationFrame,Aa=X.cancelAnimationFrame||X.cancelRequestAnimationFrame,wa=0;!ua&&wa<ta.length;wa++)ua=X[ta[wa]+"RequestAnimationFrame"],Aa=X[ta[wa]+"CancelAnimationFrame"]||X[ta[wa]+"CancelRequestAnimationFrame"];if(!ua||!Aa)var bb=0,kb=0,ea=[],ua=function(a){if(0===ea.length){var b=pb(),c=Math.max(0,1E3/60-(b-bb));bb=c+b;setTimeout(function(){for(var a=ea.slice(0),b=ea.length=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(bb)}catch(c){setTimeout(function(){throw c;
},0)}},Math.round(c))}ea.push({handle:++kb,callback:a,cancelled:!1});return kb},Aa=function(a){for(var b=0;b<ea.length;b++)ea[b].handle===a&&(ea[b].cancelled=!0)};var Ba=function(a){return ua.call(X,a)};Ba.cancel=function(){Aa.apply(X,arguments)};Ba.polyfill=function(){X.requestAnimationFrame=ua;X.cancelAnimationFrame=Aa};var Ua={minInterval:0},Ca=function(a){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,c);var d=k(this,a.call(this));d._options=Object.assign({},
Ua,b);d._request=null;d._lastFrame=0;d._boundOnFrame=function(){return d._onFrame()};return d}b(c,a);c.prototype.start=function(){if(this.started)throw Error("Already started");this._schedule()};c.prototype.stop=function(){if(!this.started)throw Error("Already stopped");this._cancel()};c.prototype._schedule=function(){this._request=Ba(this._boundOnFrame)};c.prototype._cancel=function(){Ba.cancel(this._request);this._request=null};c.prototype._onFrame=function(){var a=Number(new Date);if(0>=this._options.minInterval||
a-this._lastFrame>=this._options.minInterval)this.emit("frame"),this._lastFrame=a;this.started&&this._schedule()};f(c,[{key:"started",get:function(){return null!=this._request}}]);return c}(hb),cb=function(a){function c(b,d){h(this,c);var e=k(this,a.call(this));e._timeSource=b;e._timeDest=d;e._boundOnTimeSourcePlay=function(){return e._onTimeSourcePlay()};e._boundOnTimeSourcePause=function(){return e._onTimeSourcePause()};e._boundOnTimeSourceEnded=function(){return e._onTimeSourceEnded()};e._renderLooper=
new Ca;e._renderLooper.on("frame",function(){return e._updateDestinationTime()});e._state=0;return e}b(c,a);c.prototype.start=function(){if(0!==this._state)throw Error("Synchronizer must be unstarted");this._timeSource.addEventListener("play",this._boundOnTimeSourcePlay);this._timeSource.addEventListener("pause",this._boundOnTimeSourcePause);this._timeSource.addEventListener("ended",this._boundOnTimeSourceEnded);this._timeSource.paused?this._onTimeSourcePause():this._onTimeSourcePlay();this._state=
1};c.prototype.stop=function(){if(!this.started)throw Error("Synchronizer must be running");this._timeSource.removeEventListener("play",this._boundOnTimeSourcePlay);this._timeSource.removeEventListener("pause",this._boundOnTimeSourcePause);this._timeSource.removeEventListener("ended",this._boundOnTimeSourceEnded);this._cancelUpdate();this._state=2};c.prototype._updateDestinationTime=function(){var a=this._timeDest.currentTime,b=this._timeSource.currentTime;3<=this._timeDest.readyState&&b!==a&&(this._timeDest.currentTime=
b)};c.prototype._onTimeSourcePlay=function(){this._scheduleUpdate()};c.prototype._onTimeSourcePause=function(){this._cancelUpdate()};c.prototype._onTimeSourceEnded=function(){this._cancelUpdate()};c.prototype._scheduleUpdate=function(){this._renderLooper.started||this._renderLooper.start()};c.prototype._cancelUpdate=function(){this._renderLooper.started&&this._renderLooper.stop()};f(c,[{key:"started",get:function(){return 1===this._state}},{key:"src",set:function(a){if(!this.started)throw Error("Synchronizer must be running");
null==a?this._timeSource.pause():this._timeSource.src!==a&&(this._timeSource.src=a,this._timeSource.load())}}]);return c}(K),La=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.initialize=function(){return new Promise(function(b,c){return a.prototype.initialize.call(this).then(function(a){this._timeSync=new cb(this.mediaController,this.context.videoSlot);this._timeSync.start();return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype.revalidate=
function(){return new Promise(function(b,c){this._timeSync.src=this.context.buildNext().src;return a.prototype.revalidate.call(this).then(function(a){return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(b,c){return a.prototype.dispose.call(this).then(function(a){this._timeSync.started&&this._timeSync.stop();return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};f(c,[{key:"supportedPlatforms",get:function(){return 9}},{key:"videoWidth",get:function(){return this.context.videoSlot.videoWidth}},
{key:"videoHeight",get:function(){return this.context.videoSlot.videoHeight}}]);return c}(Qa),Ma=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.initialize=function(){return new Promise(function(b,c){var d;d=this;this._boundOnLoadedmetadata=function(){return d._onLoadedmetadata()};this.context.videoSlot.addEventListener("loadedmetadata",this._boundOnLoadedmetadata);1<=this.context.videoSlot.readyState&&this._onLoadedmetadata();return a.prototype.initialize.call(this).then(function(a){return b()}.$asyncbind(this,
c),c)}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(b,c){this.context.videoSlot.removeEventListener("loadedmetadata",this._boundOnLoadedmetadata);ca.instance.readyState=1;return a.prototype.dispose.call(this).then(function(a){return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype._onLoadedmetadata=function(){ca.instance.duration=this.context.videoSlot.duration;ca.instance.readyState=3};f(c,[{key:"muted",get:function(){return!0}},{key:"mediaControllerType",
get:function(){return 3}},{key:"mediaViewType",get:function(){return 1}}]);return c}(La),Na=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);return c}(Ma),Va=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,[{key:"armed",get:function(){return!0}}]);return c}(Ma),Oa=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,[{key:"armed",get:function(){return!0}},{key:"mediaControllerType",get:function(){return 2}},
{key:"mediaViewType",get:function(){return 1}}]);return c}(La),Ga=e(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.default=function zb(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],b=arguments[1];if("function"==typeof a)return zb({},a);a.max=a.max||10;a.backoff=a.backoff||1E3;return new Promise(function(c,d){!function Sb(e){b(e).then(c).catch(function(b){if(e>=a.max)return d(b);setTimeout(function(){return Sb(e+1)},e*a.backoff)})}(1)})}}),Wa=Ga&&Ga.__esModule?
Ga.default:Ga,Xa={timeout:2E3,attempts:10,interval:500},db={},Ha=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};h(this,a);this._uri=b;this._state=a.STATE_IDLE;this._options=Object.assign({},Xa,c)}a.getFor=function(b,c){null==db[b]&&(db[b]=new a(b,c));return db[b]};a.prototype.load=function(){return new Promise(function(b,c){var d,e;d=this;this._state=a.STATE_LOADING;e={max:this._options.attempts,backoff:this._options.interval};var f=function(){return b()}.$asyncbind(this,
c);c=function(b){this._state=a.STATE_ERROR;return f()}.$asyncbind(this,c);try{return Wa(e,function(){return d._load()}).then(function(b){this._state=a.STATE_LOADED;return f()}.$asyncbind(this,c),c)}catch(g){c(g)}}.$asyncbind(this))};a.prototype._load=function(){var a=this;return new Promise(function(b,c){var d=null;a._image=new Image;a._image.onload=function(){clearTimeout(d);b()};a._image.onerror=function(){clearTimeout(d);c(Error("Unknown error"))};d=setTimeout(function(){c(Error("Timeout"))},a._options.timeout);
a._image.src=a._uri})};f(a,[{key:"uri",get:function(){return this._uri}},{key:"image",get:function(){return this._image}},{key:"width",get:function(){return this._state===a.STATE_LOADED?this._image.width:NaN}},{key:"height",get:function(){return this._state===a.STATE_LOADED?this._image.height:NaN}},{key:"state",get:function(){return this._state}}]);return a}();Ha.STATE_IDLE=0;Ha.STATE_LOADING=1;Ha.STATE_LOADED=2;Ha.STATE_ERROR=3;var tb=function(a){function c(b){var d=b.slot,e=b.rows,f=b.columns,g=
b.minBuffer,l=b.maxBuffer,v=b.timeout;b=b.uri;h(this,c);var m=k(this,a.call(this));m._slot=d;m._rows=e;m._columns=f;m._minBuffer=g;m._maxBuffer=l;m._timeout=v;m._uri=b;m._currentTime=0;m._duration=NaN;m._fps=m._rows*m._columns;m._canvasContext=m._slot.getContext("2d");return m}b(c,a);c.prototype.start=function(){this._cache={};this._paused=!0;this._frameHeight=this._frameWidth=0;this.update()};c.prototype.stop=function(){this._pause()};c.prototype.update=function(){for(var a=Math.floor(this._currentTime),
b=0;b<=this._maxBuffer;++b)this._buffer(a+b);null!=this._cache[a]&&this.hasBuffered()?(this._paused&&(this._paused=!1,this.dispatchEvent({type:"play"})),this._render()):this._paused||(this.dispatchEvent({type:"waiting"}),this._pause())};c.prototype.hasBuffered=function(){for(var a=Math.floor(this._currentTime),b=0;b<this._minBuffer&&(null==this._cache[a+b]||this._cache[a+b].state===Ha.STATE_LOADED);)++b;return b===this._minBuffer};c.prototype._render=function(){var a=Math.floor(this._currentTime*
this._fps)/this._fps,b=this._cache[Math.floor(this._currentTime)].image,c=this._positionFrame(this._currentTime%1);this._canvasContext.globalAlpha=1;this._canvasContext.drawImage(b,c.x,c.y,this._frameWidth,this._frameHeight,0,0,this._frameWidth,this._frameHeight);this._maybePaintNext(a)};c.prototype._maybePaintNext=function(a){var b=this._currentTime+1/this._fps,c=Math.floor(b);null!=this._cache[c]&&(c=this._cache[c].image,b=this._positionFrame(b%1),this._canvasContext.globalAlpha=(this._currentTime-
a)*this._fps,this._canvasContext.drawImage(c,b.x,b.y,this._frameWidth,this._frameHeight,0,0,this._frameWidth,this._frameHeight))};c.prototype._pause=function(){this._paused||(this._paused=!0,this.dispatchEvent({type:"pause"}))};c.prototype._buffer=function(a){var b=this;if(!(null!=this._cache[a]||!isNaN(this._duration)&&a>Math.floor(this._duration))){var c=this._buildUri(a),d=Ha.getFor(c,{timeout:this._timeout});d.load().then(function(){b._rememberDimensions(d);b.update()}).catch(function(a){});this._cache[a]=
d}};c.prototype._positionFrame=function(a){a=Math.floor(a*this._fps);return{x:a%this._columns*this._frameWidth,y:Math.floor(a/this._columns)*this._frameHeight}};c.prototype._rememberDimensions=function(a){0===this._frameWidth&&(this._frameWidth=a.width/this._columns,this._frameHeight=a.height/this._rows,this._slot.width=this._frameWidth,this._slot.height=this._frameHeight,this.dispatchEvent({type:"loadedmetadata"}))};c.prototype._buildUri=function(a){return this._uri.replace(/\[time]/g,a)};f(c,[{key:"currentTime",
get:function(){return this._currentTime},set:function(a){this._currentTime=a}},{key:"duration",get:function(){return this._duration},set:function(a){this._duration=a}},{key:"frameWidth",get:function(){return this._frameWidth}},{key:"frameHeight",get:function(){return this._frameHeight}}]);return c}(K),Ya=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.initialize=function(){return new Promise(function(b,c){var d;d=this;return a.prototype.initialize.call(this).then(function(a){this._listeners=
new m;this._renderLooper=new Ca;this._renderLooper.on("frame",function(){return d._onFrame()});return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype.revalidate=function(){return new Promise(function(b,c){var d,e,f;d=this;return a.prototype.revalidate.call(this).then(function(a){if(null!=this._spriteRenderer)return ca.instance.readyState=this._spriteRenderer.hasBuffered()?3:1,b();e=this.context.buildNext().src;if(0>e.indexOf("/media/"))return c(Error("Zentrick source required for sprite video"));
f=e.replace(/\/media\/.*/,"/sprite/240p15-[time].jpg");this._spriteRenderer=new tb({slot:this._context.spriteSlot,minBuffer:2,maxBuffer:5,timeout:5E3,rows:3,columns:5,uri:f});this._listeners.addEventListener(this._spriteRenderer,"loadedmetadata",function(){d._onSpriteLoadedmetadata()});this._listeners.addEventListener(this._spriteRenderer,"play",function(){d._onSpritePlay()});this._listeners.addEventListener(this._spriteRenderer,"pause",function(){d._onSpritePause()});this._listeners.addEventListener(this._spriteRenderer,
"waiting",function(){d._onSpriteWaiting()});this._spriteRenderer.start();ca.instance.readyState=1;return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype.dispose=function(){return new Promise(function(b,c){return a.prototype.dispose.call(this).then(function(a){this._listeners.clear();this._renderLooper.stop();ca.instance.readyState=1;this._spriteRenderer.stop();this._spriteRenderer=null;return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};c.prototype._onFrame=function(){this._spriteRenderer.currentTime=
ca.instance.currentTime;this._spriteRenderer.update()};c.prototype._onSpriteLoadedmetadata=function(){ca.instance.readyState=Math.max(ca.instance.readyState,1)};c.prototype._onSpritePlay=function(){ca.instance.readyState=3;this._renderLooper.started||this._renderLooper.start()};c.prototype._onSpritePause=function(){this._renderLooper.started&&this._renderLooper.stop()};c.prototype._onSpriteWaiting=function(){ca.instance.readyState=1};f(c,[{key:"muted",get:function(){return!0}},{key:"supportedPlatforms",
get:function(){return 2}},{key:"videoWidth",get:function(){return null!=this._spriteRenderer?this._spriteRenderer.frameWidth:0}},{key:"videoHeight",get:function(){return null!=this._spriteRenderer?this._spriteRenderer.frameHeight:0}},{key:"mediaControllerType",get:function(){return 3}},{key:"mediaViewType",get:function(){return 2}}]);return c}(Qa),eb=function(a){function c(b,d){h(this,c);b=k(this,a.call(this,b,d));b._disabled=!1;return b}b(c,a);c.prototype.supportsSource=function(a){return""!==a};
c.prototype.revalidate=function(){return new Promise(function(b,c){var d,e=function(){return b()}.$asyncbind(this,c);c=function(a){this._disableState();throw a;}.$asyncbind(this,c);try{return d=this.context.buildNext().muted,this.context.videoSlot.muted=d,a.prototype.revalidate.call(this).then(function(a){return e()}.$asyncbind(this,c),c)}catch(f){c(f)}}.$asyncbind(this))};c.prototype.apply=function(){return new Promise(function(b,c){var d=function(){return b()}.$asyncbind(this,c);c=function(a){this._disableState();
throw a;}.$asyncbind(this,c);try{return a.prototype.apply.call(this).then(function(a){return d()}.$asyncbind(this,c),c)}catch(e){c(e)}}.$asyncbind(this))};c.prototype._disableState=function(){this._disabled=!0};f(c,[{key:"supportedPlatforms",get:function(){return 30}},{key:"mediaControllerType",get:function(){return 1}},{key:"mediaViewType",get:function(){return 1}},{key:"videoWidth",get:function(){return this.context.videoSlot.videoWidth}},{key:"videoHeight",get:function(){return this.context.videoSlot.videoHeight}},
{key:"disabled",get:function(){return!aa||this._disabled}}]);return c}(Qa),ub=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,[{key:"supportedPlatforms",get:function(){return 30}},{key:"muted",get:function(){return!0}}]);return c}(eb),vb=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,[{key:"armed",get:function(){return!0}}]);return c}(eb),wb=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);f(c,
[{key:"muted",get:function(){return!0}},{key:"armed",get:function(){return!0}}]);return c}(eb),fb=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.isApplicable=function(){var a=this.endState.context.buildNext();return 0!=(this.endState.supportedPlatforms&a.platform)&&this.endState.muted===a.muted&&this.endState.armed===a.armed&&!1===this.endState.disabled&&this.endState.supportsSource(a.src)};c.prototype.apply=function(){return new Promise(function(b,c){var d,
e,f;return a.prototype.apply.call(this).then(function(a){d=this.endState.context;Object.assign(d,d.pendingChanges);d.pendingChanges=null;e=d.mediaController;f=this.endState.mediaController;e&&e!==f&&e.pause();d.mediaController=f;return b()}.$asyncbind(this,c),c)}.$asyncbind(this))};return c}(P),xb=function(a){function c(){h(this,c);return k(this,a.apply(this,arguments))}b(c,a);c.prototype.isApplicable=function(){return!0};return c}(fb),lb=function(a){function c(){h(this,c);return k(this,a.apply(this,
arguments))}b(c,a);c.prototype.isApplicable=function(){var a=this.endState.context.buildNext();return this.endState.supportsSource(a.src)};return c}(fb),M=function(a,b){return new fb(a,b)},yb=function(a,b){return new xb(a,b)},Bb=function(a,b){return new lb(a,b)},sa=function(a,b){var c=new ob(a,b),d=new Ia(a,b),e=new Na(a,b),f=new Va(a,b),g=new Oa(a,b),h=new Ya(a,b),k=new vb(a,b),l=new wb(a,b);b=new ub(a,b);var m=[e,f,g,h,k,l,b],v=J();c.createTransition(d,yb);m.forEach(function(a){a.createTransition(a,
M)});a.config.nativeMutedEnabled?(d.createTransition(b,M),b.createTransition(l,M),b.createTransition(k,M),b.createTransition(f,M),b.createTransition(g,M),b.createTransition(e,M)):2===v&&(d.createTransition(b,M),b.createTransition(l,M),b.createTransition(k,M));d.createTransition(k,M);k.createTransition(l,M);d.createTransition(l,M);l.createTransition(k,M);d.createTransition(g,M);g.createTransition(f,M);d.createTransition(f,M);f.createTransition(k,M);f.createTransition(g,M);d.createTransition(e,M);e.createTransition(f,
M);e.createTransition(g,M);a.config.spriteEnabled&&(d.createTransition(h,M),h.createTransition(l,M));m.forEach(function(a){a.createTransition(d,Bb)});d.createTransition(d,Bb);return new S(c)},Fa=a(0),I=a(1);Fa.reject=I;$jscomp.initSymbol();var va=["play","playing","timeupdate"],Gb=function(a,b){return Promise.race([a,Fa(250).then(function(){throw Error("Timed out");})])},Hb=function(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(""===a.src||null==a.src)return Promise.resolve(!1);
for(var c=ka(),d=a.paused,e=a.muted,f=function(){for(var b=0;b<va.length;++b)a.removeEventListener(va[b],h);clearTimeout(k)},g=function(){a.muted||(e&&(a.muted=!0),d&&!a.paused?a.pause():!d&&a.paused&&a.play())},h=function(b){b=a.muted;f();g();c.resolve(!b)},k=setTimeout(function(){f();g();c.resolve(!1)},250),l=0;l<va.length;++l)a.addEventListener(va[l],h);a.muted=!1;(l=a.play())&&"function"==typeof l.catch&&l.catch(function(){});if(b||null==l||"function"!=typeof l.then)return c.promise;f();return function(a){return new Promise(function(b,
c){var d=function(a){return function(b){g();return a&&a.call(this,b)}.$asyncbind(this,c)}.$asyncbind(this),e=(function(){return b()}.$asyncbind(this,c),function(a){return d(b)(!1)}.$asyncbind(this,d(c)));try{return Gb(a).then(function(a){return d(b)(!0)}.$asyncbind(this,e),e)}catch(f){e(f)}}.$asyncbind(this))}(l)},Ib=function(a,b){return 4===b?Promise.resolve(!0):Hb(a,2===b)},sb=function(a){return a},Cb=function(a,b,c){$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var d=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:sb,e=c,f=Array.isArray(e),g=0,e=f?e:e[Symbol.iterator]();;){var h;if("break"===function(){if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var c=h;Object.defineProperty(b,c,{get:function(){return d(a[c])}})}())break}},Jb=function(a,b,c){var d=c.properties;c=c.methods;d&&Cb(a,b,d);c&&Cb(a,b,c,function(b){return b.bind(a)})},Mb=function(a){return null!=a&&"function"==typeof a.then?a:Promise.resolve(a)},ib=function(a,b){var c=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;for(null==c&&(c=a.length-1);0<=c;--c)b(a[c])&&a.splice(c,1);return a},Kb=Object.freeze({NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3}),Lb="ownerDocument parentElement parentNode rootNode clientWidth clientHeight clientTop clientLeft offsetWidth offsetHeight offsetTop offsetLeft offsetParent style".split(" "),Db=Symbol("aborted flag"),jb=function(a){return"string"==typeof a&&"src"===a.toLowerCase()},Eb=function(a){a=
a.type;return"play"===a||"pause"===a},Nb=function(a){return"playing"===a.type},Tb=0,Fb=function(){function a(b,c){h(this,a);this._src=b;this._adapter=c}a.prototype.maybeSetSrc=function(a){return!1};a.prototype.synchronizeMediaSource=function(a,b){if(a.src===this._src)return Promise.resolve();a.src=this._src;a.load();return Promise.race([fa(a,"loadstart"),fa(a,"error").then(function(){var b=Error("Media error while trying to play media: code "+a.error.code);b.mediaError=a.error;throw b;})])};a.prototype.dispose=
function(){return!0};a.prototype.toString=function(){return null!=this._src?this._src:""};return a}(),Ab=function(a){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,c);var d=k(this,a.call(this));d._context=new da(b);d._muted=d._context.config.defaultMuted;d._context.config.nativeMutedEnabled&&(d._context.videoSlot.defaultMuted=d._context.config.defaultMuted,d._context.videoSlot.muted=d._context.videoSlot.defaultMuted);d._context.videoSlot.setAttribute("playsinline",
"true");d._context.videoSlot.setAttribute("webkit-playsinline","true");var e=d._context.videoSlot;"webkitSupportsPresentationMode"in e&&!e.webkitSupportsPresentationMode("inline")&&(aa=!1);d._stateEvents=new K;d._listeners=new m;d._played=new U;d._queue=new N(1);d._fsm=sa(d._context,d._stateEvents);d._sourceResolvers=[];d._src="";d._lastError=null;d._paused=!0;d._srcCounter=0;d._context.mediaController=d._mediaController;b.proxy&&Jb(d._context.videoSlot,d,{properties:Lb});d._type=null!=b.type?b.type:
"";null!=b.src&&""!==b.src&&(d.src=b.src);return d}b(c,a);c.prototype.getSrc=function(){return this._src};c.prototype.setSrc=function(a){this._src=a;if(!(this._context.pendingChanges&&this._context.pendingChanges.src&&this._context.pendingChanges.src.maybeSetSrc(a)))return this._srcCounter++,this._setSrcAsync(a,this._srcCounter).catch(function(a){if(!a[Db])throw a;})};c.prototype._assertSrcCounter=function(a){if(this._srcCounter!==a)throw a=Error("Source changed from #"+a+" to #"+this._srcCounter),
a[Db]=!0,a;};c.prototype._setSrcAsync=function(a,b){return new Promise(function(c,d){this._assertSrcCounter(b);return this._transitionSrc(a,b).then(function(a){this._assertSrcCounter(b);return this._maybeAutoplay(b).then(function(a){return c()}.$asyncbind(this,d),d)}.$asyncbind(this,d),d)}.$asyncbind(this))};c.prototype._transitionSrc=function(a,b){return new Promise(function(c,d){var e;this._assertSrcCounter(b);this._resetSrcState();return this._scheduleTransition({src:null},b).then(function(f){this._assertSrcCounter(b);
e=this._normalizeSrcResolution(this._resolveSrc(a),a);this._assertSrcCounter(b);return this._scheduleTransition({src:e,strict:!0},b).then(function(a){return c()}.$asyncbind(this,d),d)}.$asyncbind(this,d),d)}.$asyncbind(this))};c.prototype._resetSrcState=function(){this._played=new U;this._mediaController.pause();this._mediaController.currentTime=0};c.prototype._maybeAutoplay=function(a){return new Promise(function(b,c){this._assertSrcCounter(a);return""!==this.src&&this._context.config.autoplay?ha(this._mediaController,
3).then(function(c){this._assertSrcCounter(a);this.play();return b()}.$asyncbind(this,c),c):b()}.$asyncbind(this))};c.prototype._normalizeSrcResolution=function(a,b){return null==a?new Fb(b,this):"string"==typeof a?new Fb(a,this):a};c.prototype._resolveSrc=function(a){for(var b=null,c=0;c<this._sourceResolvers.length;){var e=this._sourceResolvers[c];++c;e=e(a,this);if(null!=e){b=e;if("object"===(void 0===b?"undefined":d(b)))break;b!==a&&(a=b)}}return b};c.prototype.setMuted=function(a){var b=arguments;
return new Promise(function(c,d){var e;e=1<b.length&&void 0!==b[1]&&b[1];return this.armed||a||e?(this._muted=a,this._scheduleTransition({muted:a}).then(function(a){return c()}.$asyncbind(this,d),d)):c()}.$asyncbind(this))};c.prototype.setAutoplay=function(a){this._context.config.autoplay=a};c.prototype.start=function(){return new Promise(function(a,b){var c,d,e;c=this._onMediaEvent.bind(this);this._listeners.addEventListener(this._context.videoSlot,"click",c);this._context.spriteSlot&&this._context.config.spriteEnabled&&
this._listeners.addEventListener(this._context.spriteSlot,"click",c);for(d=0;d<na.length;++d)e=na[d],this._listeners.addEventListener(this._stateEvents,e,c);return this._fsm.initialize().then(function(c){return this._fsm.transition().then(function(c){return this.update().then(function(b){return a()}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype.update=function(){var a=this;return null!=this._updating?this._updating.then(function(){return a.update()}):
this._updating=this._update().then(function(){a._updating=null})};c.prototype._update=function(){var a=this;return this._context.armed?Promise.resolve():Ib(this._context.mediaSlot,this._context.platform).then(function(b){return new Promise(function(c,d){return!a._context.armed&&b?a._postArm().then(function(a){return c()}.$asyncbind(this,d),d):c()}.$asyncbind(this))})};c.prototype.dispose=function(){return new Promise(function(a,b){return this.setSrc("").then(function(b){this._listeners.clear();return a()}.$asyncbind(this,
b),b)}.$asyncbind(this))};c.prototype.addSourceResolver=function(a){this._sourceResolvers.push(a)};c.prototype.removeSourceResolver=function(a){this._sourceResolvers.remove(a)};c.prototype.canPlayType=function(a){return this._context.videoSlot.canPlayType(a)};c.prototype.load=function(){this._scheduleTransition()};c.prototype.play=function(){this._paused=!1;return this._scheduleTransition({paused:!1})};c.prototype.pause=function(){this._paused=!0;return this._scheduleTransition({paused:!0})};c.prototype._postArm=
function(){return new Promise(function(a,b){this._context.armed=!0;return this._scheduleTransition({armed:!0}).then(function(b){this._dispatchEvent("arm");return a()}.$asyncbind(this,b),b)}.$asyncbind(this))};c.prototype._onMediaEvent=function(a){this.dispatchEvent({type:a.type})};c.prototype._scheduleTransition=function(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;++Tb;return this._queue.add(function(){return new Promise(function(e,
f){function g(){null==b._pendingEvents&&(b._pendingEvents=[]);b._context.pendingChanges=c;var d=function(){b._context.pendingChanges=null;null!=c.muted&&(b._pendingEvents.push({type:c.muted?"mute":"unmute"}),b._pendingEvents.push({type:"volumechange"}));b._pendingEvents.forEach(function(c){a.prototype.dispatchEvent.call(b,c)});b._pendingEvents=null;return e()}.$asyncbind(this,f),h=function(a){b._context.pendingChanges=null;!0===c.strict&&(b._lastError=a.mediaError||a,b.dispatchEvent({type:"error",
immediate:!0,detail:{error:a}}));return e()}.$asyncbind(this,f);try{return b._fsm.transition().then(function(a){return d()}.$asyncbind(this,h),h)}catch(k){h(k)}}var h;if(null!=d&&d!==b._srcCounter)return e();b._mergePlayed();var k;"src"in c?null!=b._context.src?k=Mb(b._context.src.dispose()).then(function(a){(h=a)?(b._lastError=null,a=g.call(this)):a=e();return a}.$asyncbind(this,f),f):(b._lastError=null,k=g.call(this)):k=g.call(this);return k}.$asyncbind(this))})};c.prototype._firePendingEvents=
function(){this._prunePendingEvents();for(var b=0;b<this._pendingEvents.length;++b)a.prototype.dispatchEvent.call(this,this._pendingEvents[b])};c.prototype._prunePendingEvents=function(){for(var a=this._pendingEvents.length-1;0<=a&&!Eb(this._pendingEvents[a]);)--a;if(!(0>a)){var b="pause"===this._pendingEvents[a].type;ib(this._pendingEvents,Eb,a-1);b&&ib(this._pendingEvents,Nb)}};c.prototype._mergePlayed=function(){var a=this._mediaController.played;if(null==a)this._played.add(0,this.currentTime);
else for(var b=0;b<a.length;++b)this._played.add(a.start(b),a.end(b))};c.prototype._dispatchEvent=function(a){this.dispatchEvent({type:a,immediate:1<arguments.length&&void 0!==arguments[1]&&arguments[1]})};c.prototype.dispatchEvent=function(b){b.immediate||null==this._pendingEvents?a.prototype.dispatchEvent.call(this,b):"volumechange"===b.type&&null!=this._context.pendingChanges&&null!=this._context.pendingChanges.muted||this._pendingEvents.push(b)};c.prototype.hasAttribute=function(a){return jb(a)?
""!==this.src:this._context.videoSlot.hasAttribute(a)};c.prototype.getAttribute=function(a){return jb(a)?this.src:this._context.videoSlot.getAttribute(a)};c.prototype.setAttribute=function(a,b){jb(a)?this.src=b:this._context.videoSlot.setAttribute(a,b)};c.prototype.removeAttribute=function(a){jb(a)?this.src="":this._context.videoSlot.removeAttribute(a)};f(c,[{key:"defaultMuted",get:function(){return this._context.config.defaultMuted},set:function(a){this._context.config.defaultMuted=a;this._context.videoSlot.defaultMuted=
a}},{key:"autoplay",get:function(){return this._context.config.autoplay},set:function(a){this.setAutoplay(a)}},{key:"src",get:function(){return this.getSrc()},set:function(a){this.setSrc(a)}},{key:"currentSrc",get:function(){return this.src}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"paused",get:function(){return this._paused}},{key:"ended",get:function(){return this._mediaController.ended}},{key:"currentTime",get:function(){return this._mediaController.currentTime},
set:function(a){this._mediaController.currentTime=a}},{key:"duration",get:function(){return this._mediaController.duration}},{key:"videoWidth",get:function(){return this._fsm.state.videoWidth}},{key:"videoHeight",get:function(){return this._fsm.state.videoHeight}},{key:"readyState",get:function(){return this._mediaController.readyState}},{key:"networkState",get:function(){return this._mediaController.networkState}},{key:"played",get:function(){this.paused||this._mergePlayed();return this._played}},
{key:"buffered",get:function(){return this._mediaController.buffered||new U}},{key:"volume",get:function(){return this._mediaController.volume},set:function(a){this._mediaController.volume=a}},{key:"muted",get:function(){return this._muted},set:function(a){this.setMuted(a)}},{key:"error",get:function(){return this._lastError||this._mediaController.error}},{key:"poster",get:function(){return this._mediaController.poster},set:function(a){this._mediaController.poster=a}},{key:"armed",get:function(){return this._context.armed}},
{key:"context",get:function(){return this._context}},{key:"_mediaController",get:function(){return this._fsm.state.mediaController}}]);return c}(K);[Z,Kb].forEach(function(a){Object.keys(a).forEach(function(b){var c=a[b];Object.defineProperty(Ab,b,{value:c});Object.defineProperty(Ab.prototype,b,{value:c})})});return Ab});define("html5-video-adapter",["html5-video-adapter/html5-video-adapter"],function(e){return e});
define("videoPlayers/html5VideoAdapterHelper",["promise","html5-video-adapter","util/publisherWindow","util/browser","util/nonreenterant"],function(e,a,g,c,d){function h(a){if(!a.armed){var b=d(a.update.bind(a)),e=c.supportsMobileAutoPlay()?"click":"touchstart";g.document.addEventListener(e,b);a.addEventListener("arm",function(){g.document.removeEventListener(e,b)})}}return{getPrimedVideoElement:function(d,b){return new e(function(e){if(!c.isSupportedMobileDevice())return e(b);var g=d.document.createElement("style");
g.innerText="*::-webkit-media-controls-start-playback-button {display: none!important;-webkit-appearance: none;}";d.document.body.insertBefore(g,d.document.body.firstChild);var m=new a({defaultMuted:!0,autoplay:!1,spriteEnabled:!1,videoSlot:b,audioSlot:new Audio,spriteSlot:d.document.createElement("div"),proxy:!0,nativeMutedEnabled:c.isSupportedAndroid()});m.start().then(function(){h(m);e(m)})})}}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("videoPlayers/zentrickPlayer","promise util/eventDispatcher videoPlayers/videoPlayerFeatures jquery util/eventBus util/dom/nativeStyles videoPlayers/videoPlayerTypes videoPlayers/utils/mediaFilesUtil iab-vast-model iab-vast-executor-factory unrulyError util/publisherWindow util/events util/browser util/nonreenterant videoPlayers/flashVPAIDTimingHelper videoPlayers/html5VideoAdapterHelper".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n,p,y,u,r,t){function q(a,b){a=h.createElement(a,b);h.reset(a);
h.setImportant(a,{position:"absolute",width:"100%",height:"100%"});return a}function z(a,b,c,d){var e=k.InLine,f=k.Linear,g=k.Click,h=new k.VAST,f=new f;a.uri=a.url;300===a.width&&250===a.height&&(a.width=c.width(),a.height=c.height());f.mediaFiles.push(a);f.adParameters=b;a=new g;a.uri=d;f.videoClicks.clickThrough=a;d=new e;d.creatives.add(f);h.ads.add(d);return h}function D(a){a.setAttribute("playsinline","true");a.muted=!0;return a}function E(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{},b={minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minBitrate:0,maxBitrate:Infinity,videoSlotCanAutoPlay:!0,clickToResume:!0},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function A(a){return{once:function(b,c){a.once(b,c)},on:function(b,c){a.on(b,c)},adRemainingTime:function(){return a.remainingTime},adDuration:function(){return a.duration}}}var v=function(){function b(d,e){var f=d.adParameters;d=d.clickThroughs;_classCallCheck(this,b);if(!e)throw new m("Element not provided");
this.container=c(e);this.adParameters=f;this.clickthrough=d.video.url;this.hasExecuted=!1;this.dispatcher=new a(this);this.videoAdapterUpdate=null}_createClass(b,[{key:"supports",value:function(){return{ownQuartileTimer:function(){return!0},ownCompletedViewTimer:function(){return!1},clickThrough:function(){return!1}}}},{key:"load",value:function(){var a=this;d.one("placement.addedtodom",function(){a.executor.load().then(function(){h.reset(n.document.getElementById("zentrickPlayer"));a.dispatcher.dispatchEvent("readytoplay");
a.dispatcher.dispatchEvent("adimpression")})});this.videoEl=q("video",document);this.videoEl=D(this.videoEl);var b=q("div",document);h.setImportant(b,{top:0,left:0,"z-index":0});h.setImportant(this.videoEl,{top:0,left:0});this.container.prepend(b);this.container.prepend(this.videoEl);t.getPrimedVideoElement(n,this.videoEl).then(function(c){a.videoAdapter=c;y.isMobile()&&(a.videoAdapterUpdate=u(function(){return a.videoAdapter.update()}));a.executor=l([z(a.mediaFile,a.adParameters,a.container,a.clickthrough)],
E({videoSlot:c,slot:b}));p.map(a.executor,a.dispatcher,{"vast:start":"playing","vast:firstQuartile":"firstQuartile","vast:midpoint":"midpoint","vast:thirdQuartile":"thirdQuartile","vast:complete":"ended","vast:error":"error","vpaid:AdError":"AdError","vpaid:AdStopped":"AdStopped",didCancel:"AdStopped",clickThrough:"AdClickThru"},"on");a.executor.on("vast:start",function(){a.mute()});a.timingHelper=new r.FlashVPAIDTimingHelper(A(a.executor),a.dispatcher);a.dispatcher.dispatchEvent("setupcomplete")})}},
{key:"play",value:function(){this.hasExecuted?this.executor.resume():(this.hasExecuted=!0,this.executor.execute())}},{key:"pause",value:function(){this.executor.pause()}},{key:"paused",value:function(){return this.executor.paused}},{key:"skip",value:function(){this.executor.cancel()}},{key:"mute",value:function(){this.executor.muted=!0}},{key:"unmute",value:function(){var a=this;if(y.isMobile()&&!this.videoAdapter.armed)return this.videoAdapterUpdate().then(function(){a.videoAdapter.armed&&(a.executor.muted=
!1)});this.executor.muted=!1;return e.resolve()}},{key:"getDuration",value:function(){return this.timingHelper?this.timingHelper.getDuration():0}},{key:"getCurrentTime",value:function(){return this.timingHelper?this.timingHelper.getCurrentTime():0}}]);return b}();g=function(a){function c(a,d){_classCallCheck(this,c);d=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,d));d.mediaFile=b.getJavascriptVPAID(a.mediaFiles);return d}_inherits(c,a);_createClass(c,[{key:"getPlayerType",
value:function(){return f.ZENTRICK_JSVPAID}}]);return c}(v);v=function(a){function c(a,d){_classCallCheck(this,c);d=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,d));d.mediaFile=b.getSmallestMP4(a.mediaFiles);return d}_inherits(c,a);_createClass(c,[{key:"getPlayerType",value:function(){return f.ZENTRICK_MP4}}]);return c}(v);return{ZentrickPlayerJSVPAID:g,ZentrickPlayerMP4:v,_:{configureVideoSlotForMobilePlayback:D}}});
define("playerQuartileTimer",["util/eventBus","util/trackingEvent"],function(e,a){function g(a,f){c[a]||(-1!==d.indexOf(a)&&e.dispatchEvent({type:"player."+a,target:f}),c[a]=!0)}var c={},d=[a.FIRST_QUARTILE,a.MIDPOINT,a.THIRD_QUARTILE];return{init:function(){e.addEventListener("player.timeupdate",function(c){c=c.target;var d=c.getDuration(),b=d/4,e=c.getCurrentTime();e>=b&&e<2*b?g(a.FIRST_QUARTILE,c):e>=2*b&&e<3*b?g(a.MIDPOINT,c):e>=3*b&&e<d&&g(a.THIRD_QUARTILE,c)})}}});
define("playerCompletedViewTimer",["util/eventBus","util/trackingEvent"],function(e,a){function g(f){h||(e.dispatchEvent({type:"player."+a.COMPLETED_VIEW,target:f}),h=!0,e.removeEventListener("player.timeupdate",c),e.removeEventListener("player.ended",d))}function c(a){a=a.target;30<=a.getCurrentTime()&&g(a)}function d(a){g(a.target)}var h=!1;return{init:function(){e.addEventListener("player.timeupdate",c);e.addEventListener("player.ended",d)}}});
function _defineProperty(e,a,g){a in e?Object.defineProperty(e,a,{value:g,enumerable:!0,configurable:!0,writable:!0}):e[a]=g;return e}
define("videoPlayers/videoPlayerFactory","videoPlayers/flashVPAIDDirectEmbedPlayer videoPlayers/zentrickPlayer playerQuartileTimer playerCompletedViewTimer videoPlayers/videoPlayerTypes unrulyError util/trackingEvent tracking".split(" "),function(e,a,g,c,d,h,f,b){return{createPlayer:function(k,l,m){var n,p=void 0,y=void 0,u=(n={},_defineProperty(n,d.FLASH_VPAID_DIRECT_EMBED,e.FlashVPAIDDirectEmbedPlayer),_defineProperty(n,d.ZENTRICK_JSVPAID,a.ZentrickPlayerJSVPAID),_defineProperty(n,d.ZENTRICK_MP4,
a.ZentrickPlayerMP4),n),r=!1;d.values().forEach(function(a){!r&&m.supportsVideoPlayerType(a)&&(y=u[a],r=!0)});if(!r)throw new h("No compatible media file found",f.error.NO_COMPATIBLE_MEDIA_FILE_FOUND,{mediaFiles:JSON.stringify(l.mediaFiles)});p=new y(l,k,m);b.trackActivate(f.COMPATIBLE_MEDIA_FILE,{player:p.getPlayerType(),mediaFile:JSON.stringify(p.mediaFile),mediaFiles:JSON.stringify(l.mediaFiles)});p.supports().ownQuartileTimer()||g.init();p.supports().ownCompletedViewTimer()||c.init();return p}}});
define("playerTimerTracker",["util/eventBus","tracking","util/trackingEvent"],function(e,a,g){function c(c){d[c]||(a.trackThirdParty(c),d[c]=!0)}var d={};return{init:function(){e.addEventListener("player.pp_completed_view",function(){c(g.COMPLETED_VIEW)});e.addEventListener("player.ended",function(){c(g.COMPLETE)});e.addEventListener("player.playing",function(){c(g.IMP);c(g.START)});e.addEventListener("player.firstQuartile",function(){c(g.FIRST_QUARTILE)});e.addEventListener("player.midpoint",function(){c(g.MIDPOINT)});
e.addEventListener("player.thirdQuartile",function(){c(g.THIRD_QUARTILE)});e.addEventListener("player.AdClickThru",function(){a.trackThirdParty(g.VIDEO_CLICK)})}}});
define("videoPlayers/videoEventDispatcher",["util/eventBus","util/trackingEvent","util/global","unrulyError"],function(e,a,g,c){return{setupPlayerEventReFiring:function(d){var h=!1,f={};f[g.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]=a.error.MEDIA_ERR_SRC_NOT_SUPPORTED;f[g.MediaError.MEDIA_ERR_ABORTED]=a.error.MEDIA_ERR_ABORTED;f[g.MediaError.MEDIA_ERR_NETWORK]=a.error.MEDIA_ERR_NETWORK;f[g.MediaError.MEDIA_ERR_DECODE]=a.error.MEDIA_ERR_DECODE;"timeupdate firstQuartile midpoint thirdQuartile ended AdClickThru".split(" ").forEach(function(a){d.dispatcher.addEventListener(a,
function(c,f){e.dispatchEvent({type:"player."+a,target:d},f)})});d.dispatcher.addEventListener("playing",function(){e.dispatchEvent({type:"player.playing",target:d});h&&(e.dispatchEvent({type:"player.resume",target:d}),h=!1)});d.dispatcher.addEventListener("pause",function(){e.dispatchEvent({type:"player.pause",target:d});h=!0});d.dispatcher.addEventListener("error",function(a){var g=new c(a.message,a.errorType);g.src=a.mediaFileUrl;a.originalEvent&&a.originalEvent.target&&(a.originalEvent.target.error&&
a.originalEvent.target.error.code&&(g.errorType=f[a.originalEvent.target.error.code]),a.originalEvent.target.src&&(g.message="Unable to play file "+a.originalEvent.target.src,g.src=a.originalEvent.target.src));e.dispatchEvent({type:"player.error",target:d},[g])})}}});
define("viewability/isViewable",[],function(){return function(e,a,g){var c,d;d=e.getBoundingClientRect();c=d.top+g.pageYOffset;d=d.left+g.pageXOffset;var h=g.pageYOffset,f=g.pageXOffset,b=g.document.documentElement;return b!==e&&b.contains(e)?Math.max(0,Math.min(d+e.offsetWidth,f+g.innerWidth)-Math.max(d,f))*Math.max(0,Math.min(c+e.offsetHeight,h+g.innerHeight)-Math.max(c,h))>=e.offsetWidth*e.offsetHeight*a:!1}});
define("viewability/viewability",["util/publisherWindow","util/eventDispatcher","viewability/isViewable"],function(e,a,g){function c(a){return a&&a.jquery?a[0]:a}function d(d){var e=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a;this.elementToWatch=c(d.elementToWatch);this.viewablePercentage=d.viewablePercentage;this.dispatcher=new k(this);this.viewable=null;this._pollId=setInterval(function(){return e.checkViewability(b)},
100)}d.prototype.destroy=function(){clearInterval(this._pollId);this._pollId=void 0};d.prototype.checkViewability=function(a){var c=a(this.elementToWatch,this.viewablePercentage,1<arguments.length&&void 0!==arguments[1]?arguments[1]:e);c!==this.viewable&&((this.viewable=c)?this.dispatcher.dispatchEvent("inview"):this.dispatcher.dispatchEvent("outofview"))};return{Viewability:d}});
define("videoPlayers/videoPlayerViewability",["viewability/viewability","util/enable"],function(e,a){function g(a,d){a=Number(a);return isNaN(a)||0>a||1<a?d:a}return{init:function(c,d){c.dispatcher.one("readytoplay",function(){var h=new e.Viewability({elementToWatch:c.container,viewablePercentage:g(d.viewablePercentage,.5)}),f=c.pause.bind(c),b=c.play.bind(c);if("true"!==d.playThrough||a.outOfViewPauseOverride())c.dispatcher.one("ended",function(){h.dispatcher.removeEventListener("inview",b);h.dispatcher.removeEventListener("outofview",
f)}),h.dispatcher.addEventListener("inview",b),h.dispatcher.addEventListener("outofview",f);else h.dispatcher.one("inview",b)})}}});
define("videoPlayers/videoPlayerLifecycleTiming",["util/eventBus","util/stopwatch"],function(e,a){return{initWithEventBus:function(e){e.addEventListener("populateAd",function(){a.start("populateAd")})},initWithPlayer:function(g){g.dispatcher.addEventListener("setupcomplete",function(){a.stop("populateAd");a.start("setupcomplete")});e.addEventListener("placement.addedtodom",function(){a.stop("setupcomplete");a.start("placement.addedtodom")});g.dispatcher.addEventListener("readytoplay",function(){a.stop("placement.addedtodom")})}}});
define("videoPlayers/videoPlayerDirector",["playerTimerTracker","videoPlayers/videoEventDispatcher","videoPlayers/videoPlayerViewability","videoPlayers/videoPlayerLifecycleTiming"],function(e,a,g,c){return{direct:function(d,h){c.initWithPlayer(d);a.setupPlayerEventReFiring(d);e.init();g.init(d,h)}}});
define("videoPlayers/utils/videoPlayerCompatibility",["util/browser","util/enable"],function(e,a){return{supportsFlashVPAID:function(a,c){return e.supportsFlash()&&!e.isFlashBlocked(a,c)},supportsZentrickPlayer:function(){var g=a.supportsDesktopVideoContainer(),c=e.supportsMobileAutoPlay()||9<=e.iOSVersion()||e.isSupportedAndroid()&&38<=e.chromeVersion();return g||c}}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _defineProperty(e,a,g){a in e?Object.defineProperty(e,a,{value:g,enumerable:!0,configurable:!0,writable:!0}):e[a]=g;return e}
function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/adFormatCapabilities","videoPlayers/videoPlayerTypes videoPlayers/videoPlayerFeatures util/enable util/browser videoPlayers/utils/mediaFilesUtil videoPlayers/utils/videoPlayerCompatibility".split(" "),function(e,a,g,c,d,h){c=function(){function a(b,c,g){_classCallCheck(this,a);this.supportedVideoPlayers={};this.supportedPlayerFeatures={};c=h.supportsFlashVPAID(c,g)&&b.mediaFiles.some(d.isFlashVPAID);this.supportedVideoPlayers[e.FLASH_VPAID_DIRECT_EMBED]=c;this.supportedVideoPlayers[e.HTML5]=
!1;this.supportedVideoPlayers[e.ZENTRICK_JSVPAID]=h.supportsZentrickPlayer()&&b.mediaFiles.some(d.isJavascriptVPAID);this.supportedVideoPlayers[e.ZENTRICK_MP4]=h.supportsZentrickPlayer()&&b.mediaFiles.some(d.isMP4)}_createClass(a,[{key:"supportsVideoPlayerType",value:function(a){return!!this.supportedVideoPlayers[a]}},{key:"supportsVideoPlayerFeature",value:function(a){return!!this.supportedPlayerFeatures[a]}}]);return a}();g=function(c){function b(c,d,e){var f;_classCallCheck(this,b);c=_possibleConstructorReturn(this,
(b.__proto__||Object.getPrototypeOf(b)).call(this,c,d,e));c.supportedPlayerFeatures=(f={},_defineProperty(f,a.LOOP,!1),_defineProperty(f,a.CLICK_THROUGH,!0),f);return c}_inherits(b,c);_createClass(b,[{key:"adType",value:function(){return"inArticle"}},{key:"supportsVideoCoverSizing",value:function(){return!0}}]);return b}(c);c=function(c){function b(c,d,e){var f;_classCallCheck(this,b);c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,d,e));c.supportedPlayerFeatures=
(f={},_defineProperty(f,a.LOOP,!0),_defineProperty(f,a.CLICK_THROUGH,!1),f);return c}_inherits(b,c);_createClass(b,[{key:"adType",value:function(){return"inFeed"}},{key:"supportsVideoCoverSizing",value:function(){return!1}}]);return b}(c);return{InArticleCapabilities:g,InFeedCapabilities:c}});
define("videoPlayers/inFeedVideo",["videoPlayers/videoPlayerFactory","videoPlayers/videoPlayerDirector","adFormats/adFormatCapabilities"],function(e,a,g){return{createPlayer:function(c,d){var h=new g.InFeedCapabilities(d,c.width(),c.height());c=e.createPlayer(c,d,h);a.direct(c,d);return c}}});
define("util/layout/letterbox",["jquery","util/publisherWindow"],function(e,a){return{letterbox:function(g,c){function d(){var a=c.outerWidth(),d=c.outerHeight();g.setImportantStyle({"border-width":Math.round((d-a/16*9)/2)+"px 0px",width:a+"px",height:d+"px"})}g.setImportantStyle({border:"0px solid #000000","box-sizing":"border-box"});d();e(a).on("resize",d)}}});
define("util/publisherAdServerHelper",["unrulyAdCore/util/window","jquery"],function(e,a){return{shrinkAdServerIFrame:function(){e.frameElement&&a(e.frameElement).setImportantStyle({width:"1px",height:"1px"}).attr({width:"1",height:"1"})}}});
define("util/elementWatcher",["jquery","util/eventDispatcher"],function(e,a){function g(c){this.elementToWatch=c.elementToWatch;this.dispatcher=new a(this);this.position=this.getPosition(this.elementToWatch);this.size=this.getSize(this.elementToWatch);this._boundCallback=this.checkIfElementChanges.bind(this);this._pollId=setInterval(this._boundCallback,100)}g.prototype.destroy=function(){clearInterval(this._pollId);this._pollId=void 0};g.prototype.comparePositions=function(a,d){return a.top===d.top&&
a.left===d.left};g.prototype.compareSize=function(a,d){return a.height===d.height&&a.width===d.width};g.prototype.checkSizeChange=function(){var a=this.getSize(this.elementToWatch);this.compareSize(this.size,a)||(this.size=a,this.dispatcher.dispatchEvent({type:"sizeChanged",target:this}))};g.prototype.checkIfElementChanges=function(){this.checkPositionChange();this.checkSizeChange()};g.prototype.checkPositionChange=function(){var a=this.getPosition(this.elementToWatch);this.comparePositions(this.position,
a)||(this.position=a,this.dispatcher.dispatchEvent({type:"positionChanged",target:this}))};g.prototype.getSize=function(a){return{width:a.width(),height:a.height()}};g.prototype.getPosition=function(a){a=a.offset();return{top:a.top,left:a.left}};return g});
define("util/positionUtil",[],function(){return{topRight:function(e,a,g){var c=e.offset(),c={top:c.top,left:c.left+e.outerWidth()};a&&(c.left-=a.width());g&&(c.top+=e.outerHeight()*g/100,c.left-=e.outerWidth()*g/100);return c},topLeft:function(e,a,g){a=e.offset();a={top:a.top,left:a.left};g&&(a.top+=e.outerHeight()*g/100,a.left+=e.outerWidth()*g/100);return a},bottomLeft:function(e,a,g){var c=e.offset(),c={top:c.top+e.outerHeight(),left:c.left};a&&(c.top-=a.height());g&&(c.top-=e.outerHeight()*g/
100,c.left+=e.outerWidth()*g/100);return c},bottomRight:function(e,a,g){var c=e.offset(),c={top:c.top+e.outerHeight(),left:c.left+e.outerWidth()};a&&(c.top-=a.height(),c.left-=a.width());g&&(c.top-=e.outerHeight()*g/100,c.left-=e.outerWidth()*g/100);return c}}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adIconHandler","jquery util/elementWatcher tracking util/trackingEvent util/positionUtil util/browser util/enable".split(" "),function(e,a,g,c,d,h,f){return function(){function b(d){_classCallCheck(this,b);this.elementWatcher=new a({elementToWatch:d.elementToWatch});this.icons=[{onClickCallback:function(){g.trackActivate(c.PRIVACY_POLICY);h.openWindow("http://video.unrulymedia.com/rtbprivacypolicy/index.html")},className:"unruly_native_optout_icon",position:"topRight",scaling:!1,imageDimensions:{standard:[19,
19]},imgDataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzE5MTkyMDQ3QzlFMTFFNEI4M0Q4NDVDMjhCMDZDRTQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzE5MTkyMDM3QzlFMTFFNEI4M0Q4NDVDMjhCMDZDRTQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzMkYyQzJEQjBFRDExRTJBMjNDRjBENEFCMzNGREQ1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzMkYyQzJFQjBFRDExRTJBMjNDRjBENEFCMzNGREQ1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/ILl8AAAAl5JREFUeNqsVM+LUlEY9Rfjw0lRnGmEmBiyTRs37SIScaGgLkZcqP9B/gsiIuJqtm6kbDEb0RgZFJztRNkuUCES0kKHJ8kUlaU+JbTvDPfGTZTZzIXDve+755z33e/+UKvWt3uEB4R9wg7BSPhF+ELoEz4SPq+K1Cvfu4THhEcEk2pzGxHeEt4QLtcRDghPCTm9Xv8sk8m8arVa8ng8VpbU0OMbccyDx/gHqjUZXRk5nc7SYDD4vmRtOp3OhsPhT/Q8hnnwBMNd0eyQG3FRs9m8CIVCpxqNJmc0Gp+nUqnzaDRaQZz/RDA8FIt9hNR5RsVisQETRsx5vd6TxWKxdLvdLxHHPM+QLfmI+ah8EKAWPCPRiMNqtb7gY8zzDKFjcZ+GOwYCATv6dDr9jrL4t36Px2ONx+P3/X7/bR7DPHiiDhsBs22M7Hb7jqIo83K5PBSLScvQJJPJJzabTRLj4IEPHQvNYKbHyGAw6EejkSJmhSbLsqLT6bSFQkEW4+CBDx0L6WCmYDSZTGYmk0mievxnFg6H73Y6nct+v6+IcfDAh46FtqCcYtTtdr9KkrQVDAb3RJHL5dqv1+sXqwcTPPChY6FvMOtiVK1Wr/pEIvGQZ0fnS+twOO7UajWZztyemBV4oo7aj7XnrFQqNbH9Pp/vBN+VSuU9FfqYHwvMbzpnG29AJBKpxGKxM7PZnIcJbsR1N+DG7qaWmU0IKKSx1+uZs9nsB8rkN2Wks1gsBuq35/P5n3a7Pczn8w0q/msqPDauQTgjDG78PVNf89JaCLfYCsZsx6bspf20KvorwADLaKBWBKZQ9wAAAABJRU5ErkJggg==",
isEnabled:function(){return f.audienceTargeting}}];this.config=d}_createClass(b,[{key:"initIcons",value:function(){var a=this;this.icons.filter(function(a){return a.isEnabled()}).forEach(function(b){a.createIcon(a.elementWatcher,a.config.elementToWatch,b)})}},{key:"destroyIcons",value:function(){this.elementWatcher.destroy();this.icons.forEach(function(a){e("."+a.className).hide()})}},{key:"setIconSize",value:function(a,b){a.setImportantStyle({width:b[0]+"px",height:b[1]+"px"})}},{key:"createIcon",
value:function(a,b,c){function f(){var a;a=b.width();u=c.scaling&&400<a?"large":c.scaling&&300<a?"medium":"standard";a=d[c.position](b,g,c.percentageOffset);g.setImportantStyle({position:"absolute",left:a.left+"px",top:a.top+"px",width:c.imageDimensions[u][0]+"px",height:c.imageDimensions[u][1]+"px","min-width":"0","min-height":"0","max-width":"none","max-height":"none"})}var g=e('<img style="cursor:pointer;" src="'+c.imgDataUri+'">'),h=b.width(),u="standard";g.on("click",c.onClickCallback);g.addClass(c.className);
c.scaling&&400<h?u="large":c.scaling&&300<h&&(u="medium");this.setIconSize(g,c.imageDimensions[u]);e("body").append(g);a.dispatcher.addEventListener("positionChanged",f);a.dispatcher.addEventListener("sizeChanged",f)}}]);return b}()});
define("util/elementStyleClone",["jquery","util/publisherWindow","unrulyError"],function(e,a,g){var c="margin-top margin-right margin-bottom margin-left padding-top padding-right padding-bottom padding-left border-collapse border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-right-color border-right-style border-right-width border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-left-color border-left-style border-left-width width height min-width min-height box-sizing float overflow vertical-align position".split(" ");return{clone:function(d,
e){var f={},b=0;if(!d)throw new g("No DOMElement passed");d=a.getComputedStyle(d);if(0===d.length)throw new g("DOMElement seems to not be attached to the DOM");for(e=e||c;b<d.length;b++){var k=d[b],l=d.getPropertyValue(k);0<=e.indexOf(k)&&(f[k]=l)}return f},cloneAttributes:function(a){var c={};e.each(a.attributes,function(){c[this.name]=this.value});return c}}});define("util/jqueryElementFactory",["jquery"],function(e){return{create:function(a){return e(a)}}});
define("util/nativeAdModificationUtil",["util/jqueryElementFactory"],function(e){return{addClasses:function(a,e){e&&e.forEach(function(c){-1!==c.selectors.indexOf(".unruly_native_placement")&&a.addClass(c.classNames.join(" "));a.find(c.selectors.join(",")).addClass(c.classNames.join(" "))})},addAttributes:function(a,e){e&&e.forEach(function(c){-1!==c.selectors.indexOf(".unruly_native_placement")&&a.attr(c.attributes);a.find(c.selectors.join(",")).attr(c.attributes)})},addElements:function(a,g){g&&
g.forEach(function(c){var d=c.selectors.join(","),g=c.classNames.join(" "),f=c.location,b;b=e.create("<"+c.tagName+">");b.addClass(g);b.attr(c.attributes||{});"string"===typeof c.text&&0<c.text.length&&b.text(c.text);(-1!==c.selectors.indexOf(".unruly_native_placement")?a:a.find(d))[f](b)})},addStyles:function(a,e){e&&e.forEach(function(c){-1!==c.selectors.indexOf(".unruly_native_placement")&&a.setImportantStyle(c.css);a.find(c.selectors.join(",")).setImportantStyle(c.css)})}}});
define("videoPlayers/inFeedVideoContainer","jquery util/enable util/elementStyleClone tracking util/trackingEvent unrulyAdCore/util/window util/elementWatcher util/nativeAdModificationUtil".split(" "),function(e,a,g,c,d,h,f,b){function k(b,k,u,r){var t=e("<div>");n=t;t.setImportantStyle({background:"black"});a.skinAttributeCopyToVideoContainer&&t.attr(g.cloneAttributes(r));t.addClass("unruly_native_html5_container");e(r).replaceWith(t);k=e(u.basePlacement.selector);r=u.thumbnail.selectors.join(", ");
k=k.find(r);var q=k[0];r=void 0;if(!(h&&h.unruly&&h.unruly.native)||350130!==h.unruly.native.siteId&&548193!==h.unruly.native.siteId)try{l(q,t),m(b,u),a.siteSupportsResponsiveInFeedVideo&&(r=new f({elementToWatch:k}),r.dispatcher.addEventListener("sizeChanged",function(){l(q,t);m(b,u)}))}catch(z){c.trackActivate(d.error.ELEMENT_STYLE_CLONE_ERROR)}return t}function l(a,b){a=g.clone(a);"static"===a.position&&(a.position="relative");b.setImportantStyle(a)}function m(a,c){c.toAdd&&(c=c.toAdd.styles,b.addStyles(a,
c))}var n=void 0;return{create:function(a,b,c){var d=a.find(c.thumbnail.selectors.join(","))[0];return n=k(a,b,c,d)},getPlayerContainer:function(){return n}}});
define("viewability/moat",["util/publisherWindow","util/eventBus","session/sessionInfo"],function(e,a,g){function c(c){function e(a){c.dispatchEvent({type:a,adVolume:0})}function f(a,c){for(b in a)a.hasOwnProperty(b)&&(g=a[b],c(b,g))}var b,g,l={},m,n=a.addEventListener.bind(a),p=a.removeEventListener.bind(a);m={"player.firstQuartile":e.bind(this,"AdVideoFirstQuartile"),"player.midpoint":e.bind(this,"AdVideoMidpoint"),"player.thirdQuartile":e.bind(this,"AdVideoThirdQuartile"),"player.pause":e.bind(this,
"AdPaused"),"player.playing":function(){l.AdVideoStart||e("AdVideoStart");l.AdVideoStart=!0;e("AdPlaying")},"player.ended":function(){l.AdVideoComplete||f(m,p);l.AdVideoComplete||e("AdVideoComplete");l.AdVideoComplete=!0}};f(m,n)}return{init:function(a){var e=a.campaignConfig,f=a.container,b=a.duration;a=a.videoUrl;e={level1:e.aid,level2:e.cid,level3:e.crid,level4:e.vid,slicer1:g.getSiteId(),slicer2:"In-Feed"};f=this._initMoatTracking(f,e,b,"unrulymediajsv2134447588468",a);c(f)},_initMoatTracking:function(a,
c,f,b,g){var l=e.location.protocol,m="https:"===l?"z":"js",n=e.document.createElement("script"),p=[];c={adData:{ids:c,duration:f,url:g},dispatchEvent:function(a){this.sendEvent?(p&&(p.push(a),a=p,p=!1),this.sendEvent(a)):p.push(a)}};f="_moatApi"+Math.floor(1E8*Math.random());e[f]=c;n.type="text/javascript";a&&a.insertBefore(n,a.childNodes[0]||null);n.src=l+"//"+m+".moatads.com/"+b+"/moatvideo.js#"+f;return c}}});var compose=function(e,a){return function(){return e(a.apply(void 0,arguments))}};
define("util/dom/jqueryReset",["util/jqueryElementFactory","util/elementStyleReset"],function(e,a){return{createAndReset:compose(a.resetStyles,e.create)}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();
function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("components/volumeButton",["util/dom/jqueryReset","util/eventBus","tracking","util/trackingEvent","util/imageFactory"],function(e,a,g,c,d){return{VolumeButton:function(){function h(c){var b=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e;_classCallCheck(this,h);this.options={icons:d.icons,style:d.style};this.muted=!0;this.domElement=g.createAndReset('<img class="unruly_ia_volume"/>');this.domElement.attr("src",this.options.icons.initial);
this.domElement.setImportantStyle(this.options.style);this.mouseLeaveListener=function(){return b.domElement.setImportantStyle({opacity:.25})};this.mouseEnterListener=function(){return b.domElement.setImportantStyle({opacity:1})};!0===d.shouldFadeInOnUserInteraction&&(a.addEventListener("inarticle.mouseenter",this.mouseEnterListener),a.addEventListener("inarticle.mouseleave",this.mouseLeaveListener));this.domElement.click(function(a){b.domElement.attr("src",b.chooseImageUrl());b.toggleSound(c);b.muted=
!b.muted;a&&a.stopPropagation()});this.preloadSoundOnImage()}_createClass(h,[{key:"toggleSound",value:function(a){this.muted?(a.unmute(),g.trackActivate(c.UNMUTE)):(a.mute(),g.trackActivate(c.MUTE))}},{key:"preloadSoundOnImage",value:function(){var a=d.createImage();a.onload=function(){};a.src=this.options.icons.muted;a=d.createImage();a.onload=function(){};a.src=this.options.icons.unmuted}},{key:"chooseImageUrl",value:function(){return this.muted?this.options.icons.muted:this.options.icons.unmuted}},
{key:"attachTo",value:function(a){a.append(this.domElement)}},{key:"destroy",value:function(){a.removeEventListener("inarticle.mouseenter",this.mouseEnterListener);a.removeEventListener("inarticle.mouseleave",this.mouseLeaveListener);this.domElement.remove()}}]);return h}()}});
define("adFormats/inFeed/inFeedVolumeButton",["components/volumeButton"],function(e){var a={icons:{muted:"//video.unrulymedia.com/native/vv-soundon-2x.png",unmuted:"//video.unrulymedia.com/native/vv-soundoff-2x.png",initial:"//video.unrulymedia.com/native/vv-soundoff-2x.png"},style:{"z-index":100,position:"absolute",bottom:"16px",left:"16px",padding:0,width:"24px",height:"24px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}};return{inFeedVolumeButton:function(g){return new (1<
arguments.length&&void 0!==arguments[1]?arguments[1]:e.VolumeButton)(g,a)}}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("videoClickthroughAction",["tracking","util/browser","util/trackingEvent"],function(e,a,g){return{VideoClickthroughAction:function(){function c(a){var e=this;_classCallCheck(this,c);this.player=a;this.videoEnded=!1;a.dispatcher.one("ended",function(){return e.videoEnded=!0})}_createClass(c,[{key:"init",value:function(){}},{key:"populate",value:function(){}},{key:"trigger",value:function(a,c){this._clickThrough(c.clickThroughs[a].url)}},{key:"_clickThrough",value:function(c){this.player.paused()&&
!this.videoEnded?this.player.play():(this.player.pause(),c&&(e.trackThirdParty(g.VIDEO_CLICK),a.openWindow(c)))}}]);return c}()}});
define("adEventHandler",["util/trackingEvent","videoClickthroughAction"],function(e,a){function g(){this.clickThroughElements={}}function c(a,c,e){e.stopPropagation();this.action.trigger(c,a)}g.prototype.setupClickListeners=function(c,g,f,b){try{this.action=new a.VideoClickthroughAction(f)}catch(k){b(k.message,e.error.CLICK_ACTION_CREATION_FAILURE);return}this.clickThroughElements=g;this.action.init()};g.prototype.populate=function(a,g,f){var b,k;for(k in this.clickThroughElements)b=this.clickThroughElements[k],
b.on("click",c.bind(this,a,k)),b.css("cursor","pointer");try{this.action.populate(g)}catch(l){f(l.message,e.error.NO_MATCHING_PLACEMENT)}};g.prototype.clickEventHandler=c;return g});
var _slicedToArray=function(){return function(e,a){if(Array.isArray(e))return e;$jscomp.initSymbol();$jscomp.initSymbolIterator();if(Symbol.iterator in Object(e)){var g=[],c=!0,d=!1,h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var f=e[Symbol.iterator](),b;!(c=(b=f.next()).done)&&(g.push(b.value),!a||g.length!==a);c=!0);}catch(k){d=!0,h=k}finally{try{if(!c&&f["return"])f["return"]()}finally{if(d)throw h;}}return g}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();
define("adFormats/inFeed/inFeedAd","jquery tracking util/trackingEvent videoPlayers/inFeedVideo util/enable util/eventBus util/layout/letterbox util/browser util/publisherAdServerHelper adIconHandler videoPlayers/inFeedVideoContainer viewability/moat util/nativeAdModificationUtil unrulyError promise util/dom/styles adFormats/inFeed/inFeedVolumeButton adEventHandler".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n,p,y,u,r,t,q){function z(a){a.find("[href]").removeAttr("href");a.find("[onclick]").removeAttr("onclick")}function D(a,
b){b.elements.forEach(function(b){a.find(b.selectors.join(",")).remove()});b.classes.forEach(function(b){-1!==b.selectors.indexOf(".unruly_native_placement")&&a.removeClass(b.classNames.join(" "));a.find(b.selectors.join(",")).removeClass(b.classNames.join(" "))});b.attributes.forEach(function(b){-1!==b.selectors.indexOf(".unruly_native_placement")&&a.removeAttr(b.attributeNames.join(" "));a.find(b.selectors.join(",")).removeAttr(b.attributeNames.join(" "))});b.textNodes&&b.textNodes.forEach(function(b){a.find(b.selectors.join(",")).text("")})}
function E(a,b){b=b.toAdd;p.addClasses(a,b.classes);p.addAttributes(a,b.attributes);p.addElements(a,b.elements);p.addStyles(a,b.styles)}function A(a,b){Q=e(a.basePlacement.selector);if(0===Q.length)b("base placement not found",g.error.SKIN_SETUP_FAILED);else return B=Q.clone(),B.addClass("unruly_native_placement"),B}function v(a,b,c){var d,e,f=["disclosureMessage","title","thumbnail"],h=["description"],k=["basePlacement","clickThroughs","toRemove","toAdd"],l,v,m;v=b.items||b;for(d in v)if(e=b[d],
l=-1===f.indexOf(d),v=-1===h.indexOf(d),m="undefined"===typeof e||!e.selectors||1>e.selectors.length,-1===k.indexOf(d)){if(!l&&m){c(d+" not defined",g.error.SKIN_SETUP_FAILED);break}if(!l||!m){e=a.find(e.selectors.join(","));if(v&&0===e.length){c(d+" not found",g.error.NO_MATCHING_PLACEMENT);break}e.addClass("unruly_native_"+d);F[d]=e}}}function K(a,b,c){var d=Object.getOwnPropertyNames(b).map(function(a){return Object({name:a,config:b[a]})}),d=G(d,function(a){return-1!==["title"].indexOf(a.name)}),
e=_slicedToArray(d,2),d=e[1],e=G(e[0],N),f=_slicedToArray(e,2),e=f[0],f=f[1];if(0<f.length)c(f[0].name+" clickthrough not defined",g.error.SKIN_SETUP_FAILED);else if(d=d.filter(N).concat(e).map(function(b){return{name:b.name,elements:a.find(b.config.selectors.join(","))}}),d=G(d,function(a){return a.elements&&0<a.elements.length}),e=_slicedToArray(d,2),d=e[0],e=e[1],e.forEach(function(a){return c(a.name+" clickthrough not found",g.error.NO_MATCHING_PLACEMENT)}),!(0<e.length))return d.reduce(function(a,
b){a[b.name]=b.elements;return a},{})}function N(a){return a.config&&a.config.selectors&&0<a.config.selectors.length}function G(a,b){var c=[],d=[];a.forEach(function(a){b(a)?c.push(a):d.push(a)});return[c,d]}function C(a,b,c){h.addEventListener("player.error",function(c,d){b(d.message,g.error.INFEED_VIDEO_SETUP_FAILED,{src:d.src,apid:a.apid})});try{var d=ba(w,a);c(d)}catch(e){c={};for(var f in e.errorParams)c[f]=e.errorParams[f];c.apid=a.apid;b(e.message,g.error.INFEED_VIDEO_SETUP_FAILED,c)}}function R(b,
c,f,l){function v(){B.hide();J&&J.destroyIcons()}function G(){v();f("VPAID Creative resulted in AdError",g.error.INFEED_VIDEO_SETUP_FAILED,{apid:c.apid})}function K(){v()}b.dispatcher.one("setupcomplete",function(){k.shrinkAdServerIFrame();if(w.adInsertion&&w.adInsertion.mode&&w.adInsertion.selector)e(w.adInsertion.selector)[w.adInsertion.mode](B);else Q.after(B);h.dispatchEvent("placement.addedtodom")});b.dispatcher.one("readytoplay",function(){if(d.moatViewabilityTracking(c))try{n.init({container:m.getPlayerContainer()[0],
duration:b.getDuration(),campaignConfig:c,videoUrl:b.videoUrl})}catch(e){a.trackActivate("moat_error",e)}});b.dispatcher.one("AdError",G);b.dispatcher.one("AdStopped",v);b.dispatcher.one("adstoptimeout",v);b.dispatcher.one("adimpression",function(){b.dispatcher.removeEventListener("AdError",G);b.dispatcher.addEventListener("AdError",K);l()});b.load({adParameters:c.adParameters})}function U(a){var b,c,e;for(e in F){b=F[e];c=a.items[e];if(c.attributes){var g=void 0;for(g in c.attributes)b.attr(g,c.attributes[g])}"undefined"!==
typeof c.text&&b.text(c.text)}d.letterboxInFeedVideo&&(a=Q.find(w.thumbnail.selectors.join(",")),f.letterbox(F.thumbnail,a))}function ba(b,f){var k=void 0,v=void 0,k=m.create(B,f,b),v=c.createPlayer(k,f);v.dispatcher.one("setupcomplete",function(){var a=e(k),b=v;d.inFeedVideoIcons&&(J=new l({elementToWatch:a}),J.initIcons(),b=t.inFeedVolumeButton(b),r.append(a,b.domElement))});v.dispatcher.addEventListener("AdLog",function(b,c){c&&c.data&&(c.data=JSON.stringify(c.data));c&&c.message&&(c.message=JSON.stringify(c.message));
a.trackActivate("ad_log",c)});v.dispatcher.addEventListener("AdError",function(b,c){c=c||{};c.data&&(c.data=JSON.stringify(c.data));c.message&&(c.message=JSON.stringify(c.message));f&&f.apid&&(c.apid=f.apid);a.trackActivate(g.error.AD_ERROR,c)});h.addEventListener("unmute",function(){a.trackThirdParty(g.UNMUTE);a.trackActivate(g.UNMUTE)});h.addEventListener("mute",function(){a.trackThirdParty(g.MUTE);a.trackActivate(g.MUTE)});h.addEventListener("player.pause",function(){a.trackThirdParty(g.PAUSE);
a.trackActivate(g.PP_PAUSE)});h.addEventListener("player.resume",function(){a.trackThirdParty(g.RESUME);a.trackActivate(g.PP_RESUME)});return v}var w=void 0,Q=void 0,B=void 0,F={},J=void 0,aa=void 0,da=void 0;return{createAd:function(a){var b=function(a,b,c){throw new y(a,b,c);};aa=a;w=a.config.format.inFeed;if(B=A(w,b))z(B),D(B,w.toRemove),E(B,w),v(B,w,b)},populate:function(a){var b=this,c=void 0,d=void 0,e=new u(function(a,e){c=a.bind(null,b);d=function(a,b,c){e(new y(a,b,c))}});da=a;U(a);var f=
new q,g=K(B,w.clickThroughs,d);g&&C(a,d,function(b){f.setupClickListeners(B,g,b,a,d);f.populate(a,b.videoUrl,d);R(b,a,d,c)});return e},_fetchClickthroughElements:K,getPotentialVideoSize:function(){return d.reportSize?{width:Math.floor(F.thumbnail.width()),height:Math.floor(F.thumbnail.height())}:null},_setNativeAd:function(a){B=a},get placementConfig(){return aa},get campaignConfig(){return da},getPlayerContainer:function(){return m.getPlayerContainer()},adType:"inFeed"}});
define("adFormats/inArticle/inArticleAdSpace/createPlayer",["util/dom/jqueryReset","videoPlayers/videoPlayerFactory","util/dom/styles","adFormats/adFormatCapabilities","unrulyError"],function(e,a,g,c,d){return function(h){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:c,l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:e,m=(5<arguments.length&&void 0!==arguments[5]?
arguments[5]:g).setImportantStyle;if(!h)throw new d("No campaignConfig provided");l=l.createAndReset('<div class="unruly_in_article_video_content_container">');f=new k.InArticleCapabilities(h,f.width,f.height);m(l,{"background-color":"transparent"});return b.createPlayer(l,h,f)}});
define("util/layout/proportional",[],function(){return{initContainer:function(e,a){e.setImportantStyle({position:"relative","padding-bottom":1/a*100+"%",height:0})},initElement:function(e){e.setImportantStyle({width:"100%",height:"100%",position:"absolute",top:0,left:0})}}});
define("adFormats/inArticle/inArticleAdSpace/createContainer","util/jqueryElementFactory util/dom/styles util/eventBus util/elementStyleReset util/layout/proportional util/enable unrulyError".split(" "),function(e,a,g,c,d,h,f){return function(b,k){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,m=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,n=e.create('<div class="unruly_in_article_placement">'),p=e.create('<div class="unruly_in_article_video_container">');c.resetStyles(n);
c.resetStyles(p);d.initContainer(p,k);d.initElement(b);a.setImportantStyle(p,{"background-color":"transparent","margin-top":"1px"});n.mouseenter(function(){return g.dispatchEvent("inarticle.mouseenter")});n.mouseleave(function(){return g.dispatchEvent("inarticle.mouseleave")});var y={transition:"max-height 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95) 0.2s",overflow:"hidden",position:"relative","max-height":"1px"};h.loadFlashFaster&&(y["max-height"]="25px",y.opacity=0);if(l){if(!(m&&m[0]&&m[0].getBoundingClientRect))throw new f("basePlacement required in fullscreen mode");
l=Object.create(y);m=-m[0].getBoundingClientRect().left;l.width="100vw";l.height="100vh";l["z-index"]=1E3;l.left=m+"px";a.setImportantStyle(n,l)}else a.setImportantStyle(n,y);p.append(b);n.append(p);return{domElement:n,aspectRatioContainer:p,destroy:function(){a.remove(n)}}}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/clickThroughIcon",["util/dom/nativeStyles"],function(e){return{ClickThroughIcon:function(){function a(g,c){var d=this;_classCallCheck(this,a);this.domElement=document.createElement("img");e.reset(this.domElement);this.domElement.className="unruly_program_icon";this.clickThroughCallback=c;e.setImportant(this.domElement,{width:g.width+"px",height:g.height+"px",position:"absolute",background:"transparent"});switch(g.xPosition){case "left":e.setImportant(this.domElement,{left:"0px"});
break;case "right":e.setImportant(this.domElement,{right:"0px"});break;default:e.setImportant(this.domElement,{left:g.xPosition+"px"})}switch(g.yPosition){case "top":e.setImportant(this.domElement,{top:"0px"});break;case "bottom":e.setImportant(this.domElement,{bottom:"0px"});break;default:e.setImportant(this.domElement,{top:g.yPosition+"px"})}this.domElement.src=g.resource.url;this.domElement.addEventListener("click",function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();
d.clickThroughCallback();return!1})}_createClass(a,[{key:"src",get:function(){return this.domElement.src}}]);return a}()}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/inArticle/inArticleAdSpace","promise util/eventBus util/dom/styles util/publisherAdServerHelper videoPlayers/videoPlayerDirector adFormats/inArticle/inArticleAdSpace/createContainer unrulyError adFormats/clickThroughIcon util/browser tracking util/trackingEvent".split(" "),function(e,a,g,c,d,h,f,b,k,l,m){function n(){return new f("Method not implemented")}return{InArticleAdSpace:function(){function f(a,b){_classCallCheck(this,f);this.videoContainer=b.container;this.player=b;this.options=
a||{}}_createClass(f,[{key:"populate",value:function(b){var e=this,f=this.player;d.direct(f,b);f.dispatcher.one("setupcomplete",function(){c.shrinkAdServerIFrame();a.dispatchEvent("placement.addedtodom")});var g=!1;["AdError","error"].forEach(function(a){f.dispatcher.addEventListener(a,function(){g||(g=!0,e.onError(a))})});["ended","AdStopped","adstoptimeout"].forEach(function(a){f.dispatcher.addEventListener(a,function(){g||(g=!0,e.onAdFinishedPlaying(a))})});this.render();this.renderLayers();this.renderIcons(b);
f.load({adParameters:b.adParameters})}},{key:"render",value:function(){var a=this.getAspectRatio();this.inArticleContainer=h(this.videoContainer,a)}},{key:"renderIcons",value:function(a){var c=this;if("true"===a.useVASTIcon){var d=a.icons["unruly-opt-out"];d&&(a=new b.ClickThroughIcon(d,function(){c.player.pause();l.trackThirdParty(m.UNRULY_OPT_OUT_CLICK);k.openWindow(d.clickThrough)}),g.append(this.videoContainer[0],a.domElement))}}},{key:"renderLayers",value:function(){throw n();}},{key:"getAspectRatio",
value:function(){throw n();}},{key:"onAdFinishedPlaying",value:function(){throw n();}},{key:"onError",value:function(){throw n();}},{key:"expand",value:function(){return e.reject(n())}},{key:"mute",value:function(){this.player.mute()}},{key:"unmute",value:function(){this.player.unmute()}},{key:"getAdTypeName",value:function(){return"inArticle"}}]);return f}()}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/inArticle/inArticleTopBar",["util/dom/jqueryReset"],function(e){return{TopBar:function(){function a(g,c,d){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e;_classCallCheck(this,a);this.canClose=!1;this.closeButton=c;this.disclosure=d;h=h.createAndReset('<div class="unruly_ia_furniture"></div>');h.append(this.closeButton);h.setImportantStyle(g);h.append(this.disclosure);this.domElement=h}_createClass(a,[{key:"onCloseClick",value:function(a){var c=this;this.closeButton.click(function(){c.canClose&&
a()})}},{key:"allowToClose",value:function(){this.canClose=!0;this.closeButton.setImportantStyle({cursor:"pointer"})}}]);return a}()}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();
function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/inArticle/inArticleBottomBar",["util/dom/jqueryReset"],function(e){return{BottomBar:function(){function a(g,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e;_classCallCheck(this,a);this.player=g;var h=d.createAndReset('<div class="unruly_ia_bottombar"></div>'),d=d.createAndReset('<div class="unruly_ia_progressbar"></div>');d.setImportantStyle({height:"2px",width:0,"background-color":"#0bbbef",transition:"all 0.1s linear",position:"relative"});h.append(d);this.progressBar=
d;this.domElement=h;h.setImportantStyle({height:"20px"});c&&(this.volumeButton=c,this.volumeButton.attachTo(h))}_createClass(a,[{key:"populate",value:function(){var a=this;this.player.dispatcher.addEventListener("timeupdate",function(c,d){void 0!==d&&(c=d.percentComplete,100>=c&&a.progressBar.setImportantStyle({width:c+"%"}))})}}]);return a}()}});
define("adFormats/inArticle/inArticleVolumeButton",["components/volumeButton"],function(e){var a={icons:{muted:"//video.unrulymedia.com/native/in-art-soundon-icon-128x128.png",unmuted:"//video.unrulymedia.com/native/in-art-soundoff-icon-128x128.png",initial:"//video.unrulymedia.com/native/in-art-soundanimation-icon-41x48.gif"},style:{height:"18px",width:"18px","float":"right",cursor:"pointer",opacity:.25,transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)","margin-top":"1px",
outline:"1px solid transparent","min-width":"0"},shouldFadeInOnUserInteraction:!0};return{inArticleVolumeButton:function(g){return new e.VolumeButton(g,a)}}});
define("adFormats/inArticle/inArticleCloseButton",["util/dom/jqueryReset","util/eventBus"],function(e,a){return{createCloseButton:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:e).createAndReset('<img class="unruly_ia_closebutton">');d.attr("src",a);d.setImportantStyle(c);return d},attachMouseEvents:function(e){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;c.addEventListener("inarticle.mouseenter",
function(){return e.setImportantStyle({opacity:"unset"})});c.addEventListener("inarticle.mouseleave",function(){return e.setImportantStyle({opacity:.25})});return e}}});
define("adFormats/inArticle/inArticleDisclosure",["util/dom/jqueryReset"],function(e){var a={"font-family":"sans-serif","font-size":"10px","line-height":"21px","text-align":"center",opacity:.5,margin:"0 18px","padding-top":"2px"};return{createDisclosureButton:function(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"&ndash;&ndash; ADVERTISEMENT &ndash;&ndash;",d=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:e).createAndReset('<div class="unruly_ia_disclosure">');
d.html(c);d.setImportantStyle(a);d.setImportantStyle(g);return d}}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}
define("adFormats/inArticle/inArticleAdSpace/horizontalInArticleAdSpace","promise util/dom/styles adFormats/inArticle/inArticleAdSpace adFormats/inArticle/inArticleTopBar adFormats/inArticle/inArticleBottomBar viewability/viewability adFormats/inArticle/inArticleVolumeButton adFormats/inArticle/inArticleCloseButton adFormats/inArticle/inArticleDisclosure".split(" "),function(e,a,g,c,d,h,f,b,k){return{HorizontalInArticleAdSpace:function(g){function m(){_classCallCheck(this,m);return _possibleConstructorReturn(this,
(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}_inherits(m,g);_createClass(m,[{key:"getAspectRatio",value:function(){return 16/9}},{key:"_cleanup",value:function(){this.bottomBar.volumeButton&&this.bottomBar.volumeButton.destroy()}},{key:"_collapse",value:function(){a.setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});if(this.options.onCollapse)this.options.onCollapse();setTimeout(this.inArticleContainer.destroy,5E3)}},{key:"_collapseAndCleanupWhenInview",
value:function(){var a=this;this._cleanup();var b=new h.Viewability({elementToWatch:this.player.container,viewablePercentage:.5});b.dispatcher.addEventListener("inview",function u(){a._collapse();b.dispatcher.removeEventListener("inview",u);b.destroy()})}},{key:"onAdFinishedPlaying",value:function(){this._collapseAndCleanupWhenInview()}},{key:"onError",value:function(){this._collapseAndCleanupWhenInview()}},{key:"expand",value:function(){var a=this,b=this.inArticleContainer,c=Math.floor(b.domElement.width()/
this.getAspectRatio()+50);b.domElement.setImportantStyle({"max-height":c+"px","margin-top":"16px",opacity:1});this.bottomBar.populate();setTimeout(function(){return a.topBar.allowToClose()},3E3);return e.resolve(!0)}},{key:"_createCloseButton",value:function(){var a=b.createCloseButton("//video.unrulymedia.com/native/in-art-countdown-icon-128x128x3s.gif?d="+(new Date).getTime()+1E6*Math.random(),{height:"18px",width:"18px","float":"right",opacity:.25,transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)",
margin:"2px 2px 1px 0",outline:"1px solid transparent","min-width":"0"});b.attachMouseEvents(a);return a}},{key:"_createDisclosureButton",value:function(){return k.createDisclosureButton()}},{key:"renderLayers",value:function(){var b=this;this.topBar=new c.TopBar({height:"22px"},this._createCloseButton(),this._createDisclosureButton());a.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.bottomBar=new d.BottomBar(this.player,f.inArticleVolumeButton(this.player));a.append(this.inArticleContainer.domElement,
this.bottomBar.domElement);this.topBar.onCloseClick(function(){b.player.skip()})}},{key:"getAdTypeName",value:function(){return"horizontal"}}]);return m}(g.InArticleAdSpace)}});
define("adFormats/inArticle/verticalVideoVolumeButton",["components/volumeButton"],function(e){var a={icons:{muted:"//video.unrulymedia.com/native/vv-soundon-2x.png",unmuted:"//video.unrulymedia.com/native/vv-soundoff-2x.png",initial:"//video.unrulymedia.com/native/vv-soundoff-2x.png"},style:{"z-index":100,position:"absolute",bottom:"16px",left:"16px",padding:0,width:"48px",height:"48px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}};return{verticalVideoVolumeButton:function(g){return new e.VolumeButton(g,
a)}}});_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}
define("adFormats/inArticle/inArticleAdSpace/fullscreenInArticleAdSpace","promise util/dom/styles adFormats/inArticle/inArticleAdSpace adFormats/inArticle/inArticleDisclosure adFormats/inArticle/verticalVideoVolumeButton adFormats/inArticle/inArticleAdSpace/createContainer util/publisherWindow".split(" "),function(e,a,g,c,d,h,f){return{FullscreenInArticleAdSpace:function(b){function g(){_classCallCheck(this,g);return _possibleConstructorReturn(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,
arguments))}_inherits(g,b);_createClass(g,[{key:"getAspectRatio",value:function(){return f.screen.availWidth/f.screen.availHeight}},{key:"onAdFinishedPlaying",value:function(){var a=this.volumeButton;a&&a.destroy&&a.destroy()}},{key:"onError",value:function(){var a=this.volumeButton;a&&a.destroy&&a.destroy()}},{key:"expand",value:function(){var b=this.inArticleContainer;a.setImportantStyle(b.domElement,{"max-height":"100vh","margin-top":"16px",opacity:1});a.setImportantStyle(b.aspectRatioContainer,
{"margin-top":"0"});return e.resolve(!0)}},{key:"render",value:function(){this.inArticleContainer=h(this.videoContainer,this.getAspectRatio(),!0,this.options.basePlacement);a.setImportantStyle(this.videoContainer,{width:"100vw",height:"100vh"})}},{key:"_createDisclosureButton",value:function(){return c.createDisclosureButton({position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},
"ADVERTISEMENT")}},{key:"renderLayers",value:function(){var b=this._createDisclosureButton();a.append(this.videoContainer,b);this.volumeButton=d.verticalVideoVolumeButton(this.player);a.append(this.inArticleContainer.domElement,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"fullscreenVerticalVideo"}}]);return g}(g.InArticleAdSpace)}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}
define("adFormats/inArticle/inArticleAdSpace/verticalInArticleAdSpace","promise util/dom/styles adFormats/inArticle/inArticleAdSpace adFormats/inArticle/inArticleDisclosure adFormats/inArticle/verticalVideoVolumeButton adFormats/inArticle/inArticleAdSpace/createContainer".split(" "),function(e,a,g,c,d,h){return{VerticalInArticleAdSpace:function(f){function b(){_classCallCheck(this,b);return _possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}_inherits(b,
f);_createClass(b,[{key:"getAspectRatio",value:function(){return.5625}},{key:"onAdFinishedPlaying",value:function(){var a=this.volumeButton;a&&a.destroy&&a.destroy()}},{key:"onError",value:function(){var a=this.volumeButton;a&&a.destroy&&a.destroy()}},{key:"expand",value:function(){var a=Math.floor(this.inArticleContainer.domElement.width()/this.getAspectRatio());this.inArticleContainer.domElement.setImportantStyle({"max-height":a+"px","margin-top":"16px",opacity:1});return e.resolve(!0)}},{key:"render",
value:function(){this.inArticleContainer=h(this.videoContainer,this.getAspectRatio(),!1,null)}},{key:"_createDisclosureButton",value:function(){return c.createDisclosureButton({position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},"ADVERTISEMENT")}},{key:"renderLayers",value:function(){var b=this._createDisclosureButton();a.append(this.videoContainer,
b);this.volumeButton=d.verticalVideoVolumeButton(this.player);a.append(this.videoContainer,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"verticalVideo"}}]);return b}(g.InArticleAdSpace)}});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
define("util/dom/videoSize",[],function(){function e(a){return"number"===typeof a&&0<a}return{getForAd:function(a){return(a=a.getPotentialVideoSize())&&"object"===("undefined"===typeof a?"undefined":_typeof(a))&&e(a.width)&&e(a.height)?a:null},getPercentageOfScreen:function(a,e){a=a.width*a.height;return isNaN(a)?0:e/100*a},getWidthForArea:function(a){return Math.floor(Math.sqrt(a*(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1.6)))}}});
define("adFormats/inArticle/pinnedInArticleVolumeButton",["components/volumeButton"],function(e){var a={icons:{muted:"//video.unrulymedia.com/native/un-in-art-soundon-icon-128x128.png",unmuted:"//video.unrulymedia.com/native/un-in-art-soundoff-icon-128x128.png",initial:"//video.unrulymedia.com/native/un-in-art-soundoff-icon-128x128.png"},style:{"z-index":100,position:"absolute",bottom:"1px",right:"1px",padding:0,width:"18px",height:"18px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}};
return{pinnedInArticleVolumeButton:function(g){return new e.VolumeButton(g,a)}}});
var _createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}(),_get=function get(a,g,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,g);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:get(a,g,c);if("value"in d)return d.value;g=d.get;return void 0===g?void 0:g.call(c)};
function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}
function _inherits(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}
define("adFormats/inArticle/inArticleAdSpace/pinnedInArticleAdSpace","promise util/browser util/dom/styles adFormats/inArticle/inArticleAdSpace adFormats/inArticle/inArticleTopBar adFormats/inArticle/inArticleBottomBar viewability/viewability util/trackingEvent tracking unrulyError util/publisherWindow util/dom/videoSize adFormats/inArticle/pinnedInArticleVolumeButton adFormats/inArticle/inArticleCloseButton adFormats/inArticle/inArticleDisclosure".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n,p,y,
u){return{PinnedInArticleAdSpace:function(c){function t(c,d){_classCallCheck(this,t);c=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c,d));if(a.isMobile()&&a.isLandscape())throw new l("Pinned In-Article not supported on landscape mobile orientation",b.error.UNSUPPORTED_BROWSER);return c}_inherits(t,c);_createClass(t,[{key:"getAspectRatio",value:function(){return 16/9}},{key:"_getScreenResolution",value:function(){return m.screen}},{key:"_getMinAdSpaceWidth",value:function(){return 250}},
{key:"_getMaxAdSpaceWidth",value:function(){return[450,n.getWidthForArea(n.getPercentageOfScreen(this._getScreenResolution(),30))].filter(function(a){return 0<a}).reduce(function(a,b){return Math.min(a,b)},Number.MAX_VALUE)}},{key:"_getAdSpaceWidth",value:function(){var a=this._getMinAdSpaceWidth(),b=this._getMaxAdSpaceWidth(),c=n.getWidthForArea(n.getPercentageOfScreen(this._getScreenResolution(),20));if(c){if(c<=b&&c>=a)return c+"px";if(c>b)return b+"px"}return b<a?b+"px":a+"px"}},{key:"_cleanup",
value:function(){this.bottomBar.volumeButton&&this.bottomBar.volumeButton.destroy()}},{key:"_collapse",value:function(){g.setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});if(this.options.onCollapse)this.options.onCollapse();setTimeout(this.inArticleContainer.destroy,5E3)}},{key:"_collapseAndCleanupWhenInview",value:function(){var a=this;this._cleanup();var b=new f.Viewability({elementToWatch:this.player.container,viewablePercentage:.5});b.dispatcher.addEventListener("inview",
function E(){a._collapse();b.dispatcher.removeEventListener("inview",E);b.destroy()})}},{key:"onAdFinishedPlaying",value:function(){this._collapseAndCleanupWhenInview()}},{key:"onError",value:function(){this._collapseAndCleanupWhenInview()}},{key:"_getFurnitureHeight",value:function(){return a.isMobile()?74:50}},{key:"expand",value:function(){var a=this,b=this.inArticleContainer,c=Math.floor(b.domElement.width()/this.getAspectRatio()+this._getFurnitureHeight());b.domElement.setImportantStyle({"max-height":c+
"px",opacity:1});this.bottomBar.populate();setTimeout(function(){return a.topBar.allowToClose()},3E3);return e.resolve(!0)}},{key:"applyContainerStyles",value:function(){this.inArticleContainer.domElement.setImportantStyle({"background-color":"rgba(247,247,247,0.85)",position:"fixed",bottom:"0.5em",right:"0.5em",width:this._getAdSpaceWidth(),"z-index":2147483647})}},{key:"setUpMobileOrientationEvent",value:function(){var c=this;a.isMobile()&&m.addEventListener("resize",function(){c.inArticleContainer.domElement.get(0).style.display=
a.isLandscape()?"none":"block";k.trackActivate(b.ORIENTATION_CHANGE)})}},{key:"render",value:function(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);this.applyContainerStyles();this.setUpMobileOrientationEvent()}},{key:"_setStylesForMobile",value:function(){a.isMobile()&&(this.bottomBar.domElement.setImportantStyle({height:"34px"}),this.bottomBar.volumeButton.domElement.setImportantStyle({height:"30px",width:"30px","padding-right":"2px","padding-bottom":"2px"}),
this.topBar.closeButton.setImportantStyle({height:"30px",width:"30px"}),this.topBar.domElement.setImportantStyle({height:"33px"}),this.topBar.disclosure.setImportantStyle({"line-height":"30px"}))}},{key:"_createCloseButton",value:function(){return y.createCloseButton("//video.unrulymedia.com/native/in-art-countdown-icon-128x128x3s.gif?d="+(new Date).getTime()+1E6*Math.random(),{height:"18px",width:"18px","float":"right",opacity:1,transition:"none",margin:"2.3px 2px 1px 0",outline:"1px solid transparent",
"min-width":"0"})}},{key:"_createDisclosureButton",value:function(){return u.createDisclosureButton({"line-height":"22px",opacity:1,color:"#686868"})}},{key:"renderLayers",value:function(){var a=this;this.topBar=new d.TopBar({height:"22px"},this._createCloseButton(),this._createDisclosureButton());g.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.bottomBar=new h.BottomBar(this.player,p.pinnedInArticleVolumeButton(this.player));g.append(this.inArticleContainer.domElement,this.bottomBar.domElement);
this._setStylesForMobile();this.topBar.onCloseClick(function(){a.player.skip()})}},{key:"getAdTypeName",value:function(){return"pinned"}}]);return t}(c.InArticleAdSpace)}});
define("adFormats/inArticle/inArticleAdSpaceFactory","util/browser adFormats/inArticle/inArticleAdSpace/createPlayer videoPlayers/utils/mediaFilesUtil adFormats/inArticle/inArticleAdSpace/horizontalInArticleAdSpace adFormats/inArticle/inArticleAdSpace/fullscreenInArticleAdSpace adFormats/inArticle/inArticleAdSpace/verticalInArticleAdSpace adFormats/inArticle/inArticleAdSpace/pinnedInArticleAdSpace util/enable unrulyError".split(" "),function(e,a,g,c,d,h,f,b,k){return function(l){var m=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{};if(!l)throw new k("No campaignConfig provided");var n=a(l,m.basePlacementSize),p;p=1>g.getMediaFileAspectRatio(n.mediaFile);var y=e.isMobile()||b.skipIOSCheck;if(p){if(!y)throw new k("Vertical Video not supported on desktop");p=b.fullscreenInArticleSupported?d.FullscreenInArticleAdSpace:h.VerticalInArticleAdSpace}else p="true"===l.pinned?f.PinnedInArticleAdSpace:c.HorizontalInArticleAdSpace;m=new p(m,n);m.populate(l);return m}});
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("adFormats/inArticle/inArticleAd","util/eventDispatcher util/events tracking util/jqueryElementFactory util/enable util/eventBus util/trackingEvent adFormats/inArticle/inArticleAdSpaceFactory unrulyError util/browser promise util/dom/nativeStyles".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n){var p=new e({}),y=16/9,u={AdError:f.error.AD_ERROR,error:f.error.ERROR};return{InArticleAd:function(){function d(a){_classCallCheck(this,d);this.placementConfig=a;this.basePlacementSelector=a.config.format.inArticle.basePlacement.selector;
this.basePlacement=c.create(this.basePlacementSelector);if(1!==this.basePlacement.length)throw new k("Cannot find base placement: "+this.basePlacementSelector,f.error.NO_MATCHING_PLACEMENT);this.adType="inArticle"}_createClass(d,[{key:"populate",value:function(c){var d=this;this.campaignConfig=c;return new m(function(e,f){var l=!1;p.one("expanded",function(){return d.expand()});a.map(h,p,{"player.playing":"expanded"});var m=function(a){g.trackActivate("ia_collapsed",{collapseReason:a})};try{d.videoAdSpace=
b(c,{onCollapse:m,basePlacement:d.basePlacement,basePlacementSize:d.getPotentialVideoSize()})}catch(v){return l=!0,f(v)}d.videoAdSpace.inArticleContainer.domElement.get(0).setAttribute("data-unruly-ad-type",d.videoAdSpace.getAdTypeName());n.applyStylesUsingSelectors(d.videoAdSpace.inArticleContainer.domElement.get(0),d.placementConfig.config.format.inArticle.styles);d.basePlacement.append(d.videoAdSpace.inArticleContainer.domElement);d.videoAdSpace.player.dispatcher.one("adimpression",function(){l=
!0;e(d)});["AdError","error"].forEach(function(a){d.videoAdSpace.player.dispatcher.addEventListener(a,function(b,d){var e=b.message;b=b.data;var h=c.apid,m=c.cid,n=c.crid;b?b=JSON.stringify(b):d&&(b=JSON.stringify(d));e&&(e=JSON.stringify(e));d=new k("In Article Error",u[a],{apid:h,cid:m,crid:n,message:e,data:b});l?g.trackActivate(d.errorType,d.errorParams):(l=!0,f(d))})})})}},{key:"expand",value:function(){this.videoAdSpace.expand();g.trackActivate("ia_expanded")}},{key:"getPotentialVideoSize",value:function(){var a=
Math.floor(this.basePlacement.width());return{width:a,height:Math.floor(a/y)}}},{key:"getPlayerContainer",value:function(){return this.videoAdSpace.videoContainer}}]);return d}()}});define("adFormats/placementConfigHelper",[],function(){return{getAdFormatName:function(e){if(e&&e.config&&e.config.format&&(e=Object.keys(e.config.format),0<e.length))return e[0]}}});
define("adFormats/adFactory",["adFormats/inFeed/inFeedAd","adFormats/inArticle/inArticleAd","adFormats/placementConfigHelper","unrulyError"],function(e,a,g,c){return{createAd:function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=h.inFeedAd,f=void 0===f?e:f,b=h.inArticleAd,b=void 0===b?a:b,k=h.configHelper,h=h.UnrulyError,h=void 0===h?c:h,k=(void 0===k?g:k).getAdFormatName(d);switch(k){case "inArticle":return new b.InArticleAd(d);case "inFeed":return f.createAd(d),f;default:throw new h("Unrecognised ad format '"+
k+"'");}}}});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
_createClass=function(){function e(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,g,c){g&&e(a.prototype,g);c&&e(a,c);return a}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}
define("fallbackManager","unrulyAdCore/util/window util/publisherWindow tracking util/trackingEvent util/publisherAdServerHelper unrulyError".split(" "),function(e,a,g,c,d,h){return{FallbackManager:function(){function f(){_classCallCheck(this,f)}_createClass(f,[{key:"register",value:function(){e.unruly.native.placements={};e.doAddFallback=this.doAddFallback;this.hasUniversalTagCallback("onFallback")&&this.registerPlacement("*",{sourceWindow:e});e.unruly.native.registerPlacement=this.registerPlacement}},
{key:"doExecuteFallback",value:function(a){if(a)if(this.hasDFPCallback(a)){var f=e.unruly.native.placements[a]&&e.unruly.native.placements[a].sourceWindow;f&&!this.isPublisherWindow(f)&&(this.isPublisherWindow(f)||g.trackActivate(c.publisher_marker.FALLBACK,{placementId:a}).then(f.doAddFallback,f.doAddFallback))}else d.shrinkAdServerIFrame()}},{key:"executeFallbackWithPlacementId",value:function(a){this.doExecuteFallback(a)}},{key:"executeFallback",value:function(){this.doExecuteFallback("*")}},{key:"registerPlacement",
value:function(a,c){if(!a||"object"!==("undefined"===typeof c?"undefined":_typeof(c)))throw new h("You must pass placementId and placementConfig","ArgumentError");e.unruly.native.placements=e.unruly.native.placements||{};e.unruly.native.placements[a]=c}},{key:"isPublisherWindow",value:function(b){return a===b?!0:!1}},{key:"hasUniversalTagCallback",value:function(a){return e.unruly&&e.unruly.native&&"function"===typeof e.unruly.native[a]}},{key:"doAddFallback",value:function(){var a=e.unruly.native.onFallback.call(e);
"string"===typeof a&&(e.document.open(),e.document.write(a),e.document.close())}},{key:"hasDFPCallback",value:function(a){return!!e.unruly&&!!e.unruly.native&&!!e.unruly.native.placements&&"object"===_typeof(e.unruly.native.placements[a])&&"object"===_typeof(e.unruly.native.placements[a].sourceWindow)&&"function"===typeof e.unruly.native.placements[a].sourceWindow.doAddFallback}},{key:"fallback",value:function(){var a=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],d=function(a){return!!a.placementId},
e=function(a,b){a[b.placementId]=b.placementId;return a};c.every(function(a){return a instanceof Error})&&(c=c.filter(d).reduce(e,{}),Object.keys(c).forEach(function(c){a.executeFallbackWithPlacementId(c)}),this.executeFallback())}}]);return f}()}});define("vast-parser/util/window",[],function(){return window});
define("vast-parser/xml-parser",["./util/window"],function(e){function a(d){if("undefined"===typeof d)return this;if(d.hasChildNodes()){var e="",f,b,g;for(g=0;g<d.childNodes.length;g++)f=d.childNodes.item(g),f.nodeType===c.TEXT||f.nodeType===c.CDATA?e+=f.nodeValue.trim():f.nodeType!==c.ELEMENT||f.prefix||(b=f.nodeName,f=new a(f),this.hasOwnProperty(b)?(this[b].constructor!==Array&&(this[b]=[this[b]]),this[b].push(f)):this[b]=f);e&&(this.nodeValue=e.trim())}if(d.hasAttributes&&d.hasAttributes())for(b=
0;b<d.attributes.length;b++)e=d.attributes.item(b),this["@"+e.name]=e.value.trim()}var g=g||{},c={ELEMENT:g.ELEMENT_NODE||1,TEXT:g.TEXT_NODE||3,CDATA:g.CDATA_SECTION_NODE||4};return{parse:function(c){var g;c.xml&&(g=new e.DOMParser,c=g.parseFromString(c.xml,"text/xml"));return new a(c)}}});
define("vast-parser/vast-parser",["./xml-parser"],function(e){function a(a){return void 0===a||"object"===typeof a&&0===Object.keys(a).length&&a.constructor===Object||null===a||"number"===typeof a&&0!==a&&!a?[]:Array.isArray(a)?a:[a]}function g(c){c.Creatives&&(c.Creatives.Creative=a(c.Creatives.Creative));c.Extensions&&(c.Extensions.Extension=a(c.Extensions.Extension));c.Impression=a(c.Impression)}function c(c){var e=c.Creatives.Creative;c=e.filter(function(a){return a.NonLinearAds&&a.NonLinearAds.NonLinear});
e=e.filter(function(a){return a.Linear});c.forEach(function(c){c.NonLinearAds.NonLinear.NonLinearClickTracking=a(c.NonLinearAds.NonLinear.NonLinearClickTracking)});e.forEach(function(c){c.Linear.MediaFiles&&(c.Linear.MediaFiles.MediaFile=a(c.Linear.MediaFiles.MediaFile))})}return{parse:function(a){a=e.parse(a);if(!a.VAST||a.VAST.Error||!a.VAST.Ad)return a;Array.isArray(a.VAST.Ad)&&(a.VAST.Ad=a.VAST.Ad[0]);a.VAST.Ad.Wrapper?(g(a.VAST.Ad.Wrapper),a.VAST.Ad.Wrapper.Creatives&&c(a.VAST.Ad.Wrapper)):a.VAST.Ad.InLine&&
(g(a.VAST.Ad.InLine),c(a.VAST.Ad.InLine));return a}}});define("vast-parser",["vast-parser/vast-parser"],function(e){return e});
define("vast-parser/vastErrorCodes",[],function(){return{XML_PARSE_ERROR:{code:100,message:"XML parsing error."},VAST_SCHEMA_ERROR:{code:101,message:"VAST schema validation error."},GENERAL_WRAPPER_ERROR:{code:300,message:"General Wrapper error."},WRAPPER_URI_TIMEOUT:{code:301,message:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)"},NO_ADS:{code:303,message:"No Ads VAST response after one or more Wrappers."},
NO_AD_AT_URI:{code:401,message:"File not found. Unable to find Linear/MediaFile from URI."}}});
define("vast-parser/util/objectUtil",[],function(){function e(a){return"undefined"!==typeof a&&null!==a}function a(a){return[].concat.apply([],a)}function g(c,h){var f=h.split("."),b,k=[];if(c instanceof Array)return a(c.map(function(a){return g(a,h)}));c=c||k;if(1===f.length){c=c[h];if(!e(c))return k;c instanceof Array||(c=[c]);return c}b=f[0];f=f.slice(1).join(".");c=c[b];return e(c)?g(c,f):k}function c(a,c,f){a=g(a,c);return e(a[0])?a[0]:f}return{getArrayFromObjectPath:g,getIntegerFromObjectPath:function(a,
e,f){a=c(a,e,f);a=parseInt(a,10);return isNaN(a)?f:a},getFromObjectPath:c,pluckNodeValue:function(a){if(a)return a.nodeValue},isDefined:e,flatten:a}});
define("vast-parser/vastError",["./vastErrorCodes","./util/objectUtil"],function(e,a){function g(a){var c=[];a&&(c=d(a,"wrappers").map(function(a){return[].concat(d(a,"VAST.Error")).concat(d(a,"VAST.Ad.Wrapper.Error"))}),c=b(c).concat(d(a,"inline.VAST.Error")).concat(d(a,"inline.VAST.Ad.InLine.Error")).map(h).filter(f));return c}function c(a,b,c){this.name="VastError";this.code=a;if(!c)a:{for(var d in e)if(e.hasOwnProperty(d)&&(c=e[d],c.code===a)){c=c.message;break a}c="Unknown error code"}this.message=
"VAST Error: ["+a+"] - "+c;this.stack=Error().stack;this.errorURIs=g(b);this.vastResponse=b}var d=a.getArrayFromObjectPath,h=a.pluckNodeValue,f=a.isDefined,b=a.flatten;c.prototype=Error();c.prototype.constructor=c;c.prototype.getErrorURIs=function(){return this.errorURIs};return c});
define("vast-parser/util/helpers",[],function(){return{getSecondsFromTimeString:function(e){var a=0;if("string"===typeof e&&(e=e.split(":"),3===e.length))return e.forEach(function(e,c){a+=parseFloat(e,10)*Math.pow(60,2-c)}),a},decodeXML:function(e){return e.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},convertProtocol:function(e){return 0===e.indexOf("https")?e:0===e.indexOf("http")?e.substr(5):e},isNonEmptyString:function(e){return!!e&&
0<e.trim().length}}});
define("vast-parser/model/vastMediaFile",["../util/objectUtil","../util/helpers"],function(e,a){function g(c){this.url=a.convertProtocol(e.getFromObjectPath(c,"nodeValue"));this.apiFramework=e.getFromObjectPath(c,"@apiFramework");this.type=e.getFromObjectPath(c,"@type");this.width=e.getIntegerFromObjectPath(c,"@width");this.height=e.getIntegerFromObjectPath(c,"@height");this.delivery=e.getFromObjectPath(c,"@delivery");this.bitrate=e.getIntegerFromObjectPath(c,"@bitrate")}g.prototype.isMP4=function(){return"progressive"===
this.delivery&&"video/mp4"===this.type};g.prototype.isFlashVPAID=function(){return"VPAID"===this.apiFramework&&"application/x-shockwave-flash"===this.type};g.prototype.isJavascriptVPAID=function(){return"VPAID"===this.apiFramework&&"application/javascript"===this.type};return g});
define("vast-parser/model/vastIcon",["../util/objectUtil","../util/helpers"],function(e,a){return function(g){this.program=e.getFromObjectPath(g,"@program","unknown");this.width=e.getIntegerFromObjectPath(g,"@width",0);this.height=e.getIntegerFromObjectPath(g,"@height",0);this.xPosition=e.getFromObjectPath(g,"@xPosition","top");this.yPosition=e.getFromObjectPath(g,"@yPosition","right");this.clickThrough=a.convertProtocol(e.getFromObjectPath(g,"IconClicks.IconClickThrough.nodeValue",""));this.resource=
{type:e.getFromObjectPath(g,"StaticResource.@creativeType",""),url:a.convertProtocol(e.getFromObjectPath(g,"StaticResource.nodeValue",""))};this.clickTracking=e.getArrayFromObjectPath(g,"IconClicks.IconClickTracking").map(function(c){return a.convertProtocol(c.nodeValue)})}});
define("vast-parser/model/vastLinearCreative",["../util/objectUtil","../util/helpers","../model/vastMediaFile","../model/vastIcon"],function(e,a,g,c){function d(c){return a.isNonEmptyString(c.nodeValue)}function h(a){this.vastResponse=a;this.linearInline=e.getFromObjectPath(this.vastResponse,"inline.VAST.Ad.InLine.Creatives.Creative.Linear");this.linearWrappers=e.getArrayFromObjectPath(this.vastResponse,"wrappers.VAST.Ad.Wrapper.Creatives.Creative.Linear")}h.prototype.getDuration=function(){var c=
e.getFromObjectPath(this.linearInline,"Duration.nodeValue");return a.getSecondsFromTimeString(c)};h.prototype.getClickTrackers=function(c){var b=e.getArrayFromObjectPath(this.linearWrappers,"VideoClicks.ClickTracking");return e.getArrayFromObjectPath(this.linearInline,"VideoClicks.ClickTracking").concat(b).filter(d).filter(function(a){return"undefined"===typeof a["@id"]?!0:c?a["@id"]===c:!0}).map(function(b){return a.convertProtocol(b.nodeValue)})};h.prototype.getAllClickTrackersAsMap=function(){var c=
e.getArrayFromObjectPath(this.linearWrappers,"VideoClicks.ClickTracking");return e.getArrayFromObjectPath(this.linearInline,"VideoClicks.ClickTracking").concat(c).filter(d).reduce(function(b,c){var d=c["@id"]||"unknown";c=a.convertProtocol(c.nodeValue);var e=b[d]||[],e=e.concat([c]);b[d]=e;return b},{})};h.prototype.getClickThrough=function(){return e.getFromObjectPath(this.linearInline,"VideoClicks.ClickThrough.nodeValue")};h.prototype.getTrackingEvents=function(c){this.trackingEvents=this.trackingEvents||
e.getArrayFromObjectPath(this.linearInline,"TrackingEvents.Tracking").concat(e.getArrayFromObjectPath(this.linearWrappers,"TrackingEvents.Tracking"));return this.trackingEvents.filter(function(b){return b["@event"]===c&&a.isNonEmptyString(b.nodeValue)}).map(function(b){return a.convertProtocol(b.nodeValue)})};h.prototype.getAdParameters=function(){var c=e.getFromObjectPath(this.linearInline,"AdParameters.nodeValue");"true"===e.getFromObjectPath(this.linearInline,"AdParameters.@xmlEncoded")&&"string"===
typeof c&&(c=a.decodeXML(c));return c};h.prototype.getIcons=function(){return e.getArrayFromObjectPath(this.linearWrappers,"Icons.Icon").concat(e.getArrayFromObjectPath(this.linearInline,"Icons.Icon")).map(function(a){return new c(a)}).filter(function(a){return a.program&&"unknown"!==a.program}).reduce(function(a,b){a[b.program]=b;return a},{})};h.prototype.getMediaFiles=function(a){var b=e.getArrayFromObjectPath(this.linearInline,"MediaFiles.MediaFile");a=a||{};b=b.map(function(a){return new g(a)});
return b=b.filter(function(b){var c,d=!0;for(c in a)a.hasOwnProperty(c)&&(d=d&&b[c]===a[c]);return d})};h.prototype.getFlashVPAIDMediaFiles=function(){return this.getMediaFiles({apiFramework:"VPAID",type:"application/x-shockwave-flash"})};h.prototype.getJavascriptVPAIDMediaFiles=function(){return this.getMediaFiles({apiFramework:"VPAID",type:"application/javascript"})};h.prototype.getMp4MediaFiles=function(){return this.getMediaFiles({type:"video/mp4",delivery:"progressive"})};h.prototype.hasFlashVPAID=
function(){return 0<this.getFlashVPAIDMediaFiles().length};h.prototype.hasJavascriptVPAID=function(){return 0<this.getJavascriptVPAIDMediaFiles().length};h.prototype.hasMp4=function(){return 0<this.getMp4MediaFiles().length};return{VastLinearCreative:h}});
define("vast-parser/model/vastNonLinearCreative",["../util/objectUtil","../util/helpers"],function(e,a){function g(a){this.nonLinearInline=e.getFromObjectPath(a,"inline.VAST.Ad.InLine.Creatives.Creative.NonLinearAds")}g.prototype.getStaticResource=function(){var c=e.getFromObjectPath(this.nonLinearInline,"NonLinear.StaticResource.nodeValue");if(c)return a.convertProtocol(c)};return{VastNonLinearCreative:g}});
define("vast-parser/model/vastExtension",["../util/objectUtil"],function(e){function a(a){this.extension=a}a.prototype.getExtensionNodes=function(){return this.extension};a.prototype.getDetailsByPath=function(a){return e.getArrayFromObjectPath(this.extension,a)};return a});define("vast-parser/model/vastModelFactory",["./vastExtension"],function(e){return{createVastExtension:function(a){return new e(a)}}});
define("vast-parser/model/vastResponse","../util/helpers ../util/objectUtil ./vastLinearCreative ./vastNonLinearCreative ./vastExtension ./vastModelFactory".split(" "),function(e,a,g,c,d,h){function f(a){this.wrappers=[];this.inline=void 0;this._raw=[];a&&(this.wrappers=a.wrappers,this.inline=a.inline);this._vastChain=a}f.prototype.getImpressions=function(){var b=a.getArrayFromObjectPath(this.inline,"VAST.Ad.InLine.Impression.nodeValue"),c=a.getArrayFromObjectPath(this.wrappers,"VAST.Ad.Wrapper.Impression.nodeValue");
return b.concat(c).filter(e.isNonEmptyString)};f.prototype.getAdTitle=function(){return this.inline.VAST.Ad.InLine.AdTitle.nodeValue};f.prototype.getLinearCreative=function(){!this.linearCreative&&a.getFromObjectPath(this.inline,"VAST.Ad.InLine.Creatives.Creative.Linear")&&(this.linearCreative=new g.VastLinearCreative(this));return this.linearCreative};f.prototype.getNonLinearCreative=function(){!this.nonLinearCreative&&a.getFromObjectPath(this.inline,"VAST.Ad.InLine.Creatives.Creative.NonLinearAds")&&
(this.nonLinearCreative=new c.VastNonLinearCreative(this));return this.nonLinearCreative};f.prototype.getRawResponses=function(){return this._raw};f.prototype.addRawResponse=function(a){this._raw.push(a)};f.prototype.getExtensions=function(){var b=a.getArrayFromObjectPath(this.inline,"VAST.Ad.InLine.Extensions.Extension"),c=a.getArrayFromObjectPath(this.wrappers,"VAST.Ad.Wrapper.Extensions.Extension");return b.concat(c).map(function(a){return h.createVastExtension(a)})};f.prototype.getLastVASTURL=
function(){return 0===this._raw.length?void 0:this._raw[this._raw.length-1].uri};return f});
define("vast-parser/vastChainer","jquery ./vast-parser es6promise ./vastErrorCodes ./vastError ./model/vastResponse ./util/helpers".split(" "),function(e,a,g,c,d,h,f){function b(a,b){n.on(a,b)}function k(a){var b=window.document.createElement("a");b.href=a;return b.hostname}function l(b,h,u){var r=h.url,t,q,z=new g.Promise(function(a,b){t=a;q=b}),D=m,E,A;h.extraParams&&0<h.extraParams.length&&(r=-1!==h.url.indexOf("?")?r+("&"+h.extraParams):r+("?"+h.extraParams));A={url:r,headers:h.headers||{},dataType:"xml"};
if(E=u)E=h.corsCookieDomainBlacklist instanceof Array?-1===h.corsCookieDomainBlacklist.indexOf(k(r)):!0;E&&(A.xhrFields={withCredentials:!0});A.timeout=1E4;A.success=function(g,k,N){k=e.Event("requestEnd",{requestNumber:D,uri:r,vastResponse:b});b.addRawResponse({requestNumber:D,uri:r,response:N.responseText,headers:N.getAllResponseHeaders().trim()});g?(g=a.parse(g),g.VAST.Error?(n.trigger(k),q(new d(c.NO_ADS.code,b,"VAST request returned no ads and contains error tag"))):g.VAST.Ad?g.VAST&&g.VAST.Ad&&
g.VAST.Ad.InLine?(b.inline=g,n.trigger(k),t(b)):(b.wrappers.push(g),n.trigger(k),g=g.VAST&&g.VAST.Ad&&g.VAST.Ad.Wrapper&&g.VAST.Ad.Wrapper.VASTAdTagURI.nodeValue,g={url:f.convertProtocol(g),extraParams:h.extraParams,corsCookieDomainBlacklist:h.corsCookieDomainBlacklist},m++,l(b,g,!0).then(t)["catch"](q)):(n.trigger(k),q(new d(c.NO_ADS.code,b,"VAST request returned no ads")))):(n.trigger(k),q(new d(c.XML_PARSE_ERROR.code,b)))};A.error=function(a,f,g){var k,m;0===a.status&&"timeout"!==f&&u?(console.log("Retrying request without cookies:",
r),l(b,h,!1).then(t)["catch"](q)):(200!==a.status||a.responseXML?(k=c.WRAPPER_URI_TIMEOUT.code,m=a.statusText):(k=c.XML_PARSE_ERROR.code,m=c.XML_PARSE_ERROR.message),m=e.Event("requestEnd",{requestNumber:D,uri:r,vastResponse:b,error:{status:a.status,statusText:m}}),b.addRawResponse({requestNumber:D,uri:r,response:a.responseText,headers:a.getAllResponseHeaders().trim()}),n.trigger(m),q(new d(k,b,"VAST Request Failed ("+f+" "+a.status+") with message ["+g+"] for "+r)))};E=e.Event("requestStart",{requestNumber:D,
uri:r,vastResponse:b});n.trigger(E);e.ajax(A);return z}var m=0,n=e({});return{getVastChain:function(a){var b=new h;return l(b,a,!0)},addEventListener:b,on:b}});define("vast-parser/vastAdManager",["./vastChainer"],function(e){return{requestVastChain:e.getVastChain,addEventListener:e.addEventListener}});
define("vast/vastHelper",["vast-parser/util/helpers"],function(e){return{extractApidSkidFromVastResponse:function(a){var e={},c="apid skid aid crid cid vid playThrough bidder_name demand_partner demand_source txid deal_id rtb_all_adomains rtb_adid rtb_crid rtb_seatid".split(" ");if(!a)return{};a.getExtensions().forEach(function(a){a.getDetailsByPath("Property").forEach(function(a){-1!==c.indexOf(a["@id"])&&(e[a["@id"]]=a.nodeValue)})});return e},extractCustomTrackingFromVastResponse:function(a){var g=
[];a.getExtensions().forEach(function(a){if(a=a.getDetailsByPath("CustomTrackingEvents.CustomTracking"))a.forEach(function(a){a.nodeValue=e.convertProtocol(a.nodeValue)}),g=g.concat(a)});return g.filter(function(a){return e.isNonEmptyString(a.nodeValue)})}}});
define("vast/vastTransformer",["util/trackingEvent","util/enable","util/url","vast/vastHelper","unrulyError"],function(e,a,g,c,d){function h(a){var b=a.bitrate,c=a.width,d=a.height,e=a.apiFramework;return{type:a.type,delivery:a.delivery,url:g.ensureProtocolPrefix(a.url),bitrate:b,width:c,height:d,apiFramework:e}}function f(a){return void 0===a||null===a||"number"===typeof a&&0!==a&&!a?[]:Array.isArray(a)?a:[a]}function b(a,b){b.wrappers.forEach(function(b){b=b.VAST.Ad.Wrapper;b.Extensions&&b.Extensions.Extension&&
f(b.Extensions.Extension).filter(function(a){return!!a.VASTOverrides}).forEach(function(b){b.VASTOverrides.Ignore&&f(b.VASTOverrides.Ignore).forEach(function(b){"AdTitle"===b["@elementName"]?a.items.title.text="See today's promoted video":"Description"===b["@elementName"]&&(a.items.description.text="Click or tap to view the video in full")})})})}function k(a,b){var d=b.inline.VAST.Ad.InLine,g;for(g in e)a.tracking[e[g]]=[];a.tracking[e.IMP]=b.getImpressions();if(b.linearCreative){"creativeView start firstQuartile midpoint thirdQuartile complete mute unmute pause rewind resume fullscreen exitFullscreen expand collapse acceptInvitationLinear closeLinear skip progress".split(" ").forEach(function(c){a.tracking[c]=
(a.tracking[c]||[]).concat(b.linearCreative.getTrackingEvents(c))});var h=b.linearCreative.getAllClickTrackersAsMap(),k=Object.keys,r=function(a,b){return a.concat(h[b])},t=function(a){return function(b){return b!==a}};g=function(a){return k(h).filter(t(a)).reduce(r,[])};a.tracking[e.VIDEO_CLICK]=g(e.POST_VIDEO_CLICK);a.tracking[e.POST_VIDEO_CLICK]=g(e.VIDEO_CLICK);g=b.linearCreative.getIcons()["unruly-opt-out"];a.tracking[e.UNRULY_OPT_OUT_CLICK]=g?g.clickTracking:[]}c.extractCustomTrackingFromVastResponse(b).forEach(function(b){var c=
b["@event"],d=a.tracking,e=a.tracking[c];!0!==e instanceof Array&&(e=[]);b=e.concat(b.nodeValue);d[c]=b});b.wrappers.forEach(function(b){b=b.VAST.Ad.Wrapper;(b.Creatives&&b.Creatives.Creative||[]).filter(function(a){return a.NonLinearAds&&a.NonLinearAds.NonLinear}).forEach(function(b){f(b.NonLinearAds.NonLinear.NonLinearClickTracking).forEach(function(b){a.tracking[e.CLICK]=a.tracking[e.CLICK].concat(b.nodeValue)})});b.Extensions&&b.Extensions.Extension&&f(b.Extensions.Extension).filter(function(a){return a.Property}).forEach(function(b){f(b.Property).forEach(function(b){a[b["@id"]]=
b.nodeValue})})});d.Extensions&&d.Extensions.Extension&&f(d.Extensions.Extension).forEach(function(b){b.SharingUrl&&(a.sharing.sharingUrl=b.SharingUrl.nodeValue);b.DisclosureMessage&&(a.items.disclosureMessage.text=b.DisclosureMessage.nodeValue)})}return{transform:function(a){var c=a.inline.VAST.Ad.InLine,f=c.AdTitle&&c.AdTitle.nodeValue||"",c={skid:null,apid:null,adParameters:void 0,items:{title:{text:f},description:{text:c.Description&&c.Description.nodeValue||""},disclosureMessage:{text:"Advertisement"},
thumbnail:{attributes:{alt:f,title:f}}},clickThroughs:{title:{},thumbnail:{},disclosureMessage:{},expandedVideo:{},video:{}},tracking:{},sharing:{}};if(f=a.getNonLinearCreative())f=f.getStaticResource(),c.items.thumbnail.attributes.src=f||"";if(f=a.getLinearCreative()){c.mediaFiles=f.getMediaFiles().map(h);var g=f.getClickThrough();c.clickThroughs.expandedVideo.url=g;c.clickThroughs.thumbnail.url=g;c.clickThroughs.title.url=g;c.clickThroughs.disclosureMessage.url=g;c.clickThroughs.video.url=g;c.adParameters=
f.getAdParameters();c.icons=f.getIcons()}else throw new d("There was no linear creative in the VAST",e.error.NO_LINEAR_CREATIVE);k(c,a);b(c,a);return c},_overrideVASTElements:b}});
define("audienceTargetingTransformer",["promise","util/trackingEvent","unrulyError"],function(e,a,g){return{transform:function(c){return new e(function(d,e){if("undefined"===typeof c)return e(new g("Audience Targeting Transformer Data object is undefined",a.error.AUDIENCE_TARGETING_REQUEST_FAILED));if(!c.segments)return e(new g('Audience Targeting Transformer Data missing "segments" object',a.error.AUDIENCE_TARGETING_REQUEST_FAILED));c.quantcast={segments:c.segments};delete c.segments;return d(c)})}}});
function _defineProperty(e,a,g){a in e?Object.defineProperty(e,a,{value:g,enumerable:!0,configurable:!0,writable:!0}):e[a]=g;return e}
define("vast/vastErrorMapper",["vast-parser/vastErrorCodes","util/trackingEvent","vast/vastHelper","unrulyError"],function(e,a,g,c){var d,h=(d={},_defineProperty(d,e.NO_ADS.code,a.error.NO_ADS),_defineProperty(d,e.GENERAL_WRAPPER_ERROR.code,a.error.NO_ADS),_defineProperty(d,e.VAST_SCHEMA_ERROR.code,a.error.AD_REQUEST_FAILED),_defineProperty(d,e.XML_PARSE_ERROR.code,a.error.AD_REQUEST_FAILED),_defineProperty(d,e.WRAPPER_URI_TIMEOUT.code,a.error.AD_REQUEST_FAILED),d);return{getUnrulyError:function(d){var b=
h[d.code]||a.error.ERROR,e;d.vastResponse?(e=g.extractApidSkidFromVastResponse(d.vastResponse),d.vastResponse.getLastVASTURL()&&(e.vastURL=d.vastResponse.getLastVASTURL()),e=0<Object.keys(e).length?e:void 0):e=void 0;return new c(d.message,b,e)}}});
define("util/getUnrulyOverride",["util/publisherWindow","util/url"],function(e,a){return function(g){var c;(c=a.getQueryParameterValue("unruly_override"))||(c=null,e.unruly&&e.unruly.native&&e.unruly.native.placements&&e.unruly.native.placements[g]&&(c=e.unruly.native.placements[g].tagId));return c||null}});
define("util/retrofit",[],function(){function e(a){a=a.cid;var c="notPauseWhenOutOfView 6481 9095 8811 7302 7805 6932 6918 8953 9112 9159 7482 4189 6771 9509 9525".split(" ");return a&&-1===c.indexOf(a)}var a=function(a,c){return function(b){b[a]||(c(b)?b[a]="true":b[a]="false")}},g=function(a){return"95737"===a.apid},c=function(a){return"30276"===a.crid},d=function(a){return function(){return!a.apply(void 0,arguments)}};return function(h){var f=a("isUnruly",e),b=a("useWrapperCPCV",d(e)),k=a("playThrough",
d(e)),l=a("useVASTIcon",g),m=a("pinned",c);[k,b,f,l,m].forEach(function(a){a(h)});return h}});
define("viewability/moatDisplayGenerator",[],function(){function e(a){return a.map(function(a){return encodeURIComponent(a)})}return{createTag:function(){for(var a=arguments.length,g=Array(a),c=0;c<a;c++)g[c]=arguments[c];a=e(g);return"<img onerror=\"(function(e){{e.onload.call(e);return false;}})(this)\" onload=\"(function(e){{if(e&&e.nodeName=='IMG') e.setAttribute('onload',''); else return; var a=document.createElement('a');a.href='';var p=((window&&window.location&&window.location.protocol)||((a=a.href.match(/^https:/))&&a&&a[0]))=='https:'?'https://z.':'http://js.',s=document.createElement('script');s.type='text/javascript';(e&&e.parentNode&&e.parentNode.insertBefore(s,e));s.src=p+'moatads.com/unrulymediadisplay793257399687/moatad.js#moatClientLevel1="+a[0]+
"&moatClientLevel2="+a[1]+"&moatClientLevel3="+a[2]+'\'; return false;}})(this)" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="0" height="0" style="display:none;">'},createE12TrackingUrl:function(){for(var a=Math.floor,g=Math.random,c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];c=e(d);a=a(1E8*g());return"https://pixel.moatads.com/pixel.gif?e=12&ac=1&bq=0&dz=1&f=0&gh=1&i=UNRULYMEDIADISPLAY1A&t="+a+"&de="+a+"&d="+c[0]+"%3A"+c[1]+"%3A"+c[2]+
"%3A"+c[3]+"&bo=-&bd=-&cs=0"}}});function _toConsumableArray(e){if(Array.isArray(e)){for(var a=0,g=Array(e.length);a<e.length;a++)g[a]=e[a];return g}return Array.from(e)}
define("viewability/displayViewabilityHandler","util/enable util/dom/styles viewability/moatDisplayGenerator session/sessionInfo adFormats/placementConfigHelper util/pixelService".split(" "),function(e,a,g,c,d,h){function f(a){var e=d.getAdFormatName(a);a=a.config.name;return[c.getSiteId(),e,a]}return{addMoatTracking:function(b){if("true"===b.campaignConfig.isUnruly&&e.measureDisplayImpressions){a.addClass(b.getPlayerContainer(),"moat_display_tracking");var c=f(b.placementConfig),c=g.createTag.apply(g,
_toConsumableArray(c));a.before(b.getPlayerContainer(),c)}},trackMoatAdCall:function(a){e.measureDisplayImpressions&&(a=f(a),a=g.createE12TrackingUrl.apply(g,_toConsumableArray(a)),h.fire(a))}}});define("logging/crossDomainTransporter",["jquery"],function(e){return{postJSON:function(a,g){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:e).ajax({url:a,data:g,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/json; charset=UTF-8",mimeType:"application/json"})}}});
define("logging/logSerialiser",[],function(){return{serialise:function(e){return JSON.stringify(e)}}});
define("logging/loggingService","util/eventBus logging/crossDomainTransporter logging/logSerialiser util/enable session/sessionInfo util/stopwatch".split(" "),function(e,a,g,c,d,h){function f(a){for(var b in a)a.hasOwnProperty(b)&&(k[b]=void 0!==a[b]?a[b]:"undefined")}function b(a,b){b&&k.messages.push(b)}var k={messages:[]},l;return{init:function(){var a={gitHash:d.getGitHash(),sessionId:d.getSessionId(),siteId:d.getSiteId(),referrer:d.getRefUrl(),pageUrl:d.getPageUrl()};f(a);e.addEventListener("logMessages",
b)},getLogData:function(){return k},sendLog:function(b){if(l=c.loggingServiceDoSample?.5<=Math.random():!0)f({timings:h.getStopwatches()}),a.postJSON(b,g.serialise(k))},logContext:function(a){f(a)}}});
define("logging/loggingController",["logging/loggingService"],function(e){return{log:function(a,g){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e;c.logContext(g);a?c.sendLog("//targaryen.unrulymedia.com/error"):c.sendLog("//targaryen.unrulymedia.com/success")},init:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:e).init()}}});
define("util/adRequestHelper",["videoPlayers/utils/videoPlayerCompatibility"],function(e){return{getSupportedMIMETypes:function(a,g){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,d=[];c.supportsFlashVPAID(a,g)&&d.push("application/x-shockwave-flash");c.supportsZentrickPlayer()&&(d.push("application/javascript"),d.push("video/mp4"));return d}}});
define("campaignConfigController","jquery util/enable vast-parser/vastAdManager vast/vastTransformer session/sessionInfo util/trackingEvent audienceTargeting audienceTargetingTransformer tracking promise util/url vast/vastErrorMapper util/stopwatch util/eventBus vast/vastHelper util/dom/videoSize util/getUnrulyOverride util/retrofit viewability/displayViewabilityHandler logging/loggingController util/adRequestHelper".split(" "),function(e,a,g,c,d,h,f,b,k,l,m,n,p,y,u,r,t,q,z,D,E){function A(a){var b=
d.getSiteInfo();b.user=b.user||{};b.user.profile=a;return b}function v(a,b){var c={};c.raw=b&&b.getRawResponses?b.getRawResponses():"raw response not recorded";D.init();D.log(a,c)}function K(a,b,c){var d;d="inArticle"===b.adType?"//targeting.unrulymedia.com/in_article?uuid=":"//targeting.unrulymedia.com/pp?uuid=";a=a.config.targetingUUID;c=encodeURIComponent(JSON.stringify(c));var e=(b=r.getForAd(b))?"&video_width="+b.width+"&video_height="+b.height:"",f="";E.getSupportedMIMETypes(b?b.width:0,b?b.height:
0).forEach(function(a){f+="supported_mime_type="+a+"&"});return""+d+a+"&"+f+"tj="+c+e}(function(){g.addEventListener("requestStart",function(a){p.start("vast_"+a.requestNumber)});g.addEventListener("requestEnd",function(a){var b;p.stop("vast_"+a.requestNumber);b=u.extractApidSkidFromVastResponse(a.vastResponse);b.vast_url=a.uri;k.trackActivate(h.prefixed.VAST_REQUEST_X+a.requestNumber,b)})})();return{getCampaignConfig:function(e,m){var C=void 0;if(!e||!e.config||!e.config.targetingUUID)return l.reject({type:h.error.SKIN_SETUP_FAILED,
message:"no targeting uuid in skin"});if("undefined"===typeof JSON)return l.reject({type:h.error.UNSUPPORTED_BROWSER,message:"JSON is not defined"});C=a.audienceTargeting?f.request().then(b.transform).then(A)["catch"](function(a){k.trackActivate(h.error.AUDIENCE_TARGETING_REQUEST_FAILED,{message:a.message});return d.getSiteInfo()}):l.resolve(d.getSiteInfo());return C.then(function(a){var b={tj:JSON.stringify(a)};k.enrichParametersFromPlacement(b,e.config);k.trackActivate(h.ADCALL,b);z.trackMoatAdCall(e);
return a}).then(function(a){return{url:K(e,m,a),corsCookieDomainBlacklist:["cloud-video.unrulymedia.com","video.unrulymedia.com","test.corp.unrulymedia.com","test.video.unrulymedia.com"]}}).then(function(a){var b=t(e.config.placementId);b&&(a.headers=a.headers||{},a.headers["X-Unruly-Override"]=b);return a}).then(g.requestVastChain)["catch"](function(a){v(!0,a.vastResponse);throw n.getUnrulyError(a);}).then(function(a){v(!1,a);return c.transform(a)}).then(function(a){k.registerCampaignConfig(a);return a}).then(function(a){k.trackActivate(h.CREATIVE_RECEIVED);
p.start("ad_render");return a}).then(q)}}});define("tracking/ticker",["tracking","util/trackingEvent"],function(e,a){function g(c,d,b){d>=c.length||(b.clock=setTimeout(function(){g(c,d+1,b);e.trackActivate(a.DEBUG_TICK,{scheduled_offset:c[d],index:d})},c[d]-(c[d-1]||0)))}var c=[0,1,2,3,5,8,13,21,34,55,89].map(function(a){return 1E3*a}),d={clock:void 0,start:function(){g(c,0,this)},stop:function(){clearTimeout(this.clock)}};return function(){return Object.create(d)}});
define("util/dfpUtil",["util/global","util/dom/nativeStyles","util/publisherWindow"],function(e,a,g){return{getDFPContainerDiv:function(){return e.parent.frameElement.parentNode.parentNode},createBasePlacementMarker:function(){var c=this.getDFPContainerDiv(),d=a.createElement("div",g.document);a.reset(d);var e="unruly-native-base-placement-"+Math.floor(1E6*Math.random());d.setAttribute("id",e);c.parentNode.insertBefore(d,c);return e}}});
(function(e){"function"==typeof define?define("es5shim",e):"function"==typeof YUI?YUI.add("es5",e):e()})(function(){function e(){}function a(a){a=+a;a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a)));return a}function g(a){var b=typeof a;return null===a||"undefined"===b||"boolean"===b||"number"===b||"string"===b}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError("Function.prototype.bind called on incompatible "+
b);for(var c=h.call(arguments,1),d=Math.max(0,b.length-c.length),f=[],g=0;g<d;g++)f.push("$"+g);var k=Function("binder","return function("+f.join(",")+"){return binder.apply(this,arguments)}")(function(){if(this instanceof k){var d=b.apply(this,c.concat(h.call(arguments)));return Object(d)===d?d:this}return b.apply(a,c.concat(h.call(arguments)))});b.prototype&&(e.prototype=b.prototype,k.prototype=new e,e.prototype=null);return k});var c=Function.prototype.call,d=Object.prototype,h=Array.prototype.slice,
f=c.bind(d.toString),b=c.bind(d.hasOwnProperty);b(d,"__defineGetter__")&&(c.bind(d.__defineGetter__),c.bind(d.__defineSetter__),c.bind(d.__lookupGetter__),c.bind(d.__lookupSetter__));if(2!=[1,2].splice(0).length){var k=Array.prototype.splice,l=Array.prototype.push,m=Array.prototype.unshift;(function(){function a(b){for(var c=[];b--;)c.unshift(b);return c}var b=[],c;b.splice.bind(b,0,0).apply(null,a(20));b.splice.bind(b,0,0).apply(null,a(26));c=b.length;b.splice(5,0,"XXX");if(c+1==b.length)return!0})()?
Array.prototype.splice=function(a,b){return arguments.length?k.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(h.call(arguments,2))):[]}:Array.prototype.splice=function(a,b){var c,d=h.call(arguments,2);c=d.length;if(!arguments.length)return[];void 0===a&&(a=0);void 0===b&&(b=this.length-a);if(0<c){if(0>=b){if(a==this.length)return l.apply(this,d),[];if(0==a)return m.apply(this,d),[]}c=h.call(this,a,a+b);d.push.apply(d,h.call(this,a+b,this.length));d.unshift.apply(d,h.call(this,0,a));
d.unshift(0,this.length);k.apply(this,d);return c}return k.call(this,a,b)}}1!=[].unshift(0)&&(m=Array.prototype.unshift,Array.prototype.unshift=function(){m.apply(this,arguments);return this.length});Array.isArray||(Array.isArray=function(a){return"[object Array]"==f(a)});var c=Object("a"),n="a"!=c[0]||!(0 in c),p=!0;Array.prototype.forEach&&Array.prototype.forEach.call("foo",function(a,b,c){"object"!==typeof c&&(p=!1)});Array.prototype.forEach&&p||(Array.prototype.forEach=function(a,b){var c=A(this),
d=n&&"[object String]"==f(this)?this.split(""):c,e=-1,g=d.length>>>0;if("[object Function]"!=f(a))throw new TypeError;for(;++e<g;)e in d&&a.call(b,d[e],e,c)});Array.prototype.map||(Array.prototype.map=function(a,b){var c=A(this),d=n&&"[object String]"==f(this)?this.split(""):c,e=d.length>>>0,g=Array(e);if("[object Function]"!=f(a))throw new TypeError(a+" is not a function");for(var h=0;h<e;h++)h in d&&(g[h]=a.call(b,d[h],h,c));return g});Array.prototype.filter||(Array.prototype.filter=function(a,
b){var c=A(this),d=n&&"[object String]"==f(this)?this.split(""):c,e=d.length>>>0,g=[],h;if("[object Function]"!=f(a))throw new TypeError(a+" is not a function");for(var k=0;k<e;k++)k in d&&(h=d[k],a.call(b,h,k,c)&&g.push(h));return g});Array.prototype.every||(Array.prototype.every=function(a,b){var c=A(this),d=n&&"[object String]"==f(this)?this.split(""):c,e=d.length>>>0;if("[object Function]"!=f(a))throw new TypeError(a+" is not a function");for(var g=0;g<e;g++)if(g in d&&!a.call(b,d[g],g,c))return!1;
return!0});Array.prototype.some||(Array.prototype.some=function(a,b){var c=A(this),d=n&&"[object String]"==f(this)?this.split(""):c,e=d.length>>>0;if("[object Function]"!=f(a))throw new TypeError(a+" is not a function");for(var g=0;g<e;g++)if(g in d&&a.call(b,d[g],g,c))return!0;return!1});Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=A(this),c=n&&"[object String]"==f(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=f(a))throw new TypeError(a+" is not a function");
if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e=0,g;if(2<=arguments.length)g=arguments[1];else{do{if(e in c){g=c[e++];break}if(++e>=d)throw new TypeError("reduce of empty array with no initial value");}while(1)}for(;e<d;e++)e in c&&(g=a.call(void 0,g,c[e],e,b));return g});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=A(this),c=n&&"[object String]"==f(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=f(a))throw new TypeError(a+
" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,d=d-1;if(2<=arguments.length)e=arguments[1];else{do{if(d in c){e=c[d--];break}if(0>--d)throw new TypeError("reduceRight of empty array with no initial value");}while(1)}if(0>d)return e;do d in this&&(e=a.call(void 0,e,c[d],d,b));while(d--);return e});Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(b){var c=n&&"[object String]"==f(this)?this.split(""):
A(this),d=c.length>>>0;if(!d)return-1;var e=0;1<arguments.length&&(e=a(arguments[1]));for(e=0<=e?e:Math.max(0,d+e);e<d;e++)if(e in c&&c[e]===b)return e;return-1});Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(b){var c=n&&"[object String]"==f(this)?this.split(""):A(this),d=c.length>>>0;if(!d)return-1;var e=d-1;1<arguments.length&&(e=Math.min(e,a(arguments[1])));for(e=0<=e?e:d-Math.abs(e);0<=e;e--)if(e in c&&b===c[e])return e;return-1});if(!Object.keys){var y=
!0,u="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),r=u.length,t;for(t in{toString:null})y=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var c=[],d;for(d in a)b(a,d)&&c.push(d);if(y)for(d=0;d<r;d++){var e=u[d];b(a,e)&&c.push(e)}return c}}Date.prototype.toISOString&&-1!==(new Date(-621987552E5)).toISOString().indexOf("-000001")||(Date.prototype.toISOString=
function(){var a,b,c,d;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");d=this.getUTCFullYear();a=this.getUTCMonth();d+=Math.floor(a/12);a=[(a%12+12)%12+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];d=(0>d?"-":9999<d?"+":"")+("00000"+Math.abs(d)).slice(0<=d&&9999>=d?-4:-6);for(b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);return d+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+
"Z"});t=!1;try{t=Date.prototype.toJSON&&null===(new Date(NaN)).toJSON()&&-1!==(new Date(-621987552E5)).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(v){}t||(Date.prototype.toJSON=function(a){a=Object(this);var b;a:if(g(a))b=a;else{b=a.valueOf;if("function"===typeof b&&(b=b.call(a),g(b)))break a;b=a.toString;if("function"===typeof b&&(b=b.call(a),g(b)))break a;throw new TypeError;}if("number"===typeof b&&!isFinite(b))return null;b=a.toISOString;if("function"!=
typeof b)throw new TypeError("toISOString property is not callable");return b.call(a)});Date=function(a){function b(c,d,e,f,g,h,k){var l=arguments.length;return this instanceof a?(l=1==l&&String(c)===c?new a(b.parse(c)):7<=l?new a(c,d,e,f,g,h,k):6<=l?new a(c,d,e,f,g,h):5<=l?new a(c,d,e,f,g):4<=l?new a(c,d,e,f):3<=l?new a(c,d,e):2<=l?new a(c,d):1<=l?new a(c):new a,l.constructor=b,l):a.apply(this,arguments)}function c(a,b){var d=1<b?1:0;return e[b]+Math.floor((a-1969+d)/4)-Math.floor((a-1901+d)/100)+
Math.floor((a-1601+d)/400)+365*(a-1970)}var d=/^(\d{4}|[+-]\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2})(?::(\d{2})(?:(\.\d{1,}))?)?(Z|(?:([-+])(\d{2}):(\d{2})))?)?)?)?$/,e=[0,31,59,90,120,151,181,212,243,273,304,334,365],f;for(f in a)b[f]=a[f];b.now=a.now;b.UTC=a.UTC;b.prototype=a.prototype;b.prototype.constructor=b;b.parse=function(b){var e=d.exec(b);if(e){var f=Number(e[1]),g=Number(e[2]||1)-1,h=Number(e[3]||1)-1,k=Number(e[4]||0),l=Number(e[5]||0),m=Number(e[6]||0),n=Math.floor(1E3*Number(e[7]||
0)),p=!(!e[4]||e[8]),q="-"===e[9]?1:-1,r=Number(e[10]||0),e=Number(e[11]||0);return k<(0<l||0<m||0<n?24:25)&&60>l&&60>m&&1E3>n&&-1<g&&12>g&&24>r&&60>e&&-1<h&&h<c(f,g+1)-c(f,g)&&(f=60*(24*(c(f,g)+h)+k+r*q),f=1E3*(60*(f+l+e*q)+m)+n,p&&(f=Number(new a(1970,0,1,0,0,0,f))),-864E13<=f&&864E13>=f)?f:NaN}return a.parse.apply(this,arguments)};return b}(Date);Date.now||(Date.now=function(){return(new Date).getTime()});Number.prototype.toFixed&&"0.000"===(8E-5).toFixed(3)&&"0"!==(.9).toFixed(0)&&"1.25"===(1.255).toFixed(2)&&
"1000000000000000128"===(0xde0b6b3a7640080).toFixed(0)||function(){function a(b,c){for(var d=-1;++d<f;)c+=b*g[d],g[d]=c%e,c=Math.floor(c/e)}function b(a){for(var c=f,d=0;0<=--c;)d+=g[c],g[c]=Math.floor(d/a),d=d%a*e}function c(){for(var a=f,b="";0<=--a;)if(""!==b||0===a||0!==g[a])var d=String(g[a]),b=""===b?d:b+("0000000".slice(0,7-d.length)+d);return b}function d(a,b,c){return 0===b?c:1===b%2?d(a,b-1,c*a):d(a*a,b/2,c)}var e,f,g;e=1E7;f=6;g=[0,0,0,0,0,0];Number.prototype.toFixed=function(e){var f,
g,h;e=Number(e);e=e!==e?0:Math.floor(e);if(0>e||20<e)throw new RangeError("Number.toFixed called with invalid number of decimals");f=Number(this);if(f!==f)return"NaN";if(-1E21>=f||1E21<=f)return String(f);g="";0>f&&(g="-",f=-f);h="0";if(1E-21<f){h=f*d(2,69,1);for(var k=0;4096<=h;)k+=12,h/=4096;for(;2<=h;)k+=1,h/=2;h=k-69;f=0>h?f*d(2,-h,1):f/d(2,h,1);f*=4503599627370496;h=52-h;if(0<h){a(0,f);for(f=e;7<=f;)a(1E7,0),f-=7;a(d(10,f,1),0);for(f=h-1;23<=f;)b(8388608),f-=23;b(1<<f);a(1,1);b(2);h=c()}else a(0,
f),a(1<<-h,0),h=c()+"0.00000000000000000000".slice(2,2+e)}0<e?(f=h.length,h=f<=e?g+"0.0000000000000000000".slice(0,e-f+2)+h:g+h.slice(0,f-e)+"."+h.slice(f-e)):h=g+h;return h}}();var q=String.prototype.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||1<".".split(/()()/).length?function(){var a=void 0===/()??/.exec("")[1];String.prototype.split=function(b,c){var d=this;if(void 0===b&&0===c)return[];if("[object RegExp]"!==
Object.prototype.toString.call(b))return q.apply(this,arguments);var e=[],f=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),g=0;b=new RegExp(b.source,f+"g");var h,k,l,d=d+"";a||(h=new RegExp("^"+b.source+"$(?!\\s)",f));for(c=void 0===c?4294967295:c>>>0;k=b.exec(d);){f=k.index+k[0].length;if(f>g&&(e.push(d.slice(g,k.index)),!a&&1<k.length&&k[0].replace(h,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(k[a]=void 0)}),1<k.length&&k.index<d.length&&
Array.prototype.push.apply(e,k.slice(1)),l=k[0].length,g=f,e.length>=c))break;b.lastIndex===k.index&&b.lastIndex++}g===d.length?!l&&b.test("")||e.push(""):e.push(d.slice(g));return e.length>c?e.slice(0,c):e}}():"0".split(void 0,0).length&&(String.prototype.split=function(a,b){return void 0===a&&0===b?[]:q.apply(this,arguments)});if("".substr&&"b"!=="0b".substr(-1)){var z=String.prototype.substr;String.prototype.substr=function(a,b){return z.call(this,0>a?0>(a=this.length+a)?0:a:a,b)}}t="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
if(!String.prototype.trim||t.trim()){t="["+t+"]";var D=new RegExp("^"+t+t+"*"),E=new RegExp(t+t+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(D,"").replace(E,"")}}var A=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}});
define("adManager","unrulyAdCore/util/window util/publisherWindow publisherConfigController placementController placementFinder tracking util/trackingEvent util/browser util/publisherApi audienceTargeting promise util/eventBus adFormats/adFactory util/enable fallbackManager campaignConfigController util/stopwatch viewability/displayViewabilityHandler videoPlayers/videoPlayerLifecycleTiming tracking/ticker unrulyError util/dfpUtil videoPlayers/utils/videoPlayerCompatibility".split(" "),function(e,
a,g,c,d,h,f,b,k,l,m,n,p,y,u,r,t,q,z,D,E,A,v){function K(a,b,c){b=b||f.error.ERROR;c=c||{};c.message=a;n.dispatchEvent("logMessages",{message:a,errorType:b});return b===f.error.PLACEMENT_ALREADY_FOUND?m.resolve():h.trackActivate(b,c)}function N(a,b){K(a,b);k.onFinished();R.fallback()}function G(a){function b(a){if(e)throw new E("placement_already_found",f.error.PLACEMENT_ALREADY_FOUND);e=a;c.forEach(function(a){e.config!==a.placement&&a.cancel()});return a}var c=a.map(function(a){return new d(a)}),
e=!1;return c.map(function(a){var c=void 0,d=D();return a.matchPlacement().then(function(a){return b(a)}).then(function(a){c=p.createAd(a);return a}).then(function(a){return r.getCampaignConfig(a,c)}).then(function(a){y.debugTicker&&d.start();n.dispatchEvent("populateAd",c);return c.populate(a)}).then(function(a){return q.addMoatTracking(a)}).then(function(){t.stop("ad_render");h.trackThirdParty(f.PP_IMP);n.dispatchEvent("logMessages",{message:"Ad impression",event:f.PP_IMP})}).then(function(){return d.stop()})["catch"](function(b){d.stop();
b.placementId=a.getPlacementId();var c=b.errorParams||{};h.enrichParametersFromPlacement(c,a.getPlacement());return K(b.message,b.errorType,c).then(function(){throw b;},function(){throw b;})})})}function C(a){if(a.map(function(a){return a.format.inArticle&&a.format.inArticle.basePlacement?a.format.inArticle.basePlacement.tagManaged:!1}).reduce(function(a,b){return a||b},!1)){var b=A.createBasePlacementMarker();a.forEach(function(a){a.format.inArticle&&(a.format.inArticle.basePlacement.selector="#"+
b)})}}var R=new u.FallbackManager;return{init:function(c,d){if(null===a.location.search.match(/[&|?]UnrulyDisableIFPP=1(\&|$)/)&&e.unruly&&e.unruly.native)R.register(),b.isSupported()&&v.supportsZentrickPlayer()?(z.initWithEventBus(n),c()):(k.onFinished(),R.fallback(),d(f.error.UNSUPPORTED_BROWSER));else k.onFinished()},load:function(){var a;y.inProduction&&l.syncData();require(["es5shim"],function(){g.getPublisherConfig(e.unruly.native.siteId,function(b){var d;try{if(d=c.verifyConfig(b),!1===y.supportsCurrentURLScheme())throw new E("URL Scheme not supported (HTTPS)",
f.error.SCHEME_NOT_SUPPORTED);}catch(e){N(e.message,e.errorType);a=m.reject(e);return}C(d);b=G(d).map(function(a){return a["catch"](function(a){return a})});a=m.all(b).then(function(a){return new m(function(b){a.every(function(a){return a instanceof Error&&a.errorType===f.error.NO_MATCHING_PLACEMENT})?K("All placements failed",f.error.ZERO_MATCHING_PLACEMENTS).then(function(){b(a)}):b(a)})}).then(function(a){R.fallback(a);k.onFinished()})},N)});return a}}});
define("mainInitialiser","adManager util/stopwatch tracking util/trackingEvent util/global util/publisherWindow".split(" "),function(e,a,g,c,d,h){return{init:function(){h.addEventListener("unload",function(){g.trackActivateBeacon("unload")});a.init();a.start("corejs",d._adLoaderTime);a.stop("corejs");e.init(function(){e.load()},function(a){a=a||c.error.ERROR;g.trackActivate(a)})}}});
require([],function(){try{window.top.document&&require(["mainInitialiser"],function(e){e.init()})}catch(e){require(["tracking","util/trackingEvent"],function(a,g){a.trackActivate(g.error.BLOCKED_CROSS_ORIGIN_FRAME,{message:e.message},{noTopWindowAccess:!0})})}});define("main",function(){});
(function(e){"function"===typeof define&&define.amd?define("jqueryxdomainrequest",["jquery"],e):"object"===typeof exports?module.exports=e(require("jquery")):e(jQuery)})(function(e){if(e.support.cors||!e.ajaxTransport||!window.XDomainRequest)return e;var a=/^(https?:)?\/\//i,g=/^get|post$/i,c=new RegExp("^(//|"+location.protocol+")","i");e.ajaxTransport("* text html xml json",function(d,h,f){if(d.crossDomain&&d.async&&g.test(d.type)&&a.test(d.url)&&c.test(d.url)){var b=null;return{send:function(a,
c){a="";var f=(h.dataType||"").toLowerCase();b=new XDomainRequest;/^\d+$/.test(h.timeout)&&(b.timeout=h.timeout);b.ontimeout=function(){c(500,"timeout")};b.onload=function(){var a="Content-Length: "+b.responseText.length+"\r\nContent-Type: "+b.contentType,d=200,g="success",h={text:b.responseText};try{if("html"===f||/text\/html/i.test(b.contentType))h.html=b.responseText;else if("json"===f||"text"!==f&&/\/json/i.test(b.contentType))try{h.json=e.parseJSON(b.responseText)}catch(k){d=500,g="parseerror"}else if("xml"===
f||"text"!==f&&/\/xml/i.test(b.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(b.responseText)}catch(k){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw d=500,g="parseerror","Invalid XML: "+b.responseText;h.xml=r}}catch(k){throw k;}finally{c(d,g,h,a)}};b.onprogress=function(){};b.onerror=function(){c(500,"error",{text:b.responseText})};h.data&&(a="string"===e.type(h.data)?h.data:e.param(h.data));b.open(d.type,d.url);b.send(a)},
abort:function(){b&&b.abort()}}}});return e});
define("jQueryPlugins/importantStyle",["jquery"],function(e){function a(a){var c=[],d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d];c.push(d+": "+e.value+(e.important?" !important":""))}return c.join("; ")+";"}e.fn.setImportantStyle=function(e,c){if(c&&"string"===typeof e){var d=e;e={};e[d]=c}c=this.attr("style");for(var d=/([\w\-]+(?:\-\w+)*)\s*:\s*([^;!]+)\s*(!important)?\s*;?/gi,h={},f;f=d.exec(c);)h[f[1]]={value:f[2].trim(),important:!!f[3]};for(var b in e)h[b]={value:e[b],important:!0};this.attr("style",
a(h));return this}});define("jQueryPlugins/waitUntilExists",["jquery","../util/publisherWindow"],function(e,a){var g={},c=function(c){g[c]&&(a.clearInterval(g[c]),g[c]=null)};e.fn.waitUntilExists=function(d,h,f){var b=this.selector,k=e(b,a.document),l=k.not(function(){return e(this).data("waitUntilExists.found")});"remove"===d?c(b):(l.data("waitUntilExists.found",!0),0<l.length&&d(),h&&k.length?c(b):f||(g[b]=a.setInterval(function(){k.waitUntilExists(d,h,!0)},500)));return k}});
requirejs.config({baseUrl:".",paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min"},map:{"*":{jquery:"util/unruly-jquery"},"util/unruly-jquery":{jquery:"jquery"},jqueryxdomainrequest:{jquery:"jquery"},"jQueryPlugins/importantStyle":{jquery:"jquery"},"jQueryPlugins/waitUntilExists":{jquery:"jquery"}}});
define("util/unruly-jquery",["util/publisherWindow","jquery","jqueryxdomainrequest","../jQueryPlugins/importantStyle","../jQueryPlugins/waitUntilExists"],function(e,a,g,c,d){g=function(c,b){try{return a(c,b||e.document)}catch(d){}};for(var h in a)a.hasOwnProperty(h)&&(g[h]=a[h]);a.support.cors=!0;return g});
