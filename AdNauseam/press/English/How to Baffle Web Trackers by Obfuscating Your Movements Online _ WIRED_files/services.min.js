!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t){function n(){window._4d=window._4d||{},window.SparrowCache=window.SparrowCache||{events:[],pixels:[]}}function r(e){return e.sort(function(e,t){return e.score<t.score}).map(function(e){return e.name}).slice(0,5)}function o(e,t){for(var n=0;n<e.length;n++)for(var r=e[n].brand,o=e[n].channels,a=0;a<o.length;a++){var i=r+":"+o[a];t.push(i)}return t}function a(e){p({path:"window._4d.context.atmoprop",poll:{limit:1e4},onReady:function(){return Promise.all([i(e),s(e)]).then(function(){e.process.done()})["catch"](function(t){e.process.failed(t)})},onFailure:function(t){e.process.failed(t.message)}})}function i(e){var t=window._4d.context,n=window.SparrowCache.event;return t&&n?c(e):u({URL:f.content+window.location.href}).then(function(t){return window._4d.context=JSON.parse(t),c(e)})["catch"](function(e){return e.message})}function s(e){var t=d("CN_xid"),n=window._4d.user;return n?l(e):t?u({URL:f.user+t}).then(function(t){return window._4d.user=JSON.parse(t),window.SparrowCache.event=window.SparrowCache.event||{},l(e)})["catch"](function(e){return e.message}):u({URL:f.infinityid,withCredentials:!0}).then(function(t){return u({URL:f.user+t}).then(function(t){return window._4d.user=JSON.parse(t),l(e)})["catch"](function(e){return e.message})})["catch"](function(e){return e.message})}function c(e){var t=window._4d.context.topics&&r(window._4d.context.topics)||!1,n=window._4d.context.atmo===!0?"true":"false",o=window._4d.context.atmovisit||!1,a=window._4d.context.atmoprop||!1,i=window.SparrowCache&&window.SparrowCache.event&&window.SparrowCache.event.pID||d("pID")||!1;return e.addTargeting("ctx_topics",t),e.addTargeting("atmo",n),e.addTargeting("atmovisit",o),e.addTargeting("atmoprop",a),e.addTargeting("pid",i),Promise.resolve()}function l(e){var t=window._4d.user.topics,n=window._4d.user.acquisitionChannels,a=window._4d.user.xid,i=window.SparrowCache&&window.SparrowCache.event&&window.SparrowCache.event.sID||d("sID");return t&&e.addTargeting("usr_topics",r(t)),n&&e.addTargeting("usr_acq",o(n,[])),a&&e.addTargeting("xid",a),i&&e.addTargeting("sid",i),Promise.resolve()}var u=e("@condenast/atp-utl/ajax"),d=e("@condenast/atp-utl/cookies").get,p=e("@condenast/atp-utl/objects/ready"),f={content:"//4d.condenastdigital.com/content?url=",infinityid:"//infinityid.condenastdigital.com/?rand="+Date.now(),user:"//4d.condenastdigital.com/user?xid="};t.exports={code:"4d",setup:n,hooks:{onPageCreate:a}}},{"@condenast/atp-utl/ajax":32,"@condenast/atp-utl/cookies":38,"@condenast/atp-utl/objects/ready":49}],2:[function(e,t){"use strict";function n(e){var t=[r()],n=o();i(n,function(t,n){e.addTargeting(n,t)}),e.addTargeting("uuid",t),e.process.done()}function r(){var e=s("aam_uuid");return e?e.length<=l?e:a(e):null}function o(){var e=s("aamconde"),t=[],n={};return e?(t=e.split(";"),i(t,function(e){var t=e.split("=");n[t[0]]?n[t[0]].push(t[1]):n[t[0]]=[t[1]]}),n):{conde:[null]}}function a(e){return("trunc|"+e).substr(0,l)}var i=e("@condenast/atp-utl/loop"),s=e("@condenast/atp-utl/cookies/get"),c=e("@condenast/atp-utl/functions").noop,l=294;t.exports={code:"aam",setup:c,hooks:{onPageCreate:n}}},{"@condenast/atp-utl/cookies/get":37,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44}],3:[function(e,t){"use strict";function n(e,t,n){e.addTargeting("amznslots",t),n()}function r(e){i({path:"amznads.getTokens",poll:{limit:1e3},onReady:function(t){amznads.tasks.push(function(){n(e,t(),e.process.done)})},onFailure:function(t){e.process.failed(t.message)}})}function o(e){var t=document.createElement("script");t.async=!0,t.src=e,document.head.appendChild(t)}function a(e){var t=e;"undefined"==typeof window.amznads&&(window.amznads={tasks:[],asyncParams:{id:t.amazon_id}}),o(t.endpoint)}var i=e("@condenast/atp-utl/objects/ready");t.exports={code:"amzn",setup:a,hooks:{onSlotRequest:r}}},{"@condenast/atp-utl/objects/ready":49}],4:[function(e,t){"use strict";function n(e){s=e}function r(e){var t,n,r,s=e.getMeta().templateType,c=document.createElement("script");return"article"!==s.toLowerCase()?void e.process.done():(n=o())?(t=a(n),"string"!=typeof t?void e.process.done():(r=i(t),window.arsData=function(t){console.log(t);var n=t.length?t:"null";e.addTargeting("data",n),e.process.done()},c.setAttribute("src",r),void document.body.appendChild(c))):void e.process.done()}function o(){var e=document.querySelectorAll('meta[name="parsely-page"]'),t=document.querySelectorAll('script[type="application/ld+json"]');if(!e.length&&!t.length)return!1;var n=e[0]?e[0].getAttribute("content"):t[0].innerHTML;return c(n)?JSON.parse(n):null}function a(e){var t=document.querySelectorAll('link[rel="canonical"]');return e.link||e.url||t.length?e.link||e.url||t[0].getAttribute("href"):!1}function i(e){var t=s.endpoint,n=t+s.top_ad_unit+"/"+encodeURIComponent(e)+"?callback=arsData";return n}var s,c=e("@condenast/atp-utl/type/isString");t.exports={code:"ars",setup:n,hooks:{onPageCreate:r}}},{"@condenast/atp-utl/type/isString":69}],5:[function(e,t){function n(){var e=document.createElement("script");e.async=!0,e.src="//js-sec.indexww.com/ht/htw-condenast.js",document.head.appendChild(e)}function r(e){var t,n=e.getMeta();0===n.requestNumber&&("undefined"==typeof headertag?t=setInterval(function(){"undefined"!=typeof headertag&&(headertag.condeFetchDemand(e),clearInterval(t))},100):headertag.condeFetchDemand(e))}t.exports={code:"INDX",setup:n,hooks:{onSlotRequest:r}}},{}],6:[function(e,t){"use strict";function n(e){var t=r("atp_newsletter");if(!t.length)return e.process.done();var n=[];a(t.split(","),function(e){var t=e.trim();t.length&&-1===n.indexOf(t)&&n.push(t)}),e.addTargeting("ids",n),e.process.done()}var r=e("@condenast/atp-utl/cookies/get"),o=e("@condenast/atp-utl/functions").noop,a=e("@condenast/atp-utl/loop");t.exports={code:"nls",setup:o,hooks:{onPageCreate:n}}},{"@condenast/atp-utl/cookies/get":37,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44}],7:[function(e,t){function n(){r(),o()}function r(){window.CN=window.CN||{},window.CN.ad={proximic:{}}}function o(){var e=document.createElement("script"),t="https:"===document.location.protocol?"https://":"http://",n=t+"segment-data.zqtk.net/conde-nast?url="+encodeURIComponent(window.location.href);e.async=!0,e.src=n,document.head.appendChild(e)}function a(e){i({path:"window.CN.ad.proximic.pxData.data",poll:{limit:800},onReady:function(t){e.addTargeting("segments",t),e.process.done()},onFailure:function(t){e.process.failed(t)}})}var i=e("@condenast/atp-utl/objects/ready");t.exports={setup:n,code:"prx",hooks:{onPageCreate:a}}},{"@condenast/atp-utl/objects/ready":49}],8:[function(e,t){"use strict";function n(){r()}function r(){var e=document.createElement("script");e.async=!0,e.src="//cdn.yldbt.com/js/yieldbot.intent.js",document.head.appendChild(e)}function o(e){u({path:"yieldbot.getPageCriteria",poll:{limit:1500},onReady:function(){window.ybotq=window.ybotq||[],window.ybotq.push(a),window.ybotq.push(l.bind(null,e))},onFailure:function(t){e.process.failed("[ cns plugin : ads : yieldbot.embed ] Yieldbot did not load: "+t.message)}})}function a(){i()>=600?(s(d.ybDsk),yieldbot.defineSlot("leaderboard"),yieldbot.defineSlot("medrec",{sizes:[[300,250],[300,600]]})):(s(d.ybMob),yieldbot.defineSlot("MLB"),yieldbot.defineSlot("mob_MR")),yieldbot.enableAsync(),yieldbot.go()}function i(){var e=document,t=e.documentElement,n=Math.max(t.scrollWidth,t.offsetWidth,t.clientWidth);return n}function s(e){var t=c();if(t in e){var n=e[t];yieldbot.pub(n)}else yieldbot.pub(p)}function c(){var e=document.location.host.split("."),t="";return e.length>1&&(t="www"===e[0]?e[1]:e[0]),t}function l(e){var t=yieldbot.getPageCriteria()||"n";e.addTargeting("data",t),e.process.done()}var u=e("@condenast/atp-utl/objects/ready"),d={ybDsk:{allure:"5f21",architecturaldigest:"45ce",arstechnica:"1473",bonappetit:"80a9",brides:"99b8",cntraveler:"68b4",details:"84f3",epicurious:"7caa",glamour:"6ba1",golfdigest:"16ce",gq:"2c20",newyorker:"20a1",self:"25ef",teenvogue:"e23d",vanityfair:"3a67",wired:"bc58",wmagazine:"fd2c"},ybMob:{allure:"3a8f",architecturaldigest:"b6b7",arstechnica:"ad37",bonappetit:"4528",brides:"b07f",cntraveler:"00f8",details:"78cb",epicurious:"3804",glamour:"0e83",golfdigest:"9071",gq:"26b1",newyorker:"71f3",self:"ff1c",teenvogue:"01c0",vanityfair:"2f33",wired:"de70",wmagazine:"a439"}},p="822c";t.exports={code:"ylbt",setup:n,hooks:{onSlotRequest:o}}},{"@condenast/atp-utl/objects/ready":49}],9:[function(e,t){function n(e){return a=e._default||{},s(e,function(e,t){"_default"!==t&&(i[t]={},r(e,t),o(e,t))}),Promise.resolve(i)}function r(e,t){var n=e._default||{};i[t].__default=c({mergeables:[a,n],merger:l})}function o(e,t){s(e,function(e,n){if("_default"!==n){var r=i[t].__default;i[t][n]=c({mergeables:[r,e],merger:l})}})}var a,i={},s=e("@condenast/atp-utl/loop"),c=e("@condenast/atp-utl/objects/merge"),l=e("./merge");t.exports=n},{"./merge":10,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/merge":47}],10:[function(require,module,exports){function merger(e,t,n){switch(isRunningOnClient="undefined"!=typeof window&&window.window,n){case"uris":if(isObj(e))return urisMerger(e,t);break;case"sets":if(isObj(e))return setsMerger(e,t);break;case"types":if(isObj(e))return slotTypeDefinitionsMerger(e,t);break;case"groups":if(!e)return t;if(isObj(e))return groupMerger(e,t);break;case"targeting":if(!e)return t;if(isObj(e))return targetingMerger(e,t);break;case"sizes":if(!e)return t;if(isObj(e))return sizeMerger(e,t);break;case"id":if(!e)return t;if(isObj(e))return idMerger(e,t);break;case"render":if(slotComplexRenderProcessor(e),slotComplexRenderProcessor(t),!e)return t;if(isObj(e))return renderMerger(e,t);break;case"request_vp_range":case"refresh_vp_range":if(!e)return getDeviceDefault(t);if(isObj(e))return vpRangeMerger(e,t);break;case"plugins":if(isObj(e))return pluginMerger(e,t);break;default:if(isArr(e)&&isArr(t))return t}}function urisMerger(e,t){var n=objMerge({mergeables:[e,t]});n.__default=n._default,n._default=null,delete n._default}function setsMerger(e,t){var n=objMerge({mergeables:[e,t]});n.__default=n._default,n._default=null,delete n._default}function groupMerger(e,t){return arrMerge([e,t],!0)}function targetingMerger(e,t){var n=[keys(e),keys(t)],r=arrMerge(n,!0),o={};return loop(r,function(n){if(!e[n])return void(o[n]=t[n]);var r=[e[n],t[n]];o[n]=arrMerge(r,!0)}),o}function idMerger(e,t){var n,r=keys(e),o=keys(t),a=arrMerge([r,o],!0);return r.length&&o.length?(n={},loop(a,function(r){n[r]=t[r]||e[r]})):n=t,n}function sizeMerger(e,t){var n={};return loop(e,function(r,o){if(n[o]=e[o]||[],t[o]){n[o]=arrMerge([n[o],t[o]],!0);var a=n[o].filter(function(e){return/\-/.test(e)}),i=a.map(function(e){return e.replace(/\-/g,"")});n[o]=n[o].filter(function(e){return-1===a.concat(i).indexOf(e)})}}),n}function renderMerger(e,t){var n={};return deviceMerger(n,e,t),t.constellation&&(n.constellation=t.constellation),t.slot&&(n.slot=t.slot),n}function vpRangeMerger(e,t){var n=getDeviceDefault(e),r=getDeviceDefault(t),o=optsMerge(n.__default,r.__default),a={};return loop(r,function(e,t){var n=e.desktop||o.desktop,r=e.tablet||o.tablet,i=e.mobile||o.mobile;a[t]={desktop:n,tablet:r,mobile:i}}),a}function getDeviceDefault(e){var t=clone(e,!0);return t.__default=t._default||{desktop:t.desktop,tablet:t.tablet,mobile:t.mobile},delete t._default,delete t.desktop,delete t.tablet,delete t.mobile,t}function deviceMerger(e,t,n){n.desktop&&(e.desktop=n.desktop||e.desktop),n.tablet&&(e.tablet=n.tablet||e.tablet),n.mobile&&(e.mobile=n.mobile||e.mobile)}function slotComplexRenderProcessor(e){return e?e.slot?void slotComplexRenderPreProcessor(e.slot):void loop(e,function(e){slotComplexRenderPreProcessor(e.slot)}):void 0}function slotComplexRenderPreProcessor(e){loop(e,function(e){isObj(e)&&e.every&&e.el&&(e.when&&(e.when=isRunningOnClient&&stringToFunction(e.when)||e.when.toString()),e["in"]&&e["in"].el&&e["in"].when&&(e["in"].when=isRunningOnClient&&stringToFunction(e["in"].when)||e["in"].when.toString()))})}function stringToFunction(string){var desiredFunction,codeAsString="desiredFunction = "+string+";";try{eval(codeAsString)}catch(e){report.compile({type:"error",name:"merge_string_to_function_error",error:{msg:e.message,obj:e}})}return desiredFunction}function pluginMerger(e,t){var n={};return loop(t,function(t,r){var o=e[r];n[r]=objMerge({mergeables:[o,t]})}),n}function slotTypeDefinitionsMerger(e,t){var n={};return loop(t,function(r,o){var a=r===!1;n[o]=a?!1:objMerge({mergeables:[e[o],t[o]],merger:merger})}),n}var isObj=require("@condenast/atp-utl/type/isObject"),isArr=require("@condenast/atp-utl/type/isArray"),objMerge=require("@condenast/atp-utl/objects/merge"),optsMerge=require("@condenast/atp-utl/objects/options"),arrMerge=require("@condenast/atp-utl/arrays/merge"),clone=require("@condenast/atp-utl/objects/clone"),loop=require("@condenast/atp-utl/loop"),keys=require("@condenast/atp-utl/objects/keys"),isRunningOnClient;module.exports=merger},{"@condenast/atp-utl/arrays/merge":35,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/clone":45,"@condenast/atp-utl/objects/keys":46,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/objects/options":48,"@condenast/atp-utl/type/isArray":53,"@condenast/atp-utl/type/isObject":67}],11:[function(e,t){function n(e,t){return u(e)&&u(t)?t.appendChild(e):!1}function r(e,t){return u(e)&&u(t)?t.insertBefore(e,t.children[0]):!1}function o(e,t){return u(e)&&u(t)?t.parentNode.insertBefore(e,t):!1}function a(e,t){return u(e)&&u(t)?t.parentNode.insertBefore(e,t.nextSibling):!1}function i(e,t){if(!d(e))return!1;var n=u(t)?t:document.querySelector(t);return t&&!n?!1:(n||document).querySelector(e)}function s(e,t){if(!d(e))return!1;var n=u(t)?t:document.querySelector(t);return t&&!n?!1:(n||document).querySelectorAll(e)}function c(e){if(e&&e.el){var t=e.el.className.split(" "),n=e.add&&t.concat(e.add)||t,r=[];e.drop&&p(e.drop,function(e){n.indexOf(e)>-1&&n.splice(n.indexOf(e),1)}),p(n,function(e){n.indexOf(e)>-1&&-1===r.indexOf(e)&&r.push(e)}),requestAnimationFrame(function(){e.el.className=r.join(" ")})}}function l(e){if(e&&e.el){var t=e.el.style.cssText.split(";"),n={},r="";p(t,function(e){if(e.length){var t=e.split(":");n[t[0].replace(/ /g,"")]=t[1]}}),e.add&&p(e.add,function(e,t){n[t]=e}),e.drop&&p(e.drop,function(e){delete n[e]}),p(n,function(e,t){r+=t+":"+e+";"}),requestAnimationFrame(function(){e.el.style.cssText=r})}}var u=e("@condenast/atp-utl/type/isElement"),d=e("@condenast/atp-utl/type/isString"),p=e("@condenast/atp-utl/loop");t.exports={get:i,getAll:s,prepend:r,append:n,top:r,bottom:n,before:o,after:a,classes:{update:c},styles:{update:l}}},{"@condenast/atp-utl/loop":44,"@condenast/atp-utl/type/isElement":60,"@condenast/atp-utl/type/isString":69}],12:[function(e,t){function n(e,t){if(g=t,h=e,k.compile({type:"info",regex:"/services.*js",name:"library_service"}),window.addEventListener("beforeunload",function(){k.compile({type:"info",name:"user_bounce",meta:{time:x()}})}),r())return k.compile({type:"info",name:"ads_killed",meta:{cause:"ap_noads_param"}}),Promise.resolve();var n=["interactive","complete"];return T(n,document.readyState)?(E=S.check(),o()):new Promise(function(e,t){document.addEventListener("DOMContentLoaded",function(){E=S.check(),o().then(e)["catch"](t)})})}function r(){var e=w();return!!e.ap_noads}function o(){return new Promise(function(e,t){_(g.slot.types).then(a).then(e)["catch"](t)})}function a(e){var t=[];return t.push(R.setup({timeout:g.timers.plugin_requests_max})),t.push(A.setup({sets:g.slot.sets,onCreate:R.api.runHook.bind(null,"onPageCreate"),uris:g.slot.uris,adBlockStatus:E})),h.identifiers.overwrite=g.slot.__auid_one,t.push(C.setup({definitions:e,identifiers:h.identifiers,network:g.network,refreshDelay:g.timers.refresh_delay||0,request_vp_range:g.request_vp_range,refresh_vp_range:g.refresh_vp_range,onCreate:R.api.runHook.bind(null,"onSlotCreate"),onImpressionViewable:R.api.runHook.bind(null,"onSlotImpressionViewable"),onRenderEnd:R.api.runHook.bind(null,"onSlotRenderEnd"),onRenderStart:R.api.runHook.bind(null,"onSlotRenderStart"),onRequest:R.api.runHook.bind(null,"onSlotRequest"),onVisibilityChange:R.api.runHook.bind(null,"onSlotVisibilityChange")})),t.push(O.setup()),Promise.all(t)}function i(e){return r()?Promise.resolve():(R.api.add(e.name,{hooks:e.controller.hooks,code:e.controller.code,api:e.controller.api,version:e.version}),e.controller.setup(e.config),Promise.resolve())}function s(e){return v({mergeables:[e.global,e.property],merger:y})}function c(e){return b(e)?(p("ads.slots.getTypeDefinition"),C.api.getTypeDefinition({type:e})):!1}function l(e){return k.compile({type:"flow",name:"api.environment",meta:e}),A.api.environment.apply(null,arguments)}function u(e){return k.compile({type:"flow",name:"api.pages.create",meta:e}),A.api.create.apply(null,arguments)}function d(){return k.compile({type:"flow",name:"api.pages.destroy",meta:name}),A.api.destroy.apply(null,arguments)}function p(e){k.compile({type:"error",name:"deprecated_method_call",error:{msg:j.api.methodDeprecated(e)}})}function f(){return void 0===E.installed&&(E.installed=E.check()),E.installed}function m(){return void 0===E.blocked&&(E.blocked=E.check()),E.blocked}var g,h,v=e("@condenast/atp-utl/objects/merge"),y=e("./configs/merge"),_=e("./configs/hydrate"),b=e("@condenast/atp-utl/type/isString"),w=e("@condenast/atp-utl/parse"),x=e("@condenast/atp-utl/feature").performance.now,k=e("./reporting"),j=e("./lang").err,S=e("./utilities/adBlock"),T=e("@condenast/atp-utl/arrays/has"),A=e("./pages/manager"),C=e("./slots/manager"),R=e("./plugins/manager"),O=e("./slots/gpt.js"),E={};t.exports={setup:n,merge:s,extend:i,api:{environment:l,pages:{get:A.api.get,create:u,destroy:d},slots:{get:p.bind(null,"ads.slots.get"),create:p.bind(null,"ads.slots.create"),destroy:p.bind(null,"ads.slots.destroy"),getTypeDefinition:c},adBlock:{installed:f,blocked:m}}}},{"./configs/hydrate":9,"./configs/merge":10,"./lang":13,"./pages/manager":15,"./plugins/manager":16,"./reporting":17,"./slots/gpt.js":20,"./slots/manager":23,"./utilities/adBlock":25,"@condenast/atp-utl/arrays/has":34,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/parse":50,"@condenast/atp-utl/type/isString":69}],13:[function(e,t){t.exports={err:{api:{methodDeprecated:function(e){return"[ cns ads ] The method "+e+" has been deprecated and will be removed in a future release. Please use ads.pages.get().slots instead of ads.slots."},methodRemoved:function(e){return"[ cns ads ] The method "+e+" has been removed. Please use ads.pages.get().slots instead of ads.slots."}},page:{slot:{alreadyExists:function(e,t){return"The slot '"+e+"' already exists with the '"+t+"' page.\nPlease change the slot name to be unique per page"}}},pages:{setEnvironment:function(){return"[ cns ads page manager ] A device and server type is required for setting up an environment"},hasNoType:function(){return"[ cns ads page manager ] A slot type property is required to add a new slot to a page"},hasNoTemplateType:function(){return'[ cns ads page manager ] A "templateType" or "template_type" property is required to create a new page'},doesNotExist:function(e){return'[ cns ads page manager ] The requested page "'+e+'" was requested but does not exist.'},slotNotFound:function(e,t){return'[ cns ads Page instance ] The requested slot "'+e+'" was requested but does not exist on page "'+t+'".'}},slots:{definition:{doesNotExist:function(e){return'[ cns ads slot manager ] The definition for the "'+e+'" slot was not found'},hasBadEl:function(e,t,n){return'[ cns ads slot manager ] At the time of staging the "'+e+'" ad slot in page template "'+t+'" the slot\'s el path was not found in the page el "'+n+'"'},tooManyEls:function(e,t){return'[ cns ads slot manager ] The DOM path "'+e+'" for slot type "'+t+'" results in more than one element, to ad slot series use the "every" slot rendering method instead.'},tooManyAdsInEl:function(e){return'[ cns ads slot manager ] The DOM path for slot type "'+e+'" already has a slot staged,  please choose a new location for the "'+e+'" slot type.'},canNotRenderStage:function(e,t,n){return'[ cns ads slot manager ] The slot instance for "'+e+'" could not be appended, either the injection point "'+t+'" is not on the page or the "'+n+'" method is not valid.'},noAppropriateSizes:function(e,t){return'[ cns ads slot manager ] No sizes were given for slot instance "'+e+'" on '+t+". Therefore the ad cannot be rendered."},invalidSlotEl:function(e){return'[ cns ads slot manager ] The slot instance for "'+e+'" does not have a slot el append point or is trying to append to the <html> element'},hasNoRender:function(e,t){return'[ cns ads slot manager ] The slot-type "'+e+'" in the '+t+" template did not have a render block in its instance definition"},slotDestroyFailed:function(e){return"[ cns ads slot manager ] The slot could not be destroyed: "+e}},instance:{alreadyStaged:function(e,t){return'[ cns ads Slot instance ] The slot instance for "'+e+'" on page "'+t+'" could not be staged because it was already staged'}},gpt:{cantCreateSlot:function(){return"[cns ads slots gpt] GPT was unable to create the slot!"},requestFailed:function(e){return"[ cns ads slots gpt ] The request to create or refresh a GPT slot failed: "+e},haltPII:function(){return"[cns ads slots gpt] Personally identifiable information (PII) has been found in the URL, GPT has been halted!"},notReady:function(e){return"[cns ads slots gpt] GPT was unable to load: "+e},cantDestroySlot:function(e){return"[cns ads slots gpt] GPT was unable to destroy the slot with container Id: "+e},newTagError:function(e){return"[cns ads slots gpt] GPT was unable to create a tag: "+e},keyExceedsCharLimit:function(e){return"[cns ads slots gpt] key will not be added to GPT call. Key exceeds 20 character limit: "+e}},destroyedNotExist:function(e){return'The slot instance for "'+e+'" has been destroyed due to its supporting HTML structure being removed from the DOM.'},cantRequestNotStaged:function(e,t){return'The slot instance for "'+e+'" on page "'+t+'" could not be requested because it has not been staged'},invalidProperty:function(e){return'The slot instance for "'+e+'" does not have a valid "property" property'},invalidNetwork:function(e){return'The slot instance for "'+e+'" does not have a valid "network" property'},invalidIdentifiers:function(e){return'The slot instance for "'+e+'" does not have a valid "identifiers" property'},missingProperty:function(e,t){return'The configuration object passed into slot instance "'+e+'" is missing the "'+t+'" property'},singleRequestFailed:function(e,t){var n=t.message||t;return'Request for Slot with name "'+e+'" failed: '+n},linkedRequestFailed:function(e,t){var n=t.message||t;return'Request for Slots with link name "'+e+'" failed: '+n},slotNotFound:function(e){return'[ cns ads slot manager ] The requested slot "'+e+'" does not exist.'}},adBlock:{detected:function(){return"[ cns ads ] adBlock detected on page."}}}}},{}],14:[function(e,t){function n(e){return this.validate(e)?void this.setup(e):!1}var r=e("@condenast/atp-utl/functions").callbackHandler,o=e("@condenast/atp-utl/loop"),a=e("@condenast/atp-utl/objects/options"),i=e("@condenast/atp-utl/objects/merge"),s=e("@condenast/atp-utl/arrays/has"),c=e("@condenast/atp-utl/parse"),l=e("@condenast/atp-utl/type/isArray"),u=e("@condenast/atp-utl/type/isFunction"),d=e("@condenast/atp-utl/type/isObject"),p=e("@condenast/atp-utl/objects/keys"),f=e("@condenast/atp-utl/feature"),m=e("../lang").err.pages,g=e("../reporting"),h=e("../slots/manager").api,v={},y=f.isStorageEnabled();n.prototype.validate=function(e){return e},n.prototype.setup=function(e){this.state=a(v,e),this.cache={},this.targeting={},this.setReferrers(),this.parseForcedURLTargeting(),this.parseQueryStringSpecialCases(),this.processTargeting(),this.setVisitsTargeting(),this.setBucketTargeting(),this.setVideoTargeting(e),this.setAdBlockTargeting(e),this.reportMetrics(),this.onCreatePluginHookHandler().then(this.batchCreateSlots.bind(this,null)).then(this.cacheTheSlots.bind(this))["catch"](function(e){g.compile({type:"error",name:"page_setup_flow_error",error:{msg:e.message,obj:e}})})},n.prototype.setReferrers=function(){var e=document.referrer.split("://")[1]||null,t=null,n=y&&sessionStorage.getItem("ctx_ses_soc")||null,r={fb:"facebook.com",tw:"t.co",rd:"reddit.com",pn:"pinterest.com",ig:"instagram.com",glp:"plus.url.google.com",tbl:"t.umblr.com",qq:"qzone.qq.com",we:"weibo.com",hb:"habbo.com",vk:"vk.com",rr:"renren.com",or:"orkut.google.com",sn:"snapchat.com"};e&&o(r,function(r,o){var a="(^|\\.)"+r;null!==e.match(a)&&(t=o,n=n||y&&sessionStorage.setItem("ctx_ses_soc",o))}),this.state.referrers={social:t,url:e,sessionSocialNetwork:n}},n.prototype.parseForcedURLTargeting=function(){function e(e){var t={},n=e.slice(1).slice(0,-1).split("][");return o(n,function(e){var n=e.split("|");t[n[0]]=n[1].split(",")}),t}var t=c(),n={},r={};t.CNS_ADS_targeting&&(n=e(t.CNS_ADS_targeting)),t.ao_test&&(r.ao_test=t.ao_test),t.ap_test&&(r.ap_test=t.ap_test),this.targeting=i({mergeables:[this.targeting,n,r]})},n.prototype.setVisitsTargeting=function(){function e(e){return e>r?!0:!1}if(y){var t=(new Date).getTime(),n=new Date(t).getDate()-1,r=(new Date).setDate(n);sessionStorage.setItem("session-visits",parseInt(sessionStorage.getItem("session-visits"),10)+1||1);var o=sessionStorage.getItem("session-visits"),a=localStorage.getItem("total-visits"),i=a?a+","+t:t,s=i.toString().split(",").filter(e);localStorage.setItem("total-visits",s.join(",")),this.targeting.sqt=o,this.targeting.sqt24hrs=s.length,this.targeting.usr_pvc_bs=o,this.targeting.usr_pvc_24hr=s.length}},n.prototype.setBucketTargeting=function(){this.targeting.usr_bkt_eva=y&&localStorage.getItem("usr_bkt_eva")||null,this.targeting.usr_bkt_ses=y&&sessionStorage.getItem("usr_bkt_ses")||null,this.targeting.usr_bkt_pv=Math.floor(100*Math.random())+1},n.prototype.setVideoTargeting=function(e){this.targeting.ctx_video=e.video||!1},n.prototype.setAdBlockTargeting=function(e){e.adBlockStatus.blocked&&(this.targeting.ctx_adb_blocked=1),e.adBlockStatus.installed&&(this.targeting.ctx_adb_installed=1)},n.prototype.reportMetrics=function(){g.compile({type:"info",name:"page_created",meta:g.helpers.getReportingData(this.state)})},n.prototype.parseQueryStringSpecialCases=function(){var e=["mbid"];this.targeting=this.targeting||{},o(c(),function(t,n){s(e,n)&&(this.targeting[n]=t,this.targeting["url_"+n]=t)}.bind(this))},n.prototype.processTargeting=function(){var e="cnt",t={};o(this.state.targeting,function(n,r){t[e+"_"+r]=n}),this.targeting=i({mergeables:[this.targeting,t]})},n.prototype.onCreatePluginHookHandler=function(){var e=this.state,t={targeting:this.targeting,meta:{property:e.property,templateType:e.templateType,channel:e.channel,subChannel:e.subChannel,slug:e.slug}};return r({func:e.onCreate,payload:t})},n.prototype.batchCreateSlots=function(e,t){return h.batch.create({environment:this.state.environment,page:{slug:this.state.slug,templateType:this.state.templateType,forChildren:this.state.forChildren,channel:this.state.channel,subChannel:this.state.subChannel,targeting:this.targeting,referrers:this.state.referrers,el:this.state.el},onSlotRender:t||this.state.onSlotRender,contentURI:this.state.contentURI,slotList:e||this.state.slots})},n.prototype.addSlot=function(e,t){if(!e||d(e)&&!e.type)return void g.compile({type:"warn",name:"page_ad_slot_has_no_type_warning",error:{msg:m.hasNoType()}});var n=d(e)&&e.type,r=d(e)&&e.overwrites,o=h.modifySlotType({type:n?e.type:e,overwrites:r?e.overwrites:t,page:this.state.slug,slug:this.state.slug,channel:this.state.channel,subChannel:this.state.subChannel,template:this.state.templateType}),a=this.batchCreateSlots([o],this.onSlotRenderHandler.bind(this,o.onSlotRender));this.cacheTheSlots(a)},n.prototype.onSlotRenderHandler=function(e,t){this.state.onSlotRender&&this.state.onSlotRender(t),e&&e(t)},n.prototype.cacheTheSlots=function(e){var t=[];return o(e,function(e){t.push({id:e.state.id,type:e.state.type,name:e.state.name,groups:e.state.definition.groups,adUnitPath:e.state.adUnitPath});var n="_"+e.getId();this.cache[n]=e}.bind(this)),this.onPageSlotsAddedHandler(t),Promise.resolve()},n.prototype.onPageSlotsAddedHandler=function(e){u(this.state.onPageSlotsAdded)&&this.state.onPageSlotsAdded({slots:e})},n.prototype.filter=function(e,t){return e?void o(this.cache,function(n,r){var a=p(e)[0],i=e[a];l(i)&&("types"===a&&o(i,function(e){e===n.getType()&&t(n,r)}),"names"===a&&o(i,function(e){e===n.getName()&&t(n,r)}),"groups"===a&&o(i,function(e){l(n.getGroups())&&s(n.getGroups(),e)&&t(n,r)}))}):void o(this.cache,function(e,n){t(e,n)})},n.prototype.destroy=function(e){this.filter(e,function(e,t){e.destroy(),this.cache[t]=null,delete this.cache[t]}.bind(this))},n.prototype.refresh=function(e){this.filter(e,function(e){e.refresh()})},n.prototype.getSlot=function(e){var t,n=this,r=n.state;return o(n.cache,function(n){var r=n.state.name;r===e&&(t=n)}),t?{destroy:function(){g.compile({type:"flow",name:"api.pages.get(slug).slots.get(name).destroy",meta:e}),n.destroy({names:[e]})},refresh:function(){g.compile({type:"flow",name:"api.pages.get(slug).slots.get(name).refresh",meta:e}),n.refresh({names:[e]})}}:(g.compile({type:"error",name:"can_not_find_slot_on_page",error:{msg:m.slotNotFound(e,r.slug)}}),!1)},t.exports=n},{"../lang":13,"../reporting":17,"../slots/manager":23,"@condenast/atp-utl/arrays/has":34,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/keys":46,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/objects/options":48,"@condenast/atp-utl/parse":50,"@condenast/atp-utl/type/isArray":53,"@condenast/atp-utl/type/isFunction":61,"@condenast/atp-utl/type/isObject":67}],15:[function(e,t){function n(e){return f=h(j,e),m=!0,Promise.resolve()}function r(e){if(!m)return!1;var t=b(e,"-"),n=S[t];return n?l(n):(_.compile({type:"error",name:"can_not_find_page",error:{msg:g.doesNotExist(e)}}),!1)}function o(e){if(!m)return!1;if(!e.template_type&&!e.templateType)return _.compile({type:"error",name:"no_page_template_type",error:{msg:g.hasNoTemplateType()}}),!1;e.environment=T,e.property=f.property,e.onCreate=f.onCreate,e.adBlockStatus=f.adBlockStatus,a(),i(e),c(e),e.slots=w(f.sets,{overwrites:e.slots,slug:e.slug,channel:e.channel,subChannel:e.subChannel,templateType:e.templateType});var t=e.subChannel?e.channel+"/"+e.subChannel:e.channel;e.contentURI=e.contentURI||t;var n=new k(e);return n?(S[e.slug]=n,l(n)):Promise.reject()}function a(){var e=x&&localStorage.getItem("usr_bkt_eva")||null,t=sessionStorage.getItem("usr_bkt_ses")||null;x&&!e&&localStorage.setItem("usr_bkt_eva",Math.floor(100*Math.random())+1),x&&!t&&sessionStorage.setItem("usr_bkt_ses",Math.floor(100*Math.random())+1)}function i(e){s(e,"template_type","templateType"),s(e,"content_uri","contentURI"),s(e,"sub_channel","subChannel"),s(e,"for_children","forChildren")}function s(e,t,n){e[n]=e[t]||e[n],e[t]=null,delete e[t]}function c(e){y(e,function(t,n){"el"!==n&&(e[n]=b(t,"_"))}),e.slug=b(e.slug,"-")}function l(e){function t(t,n){return _.compile({type:"flow",name:"api.pages.get(slug).slots.add",meta:{slotType:t,overwrites:n}}),e.addSlot.apply(e,arguments)}function n(t){return _.compile({type:"flow",name:"api.pages.get(slug).slots.refresh",meta:t}),e.refresh.apply(e,arguments)}function r(t){return _.compile({type:"flow",name:"api.pages.get(slug).slots.destroy",meta:t}),e.destroy.apply(e,arguments)}function o(){
return _.compile({type:"flow",name:"api.pages.get(slug).destroy",meta:"undefined"}),d.apply(e)}var a={slots:{add:t,get:e.getSlot.bind(e),refresh:n,destroy:r},addSlot:t,destroy:o};return a}function u(e){return m?e&&e.server&&e.device?(_.setup(e),T=e,Promise.resolve()):Promise.reject(g.setEnvironment()):!1}function d(){if(this.state){var e=this.state.slug;return this.destroy(),S[e]=null,void delete S[e]}}function p(){m&&y(S,function(e,t){e.destroy(),S[t]=null,delete S[t]})}var f,m,g=e("../lang").err.pages,h=e("@condenast/atp-utl/objects/options"),v=e("@condenast/atp-utl/feature"),y=e("@condenast/atp-utl/loop"),_=e("../reporting"),b=e("@condenast/atp-utl/strings/slugify"),w=e("../utilities/typeVariant").getVariantFromURI,x=v.isStorageEnabled(),k=e("./Page"),j={},S={},T={server:"staging",device:"desktop"};t.exports={setup:n,api:{get:r,create:o,destroy:p,environment:u}}},{"../lang":13,"../reporting":17,"../utilities/typeVariant":26,"./Page":14,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/options":48,"@condenast/atp-utl/strings/slugify":51}],16:[function(e,t){function n(e){return l=e,u=!0,Promise.resolve()}function r(e,t){u&&(y[e]=t)}function o(e,t){if(!u)return!1;var n=a(t);"onSlotRenderStart"===e&&i(t.dom,n);var r=[];return d(n,function(n){function o(t){return new Promise(function(r){var o=f();t.process={done:function(){g.compile({type:"info",name:"plugin_hook_complete",meta:{plugin_name:n.code,version:n.version,hook_name:e,time_to_complete:o?f()-o:null}}),r()},failed:function(e){g.compile({type:"error",name:"plugin_hook_"+n.code+"_failed",error:{msg:e.message,obj:e}}),r()}},a.call(null,t)})}if(n&&n.hooks[e]&&p(t)){var a=n.hooks[e],i=s(t);c(n.code,t);var u=i(n.code),d=l.timeout?l.timeout:1e3,h=m({func:o,payload:u,timeout:d,onTimeout:function(){g.compile({type:"info",name:"plugin_hook_timeout",meta:{plugin_name:n.code,version:n.version,hook_name:e}})}});r.push(h)}}),new Promise(function(e){Promise.all(r).then(function(){e()})["catch"](function(t){g.compile({type:"error",name:"plugin_manager_promise_flow_failed",error:{msg:t.message,obj:t}}),e()})})}function a(e){function t(e,t){return Object.keys(e).reduce(function(n,r){var o=e[r];return t(r,o)&&(n[r]=o),n},{})}if(!e.pluginRules)return y;var n=e.pluginRules;return n.blockAll===!0?{}:h(n.allow)&&n.allow.length?t(y,function(e,t){return v(n.allow,t.code.toLowerCase())||v(n.allow,e.toLowerCase())}):h(n.ignore)?t(y,function(e,t){return!v(n.ignore,t.code.toLowerCase())&&!v(n.ignore,e.toLowerCase())}):y}function i(e,t){if(t){var n={};d(t,function(e,t){n[t]={},d(e.api,function(r,o){n[t][o]=function(){e.api[o].apply(null,arguments)}})}),e.window.cns_ads&&(e.window.cns_ads.plugins=n)}}function s(e){return function(t){var n={};return e.targeting&&(n.addTargeting=function(n,r){var o=_+"_"+t+"_"+n;"rub"===t&&(o=n),e.targeting[o]=r}),e.meta&&(n.getMeta=function(){return e.meta}),e.dom&&(n.getDOM=function(){return e.dom}),e.render&&(n.getRender=function(){return e.render}),n}}function c(e,t){"cst"!==e&&(t.render=null)}var l,u,d=e("@condenast/atp-utl/loop"),p=e("@condenast/atp-utl/type/isObject"),f=e("@condenast/atp-utl/feature").performance.now,m=e("@condenast/atp-utl/functions").callbackHandler,g=e("../reporting"),h=e("@condenast/atp-utl/type/isArray"),v=e("@condenast/atp-utl/arrays/has"),y={},_="vnd";t.exports={setup:n,api:{add:r,runHook:o}}},{"../reporting":17,"@condenast/atp-utl/arrays/has":34,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/type/isArray":53,"@condenast/atp-utl/type/isObject":67}],17:[function(e,t){function n(e){h=e.server,v=e.device,T=!0,r()}function r(){y(S,function(e){o(e)})}function o(e){T?(e.environment=h,e.meta.device=v,s(e),c(e.type)):S.push(e)}function a(e){var t=i(e),n=t.meta||{};n.ver_cns_ads=k;var r=t.regex?l(t.regex):n,a={campaign:j,error:t.error,meta:r,name:t.name,type:t.type};o(a)}function i(e){if(!e.meta||!e.meta.plugin_name||!e.meta.version)return e;var t="ver_"+e.meta.plugin_name.toLowerCase();return e.meta[t]=e.meta.version,delete e.meta.version,e}function s(e){cns.async("metrics",function(t){t.emit(e)})}function c(e){"error"!==e||A||(console.error("An error has occurred in CNS Ads, use \"cns.log.on('error');\" or \"cns.log.on('all');\" to see the log"),A=!0)}function l(e){if(!_())return!1;var t=window.performance.getEntries(),n=new RegExp(e),r=t.filter(u(n))[0];return r?{requestStart:r.startTime,requestEnd:r.responseEnd,init:b()}:!1}function u(e){return function(t){return e.test(t.name)}}function d(){var e=0;return y(document.images,function(t){var n=t.width*t.height;e+=n}),e}function p(e,t){var n=e.cns_ads?e.cns_ads.tracker:{};return w.getData(e,{getErrors:n.getErrors,cutoff:t})}function f(e){var t=!!e.page,n=d(),r={content_uri:e.contentURI,image_avg_surface:n&&n/document.images.length,image_count:document.images.length,image_surface:n,server:e.environment&&e.environment.server,usr_bkt_eva:x&&window.localStorage.getItem("usr_bkt_eva"),usr_bkt_ses:x&&window.sessionStorage.getItem("usr_bkt_ses"),vp_height:document.documentElement.clientHeight,vp_width:document.documentElement.clientWidth};return t&&g(e,r)||m(e,r)}function m(e,t){return t.channel=e.channel,t.referrers_social=e.referrers&&e.referrers.social,t.referrers_url=e.referrers&&e.referrers.url,t.slots_count=e.slots&&e.slots.length,t.sub_channel=e.subChannel,t.tags=e.targeting&&e.targeting.tags&&[].concat(e.targeting.tags).join(","),t.template=e.templateType,t}function g(e,t){return t.channel=e.page.channel,t.ctx_template=e.page.templateType,t.id=e.id,t.instance=e.name.split("_").pop(),t.name=e.name,t.out_of_page=("_out_of_page"===e.definition.type).toString(),t.position_fold=t.vp_height-e.els.container.offsetTop>0?"atf":"btf",t.position_xy=e.els.container.offsetTop+"x"+e.els.container.offsetLeft,t.referrers_social=e.page.referrers.social,t.referrers_url=e.page.referrers.url,t.refreshed=e.report.isRefresh,t.request_number=e.context_targeting&&e.context_targeting.ctx_slot_rn||0,t.session_social_network=e.page.referrers.sessionSocialNetwork,t.sub_channel=e.page.subChannel,t.tags=e.page.targeting.cnt_tags&&[].concat(e.page.targeting.cnt_tags).join(","),t.template=e.page.templateType,t.type=e.type,t}var h,v,y=e("@condenast/atp-utl/loop"),_=e("@condenast/atp-utl/feature").isGetEntriesEnabled,b=e("@condenast/atp-utl/feature").performance.now,w=e("./tracker"),x=e("@condenast/atp-utl/feature").isStorageEnabled(),k=e("../../package.json").version,j="cns_ads",S=[],T=!1,A=!1;t.exports={setup:n,compile:a,helpers:{getImageArea:d,getTrackerData:p,getReportingData:f}}},{"../../package.json":27,"./tracker":18,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/loop":44}],18:[function(e,t){function n(e){var t=e.match(/\.([^\.\/\?]+)(?:$|\?)/);return t?t[1].toLowerCase():null}function r(e,t,r){var o=e.name,a=r.threshold||.001;if(r.cutoff&&e.startTime<r.cutoff-a)return!1;if(t.initiator&&e.initiatorType===t.initiator)return!0;var i=n(o);return-1!==t.extensions.indexOf(i)}function o(e,t,n){var o={},a=e.performance.getEntries();return m(a,function(e){var a=e.name,i=r(e,t,n);i&&(o[a]=e)}),o}function a(e,t){var n=e[t.attr];return n?!0:!1}function i(e,t){var n={};if(!t.key)return n;var r=e.document[t.key];return m(r,function(e){var r=e[t.attr],o=a(e,t);o&&(n[r]=e)}),n}function s(e){var t={},n=e.document.getElementsByTagName("iframe");return m(n,function(e){var n=e.src;n&&(t[n]=e)}),t}function c(e){return g(e).length}function l(e,t,n){var r={frames:s(e)},a=t?i:o;return m(v,function(t){r[t.type]=a(e,t,n)}),r}function u(e){var t={js:0,resource:{js:0,css:0,image:0}};return m(e,function(e){if(e.target&&e.target.tagName){var n=e.target.tagName,r=y[n];r&&t.resource[r]++}else t.js++}),t}function d(e){var t={},n=e.performance.getEntries();if(n.length>0){var r=n[n.length-1];t.latestStart=r.startTime}return t}function p(e){var t=u(e.errors),n=t.resource,r=c(e.files.js),o=c(e.files.css),a=c(e.files.images),i=c(e.files.fonts),s=c(e.files.frames),l={fallback:e.fallback,files:{js:r,css:o,images:a,fonts:i,frames:s},raw:{errors:e.errors,files:e.files}};return e.fallback||(l.files.js+=n.js,l.files.css+=n.css,l.files.images+=n.image,l.files.latestStart=e.files.latestStart,l.performance=d(e.win)),l.errors=e.errors?t:{untracked:!0},l}function f(e,t){var n=t||{},r=n.fallback||!h(),o=l(e,r,n),a=n.getErrors?n.getErrors():null,i=p({win:e,files:o,errors:a,fallback:r});return i}var m=e("@condenast/atp-utl/loop"),g=e("@condenast/atp-utl/objects/keys"),h=e("@condenast/atp-utl/feature").isGetEntriesEnabled,v={js:{type:"js",initator:"script",extensions:["js"],key:"scripts",attr:"src"},css:{type:"css",extensions:["css"],key:"styleSheets",attr:"href"},images:{type:"images",initiator:"img",extensions:["jpg","jpeg","jpe","jif","jfif","jfi","gif","png","webp","tiff","tif","svg","svgz","bmp","dib","ico"],key:"images",attr:"src"},fonts:{type:"fonts",extensions:["ttf","otf","eot","woff","woff2"]}},y={img:"image",IMG:"image",link:"css",LINK:"css",script:"js",SCRIPT:"js"};t.exports={getData:f}},{"@condenast/atp-utl/feature":41,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/keys":46}],19:[function(e,t){function n(e){this.setup(e)}var r=e("@condenast/atp-utl/objects/merge"),o=e("@condenast/atp-utl/functions").callbackHandler,a=e("@condenast/atp-utl/animations"),i=e("@condenast/atp-utl/loop"),s=e("@condenast/atp-utl/parse"),c=e("@condenast/atp-utl/type/isString"),l=e("@condenast/atp-utl/type/isNumber"),u=e("@condenast/atp-utl/arrays/has"),d=e("@condenast/atp-utl/strings/slugify"),p=e("@condenast/atp-utl/dom/iframe").isFriendly,f=e("@condenast/atp-utl/feature"),m=f.performance.now,g=e("@condenast/atp-utl/functions").bump,h=e("../dom"),v=e("../lang").err.slots,y=e("../reporting"),_=e("@condenast/atp-utl/visibility").isHidden,b=e("@condenast/atp-utl/functions").generateRandomID,w=e("../utilities/typeVariant").getVariantFromURI,x=1e3;n.prototype.setup=function(e){this.createStateObject(e),this.stage().then(this.addEventListeners.bind(this)).then(this.startRequestabilityLoop.bind(this))["catch"](function(e){y.compile({type:"error",name:"slot_setup_stage_flow",error:{msg:e.message,obj:e}})})},n.prototype.createStateObject=function(e){var t=this.state=e;t.GET=s(),t.els={},t.report={created:m(),frameContext:{}},t.creative={isEmpty:!1,isRendered:!1,ids:{}},t.request={inProgress:!1,timestamp:!1},t.ui={hasBeenStaged:!1,isInVPRange:!1},t.viewability={hasBeenViewed:!1,hasBeenGPTViewed:!1,hasBeenMOATViewed:!1,isMOATPresent:!1,inViewPercentage:0},t.completedCheckInterval=t.completedCheckInterval||x,t.plugins={allow:e.definition.plugins,ignore:e.definition.ignore_plugins,blockAll:e.definition.ignore_all_plugins},this.setRefreshBehavior(t.definition.refresh),this.generateIds(),this.generateTargeting(),this.generateAttributes()},n.prototype.setRefreshBehavior=function(e){var t=this.state,n=t.refreshDelay;t.request.onlyOnce=e===!1,t.request.delay=l(e)?e:n},n.prototype.generateIds=function(){var e=this.state,t=e.definition.id,n=Date.now()+b(),r=t&&c(t)?t:null,o=t?t[e.environment.device]:null,a="cns_ads_"+n+"_"+e.name,i=r||o,s=h.get("#"+i);e.id=i||n,e.ids={dom_prefix:a,stage:a+"_stage",container:i&&!s?i:a+"_container"}},n.prototype.generateAttributes=function(){var e=this.state,t=e.definition.data,n=t&&t[e.environment.device]||t;e.data={},n&&i(n,function(t,n){e.data["data-"+n]=t})},n.prototype.generateTargeting=function(){this.setEnvTargeting(),this.setContextTargeting(),this.setReportingDataTargeting(),this.setPageTargeting(),this.setSlotTargeting()},n.prototype.setEnvTargeting=function(){var e=this.state;e.env_targeting={env_device_type:e.environment.device,env_server:e.environment.server}},n.prototype.setContextTargeting=function(){var e=this.state;e.context_targeting={ctx_referrer:e.page.referrers.url,ctx_ref_url:e.page.referrers.url,ctx_soc_net:e.page.referrers.social,ctx_ref_soc:e.page.referrers.social,ctx_ses_soc:e.page.referrers.sessionSocialNetwork,ctx_template:e.page.templateType,ctx_page_slug:e.page.slug,ctx_page_channel:e.page.channel,ctx_page_sub_channel:e.page.subChannel,ctx_slot_name:e.name,ctx_slot_instance:e.name,ctx_slot_type:e.type,ctx_slot_rn:0,ctx_video:e.page.targeting.ctx_video}},n.prototype.setReportingDataTargeting=function(){var e=this.state,t=e.environment.device,n=e.page.templateType;e.reporting_data_targeting={rdt_device_template:t+"_"+n}},n.prototype.setSlotTargeting=function(){var e=this.state,t={ctx_slot_name:e.context_targeting.ctx_slot_name,ctx_slot_instance:e.context_targeting.ctx_slot_instance,ctx_slot_type:e.context_targeting.ctx_slot_type,ctx_slot_rn:e.context_targeting.ctx_slot_rn};e.slot_targeting=r({mergeables:[t,e.onRequest_targeting]})},n.prototype.setPageTargeting=function(){var e=this.state,t={ctx_referrer:e.context_targeting.ctx_referrer,ctx_ref_url:e.context_targeting.ctx_ref_url,ctx_soc_net:e.context_targeting.ctx_soc_net,ctx_ref_soc:e.context_targeting.ctx_ref_soc,ctx_ses_soc:e.context_targeting.ctx_ses_soc,ctx_template:e.context_targeting.ctx_template,ctx_page_slug:e.context_targeting.ctx_page_slug,ctx_page_channel:e.context_targeting.ctx_page_channel,ctx_page_sub_channel:e.context_targeting.ctx_page_sub_channel,ctx_video:e.context_targeting.ctx_video};e.page_targeting=r({mergeables:[e.env_targeting,e.reporting_data_targeting,e.page.targeting,t]})},n.prototype.stage=function(){var e=this.state,t=e.definition.render.slot.method,n=e.definition.render.slot.el;return this.validateStageability(n,t)?this.appendStage(n,t).then(this.onStaged.bind(this))["catch"](function(e){y.log.error({type:"error",name:"slot_stage_flow",error:{msg:e.message,obj:e}})}):Promise.reject(v.definition.canNotRenderStage(e.name,e.definition.render.slot.el,t))},n.prototype.validateStageability=function(e,t){var n=this.state;if(n.ui.hasBeenStaged)return y.compile({type:"error",name:"slot_validate_stageability",error:{msg:v.instance.alreadyStaged(n.name,n.page.slug)}}),!1;var r="function"==typeof h[t],o=document.body.contains(e),a=o&&r;return a?!0:!1},n.prototype.appendStage=function(e,t){return new Promise(function(n,r){var o=this.state;return this.createStageEl(),o.els.stage&&e&&t?(h[t](o.els.stage,e),o.ui.hasBeenStaged=!0,void g(n)):void r()}.bind(this))},n.prototype.createStageEl=function(){var e=this.state,t=d(e.name.toLowerCase(),"-"),n=d(e.type.toLowerCase(),"-"),r="cns-ads-slot-type-",o=document.createElement("div"),a="cns-ads-stage",i=r+n,s=r+t,c=this.createContainerEl();return o.setAttribute("data-name",e.name),o.setAttribute("data-slot-type",e.type),o.id=e.ids.stage,o.classList.add(a),o.classList.add(i),o.classList.add(s),this.setDefaultInlineStyles(o),"_out_of_page"===e.definition.type&&(this.state.isHidden=!0,o.style.height=0,o.style.width=0,o.style.padding=0,o.style.margin=0,o.classList.add("cns-ads-slot-type-out-of-page")),o.appendChild(c),e.els.stage=o,o},n.prototype.createContainerEl=function(){var e=this.state,t=document.createElement("div"),n="cns-ads-container";return t.classList.add(n),t.id=e.ids.container,this.setContainerDataAttrs(t),this.setDefaultInlineStyles(t),t.style.margin="0 auto",t.style.boxSizing="content-box",e.els.container=t,t},n.prototype.setContainerDataAttrs=function(e){var t=this.state.data;Object.keys(t)&&i(t,function(t,n){e.setAttribute(n,t)})},n.prototype.setDefaultInlineStyles=function(e){e.style.fontSize=0,e.style.lineHeight=0,e.style.overflow="hidden"},n.prototype.onStaged=function(){var e=this.state,t={targeting:e.slot_targeting,pluginRules:e.plugins};return e.report.staged=m(),y.compile({type:"info",name:"slot_staged",meta:y.helpers.getReportingData(this.state)}),o({func:e.onStaged,payload:t})},n.prototype.isInDom=function(){return document.documentElement.contains(this.state.els.container)},n.prototype.checkRequestability=function(e){var t=this.state,n=t.request,r=t.viewability;if(!this.isInDom())return y.compile({type:"error",name:"destroy_called_slot_not_in_dom",error:{msg:v.destroyedNotExist(t.name)}}),this.destroy(),!1;var o=_(t.els.container)&&!t.canBeHidden,a=this.isFirstRequest(),i=!!e,s=t.isUserInteracting&&!i,c=5e3,l=n.timestamp&&Date.now()>n.timestamp+c,u=i||n.timestamp&&Date.now()>n.timestamp+n.delay,d=i||r.hasBeenViewed||!r.hasBeenViewed&&l,p=n.inProgress,f=!a&&this.requestOnlyOnce()||o,m=!f&&d&&u||a&&!o,g=!p&&m&&this.isInVPRange()&&!s;return g&&this.request(),g},n.prototype.isInVPRange=function(){var e=this.state,t=e.request.timestamp?e.refresh_vp_range:e.request_vp_range,n=w(t,e.page)[e.environment.device];if(e.els.container){var r=-n,o=document.documentElement.clientHeight+n,a=-n,i=document.documentElement.clientWidth+n,s=e.els.container.getBoundingClientRect();return e.isInViewportRange=s.top<o&&s.bottom>r&&s.left<i&&s.right>a||!e.definition.request_in_vp_only,e.isInViewportRange&&!e.report.inViewport&&(e.report.inViewport=m()),e.isInViewportRange}return!1},n.prototype.request=function(){var e=this.state,t=e.id;return e.ui.hasBeenStaged?void e.onRequest(t):(y.compile({type:"error",name:"slot_request_not_staged",error:{msg:v.cantRequestNotStaged(e.name,e.page.slug)}}),void(e.request.inProgress=!1))},n.prototype.prepareForRequest=function(){var e=this.state,t=e.identifiers.human_slug,n=e.identifiers.overwrite,r=n||t;return this.setPreRequestSlotState(),this.reportTrackerData(),this.reportRequestData(),o({func:e.onPluginHook,payload:{targeting:e.onRequest_targeting,meta:{type:e.definition.type,sizes:e.definition.sizes&&e.definition.sizes[e.environment.device],id:e.ids.container,network:e.network,baseUA:r,requestNumber:e.context_targeting.ctx_slot_rn},pluginRules:e.plugins}}).then(function(){this.setSlotTargeting()}.bind(this))},n.prototype.getRequestData=function(){var e=this.state,t=!!e.definition.sizes,n=t?e.definition.sizes[e.environment.device]:void 0;return{name:e.name,out_of_page:"_out_of_page"===e.type,id:e.ids.container,forChildren:e.page.forChildren,stage:e.els.stage,page:e.page.slug,sizes:n,slotTargeting:e.slot_targeting,pageTargeting:e.page_targeting}},n.prototype.reportTrackerData=function(){var e=this.state;if(e.report.rendered){var t=this.getTrackerData(),n=this.getCreativeMetrics();n.pageLoad_to_requested=e.report.requested,n.pageLoad_to_in_viewport=e.report.inViewport,y.compile({type:"info",name:"slot_collected",meta:r({mergeables:[n,t]})})}},n.prototype.getTrackerData=function(){var e=this.state,t={};if(null===m())return t;var n=e.els.iframe;if(n&&p(n)){var r=n.contentWindow,o=e.report.frameRequested||0,a=y.helpers.getTrackerData(r,o),i=a.errors.untracked;t.errors_untracked=i,i||(t.errors_js=a.errors.js,t.errors_resource_js=a.errors.resource.js,t.errors_resource_css=a.errors.resource.css,t.errors_resource_image=a.errors.resource.image),t.files_js=a.files.js,t.files_css=a.files.css,t.files_images=a.files.images,t.files_fonts=a.files.fonts,t.files_frames=a.files.frames,t.files_fallback=a.fallback}return t},n.prototype.setPreRequestSlotState=function(){var e=this.state,t=e.els.iframe;e.onRequest_targeting={},e.report.isRefresh=!0,e.request.inProgress=!0,e.creative.isRendered=!1,e.viewability.hasBeenGPTViewed=!1,e.viewability.hasBeenMOATViewed=!1,e.request.timestamp=Date.now(),e.report.requested=m(),t&&p(t)&&(e.report.frameRequested=m(t.contentWindow))},n.prototype.reportRequestData=function(){var e=this.state,t=y.helpers.getReportingData(this.state);t.pageLoad_to_requested=e.report.requested,t.pageLoad_to_in_viewport=e.report.inViewport,y.compile({type:"info",name:"slot_requested",meta:t})},n.prototype.onImpressionViewable=function(){var e=this.state;e.viewability.hasBeenGPTViewed=!0,e.viewability.hasBeenViewed=!0,e.report.impressionViewable=m()},n.prototype.onVisibilityChange=function(e){var t=this.state,n=t.viewability.isViewable||!1,r=!!e.inViewPercentage;if(r!==n){var o=y.helpers.getReportingData(this.state);if(t.report.now=m(),null!==t.report.now&&(t.report.in_viewport_to_visible_change=m()-t.report.inViewport,t.report.impression_viewable_to_visible_change=m()-t.report.impressionViewable||"impression not viewable"),o.visible_percentage=e.inViewPercentage.toString(),o.visible=r.toString(),t.viewability.inViewPercentage=e.inViewPercentage,t.viewability.isViewable=!!e.inViewPercentage,o.in_viewport_to_visible_change=t.report.in_viewport_to_visible_change,o.impression_viewable_to_visible_change=t.report.impression_viewable_to_visible_change,window.data=o,t.creative.ids&&t.creative.ids.advertiserId){var a=this.getCreativeMetrics();i(Object.keys(a),function(e){o[e]=a[e]})}y.compile({type:"info",name:"slot_visibility_change",meta:o})}},n.prototype.onMOATViewable=function(){var e=this.state;e.viewability.hasBeenMOATViewed=!0,e.viewability.hasBeenViewed=!0},n.prototype.onMOATPresent=function(){var e=this.state;e.viewability.isMOATPresent=!0},n.prototype.onIDCheck=function(){var e=this.state;return e.creative.ids},n.prototype.startRequestabilityLoop=function(){var e=5;return this.checkRequestability(),this.state.fpsLoop=a(this.checkRequestability.bind(this),e),Promise.resolve()},n.prototype.addEventListeners=function(){var e,t=this.state.els.container;return this.userOffAd=function(){this.state.isUserInteracting=!1,clearTimeout(e)}.bind(this),this.userHoverContainer=function(t){this.state.isUserInteracting=!0,e=setTimeout(function(){if("mouseenter"===t.type&&!this.state.report.hoverReported){var e=this.getCreativeMetrics();y.compile({type:"info",name:"slot_hovered",meta:e}),this.state.report.hoverReported=!0}}.bind(this),500)}.bind(this),this.onVisibilityChange=function(){var e=this.state.fpsLoop;e&&(document.hidden?e.pause():e.resume())}.bind(this),document.addEventListener("visibilitychange",this.onVisibilityChange,!0),t.addEventListener("mouseout",this.userOffAd,!0),t.addEventListener("mouseenter",this.userHoverContainer,!1),Promise.resolve()},n.prototype.onRenderStart=function(e){var t=this.state,n='iframe[id^="google_ads_iframe"]:not([id$="to_be_removed__"]):not([id$="hidden__"])',r=t.els.container.querySelector(n);t.els.iframe=r;var a=!1,i=!1;this.setPostRenderSlotState(e),window.requestAnimationFrame(function(){this.setPostRenderStageElState(e),this.setPostRenderContainerElState(e)}.bind(this)),this.addiFrameEventListeners();var s=this.getCreativeMetrics();return y.compile({type:"info",name:"slot_rendered",meta:s}),p(r)?(a=t.els.iframe.contentWindow,i=a.document):y.compile({type:"info",name:"unfriendly_iframe",meta:s}),o({func:t.onRenderStart,payload:{meta:{renderedSize:e.dimensions.string,domID:e.domID,slotType:t.definition.type,isHidden:t.isHidden,container:t.els.container},dom:{window:a,document:i},render:t.definition.render[t.environment.device],pluginRules:t.plugins}})},n.prototype.setPostRenderSlotState=function(e){var t=this.state;t.report.rendered=m(),t.context_targeting.ctx_slot_rn++,t.request.inProgress=!1,t.creative.isRendered=!0,t.report.hoverReported=!1,t.meta=e,t.meta.domID=t.ids.container,t.creative.renderedSize=e.dimensions.string,t.creative.isEmpty=e.isEmpty,t.creative.ids.advertiserId=e.advertiser,t.creative.ids.creativeId=e.creative,t.creative.ids.lineItem=e.lineItem,t.creative.ids.order=e.order,t.creative.ids.topUnit=e.top_unit,t.creative.ids.unit=e.unit,this.setPostRenderMods()},n.prototype.setPostRenderMods=function(){function e(e,n){var o=t.creative,a=r[e],i=o[a]||o.ids[a];return u(n,i)}var t=this.state,n={refresh:{"with":this.setRefreshBehavior.bind(this),withDefaults:this.setRefreshBehavior.bind(this,t.definition.refresh)}},r={sizes:"renderedSize","creative-ids":"creativeId","advertiser-ids":"advertiserId"};i(t.definition.mods,function(t,r){var o=r.split("|"),a=o[0],s=o[1].split(","),c=e(a,s);i(t,function(e,t){c?n[t]["with"](e):n[t].withDefaults()})})},n.prototype.setPostRenderStageElState=function(e){var t=this.state,n=t.creative.isEmpty,r=t.els.stage,o=e.dimensions.string,a=[],i=[],s="1x1"===o;t.lastAdSize&&o&&i.push("cns-ads-slot-size-"+t.lastAdSize),o&&(a.push("cns-ads-slot-size-"+o),t.lastAdSize=o),n?(i.push("cns-ads-slot-state-filled"),a.push("cns-ads-slot-state-empty"),this.state.isHidden=!0):(i.push("cns-ads-slot-state-empty"),a.push("cns-ads-slot-state-filled"),this.state.isHidden=!1,h.styles.update({el:r,drop:["height","width","padding","margin"]})),h.classes.update({el:r,add:a,drop:i}),(n||s)&&h.styles.update({el:r,add:{height:0,width:0,padding:0,margin:0}})},n.prototype.setPostRenderContainerElState=function(e){var t=this.state,n=t.els.container,r=e.dimensions;h.styles.update(e&&e.isSized?{el:n,add:{height:r.height+"px",width:r.width+"px"}}:{el:n,drop:["height","width"]})},n.prototype.addiFrameEventListeners=function(){var e=this.getCreativeMetrics();if(p(this.state.els.iframe)){var t=this.state.els.iframe.contentDocument.body;this.userClickedAd=function(){y.compile({type:"info",name:"slot_clicked",meta:e})},t.addEventListener("click",this.userClickedAd,!0),t.addEventListener("touchstart",this.userClickedAd,!0)}},n.prototype.getCreativeMetrics=function(){var e=this.state,t=y.helpers.getReportingData(this.state);return t.advertiser_id=e.creative.ids.advertiserId,t.creative_id=e.creative.ids.creativeId,t.creative_type="sized",t.is_empty=e.creative.isEmpty,t.line_item_id=e.creative.ids.lineItem,t.order_id=e.creative.ids.order,t.pageLoad_to_in_viewport=e.report.inViewport,t.pageLoad_to_requested=e.report.requested,t.pageLoad_to_rendered=e.report.rendered,t.rendered_size=e.creative.renderedSize,t.request_to_rendered=e.report.rendered-e.report.requested,t.top_unit_id=e.creative.ids.topUnit,t.unit_id=e.creative.ids.unit,t},n.prototype.getId=function(){return this.state.id},n.prototype.getSuffix=function(){return this.state.definition.suffix},n.prototype.getMeta=function(){return this.state.meta},n.prototype.destroy=function(){var e=this.state,t=e.id;return this.removeStageEl(),this.removeEventListeners(),this.removeRequestabilityLoop(),e.onDestroy(t)},n.prototype.removeStageEl=function(){var e=this.state.els.stage,t=e.parentNode;document.documentElement.contains(e)&&document.documentElement.contains(t)&&t.removeChild(e)},n.prototype.removeEventListeners=function(){var e=this.state.els.container;document.removeEventListener("visibilitychange",this.onVisibilityChange,!0),e.removeEventListener("mouseout",this.userOffAd,!0),e.removeEventListener("mouseenter",this.userHoverContainer,!1)},n.prototype.removeRequestabilityLoop=function(){this.state.fpsLoop&&(this.state.fpsLoop.kill(),this.state.fpsLoop=null,delete this.state.fpsLoop)},n.prototype.refresh=function(){this.checkRequestability(!0)},n.prototype.getType=function(){return this.state.type},n.prototype.getName=function(){return this.state.name},n.prototype.getGroups=function(){return this.state.definition.groups},n.prototype.isFirstRequest=function(){return!this.state.request.timestamp},n.prototype.requestOnlyOnce=function(){return!!this.state.request.onlyOnce},t.exports=n},{"../dom":11,"../lang":13,"../reporting":17,"../utilities/typeVariant":26,"@condenast/atp-utl/animations":33,"@condenast/atp-utl/arrays/has":34,"@condenast/atp-utl/dom/iframe":40,"@condenast/atp-utl/feature":41,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/parse":50,"@condenast/atp-utl/strings/slugify":51,"@condenast/atp-utl/type/isNumber":66,"@condenast/atp-utl/type/isString":69,"@condenast/atp-utl/visibility":71}],20:[function(e,t){function n(){return se(document.location.href)||se(document.referrer)?(ue.compile({type:"error",name:"gpt_stopped_PII found",error:{msg:le.haltPII()}}),void(K=!0)):void(Q||(o(),a()))}function r(e){var t=[],r=[];Q||n(),te(e,function(e){var n=e.id,o=he.byTag[n];o?t.push(e):r.push(e)}),j(r),R(t)}function o(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],J=window.googletag;var e=document.createElement("script");e.async=!0,e.src="//www.googletagservices.com/tag/js/gpt.js",e.id="gpt-script",document.head.appendChild(e),Q=!0}function a(){i(),w(),x(),k()}function i(){s(),window.moatCondeListener=c,l(function(){J.pubads().addEventListener("slotRenderEnded",u),J.pubads().addEventListener("impressionViewable",_),J.pubads().addEventListener("slotVisibilityChanged",b)})}function s(){X({path:"googletag.apiReady",poll:{limit:1500},onReady:function(){ue.compile({type:"info",regex:"/tag/js/gpt.js",name:"library_gpt"})},onFailure:function(e){ue.compile({type:"error",name:"gpt_not_ready",error:{msg:le.notReady(e.message),obj:e}})}})}function c(e){var t=e.adKeywords.zMoatPS,n=he.byTag;e.wasViewable&&te(n,function(e){e.name===t&&e.onMOATViewableEvent()})}function l(e){!K&&Q&&J.cmd.push(e)}function u(e){var t,n=e.slot.getSlotElementId(),r=p(n),o=e.isEmpty,a='[id^="google_ads_iframe"]:not([id$="to_be_removed__"]):not([id$="hidden__"])',i=r.stage.querySelector("iframe"+a),s=r.stage.querySelector("div"+a),c=g(i);o?(c.isEmpty=!0,c.dimensions={string:null}):(t=f(e.size),c.dimensions=t,c.isEmpty=!1,c.isSized=m(t.string),c.advertiser=d(e.advertiserId),c.creative=d(e.creativeId),c.order=d(e.campaignId),c.lineItem=d(e.lineItemId),y(s,i,t)),h(r),v(r,i),r.onRenderStart(c)}function d(e){return null===e||void 0===e?"programmatic":e.toString()}function p(e){return he.byTag[e]}function f(e){return{width:e[0],height:e[1],string:e[0]+"x"+e[1]}}function m(e){var t=["1x1"],n=ne(t,e)||re(e,"9x");return!n}function g(e){if(!ie(e))return{};var t=e.contentWindow,n=t.cns_ads_meta||t.cns_ads&&t.cns_ads.meta||{};return n}function h(e){e.requestOptions.isRefresh||(e.requestOptions.isRefresh=!0)}function v(e,t){ce(function(){if(ie(t)){var n=t.contentWindow,r=n.document,o=!!r.querySelector('[src*="moatads.com"]');o&&e.onMOATPresent()}})}function y(e,t,n){var r,o;m(n.string)?(r=n.width,o=n.height,window.requestAnimationFrame(function(){de.styles.update({el:e,add:{height:o+"px",width:r+"px","min-width":r+"px"}}),de.styles.update({el:t,add:{height:o+"px",width:r+"px","min-width":r+"px"}})})):window.requestAnimationFrame(function(){e.classList.add("cns-ads-size-exception")})}function _(e){var t=e.slot.getSlotElementId(),n=p(t);n&&ee(n.onImpressionViewable)&&n.onImpressionViewable(e)}function b(e){var t=e.slot.getSlotElementId(),n=p(t);n&&ee(n.onVisibilityChange)&&n.onVisibilityChange(e)}function w(){l(function(){J.pubads().enableSingleRequest(),J.pubads().disableInitialLoad(),J.disablePublisherConsole(),J.enableServices()})}function x(){ce(N),setInterval(N,me)}function k(){var e=document.createElement("style"),t=document.createTextNode("");e.classList.add("cns-ads-iframe-styles"),e.appendChild(t),document.head.appendChild(e),e.sheet.insertRule('iframe[id^="google_ads_iframe"],div[id*="google_ads_iframe"] {margin: 0 auto;padding: 0;height: 0;width: 100%;min-width: 100%;}',e.sheet.cssRules.length),e.sheet.insertRule('.cns-ads-size-exception iframe[id^="google_ads_iframe"],div[id*="google_ads_iframe"] {height: 100%;}',e.sheet.cssRules.length)}function j(e){var t=[];te(e,function(e){t.push(S(e))}),Promise.all(t).then(R)["catch"](function(e){ue.compile({type:"error",name:"new_tag_creation_error",error:{msg:le.newTagError(e.message),obj:e}})})}function S(e){return new Promise(function(t,n){l(function(){var r=T(e);return r?(r.addService(J.pubads()),C(e,r),void t(e)):void n(le.cantCreateSlot())})})}function T(e){var t=A(e.sizes),n=e.adUnitPath,r=e.id,o=e.out_of_page;return o?J.defineOutOfPageSlot(n,r):J.defineSlot(n,t,r)}function A(e){var t=[];return te(e,function(e){var n=e.split("x");n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),t.push(n)}),t}function C(e,t){var n,r=he.byTag,o=he.byPageName;r[e.id]={name:e.name,stage:e.stage,onIDCheck:e.onIDCheck,onRenderStart:e.onRenderStart,onRenderEnd:e.onRenderEnd,onImpressionViewable:e.onImpressionViewable,onVisibilityChange:e.onVisibilityChange,onMOATPresent:e.onMOATPresent,onMOATViewableEvent:e.onMOATViewableEvent,requestOptions:{adUnitPath:e.adUnitPath,hasDefaultPath:e.hasDefaultPath,tag:t,out_of_page:e.out_of_page,id:e.id,forChildren:e.forChildren,page:e.page,isRefresh:!1,sizes:e.sizes}},o[e.page]||(o[e.page]={}),n=o[e.page],n[e.id]||(n[e.id]=r[e.id])}function R(e){O(e).then(D)["catch"](function(e){ue.compile({type:"error",name:"gpt_slot_request_failed",error:{msg:le.requestFailed(e.message),
obj:e}})})}function O(e){return new Promise(function(t){te(e,function(e){var t=he.byTag[e.id],n=t.requestOptions.tag,r=e.pageTargeting,o=e.slotTargeting;q(r),E(n,o)}),t(e)})}function E(e,t){te(t,function(t,n){var r=P(n,t);r&&e.setTargeting(r.key,r.target)})}function P(e,t){var n={};return t&&"null"!==t||0===t?(n.key=oe(e,"_"),n.target=I(t),n.key.length>20&&ue.compile({type:"error",name:"gpt_targeting_key_limit",error:{msg:le.keyExceedsCharLimit(n.key)}}),n):!1}function I(e){return ae(e)?e:e.toString()}function q(e){te(e,function(e,t){var n=P(t,e);n&&l(function(){J.pubads().setTargeting(n.key,n.target)})})}function D(e){te(e,function(e){var t=e.id,n=he.byTag[t],r=n.requestOptions,o=r.page;fe[o]||(fe[o]=[]),M(t,o)||fe[o].push(r)})}function M(e,t){var n=!1,r=fe[t];return te(r,function(t){t.id===e&&(n=!0)}),n}function N(){l(function(){var e=Z(fe);fe={},te(e,function(e,t){var n=pe(e),r=ge&&n;r||(ge=!1,L(t),z(e),B(e),F(e))})})}function L(e){var t={advertisers:[],creatives:[],lines:[]},n=he.byPageName[e];te(n,function(e){var n=e.onIDCheck();n&&n.advertiserId&&!ne(t.advertisers,n.advertiserId)&&t.advertisers.push(n.advertiserId),n&&n.creativeId&&!ne(t.creatives,n.creativeId)&&t.creatives.push(n.creativeId),n&&n.lineItem&&!ne(t.lines,n.lineItem)&&t.lines.push(n.lineItem)}),J.pubads().setTargeting("ctx_advertisers",t.advertisers),J.pubads().setTargeting("ctx_creatives",t.creatives),J.pubads().setTargeting("ctx_line_items",t.lines)}function z(e){var t=0,n=e.map(function(e){return e.forChildren}).filter(Boolean);n.length&&(t=1),J.pubads().setTagForChildDirectedTreatment(t)}function B(e){te(e,function(e){e.isRefresh||J.display(e.id)})}function F(e){V(e).then(function(e){J.pubads().updateCorrelator(),J.pubads().refresh(e)})}function V(e){var t=G(e);return W(t).then(function(){return t?U(e):H(e)})}function U(e){var t=[],n=!1;return te(e,function(e){e.out_of_page?(n=!0,t.unshift(e.tag)):t.push(e.tag)}),n||t.unshift(he.sovPlaceholder),t}function H(e){return te(e,function(e){return e.tag})}function G(e){var t=null;return te(e,function(e){e.hasDefaultPath&&(t=e.adUnitPath)}),t}function W(e){return new Promise(function(t){e&&!he.sovPlaceholder?l(function(){var n="cns-ads-placeholder-1x1",r=document.createElement("div");r.id=n,r.style.fontSize=0,r.style.lineHeight=0,r.style.width=0,r.style.height=0,r.style.overflow="hidden",document.body.appendChild(r);var o=J.defineSlot(e,[[1,1]],n);o.addService(J.pubads()),J.display(n),he.sovPlaceholder=o,t()}):t()})}function $(e){return new Promise(function(t,n){l(function(){var r,o,a,i,s=he.byTag[e];return s?(r=s&&s.requestOptions,o=r&&r.id,a=r&&r.tag,(i=J.destroySlots([a]))?(Y(e),void t()):void n(le.cantDestroySlot(o))):void t()})})}function Y(e){var t=he.byTag[e].requestOptions.page;he.byTag[e]=null,delete he.byTag[e],he.byPageName[t][e]=null,delete he.byPageName[t][e]}var J,Q,K,X=e("@condenast/atp-utl/objects/ready"),Z=e("@condenast/atp-utl/objects/clone"),ee=e("@condenast/atp-utl/type/isFunction"),te=e("@condenast/atp-utl/loop"),ne=e("@condenast/atp-utl/arrays/has"),re=e("@condenast/atp-utl/strings/startsWith"),oe=e("@condenast/atp-utl/strings/slugify"),ae=e("@condenast/atp-utl/type/isArray"),ie=e("@condenast/atp-utl/dom/iframe").isFriendly,se=e("./helpers/hasPII.js"),ce=e("@condenast/atp-utl/functions").bump,le=e("../lang").err.slots.gpt,ue=e("../reporting"),de=e("../dom"),pe=e("./helpers/containsSingle1x1"),fe={},me=200,ge=!0,he={byTag:{},byPageName:{}};t.exports={setup:n,request:r,destroySlot:$}},{"../dom":11,"../lang":13,"../reporting":17,"./helpers/containsSingle1x1":21,"./helpers/hasPII.js":22,"@condenast/atp-utl/arrays/has":34,"@condenast/atp-utl/dom/iframe":40,"@condenast/atp-utl/functions":42,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/clone":45,"@condenast/atp-utl/objects/ready":49,"@condenast/atp-utl/strings/slugify":51,"@condenast/atp-utl/strings/startsWith":52,"@condenast/atp-utl/type/isArray":53,"@condenast/atp-utl/type/isFunction":61}],21:[function(e,t){"use strict";function n(e){return 1===e.length&&(e[0].sizes&&"1x1"===e[0].sizes[0]||e[0].out_of_page===!0)}t.exports=n},{}],22:[function(e,t){function n(e){var t=new RegExp("([a-zA-Z0-9._+-]+(@|%40|%2540)[a-zA-Z0-9._-]+.[a-zA-Z0-9._-]+)","gi");return t.test(e)}function r(e){var t=e.match(/3(?:[47]\d([ -]?)\d{4}(?:\1\d{4}){2}|0[0-5]\d{11}|[68]\d{12})|4(?:\d\d\d)?([ -]?)\d{4}(?:\2\d{4}){2}$|^6011([ -]?)\d{4}(?:\3\d{4}){2}|5[1-5]\d\d([ -]?)\d{4}(?:\4\d{4}){2}|2014\d{11}$|^2149\d{11}|2131\d{11}$|^1800\d{11}$|^3\d{15}/);return null!==t&&t.length?!0:!1}function o(e){var t=e.match(/((\d|([a-f]|[A-F])){2}:){5}(\d|([a-f]|[A-F])){2}/);return null!==t&&t.length?!0:!1}function a(e){var t=e.match(/((0|1[0-9]{0,2}|2[0-9]?|2[0-4][0-9]|25[0-5]|[3-9][0-9]?)\.){3}(0|1[0-9]{0,2}|2[0-9]?|2[0-4][0-9]|25[0-5]|[3-9][0-9]?)/);return null!==t&&t.length?!0:!1}function i(e){return e&&(n(e)||r(e)||o(e)||a(e))?!0:!1}t.exports=i},{}],23:[function(e,t){function n(e){I=D(re,e),q=!0,r()}function r(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet.insertRule(".cns-ads-stage {margin: 0 auto;padding: 0;width: 100%;}",0)}function o(e){var t=[];return q?(N(e.slotList,function(n){var r=a({NoD:n,page:e.page,environment:e.environment,onSlotRender:e.onSlotRender,contentURI:e.contentURI});t=t.concat(r)}),t):!1}function a(e){var t=i({NoD:e.NoD,page:e.page,environment:e.environment});if(!t.instances)return!1;var n=[];return N(t.instances,function(r){oe[t.type]="undefined"!=typeof oe[t.type]?oe[t.type]+1:0;var o=v({instanceNumber:oe[t.type],name:t.type+"_"+oe[t.type],type:t.type,environment:e.environment,sizes:r.sizes&&r.sizes[e.environment.device],page:e.page,definition:r,contentURI:e.contentURI,onRenderStart:e.onSlotRender});o&&n.push(o)}),n}function i(e){var t=s({type:e.NoD,page:e.page.slug,slug:e.page.slug,channel:e.page.channel,subChannel:e.page.subChannel,template:e.page.templateType}),n=c(t,e.page,e.environment);return{type:t.type,instances:n}}function s(e){if(!q)return!1;var t=L(e.type),n=t?e.type:I.definitions[e.type];if(!n)return Z.compile({type:"warn",name:"slot_manager_type_does_not_exist",error:{msg:J.definition.doesNotExist(e.type)}}),!1;var r=t?n:te(n,{slug:e.slug,channel:e.channel,subChannel:e.subChannel,templateType:e.template,overwrites:e.overwrites}),o=M(r,!0);return o.type=o.type||e.type,o.customized=t,o}function c(e,t,n){var r=t.el||"html",o=r instanceof HTMLElement?r:document.querySelector(r),a=e.render,i=[];if(!a)return Z.compile({type:"warn",name:"slot_manager_no_renderer",error:{msg:J.definition.hasNoRender(e.type,t.templateType)}}),i;var s=l(e,n.device);return N(s,function(n,a){if(!V(n)&&!H(n)){var s=L(n)&&!F(n)&&!U(n),c=s?f:u,l=c({definition:e,pageEl:o,type:a,rules:n});l&&l.length||Z.compile({type:"warn",name:"slot_manager_bad_el",error:{msg:J.definition.hasBadEl(e.type,t.templateType,r)}}),N(l,function(e){i.push(e)})}}),i}function l(e,t){var n=e.render.slot,r=e.render[t]&&e.render[t].slot;return n||r}function u(e){var t=B(e.rules)?d(e):[].concat(e.rules),n=t.length,r=h.bind(null,e.definition,ie[e.type]),o=[];return t&&(B(e.rules)||F(e.rules)||U(e.rules))?(n>1&&Z.compile({type:"warn",name:"multiple_render_points",error:{msg:J.definition.tooManyEls(e.rules,e.definition.type)}}),N(t,function(t){p(t,ie[e.type])?Z.compile({type:"error",name:"multiple_slots_in_el",error:{msg:J.definition.tooManyAdsInEl(e.definition.type)}}):o.push(r(t))}),o):!1}function d(e){function t(e,t){var r=n.contains(t);return r?e.concat([t]):e}var n=e.pageEl,r=document.querySelectorAll(e.rules),o=Array.prototype.reduce.call(r,t,[]);return o}function p(e,t){var n;switch(t){case"before":case"above":n=e.previousSibling;break;case"after":case"below":n=e.nextSibling;break;case"prepend":case"top":n=e.firstChild;break;default:n=e.lastChild}return n&&n.classList&&n.classList.contains("cns-ads-stage")}function f(e){var t=Y.get(e.rules["in"].el,e.pageEl),n=Y.getAll(e.rules.el,t),r=h.bind(null,e.definition,ie[e.type]),o=e.rules&&e.rules.when&&z(e.rules.when),a=!!e.rules["in"]&&!!e.rules["in"].when&&z(e.rules["in"].when),i=!a&&t||a&&t&&e.rules["in"].when(t),s=0,c=0;if(!i)return[];var l=1,u=[],d=!1;return N(n,function(t,a){var i=m(n.length,a),p=g(t);i.wordCount=p.split(" ").length,i.characterCount=p.split("").length,s+=i.wordCount,i.accumulatedWordCount=s,c+=i.characterCount,i.accumulatedCharacterCount=c;var f=!o||o&&e.rules.when(t,i),h=l>=e.rules.every;return h&&f||!h&&d?(u.push(r(t)),l=1,void(d=!1)):(h&&!f&&(d=!0),void(l+=1))}),u}function m(e,t){return{index:t,isOdd:!!(t%2),isEven:!(t%2),isFirst:0===t?!0:!1,isLast:t===e-1?!0:!1}}function g(e){var t="";return N(e.childNodes,function(e){8!==e.nodeType&&(t+=1!==e.nodeType?e.nodeValue:g(e))}),t}function h(e,t,n){var r=M(e,!0);return r.render.slot={el:n,method:t},r}function v(e){if(!q)return!1;var t,n=e.contentURI,r=e.definition.suffix,o=D(e,{linkByInstance:e.definition.link_by_instance,canBeHidden:e.definition.can_be_hidden,refreshDelay:I.refreshDelay,network:I.network,identifiers:I.identifiers,request_vp_range:I.request_vp_range,refresh_vp_range:I.refresh_vp_range,onStaged:I.onCreate,onDestroy:C,onRequest:x,onPluginHook:I.onRequest,onRenderStart:y.bind(null,e.onRenderStart),onRenderEnd:I.onRenderEnd,onImpressionViewable:I.onImpressionViewable,onVisibilityChange:I.onVisibilityChange});return K(o)?(t=new Q(o),ne[t.state.id]=t,_(n,r),t):!1}function y(e,t){var n=t.meta.renderedSize,r=t.meta.domID,o=!!t.meta.isHidden,a=t.meta.container,i=t.meta.slotType,s={getCreativeType:function(){return"sized"},getContainerEl:function(){return a},getContainerId:function(){return r},getServerSize:function(){return n},getSlotType:function(){return i},isHidden:function(){return o}};I.onRenderStart(t),e(s)}function _(e,t){ae[t]||(ae[t]=b(e,t))}function b(e,t){var n=e?"/"+w(e):"",r=I.identifiers.overwrite,o=r+"."+W(t);return I.network+"/"+o+n}function w(e){var t=e.split("/");return N(t,function(e,n){t[n]=W(e)}),t.join("/")}function x(e){var t=ne[e],n=t.state,r=n.definition.link,o=n.instanceNumber,a=n.request.inProgress,i=n.linkByInstance;r?k({linkName:r,instanceGroup:o,requestByInstance:i}):a||t.prepareForRequest().then(function(){X.request([A(t)])})["catch"](function(e){Z.compile({type:"error",name:"slot_manager_slot_request_flow",error:{msg:J.singleRequestFailed(n.name,e),obj:e}})})}function k(e){var t=j(e.linkName),n=S(t),r=[];n||(N(t,function(t){var n=t.state,o=T(n,e);t.isInDom()||(Z.compile({type:"error",name:"destroy_called_slot_not_in_dom",error:{msg:J.destroyedNotExist(n.name)}}),t.destroy(),o=!1),o&&r.push(t.prepareForRequest().then(function(){return A(t)}))}),Promise.all(r).then(function(e){X.request(e)})["catch"](function(t){Z.compile({type:"error",name:"slot_manager_linked_slot_request_flow",error:{msg:J.linkedRequestFailed(e.linkName,t),obj:t}})}))}function j(e){var t=[];return N(ne,function(n){n.state.definition.link===e&&t.push(n)}),t}function S(e){var t=!1;return N(e,function(e){var n=e.requestOnlyOnce(),r=!e.isFirstRequest();n&&r&&(t=!0)}),t}function T(e,t){var n=e.instanceNumber,r=!e.linkByInstance||!t.requestByInstance,o=n===t.instanceGroup||r;return o&&!ee(e.els.container)}function A(e){var t=e.getSuffix(),n=e.getRequestData(),r=ae[t],o="dart";return n.onRenderStart=e.onRenderStart.bind(e),n.onImpressionViewable=e.onImpressionViewable.bind(e),n.onVisibilityChange=e.onVisibilityChange.bind(e),n.onMOATViewableEvent=e.onMOATViewable.bind(e),n.onMOATPresent=e.onMOATPresent.bind(e),n.onIDCheck=e.onIDCheck.bind(e),n.adUnitPath=r,n.hasDefaultPath=t===o,n}function C(e){var t,n=ne[e];return n?(t=n.state.ids.container,X.destroySlot(t).then(function(){R(e)})["catch"](function(e){Z.compile({type:"error",name:"slot_manager_destroy_flow",error:{msg:J.definition.slotDestroyFailed(e),obj:e}})})):Promise.resolve()}function R(e){ne[e]=null,delete ne[e]}function O(e){var t;return q?(t=ne[e],t?{destroy:function(){Z.compile({type:"flow",name:"api.slots.get(name).destroy",meta:e}),t.destroy()},refresh:function(){Z.compile({type:"flow",name:"api.slots.get(name).refresh",meta:e}),t.refresh()}}:(Z.compile({type:"error",name:"can_not_find_slot",error:{msg:J.slotNotFound(e)}}),!1)):!1}function E(){var e=[];return q?(N(ne,function(t,n){e.push(t.destroy().then(function(){ne[n]=null,delete ne[n]}))}),Promise.all(e)):Promise.resolve()}function P(e){if(!q)return!1;var t=s({type:e.type,page:e.page,template:e.template});return G({mergeables:[t,e.overwrites],merger:$})}var I,q,D=e("@condenast/atp-utl/objects/options"),M=e("@condenast/atp-utl/objects/clone"),N=e("@condenast/atp-utl/loop"),L=e("@condenast/atp-utl/type/isObject"),z=e("@condenast/atp-utl/type/isFunction"),B=e("@condenast/atp-utl/type/isString"),F=e("@condenast/atp-utl/type/isElement"),V=e("@condenast/atp-utl/type/isWindowObject"),U=e("@condenast/atp-utl/type/isDOMElementCollection"),H=e("@condenast/atp-utl/type/isDocumentObject"),G=e("@condenast/atp-utl/objects/merge"),W=e("@condenast/atp-utl/strings/slugify"),$=e("../configs/merge"),Y=e("../dom"),J=e("../lang").err.slots,Q=e("./Slot"),K=e("./validateSlot.js"),X=e("./gpt.js"),Z=e("../reporting"),ee=e("@condenast/atp-utl/visibility").isHidden,te=e("../utilities/typeVariant").getVariantFromURI,ne={},re={},oe={},ae={},ie={top:"prepend",bottom:"append",below:"after",after:"after",before:"before",above:"before"};t.exports={setup:n,api:{get:O,getTypeDefinition:s,create:v,modifySlotType:P,destroy:E,batch:{create:o}}}},{"../configs/merge":10,"../dom":11,"../lang":13,"../reporting":17,"../utilities/typeVariant":26,"./Slot":19,"./gpt.js":20,"./validateSlot.js":24,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/clone":45,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/objects/options":48,"@condenast/atp-utl/strings/slugify":51,"@condenast/atp-utl/type/isDOMElementCollection":56,"@condenast/atp-utl/type/isDocumentObject":59,"@condenast/atp-utl/type/isElement":60,"@condenast/atp-utl/type/isFunction":61,"@condenast/atp-utl/type/isObject":67,"@condenast/atp-utl/type/isString":69,"@condenast/atp-utl/type/isWindowObject":70,"@condenast/atp-utl/visibility":71}],24:[function(e,t){function n(e){return r(e)&&o(e)&&a(e)&&i(e)&&s(e)}function r(e){var t,n;return e.name?(t=e.name,e.environment?e.environment.device?e.definition?e.definition.sizes||"_out_of_page"===e.type?e.identifiers?e.network?e.definition.render&&e.definition.render.slot&&e.definition.render.slot.el?!0:(t="slot_validate_missing_render_slot_el",n=l.missingProperty("undefined","render.slot.el"),c(t,n),!1):(t="slot_validate_missing_network",n=l.missingProperty("undefined","network"),c(t,n),!1):(t="slot_validate_missing_identifiers",n=l.missingProperty("undefined","identifiers"),c(t,n),!1):(t="slot_validate_missing_sizes",n=l.missingProperty("undefined","sizes"),c(t,n),!1):(t="slot_validate_missing_definition",n=l.missingProperty("undefined","environment.definition"),c(t,n),!1):(t="slot_validate_missing_device",n=l.missingProperty("undefined","environment.device"),c(t,n),!1):(t="slot_validate_missing_environment",n=l.missingProperty(t,"environment"),c(t,n),!1)):(t="slot_validate_missing_name",n=l.missingProperty("undefined","name"),c(t,n),!1)}function o(e){if("_out_of_page"===e.type)return!0;var t=e.environment.device,n=e.definition.sizes&&e.definition.sizes[t];if(!n||!n.length){var r="slot_validation_no_appropriate_sizes",o=l.definition.noAppropriateSizes(e.name,t);return c(r,o),!1}return!0}function a(e){if(!u(e.identifiers)){var t="slot_validation_invalid_identifier",n=l.invalidIdentifiers(e.name);return c(t,n),!1}return!0}function i(e){if(!d(e.network)){var t="slot_validation_invalid_network",n=l.invalidNetwork(e.name);return c(t,n),!1}return!0}function s(e){var t=e.definition.render.slot.el;if(!t.tagName||"HTML"===t.tagName){var n="slot_validation_invalid_slot_el",r=l.definition.invalidSlotEl(e.name);return c(n,r),!1}return!0}function c(e,t){p.compile({type:"warn",name:e,error:{msg:t}})}var l=e("../lang").err.slots,u=e("@condenast/atp-utl/type/isObject"),d=e("@condenast/atp-utl/type/isNumber"),p=e("../reporting");t.exports=n},{"../lang":13,"../reporting":17,"@condenast/atp-utl/type/isNumber":66,"@condenast/atp-utl/type/isObject":67}],25:[function(e,t){function n(e){var t=e||a(),n=i(t);return l(t),n?r():o()}function r(){var e={blocked:!0,installed:!0};return d.set("AdbBlocked",1,{expires:8760}),u(e),e}function o(){var e={blocked:!1};return d.get("AdbBlocked")?(d.get("AdbInstalled")||d.set("AdbInstalled",1,{expires:8760}),e.installed=!0):e.installed=!1,u(e),e}function a(){var e=document.createElement("div");return e.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),document.body.appendChild(e)}function i(e){var t=c(e),n=s(e);return!!document.body.getAttribute("abp")||t||n}function s(e){return null===e.offsetParent||0===e.offsetHeight||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth}function c(e){var t=window.getComputedStyle(e);return"none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")}function l(e){return e.parentNode.removeChild(e)}function u(e){var t=e.blocked,n=e.installed,r={ctx_abk_blocked:t,ctx_abk_installed:n},o={type:"info",name:"adBlock"};e.blocked&&(o.type="error",r.msg=f()),o.meta=r,(t||n)&&p.compile(o)}var d=e("@condenast/atp-utl/cookies"),p=e("../reporting"),f=e("../lang").err.adBlock.detected;t.exports={check:n}},{"../lang":13,"../reporting":17,"@condenast/atp-utl/cookies":38}],26:[function(e,t){function n(e,t){var n=t||{};if(n.overwrites)return n.overwrites;var o={slug:n.slug,variantUriHigh:n.channel+"_"+n.subChannel+"_"+n.templateType,variantUriMed:n.channel+"_"+n.templateType,variantUriLow:n.templateType};return r(e,o)}function r(e,t){return e[t.slug]||e[t.variantUriHigh]||e[t.variantUriMed]||e[t.variantUriLow]||e.__default||e._default}t.exports={getVariantFromURI:n}},{}],27:[function(e,t){t.exports={_args:[[{raw:"@condenast/atp-cns-service-ads@2.0.7",scope:"@condenast",escapedName:"@condenast%2fatp-cns-service-ads",name:"@condenast/atp-cns-service-ads",rawSpec:"2.0.7",spec:"2.0.7",type:"version"},"/var/lib/jenkins/workspace/cns-automator-prod01/cns-automator"]],_from:"@condenast/atp-cns-service-ads@2.0.7",_id:"@condenast/atp-cns-service-ads@2.0.7",_inCache:!0,_location:"/@condenast/atp-cns-service-ads",_nodeVersion:"5.0.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/atp-cns-service-ads-2.0.7.tgz_1486655374227_0.6862601791508496"},_npmUser:{name:"benrkarl",email:"benrkarl@gmail.com"},_npmVersion:"3.3.6",_phantomChildren:{},_requested:{raw:"@condenast/atp-cns-service-ads@2.0.7",scope:"@condenast",escapedName:"@condenast%2fatp-cns-service-ads",name:"@condenast/atp-cns-service-ads",rawSpec:"2.0.7",spec:"2.0.7",type:"version"},_requiredBy:["#USER","/","/@condenast/atp-cns"],_resolved:"https://registry.npmjs.org/@condenast/atp-cns-service-ads/-/atp-cns-service-ads-2.0.7.tgz",_shasum:"dec7d510b3b65652cde6aa60df4a721f45958e29",_shrinkwrap:null,_spec:"@condenast/atp-cns-service-ads@2.0.7",_where:"/var/lib/jenkins/workspace/cns-automator-prod01/cns-automator",author:{name:"Cond Nast - ATP",email:"ATP-Engineering@condenast.com",url:"https://github.com/orgs/CondeNast/teams/atp-tech-team"},bugs:{url:"https://github.com/CondeNast/atp-cns-service-ads/issues"},dependencies:{"@condenast/atp-utl":"^1.3.4"},description:"CNS Ads Service",devDependencies:{"@condenast/cn-js-styleguide":"^1.0.5","browserify-istanbul":"^2.0.0",chai:"^3.5.0","chai-as-promised":"^6.0.0",istanbul:"^0.4.5","jsdoc-to-markdown":"^1.3.6",karma:"^1.3.0","karma-browserify":"^5.1.0","karma-chai":"^0.1.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-fixture":"^0.2.6","karma-html2js-preprocessor":"^1.1.0","karma-mocha":"^1.2.0","karma-mocha-reporter":"^2.2.0","karma-source-map-support":"^1.2.0",mocha:"^3.0.2","mocha-sinon":"^1.1.6",rewireify:"^0.2.5",sinon:"^1.17.3",tape:"^4.5.1",zuul:"^3.11.0"},directories:{},dist:{shasum:"dec7d510b3b65652cde6aa60df4a721f45958e29",tarball:"https://registry.npmjs.org/@condenast/atp-cns-service-ads/-/atp-cns-service-ads-2.0.7.tgz"},engines:{node:"^4.2.2"},gitHead:"4e4f0e35e84033c937ef762b45774d673f586568",homepage:"https://github.com/CondeNast/atp-cns-service-ads/blob/master/README.md",keywords:["Cond Nast","Conde Nast","scripts","script services","Ads"],license:"UNLICENSED",main:"./lib/index.js",maintainers:[{name:"abarredo",email:"aldwin_barredo@condenast.com"},{name:"abhishekgudihal",email:"abhishek_gudihal@condenast.com"},{name:"agaerig",email:"agaerig@gmail.com"},{name:"ajadoona",email:"Aaren_Jadoonanan@condenast.com"},{name:"ajkim",email:"aj.kim84@gmail.com"},{name:"alexander_caba",email:"alexander_caba@condenast.com"},{name:"alexlrobertson",email:"alexleonardrobertson@gmail.com"},{name:"amelnikova",email:"amelnikova1@gmail.com"},{name:"amillward",email:"warmicing@gmail.com"},{name:"angrymongoose",email:"nvillatoro@gmail.com"},{name:"annabarr",email:"anna_barr@condenast.com"},{name:"annamaybank",email:"anna@poetica.com"},{name:"asiegler",email:"alan@alansiegler.com"},{name:"benrkarl",email:"benrkarl@gmail.com"},{name:"berkod",email:"dan.berko@gmail.com"},{name:"bgupta",email:"brian.gupta@brandorr.com"},{name:"bigzed",email:"bigzedd@gmail.com"},{name:"biku",email:"vkolosov@netscape.net"},{name:"bingeboy",email:"design@jpmcgarrity.com"},{name:"blaine",email:"romeda@gmail.com"},{name:"blurei",email:"blurei@gmail.com"},{name:"bmilton",email:"Benjamin_Milton@condenast.com"},{name:"bmullan91",email:"bmullan91@gmail.com"},{name:"bodyslam",email:"thomastenwong@gmail.com"},{name:"brianvaney",email:"Brian.VanNieuwenhoven@ey.com"},{name:"brokentone",email:"kenton.jacobsen@gmail.com"},{name:"bwong",email:"bwong@fastmail.fm"},{name:"carolinecasanova",email:"caroline_casanova@condenast.com"},{name:"ccruz2886",email:"ccruz@intellisys.com.do"},{name:"cfeucht",email:"calla_feucht@condenast.com"},{name:"charliegarcia",email:"cgarcia@intellisys.com.do"},{name:"clebron",email:"christopher_lebron@condenast.com"},{name:"cmunson",email:"spinningplatesnyc@msn.com"},{name:"condenastadmin",email:"CNDigital-Tech-DevOps@condenast.com"},{name:"copilot-robot",email:"copilot@condenast.com"},{name:"crccheck",email:"c@crccheck.com"},{name:"cry4dawn_2000",email:"anaki808built@gmail.com"},{name:"ctruelson",email:"charles.truelson@gmail.com"},{name:"dadeg",email:"dan.degreef@gmail.com"},{name:"davidcarcamo",email:"contact@davidcarcamo.com"},{name:"dchang",email:"ing.chang@gmail.com"},{name:"dcolucci",email:"davidanthonycolucci@gmail.com"},{name:"diffcunha",email:"diogo.f.cunha@gmail.com"},{name:"dkorenblyum",email:"dkorenblyum@gmail.com"},{name:"dlopezh",email:"daniellopezh@gmail.com"},{name:"ecudahy",email:"ecudahy@gmail.com"},{name:"eespinal",email:"eespinal@intellisys.com.do"},{name:"enobt",email:"robert.vansant@ey.com"},{name:"erichamilton",email:"eric_hamilton@condenast.com"},{name:"fennen529",email:"fennen529@gmail.com"},{name:"fernandoa83",email:"fernandoa83@gmail.com"},{name:"fesebuv",email:"fesebuv@gmail.com"},{name:"finvansant",email:"findlay_parke@condenast.com"},{name:"fmadrie",email:"frank_madrie@condenast.com"},{name:"foobarrio",email:"npmjs.org@dbluu.com"},{name:"gautamarora",email:"gautamsarora3@gmail.com"},{name:"gege",email:"georgette@pincin.com"},{name:"gkilian",email:"greg@gregkilian.com"},{name:"gmedina",email:"gus.a.medina@gmail.com"},{name:"gonewandering",email:"lgsilver@gmail.com"},{name:"gsingh",email:"gsingh@condenast.com"},{name:"gvaldez",email:"gregory_valdez@condenast.com"},{name:"icedano",email:"icedano@intellisys.com.do"},{name:"imjennibruno",email:"jennifernbruno@gmail.com"},{name:"isaac50",email:"irt007@gmail.com"},{name:"jamesweiner",email:"jamesweiner81@gmail.com"},{name:"jangiegb",email:"jangsoo.lee@gmail.com"},{name:"jcovingt",email:"jerome_covington@condenast.com"},{name:"jennieshapira",email:"jennieshapira@gmail.com"},{name:"jenriquejr",email:"je.jimr@gmail.com"},{name:"jesuis",email:"jesuis.encrateia@gmail.com"},{name:"jmjavier",email:"miguel.javier@gmail.com"},{name:"jnunez",email:"jnunez@intellisys.com.do"},{name:"joedynamite",email:"code@joebilt.com"},{name:"jonathantow",email:"jonathan.w.tow@gmail.com"},{name:"jonocole",email:"jonocole@gmail.com"},{name:"jonvez",email:"jonvez@gmail.com"},{name:"jpavlick",email:"jpavlick@gmail.com"},{name:"jquadrin_condenast",email:"joseph_quadrino@condenast.com"},{name:"jriverajr",email:"jim_rivera@condenast.com"},{name:"jsainthilaire",email:"jsainthilaire@intellisys.com.do"},{name:"jsocol",email:"james.socol@gmail.com"},{name:"juanm",email:"juan.garcia@intellisys.com.do"},{name:"junpos",email:"junpos@gmail.com"},{name:"justinalcon",email:"Justin_alcon@condenast.com"},{name:"kniels21",email:"kniels21@gmail.com"},{name:"kriskelly",email:"kristopherbkelly@gmail.com"},{name:"ksemel",email:"ksemel@gmail.com"},{name:"landau",email:"landautrevor@gmail.com"},{name:"lauracarroll",email:"laura_carroll@gmail.com"},{name:"lcapella",email:"lenny@tek.uno"},{name:"lewisheadden",email:"lewis_headden@condenast.com"},{name:"lnguyen",email:"linh_nguyen@condenast.com"},{name:"lobenichou",email:"lo_benichou@wired.com"},{name:"louisjimenez",email:"louis.jimenez@yahoo.com"},{name:"lsalsini",email:"lauren_salsini@condenast.com"},{name:"malev",email:"marcosvanetta@gmail.com"},{name:"mario_hebert",email:"mario_hebert@condenast.com"},{name:"mattdennewitz",email:"mattdennewitz@gmail.com"},{name:"matthewhudson",email:"matthud@gmail.com"},{name:"mf2492",email:"michelle.austria.fernandez@gmail.com"},{name:"milespoindexter",email:"miles_poindexter@condenast.com"},{name:"mize",email:"sean.mize+git@gmail.com"},{name:"mjprude",email:"michaelprude@gmail.com"},{name:"mlinderman",email:"mark_linderman@condenast.com"},{name:"mmcneill",email:"mattm458@gmail.com"},{name:"mvattuone",email:"mvattuone@gmail.com"},{name:"mwguy",email:"mwwpublic@gmail.com"},{name:"neilius",email:"neilwargo@gmail.com"},{name:"noppanit",email:"noppanit.c@gmail.com"},{name:"nosamanuel",email:"nosamanuel@gmail.com"},{name:"nrutkowski",email:"nrutkowski@northpointdigital.com"},{name:"nss",email:"luca@lanziani.com"},{name:"operez",email:"p.oscar@gmail.com"},{name:"opolanco",email:"Oscar_Polanco@Condenast.com"},{name:"papajuans",email:"ryan@roflopoly.com"},{name:"paulfryzel",email:"paul.fryzel@gmail.com"},{name:"pgoldrbx",email:"pgold@rubixmedia.com"},{name:"rafaelfreaner",email:"rafael_freaner@condenast.com"},{name:"rafaelhdebarros",email:"rafaelh.debarros@gmail.com"},{name:"rdfroeber",email:"RDFroeber@gmail.com"},{name:"rdillman",email:"richard_dillman@condenast.com"},{name:"rezzz",email:"jason@rezzz.com"},{name:"rharriso",email:"ross.td.harrison@gmail.com"},{name:"roablep",email:"pelbaor@gmail.com"},{name:"robsethi",email:"robsethi@yahoo.com"},{name:"rufus2021",email:"rufus2021@gmail.com"},{name:"sahandnayebaziz",email:"sahand_nayebaziz@condenast.com"},{name:"sgiri",email:"suresh_giri@condenast.com"},{name:"shroudofthurin",email:"molly.thurin@gmail.com"},{name:"simonehill",email:"simone.c.hill@gmail.com"},{name:"sohara",email:"sohara@sohara.com"},{name:"stripethree",email:"jeff.israel@gmail.com"},{name:"stubenbaines",email:"stubenbaines@gmail.com"},{name:"taniabhullar",email:"tania_bhullar@condenast.com"},{name:"taveras",email:"daniel.taveras@gmail.com"},{name:"tdshap",email:"tess.shapiro@condenast.com"},{name:"therealmichaelwarren",email:"warren.michael2@gmail.com"},{name:"tobiaswright",email:"tobias.wright@gmail.com"},{name:"tollmanz",email:"tollmanz@gmail.com"},{name:"tswicegood",email:"travis@domain51.com"},{name:"vivekvasani",email:"vivekvasani@gmail.com"},{name:"xiranou",email:"xiranou@gmail.com"},{name:"yaya-wang",email:"yayawang18@gmail.com"},{name:"ymuni",email:"yash_muni@condenast.com"}],name:"@condenast/atp-cns-service-ads",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/CondeNast/atp-cns-service-ads.git#v2.0.7"},scripts:{docs:"mkdir -p doc && jsdoc2md 'lib/**/*.js' -P  > ./doc/api.md",prepublish:"bash ./docs.sh",pretest:"node ./banner.js && eslint ./lib/**/*.js && karma start",test:"open http://localhost:8080/__zuul && zuul --local 8080 ./test/*.js",watch:"WATCH=true karma start"},version:"2.0.7",warnings:[{code:"ENOTSUP",required:{node:"^4.2.2"},pkgid:"@condenast/atp-cns-service-ads@2.0.7"},{code:"ENOTSUP",required:{node:"^4.2.2"},pkgid:"@condenast/atp-cns-service-ads@2.0.7"}]}},{}],28:[function(e,t){function n(e){return new Promise(function(t){p=e,document.querySelector(b)||i(),m({path:"window.Sparrow",poll:{limit:e&&e.timeout||15e3},onReady:function(){r(),t(f)},onFailure:function(e){console.warn(e.message),t(e.message)}})})}function r(){f=new window.Sparrow(p),o(y()),a()}function o(e){if(_())var t=window.performance.getEntries(),n=t.filter(function(e){return/sparrow.min.js/.test(e.name)})[0];var r={campaign:"cns_ads",name:"library_sparrow",type:"info",meta:{requestStart:n&&n.startTime||y(),requestEnd:n&&n.responseEnd||y(),init:e}};s(r)}function a(){w.length&&(w.shift().call(),w.length&&a())}function i(){var e=document.createElement("script");e.className="cns-metrics-sparrow",e.async=!0,e.src="//pixel.condenastdigital.com/sparrow.min.js",document.head.appendChild(e)}function s(e){var t,n=d(e);return c(e)?(t=l(n),f?u(t):w.push(u.bind(null,t)),!0):!1}function c(e){var t=e.campaign&&e.name&&e.type;return!!t}function l(e){return e.meta=e.meta||{},e.meta._logType=e.type,e}function u(e){f.track(e.campaign,e.name,e.meta)}function d(e){return v(e,function(t,n){h(t)?d(t):e[n]=g(t,"_")}),e}var p,f,m=e("@condenast/atp-utl/objects/ready"),g=e("@condenast/atp-utl/strings/slugify"),h=e("@condenast/atp-utl/type/isObject"),v=e("@condenast/atp-utl/loop"),y=e("@condenast/atp-utl/feature").performance.now,_=e("@condenast/atp-utl/feature").isGetEntriesEnabled,b="script[src$='sparrow.min.js']",w=[];t.exports={code:"sprw",setup:n,emit:s}},{"@condenast/atp-utl/feature":41,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/ready":49,"@condenast/atp-utl/strings/slugify":51,"@condenast/atp-utl/type/isObject":67}],29:[function(e,t){function n(e,t){return f.setup(window.cns),Promise.resolve(t)}function r(e){function t(e,t,n){if("plugins"===n&&d(e)){var r={};return p(t,function(t,n){var o=e[n];r[n]=u({mergeables:[o,t]})}),r}}return u({mergeables:[e.global,e.property],merger:t})}function o(e){return e.controller.setup(e.config,e.version),m[e.name]=e,e}function a(e){var t,n,r;i(e)&&(e.type=e.type||"info",t="production"===e.environment,n="warn"===e.type,r="flow"===e.type,!t||n||r||l(e),f[e.type](e.campaign,{event:e.name,data:e.error||e.meta}))}function i(e){var t=["campaign","environment","name"];return p(t,function(t){return e[t]?void 0:(s(t,e),!1)}),!0}function s(e,t){f.error("cns_metrics",{message:c(e),event:t})}function c(e){return'[ cns metrics ] An event was emitted with an invalid "'+e+'" property. See "event" property for more details.'}function l(e){p(m,function(t){t.controller.emit(e)})}var u=e("@condenast/atp-utl/objects/merge"),d=e("@condenast/atp-utl/type/isObject"),p=e("@condenast/atp-utl/loop"),f=e("@condenast/atp-utl/logger"),m={};t.exports={setup:n,merge:r,extend:o,api:{emit:a}}},{"@condenast/atp-utl/logger":43,"@condenast/atp-utl/loop":44,"@condenast/atp-utl/objects/merge":47,"@condenast/atp-utl/type/isObject":67}],30:[function(e,t){"use strict";function n(e,t){return l=t,c=e,Promise.resolve()}function r(e){return new Promise(function(t,n){e.controller.setup(c,e.config,e.version).then(function(){p[e.name]=e.controller.api,t(e.controller)})["catch"](n)})}function o(e){f[e]&&(u(f[e],function(t){d(t)&&t(p[e])}),f[e]=!1)}function a(e){f=e}function i(e,t){if(d(t)){if(p[e]&&(!f||!f[e]))return void t(p[e]);f[e]||(f[e]=[]),f[e].push(t)}}function s(){return l}var c,l,u=e("@condenast/atp-utl/loop"),d=e("@condenast/atp-utl/type/isFunction"),p={},f={};t.exports={setup:n,extend:r,queue:{set:a,play:o},async:i,about:s}},{"@condenast/atp-utl/loop":44,
"@condenast/atp-utl/type/isFunction":61}],31:[function(e){!function(t){e("es6-promise").polyfill();var n=e("@condenast/atp-utl/feature"),r=t.cns.queue,o=t.cns=e("../../assets/"),a={campaign:"cns",name:"loaded",type:"info",environment:"production",meta:{cns:"2.2.8",feature_storage:n.isStorageEnabled(),feature_get_entries:n.isGetEntriesEnabled(),feature_performance_now:null!==n.performance.now()}},i=a.meta;o.queue.set(r),o.setup({identifiers:{human:"wiredcom",human_slug:"wiredcom",human_var:"wiredcom"}},{services:{ads:{version:"2.0.7",plugins:{ars_accelerator:{version:"0.1.4"},amazon_match_buy:{version:"0.1.5"},yieldbot:{version:"0.1.6"},adobe_audience_manager:{version:"0.1.3"},index_exchange:{version:"1.1.0"},newsletter:{version:"0.1.3"},proximic:{version:"0.1.2"},"4d":{version:"0.2.0"}}},metrics:{version:"0.1.4",plugins:{sparrow:{version:"0.1.10"}}}},built:"Thu Feb 23 2017 21:59:57 GMT+0000 (UTC)"}).then(function(){o.extend({name:"ads",controller:e("@condenast/atp-cns-service-ads"),version:"2.0.7",config:{request_vp_range:{__default:{desktop:400,tablet:400,mobile:200}},refresh_vp_range:{__default:{desktop:100,tablet:100,mobile:100}},network:3379,timers:{plugin_requests_max:1e3,ad_request_queuer:100,refresh_delay:3e4},slot:{types:{_default:{suffix:"dart",link_by_instance:!0,request_in_vp_only:!0,style:{background:"#000000"},render:{slot:{top:"body"}},mods:{"creative-ids|118185252295,118185258535,118185256375":{refresh:!1},"creative-ids|118182302935,118182303655,118177970695,118186442215,118186444375,118186444135,118186443415,118186454215":{refresh:!1},"sizes|9x3":{refresh:!1}}},_out_of_page:{_default:{refresh:!1,request_in_vp_only:!1}},post_nav:{_default:{sizes:{desktop:["728x90","970x90","970x250","970x66","970x418","932x372","930x400","9x1","9x3"],tablet:["728x90","725x310","970x90","970x250","970x66","970x418","932x372","9x1","9x3"],mobile:["300x50","320x50","320x150","300x259","9x1","9x3"]},data:{"jivox-ad-id":"constellation-crown"},render:{slot:{top:'[data-js="leaderboard"] .advertisement'}}}},box_in_body:{_default:{sizes:{desktop:["300x251"],tablet:["300x251"],mobile:["300x251"]},render:{slot:{top:".contentbody300x250"}}}},banner_in_body:{_default:{sizes:{desktop:["728x91"],tablet:["728x91"],mobile:["300x51","320x51"]},render:{slot:{top:".contentbody728x90"}}}},sponsor_300x60:{_default:{refresh:!1,sizes:{desktop:["300x60"],tablet:["300x60"],mobile:["300x60"]},render:{slot:{top:"#sponsor300x60"}}}},gallery_between_slides_new:{_default:{can_be_hidden:!0,refresh:!1,render:{slot:{top:".rad-slide"}},sizes:{desktop:["300x250","9x2"],tablet:["300x250","9x2"],mobile:!1}}},gallery_between_slides:{_default:{can_be_hidden:!0,refresh:!1,render:{slot:{top:".rad-slide"}},sizes:{desktop:["300x250"],tablet:["300x250"],mobile:["320x50","300x50"]}}},article_in_copy:{_default:{sizes:{desktop:["728x91","932x373","970x91","970x419","970x251","970x67","930x401","9x2"],tablet:["728x91","932x373","970x91","970x419","970x251","970x67","930x401","9x2","9x3"],mobile:["300x251","300x51","320x51","320x151","9x2","9x3"]},render:{slot:{top:'[data-js="inCopyRad"] .advertisement'}}}},parallax_in_copy:{_default:{sizes:{desktop:["9x2"],tablet:["9x2"],mobile:["9x2"]},render:{slot:{top:'[data-js="parallaxInCopyRad"] .advertisement'}}},photo_index:{request_in_vp_only:!1,can_be_hidden:!0}},siderail_1:{_default:{sizes:{desktop:["300x250","300x600"],tablet:["300x250","300x600"],mobile:["300x251","300x51","320x51","320x151"]},render:{slot:{top:".sidebar-rad.sidebar-inview,.xrail-top"}}}},siderail_2:{_default:{sizes:{desktop:["300x251"],tablet:["300x251"],mobile:["300x251","300x51","320x51","320x151"]},render:{slot:{top:".secondary-rad"}}}},siderail_3:{_default:{sizes:{desktop:["300x251"],tablet:["300x251"],mobile:["300x251","300x51","320x51","320x151","9x2","9x3"]},render:{slot:{top:".prefooter-rad"}}}},siderail_4:{_default:{sizes:{desktop:["300x251"],tablet:["300x251"],mobile:["300x251","300x51","320x51","320x151"]},render:{slot:{top:".mid-col-rad"}}}},wide_index:{_default:{refresh:!1,sizes:{desktop:["931x400","971x250","971x66","971x418"],tablet:["931x400","971x250","971x66","971x418"],mobile:!1},render:{slot:{top:".wide-index-rad"}}}},native_latest_news:{_default:{can_be_hidden:!0,refresh:!1,sizes:{desktop:["300x110"],tablet:!1,mobile:!1},render:{slot:{top:"#latest-news-list .story-2"}}}},native_latest_news_article:{_default:{can_be_hidden:!0,refresh:!1,id:"story-sponsored291x96_frame_",sizes:{desktop:["291x96"],tablet:!1,mobile:!1},render:{slot:{top:"#story-sponsored291x96_frame"}}}},native_card:{_default:{can_be_hidden:!0,refresh:!1,id:"rad-polar-card165x307_frame_",sizes:{desktop:["165x307"],tablet:["165x307"],mobile:["165x307"]},render:{slot:{top:"#rad-polar-card165x307_frame"}}}},newsletter_interstitial:{_default:{can_be_hidden:!0,refresh:!1,sizes:{desktop:["9x4"],tablet:["9x4"],mobile:["9x4"]}}},cm_contact_subscribe:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["304x28"],tablet:["304x28"],mobile:["304x28"]},render:{slot:{top:"#cm-subscribe-rad"}}}},cm_button:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["68x12"],tablet:["68x12"],mobile:["68x12"]},render:{slot:{top:"#cm-subscribe-button"}}}},cm_dropdown:{_default:{can_be_hidden:!0,suffix:"cm",refresh:!1,sizes:{desktop:["310x296"],tablet:["310x296"],mobile:["310x296"]},render:{slot:{top:"#cm-dropdown-subscribe"}}}},cm_footer:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["310x291"],tablet:["310x291"],mobile:["310x291"]},render:{slot:{top:"#cm-footer-cm-unit"}}}},cm_932x363:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["932x363"],tablet:["932x363"],mobile:["932x363"]},render:{slot:{top:"#rad-card932x363"}}}},cm_615x245:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["615x245"],tablet:["615x245"],mobile:["615x245"]},render:{slot:{top:"#rad-card615x245"}}}},cm_298x161:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["298x161"],tablet:["298x161"],mobile:["298x161"]},render:{slot:{top:"#rad-card298x161"}}}},cm_403x367:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["403x367"],tablet:["403x367"],mobile:["403x367"]},render:{slot:{top:"#rad-card403x367"}}}},cm_88x24:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["88x24"],tablet:["88x24"],mobile:["88x24"]},render:{slot:{top:"#cm-subscribe88x24"}}}},cm_91x24:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["91x24"],tablet:["91x24"],mobile:["91x24"]},render:{slot:{top:"#cm-subscribe91x24"}}}},cm_59x24:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["59x24"],tablet:["59x24"],mobile:["59x24"]},render:{slot:{top:"#cm-subscribe59x24"}}}},cm_206x24:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["206x24"],tablet:["206x24"],mobile:["206x24"]},render:{slot:{top:"#cm-subscribe206x24"}}}},cm_201x16:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["201x16"],tablet:["201x16"],mobile:["201x16"]},render:{slot:{top:"#cm-subscribe201x16"}}}},cm_207x16:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["207x16"],tablet:["207x16"],mobile:["207x16"]},render:{slot:{top:"#cm-subscribe207x16"}}}},cm_200x16:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["200x16"],tablet:["200x16"],mobile:["200x16"]},render:{slot:{top:"#cm-subscribe200x16"}}}},cm_168x33:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["168x33"],tablet:["168x33"],mobile:["168x33"]},render:{slot:{top:"#cm-subscribe168x33"}}}},cm_88x16:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["88x16"],tablet:["88x16"],mobile:["88x16"]},render:{slot:{top:"#cm-subscribe88x16"}}}},cm_198x95:{_default:{suffix:"cm",refresh:!1,sizes:{desktop:["198x95"],tablet:["198x95"],mobile:["198x95"]},render:{slot:{top:"#cm-subscribe198x95"}}}}},__auid_one:"wiredcom",sets:{_default:[],home:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_2","siderail_3","siderail_4","wide_index","native_card","cm_button","cm_dropdown","cm_footer"],index:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_2","wide_index","native_card","cm_button","cm_dropdown","cm_footer","cm_932x363","cm_615x245","cm_298x161","cm_403x367"],page:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","native_latest_news","cm_contact_subscribe","cm_button","cm_dropdown","cm_footer","cm_88x24","cm_91x24","cm_59x24","cm_206x24"],subscribe:["cm_201x16","cm_207x16","cm_200x16","cm_168x33","cm_88x16","cm_198x95"],article:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_video_inline_post:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_no_art:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_inset:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_video_wide_featured:["post_nav","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","_out_of_page","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_short_post:["post_nav","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_wide_post:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_fullbleed_gallery_post:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_2","siderail_3","siderail_4","wide_index","native_card","cm_button","cm_dropdown","cm_footer"],article_fullbleed_post:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_tumblr_liveblog:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","box_in_body","banner_in_body","native_latest_news_article","cm_button","cm_dropdown","cm_footer"],article_feature_story_layout:["article_in_copy","box_in_body","banner_in_body","sponsor_300x60","cm_button","cm_dropdown","cm_footer"],article_listicle:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","sponsor_300x60","article_in_copy","box_in_body","banner_in_body","cm_button","cm_dropdown","cm_footer"],article_legacy_content:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","siderail_3","banner_in_body","cm_button","cm_dropdown","cm_footer"],photo_index:["parallax_in_copy","cm_button","cm_dropdown"],search:["post_nav","_out_of_page","newsletter_interstitial","siderail_1","cm_button","cm_dropdown"],video_category:["post_nav","_out_of_page","newsletter_interstitial","cm_button","cm_dropdown"],video_index:["post_nav","_out_of_page","newsletter_interstitial","article_in_copy","cm_button","cm_dropdown"],video_article:["post_nav","article_in_copy","_out_of_page","newsletter_interstitial","cm_button","cm_dropdown"]}}}}).then(function(t){var n="cns_ads";i[n]="2.0.7";var r=[];return r.push(t.extend({name:"ars_accelerator",controller:e("@condenast/atp-cns-service-ads-plugin-ars-accelerator"),version:"0.1.4",config:{endpoint:"//cdn.accelerator.arsdev.net/hot/",top_ad_unit:"wiredcom.dart"}})),i[n+"_ars_accelerator"]="0.1.4",r.push(t.extend({name:"amazon_match_buy",controller:e("@condenast/atp-cns-service-ads-plugin-amazon-match-buy"),version:"0.1.5",config:{amazon_id:"3035",endpoint:"//c.amazon-adsystem.com/aax2/amzn_ads.js"}})),i[n+"_amazon_match_buy"]="0.1.5",r.push(t.extend({name:"yieldbot",controller:e("@condenast/atp-cns-service-ads-plugin-yieldbot"),version:"0.1.6",config:{endpoint:"//cdn.yldbt.com/js/yieldbot.intent.js"}})),i[n+"_yieldbot"]="0.1.6",r.push(t.extend({name:"adobe_audience_manager",controller:e("@condenast/atp-cns-service-ads-plugin-adobe-audience-manager"),version:"0.1.3",config:{}})),i[n+"_adobe_audience_manager"]="0.1.3",r.push(t.extend({name:"index_exchange",controller:e("@condenast/atp-cns-service-ads-plugin-index-exchange"),version:"1.1.0",config:{}})),i[n+"_index_exchange"]="1.1.0",r.push(t.extend({name:"newsletter",controller:e("@condenast/atp-cns-service-ads-plugin-newsletter"),version:"0.1.3",config:{}})),i[n+"_newsletter"]="0.1.3",r.push(t.extend({name:"proximic",controller:e("@condenast/atp-cns-service-ads-plugin-proximic"),version:"0.1.2",config:{}})),i[n+"_proximic"]="0.1.2",r.push(t.extend({name:"4d",controller:e("@condenast/atp-cns-service-ads-plugin-4d"),version:"0.2.0",config:{}})),i[n+"_4d"]="0.2.0",Promise.all(r)}).then(function(){o.queue.play("ads")}),o.extend({name:"metrics",controller:e("@condenast/atp-cns-service-metrics"),version:"0.1.4",config:{}}).then(function(t){var n="cns_metrics";i[n]="0.1.4";var r=[];return r.push(t.extend({name:"sparrow",controller:e("@condenast/atp-cns-service-metrics-plugin-sparrow"),version:"0.1.10",config:{preinit:["infinityid","4d"],meta:{cPd:"function () { if (window._4d && window._4d.context && window._4d.context.pubdate) { return window._4d.context.pubdate; } else { return undefined; }}",cKh:'function (d) { var fds = window._4d.context; var keywords = ""; if (fds.keywords && fds.keywords.list) { var temp = fds.keywords.list.filter(function (d) { return d.score > .6 ? true : false; }); temp = temp.map(function (d) { return d.keyword.toLowerCase(); }); keywords = temp.join(",");} return keywords;}'},events:[{type:["click"],options:[{_t:"share"}],selector:".vertical-social-share a,.horizontal-social-share a,.social-share a"},{type:["pageview"],options:[],selector:"window"},{type:["scroll"],options:[],selector:"window"},{type:["timespent"],options:[],selector:"window"}],origin:"wired",title:"Wired",environment:"prod",version:"1.0"}})),i[n+"_sparrow"]="0.1.10",Promise.all(r)}).then(function(){o.queue.play("metrics")}).then(function(){o.async("metrics",function(e){e.emit(a)})})})}(window)},{"../../assets/":30,"@condenast/atp-cns-service-ads":12,"@condenast/atp-cns-service-ads-plugin-4d":1,"@condenast/atp-cns-service-ads-plugin-adobe-audience-manager":2,"@condenast/atp-cns-service-ads-plugin-amazon-match-buy":3,"@condenast/atp-cns-service-ads-plugin-ars-accelerator":4,"@condenast/atp-cns-service-ads-plugin-index-exchange":5,"@condenast/atp-cns-service-ads-plugin-newsletter":6,"@condenast/atp-cns-service-ads-plugin-proximic":7,"@condenast/atp-cns-service-ads-plugin-yieldbot":8,"@condenast/atp-cns-service-metrics":29,"@condenast/atp-cns-service-metrics-plugin-sparrow":28,"@condenast/atp-utl/feature":41,"es6-promise":72}],32:[function(e,t){function n(e){return new Promise(function(t,n){var s,c=r(e);return c.result?(s=a(e),o(s.dataType)?(u(s),void t()):void i(s).then(t)["catch"](n)):void n(new Error(c.error))})}function r(e){return e&&e.URL&&e.URL.length?e.jsonpCallback&&!p(e.jsonpCallback)?{result:!1,error:m.badJSONPCallback}:{result:!0}:{result:!1,error:m.noURL}}function o(e){var t=e?e.toLowerCase():!1;return"jsonp"===t}function a(e){var t=f(e,!0);return t.method=t.method&&t.method.toUpperCase()||"GET",t.dataType=t.dataType&&t.dataType.toUpperCase()||"JSON",t}function i(e){return new Promise(function(t,n){var r,o=new XMLHttpRequest;o.open(e.method,e.URL),o.withCredentials=e.cors||!1,o.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<300?t(this.responseText):n(s(this)))},c(e.method,o),r=l(e.method,e.data),o.send(r)})}function s(e){var t=e.status;return new Error(e.statusText?m.requestError(e.statusText.hostname,t,e.statusText.code):m.undefinedError(t,e.responseText))}function c(e,t){return"POST"===e?t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"PATCH"===e||"PUT"===e?t.setRequestHeader("Content-Type","application/json"):null}function l(e,t){return"POST"===e?encodeURI(t):"DELETE"===e?null:t}function u(e){var t="cnsJSONPCallback"+Math.round(1e3*Math.random()),n=d(e.data),r=document.createElement("script");window[t]=e.jsonpCallback,r.src=e.URL+"?callback="+t+n,document.body.appendChild(r)}function d(e){var t=[],n="";for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.length&&(n="&"+t.join("&")),n}var p=e("../type/isFunction"),f=e("../objects/clone"),m={noURL:"[ atp utl ajax ] The parameter object contained an invalid URL.",badJSONPCallback:"[ atp utl ajax ] The parameter object contained a jsonpCallback that was not a function.",requestError:function(e,t,n){return"[ atp utl ajax ] Ajax request to "+e+" failed with status "+t+" and code "+n+"."},undefinedError:function(e){return"[ atp utl ajax ] Ajax request failed with a code of "+e+" and has no error object."}};t.exports=n},{"../objects/clone":45,"../type/isFunction":61}],33:[function(e,t){function n(e,t){function n(){if(!u){var t,r=Date.now(),o=r-s;o>l&&(t=o%l,s=r-t,e())}d||(i=window.requestAnimationFrame(n))}function r(){d=!0,window.cancelAnimationFrame(i)}function o(){u=!0}function a(){u=!1}var i,s=Date.now(),c=t||60,l=1e3/c,u=!1,d=!1;return n(),{kill:r,pause:o,resume:a}}t.exports=n},{}],34:[function(e,t){function n(e,t){if(!Array.isArray(e))throw new Error("Array.has() can only accept an array as a first argument.");return-1!==e.indexOf(t)?!0:!1}t.exports=n},{}],35:[function(e,t){function n(e,t){var n="Array.merge() can only accept an array of arrays as a first argument";if(!a(e))throw new Error(n);return o(e,function(t,n){void 0!==t&&a(t)||(e[n]=[])}),t?r.apply(null,e):Array.prototype.concat.apply([],e)}var r=e("lodash.union"),o=e("../../loop"),a=e("../../type/isArray");t.exports=n},{"../../loop":44,"../../type/isArray":53,"lodash.union":104}],36:[function(e,t){function n(e){r(e,"",{expires:-1})}var r=e("../set");t.exports=n},{"../set":39}],37:[function(e,t){function n(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)if(n=t[r].split("="),n[0]===e)return decodeURIComponent(n[1]);return!1}t.exports=n},{}],38:[function(e,t){var n=e("./get"),r=e("./set"),o=e("./del");t.exports={get:n,set:r,del:o}},{"./del":36,"./get":37,"./set":39}],39:[function(e,t){function n(e,t,n){if(!e)return void 0;var a=n||{},i=t||!0,s=!!a.encode||!0,c=s?encodeURIComponent(i):i,l=e+"="+c,u=[l];return a.path=a.path||"/",a.expires=r(a.expires)||0,u=o(u,a),document.cookie=u.join("; "),l}function r(e){var t=i(e)?new Date(+new Date+36e5*e):e;return t=a(t)?t.toUTCString():""}function o(e,t){var n=e;return n.push("expires="+t.expires),n.push("path="+t.path),n=t.domain?n.push("domain="+t.domain)&&n:n,n=t.secure?n.push("secure")&&n:n}var a=e("../../type/isDate"),i=e("../../type/isNumber");t.exports=n},{"../../type/isDate":58,"../../type/isNumber":66}],40:[function(e,t){function n(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return null!==t}t.exports={isFriendly:n}},{}],41:[function(e,t){function n(){try{return window.localStorage.setItem("testKey","1"),window.localStorage.removeItem("testKey"),!0}catch(e){return!1}}function r(){return!!(window&&window.performance&&window.performance.getEntries)}function o(e){var t=e||window,n=t.performance,r=n&&n.now&&n.now(),o=!r&&n&&t.performance.timing,a=o&&t.performance.timing.navigationStart,i=a&&Date.now()-a;return r||a&&i||null}t.exports={isStorageEnabled:n,isGetEntriesEnabled:r,performance:{now:o}}},{}],42:[function(e,t){function n(e){throw new Error(e)}function r(e){var t=i(e.func);if(!t)return e.func;var n=e.func(e.payload),r=n instanceof Promise;if(r&&!e.timeout)return n;if(r&&e.timeout){var o=new Promise(function(t){setTimeout(t,e.timeout,{timedOut:!0})});return Promise.race([n,o]).then(function(t){return t&&t.timedOut&&i(e.onTimeout)?e.onTimeout():t})}return Promise.resolve(n)}function o(e){setTimeout(e,0)}function a(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=30,n="";t--;)n+=e.charAt(Math.floor(Math.random()*e.length));return n}var i=e("../type/isFunction");t.exports={error:n,noop:function(){},callbackHandler:r,bump:o,generateRandomID:a}},{"../type/isFunction":61}],43:[function(e,t){function n(e){f=u().CNS_LOG||!1;var t=window;e&&d(e)&&(t=e),t.log={on:c,off:l}}function r(e,t,n){return p.length>=100&&p.shift(),p.push([e,new Date,"["+t+"]",n]),o()}function o(){if(f&&p.length){p.sort(a);for(var e=p.length;e--;)(p[e][0]===f||"all"===f)&&(i(p[e]),p.splice(e,1))}}function a(e,t){return e[1]===t[1]?0:e[1]>t[1]?-1:1}function i(e){var t="flow"===e[0]?"info":e[0];return window.console[t](s(e[1]),e[2],e[3])}function s(e){var t=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),o=e.getMilliseconds(),a=t+":"+n+":"+r+":"+o;return a}function c(e){f=e||"all",o()}function l(){f=!1}var u=e("../parse"),d=e("../type/isPlainObject"),p=[],f=!1;t.exports={setup:n,warn:r.bind(null,"warn"),error:r.bind(null,"error"),info:r.bind(null,"info"),flow:r.bind(null,"flow"),on:c,off:l}},{"../parse":50,"../type/isPlainObject":68}],44:[function(e,t){function n(e,t){function n(){for(var n=0;e>n;n++)t(n)}var o="object"==typeof e,a="number"==typeof e&&e%1===0,i="function"==typeof t;if(!o&&!a)return!1;if(!i)throw new Error("Loop() must be passed a callback function as a second argument");return a?n():r(e,t)}var r=e("lodash.map");t.exports=n},{"lodash.map":99}],45:[function(e,t){function n(e,t,n,a){if(!o(e))throw new Error("Objects.Clone: The first parameter to clone must be an object");return r(e,t,n,a)}var r=e("lodash.clone"),o=e("../../type/isPlainObject/");t.exports=n},{"../../type/isPlainObject/":68,"lodash.clone":92}],46:[function(e,t){function n(e){return!e||a(e)||o(e)?!1:r(e)}var r=e("lodash.keys"),o=e("../../type/isArray"),a=e("../../type/isString");t.exports=n},{"../../type/isArray":53,"../../type/isString":69,"lodash.keys":97}],47:[function(e,t){function n(e){var t=[{}];return r(e.mergeables,function(e){t.push(e)}),e.merger&&t.push(e.merger),o.apply(null,t)}var r=e("lodash.map"),o=e("lodash.merge");t.exports=n},{"lodash.map":99,"lodash.merge":100}],48:[function(e,t){function n(e,t){function n(e,t){return null===t?e:e?typeof e!=typeof t?t:a(t)?t:o(t)?r({},e,t,n):void 0:t}return r({},e,t,n)}var r=e("lodash.merge"),o=e("../../type/isPlainObject"),a=e("../../type/isArray");t.exports=n},{"../../type/isArray":53,"../../type/isPlainObject":68,"lodash.merge":100}],49:[function(e,t){function n(e){function t(a){var i;return r>=l?(clearTimeout(n),void c(a,e)):Date.now()-u>d?(clearTimeout(n),void s(e)):(i=o[r],a[i]?(clearTimeout(n),r++,void t(a[i])):void(n=setTimeout(function(){t(a)},e.poll.every)))}a(e),i(e);var n,r=0,o=e.path.split("."),l=o.length,u=Date.now(),d=e.poll.limit,p=e.obj||window;t(p)}function r(e,t){return t?typeof e===t:!0}function o(e,t,n){var o=e[t]||!1;return o&&r(o,n)}function a(e){function t(e,t,n){if(!o(e,t,n))throw new Error("[ cns utilities: obj.ready ] the '"+t+"' options property must be of type '"+n+"'")}t(e,"path","string"),t(e,"poll","object"),t(e.poll,"limit","number"),t(e,"onReady","function")}function i(e){function t(e,t,n){o(e,t,n)||(e[t]=l[t])}t(e,"onFailure","function"),t(e.poll,"every","number")}function s(e){e.onFailure(new Error("[ cns utilities: obj.ready ] "+e.path+" was not found before time limit of "+e.poll.limit+" milliseconds expired."))}function c(e,t){return r(e,t.type)?void t.onReady(e):void t.onFailure(new Error("[ cns utilities: obj.ready ] path is ready but not of type '"+t.type+"'."))}var l={every:100,onFailure:function(e){console.error(e.message)}};t.exports=n},{}],50:[function(e,t){function n(e){var t,n=e?e:document.location.search,o=n.slice(1,n.length),a=o.split("&"),i={};return r(a,function(e){t=e.split("="),i[t[0]]=t[1]}),i}var r=e("../loop");t.exports=n},{"../loop":44}],51:[function(e,t){function n(e,t){if(!e)return void 0;if("string"!=typeof e)return e;var n="string"==typeof t?t:"-",r=new RegExp("[^a-z0-9]+","g"),o=e.toLowerCase(),a=o.replace(r,n);return a}t.exports=n},{}],52:[function(e,t){function n(e,t){return e&&t?e.substring(0,t.length)===t:!1}t.exports=n},{}],53:[function(e,t){function n(e){return!!e&&Array.isArray(e)}t.exports=n},{}],54:[function(e,t){function n(e){return!(!e||9!==e.nodeType)}t.exports=n},{}],55:[function(e,t){function n(e){return!(!e||1!==e.nodeType)}t.exports=n},{}],56:[function(e,t){function n(e){return!(!e||"undefined"==typeof e.item)}t.exports=n},{}],57:[function(e,t){function n(e){return!!(e&&e.document&&r(e.document))}var r=e("../isDOMDocumentObject");t.exports=n},{"../isDOMDocumentObject":54}],58:[function(e,t){function n(e){return!!e&&e instanceof Date&&!isNaN(e.valueOf())}t.exports=n},{}],59:[function(e,t){function n(e){return o(e)||r(e)}var r=e("../isDOMDocumentObject"),o=e("../isJQDocumentObject");t.exports=n},{"../isDOMDocumentObject":54,"../isJQDocumentObject":62}],60:[function(e,t){function n(e){return o(e)||r(e)}var r=e("../isDOMElement"),o=e("../isJQElement");t.exports=n},{"../isDOMElement":55,"../isJQElement":63}],61:[function(e,t){function n(e){return!!e&&"function"==typeof e}t.exports=n},{}],62:[function(e,t){function n(e){return!!(e&&r(e)&&o(e[0]))}var r=e("../isJQObject"),o=e("../isDOMDocumentObject");t.exports=n},{"../isDOMDocumentObject":54,"../isJQObject":64}],63:[function(e,t){function n(e){return!(!e||!r(e)||1!==e[0].nodeType)}var r=e("../isJQObject");t.exports=n},{"../isJQObject":64}],64:[function(e,t){function n(e){return!(!e||!e.jquery)}t.exports=n},{}],65:[function(e,t){function n(e){return!!(e&&r(e)&&o(e[0]))}var r=e("../isJQObject"),o=e("../isDOMWindowObject");t.exports=n},{"../isDOMWindowObject":57,"../isJQObject":64}],66:[function(e,t){function n(e){return"number"==typeof e}t.exports=n},{}],67:[function(e,t){function n(e){var t=typeof e;return!!e&&("object"===t||"function"===t)}t.exports=n},{}],68:[function(e,t){function n(e){return!!e&&e.constructor===Object}t.exports=n},{}],69:[function(e,t){function n(e){return"string"==typeof e}t.exports=n},{}],70:[function(e,t){function n(e){return o(e)||r(e)}var r=e("../isDOMWindowObject"),o=e("../isJQWindowObject");t.exports=n},{"../isDOMWindowObject":57,"../isJQWindowObject":65}],71:[function(e,t){function n(e){var t=e.parentNode;return s(e)&&s(e.parentNode)?i(e)?!1:o(e)?!0:i(t)?!1:o(t)?!0:a(t)&&c(e)?!0:n(t,e.getBoundingClientRect()):!0}function r(e,t){return document.defaultView.getComputedStyle(e,null)[t]}function o(e){return!!["opacity","display","visibility"].filter(function(t){return/(0|none|hidden)/.test(r(e,t))}).length}function a(e){return/(hidden|scroll)/.test(window.getComputedStyle(e,null).getPropertyValue("overflow"))}function i(e){return"BODY"===e.nodeName}function s(e){return document.documentElement.contains(e)}function c(e){var t=e.getBoundingClientRect(),n=e.parentElement.getBoundingClientRect();return t.top>n.bottom||t.bottom<n.top||t.left>n.right||t.right<n.left}t.exports={isHidden:n}},{}],72:[function(e,t){(function(n,r){(function(){"use strict";function o(e){return"function"==typeof e||"object"==typeof e&&null!==e}function a(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){G=e}function c(e){J=e}function l(){var e=n.nextTick,t=n.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(m)}}function u(){return function(){H(m)}}function d(){var e=0,t=new X(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var e=0;Y>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}Y=0}function g(){try{var t=e,n=t("vertx");return H=n.runOnLoop||n.runOnContext,u()}catch(r){return f()}}function h(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(t){return ae.error=t,ae}}function b(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function w(e,t,n){J(function(e){var r=!1,o=b(n,t,function(n){r||(r=!0,t!==n?j(e,n):T(e,n))},function(t){r||(r=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,A(e,o))},e)}function x(e,t){t._state===re?T(e,t._result):t._state===oe?A(e,t._result):C(t,void 0,function(t){j(e,t)},function(t){A(e,t)})}function k(e,t){if(t.constructor===e.constructor)x(e,t);else{var n=_(t);n===ae?A(e,ae.error):void 0===n?T(e,t):a(n)?w(e,t,n):T(e,t)}}function j(e,t){e===t?A(e,v()):o(t)?k(e,t):T(e,t)}function S(e){e._onerror&&e._onerror(e._result),R(e)}function T(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&J(R,e))}function A(e,t){e._state===ne&&(e._state=oe,e._result=t,J(S,e))}function C(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+re]=n,o[a+oe]=r,0===a&&e._state&&J(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?P(n,r,o,a):o(a);e._subscribers.length=0}}function O(){this.error=null}function E(e,t){try{return e(t)}catch(n){return ie.error=n,ie}}function P(e,t,n,r){var o,i,s,c,l=a(n);if(l){if(o=E(n,r),o===ie?(c=!0,i=o.error,o=null):s=!0,t===o)return void A(t,y())}else o=r,s=!0;t._state!==ne||(l&&s?j(t,o):c?A(t,i):e===re?T(t,o):e===oe&&A(t,o))}function I(e,t){try{t(function(t){j(e,t)},function(t){A(e,t)})}catch(n){A(e,n)}}function q(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(h),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?T(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&T(n.promise,n._result))):A(n.promise,n._validationError())}function D(e){return new se(this,e).promise}function M(e){function t(e){j(o,e)}function n(e){A(o,e)}var r=this,o=new r(h);if(!$(e))return A(o,new TypeError("You must pass an array to race.")),o;for(var a=e.length,i=0;o._state===ne&&a>i;i++)C(r.resolve(e[i]),void 0,t,n);return o}function N(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return j(n,e),n}function L(e){var t=this,n=new t(h);return A(n,e),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this._id=pe++,this._state=void 0,this._result=void 0,this._subscribers=[],h!==e&&(a(e)||z(),this instanceof F||B(),I(this,e))}function V(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=fe)}var U;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,G,W,$=U,Y=0,J=({}.toString,function(e,t){te[Y]=e,te[Y+1]=t,Y+=2,2===Y&&(G?G(m):W())}),Q="undefined"!=typeof window?window:void 0,K=Q||{},X=K.MutationObserver||K.WebKitMutationObserver,Z="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);W=Z?l():X?d():ee?p():void 0===Q&&"function"==typeof e?g():f();var ne=void 0,re=1,oe=2,ae=new O,ie=new O;q.prototype._validateInput=function(e){return $(e)},q.prototype._validationError=function(){
return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var se=q;q.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===ne&&t>o;o++)e._eachEntry(r[o],o)},q.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;i(e)?e.constructor===r&&e._state!==ne?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},q.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===ne&&(r._remaining--,e===oe?A(o,n):r._result[t]=n),0===r._remaining&&T(o,r._result)},q.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(oe,t,e)})};var ce=D,le=M,ue=N,de=L,pe=0,fe=F;F.all=ce,F.race=le,F.resolve=ue,F.reject=de,F._setScheduler=s,F._setAsap=c,F._asap=J,F.prototype={constructor:F,then:function(e,t){var n=this,r=n._state;if(r===re&&!e||r===oe&&!t)return this;var o=new this.constructor(h),a=n._result;if(r){var i=arguments[r-1];J(function(){P(r,o,i,a)})}else C(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var me=V,ge={Promise:fe,polyfill:me};"function"==typeof define&&define.amd?define(function(){return ge}):"undefined"!=typeof t&&t.exports?t.exports=ge:"undefined"!=typeof this&&(this.ES6Promise=ge),me()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:105}],73:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],74:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],75:[function(e,t){function n(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}t.exports=n},{}],76:[function(e,t){function n(e,t){return null==t?e:r(t,o(t),e)}var r=e("lodash._basecopy"),o=e("lodash.keys");t.exports=n},{"lodash._basecopy":79,"lodash.keys":97}],77:[function(e,t){function n(e){return null==e?"":e+""}function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:w(e,t,n):null==e?y:"object"==r?i(e):void 0===t?_(e):s(e,t)}function o(e,t,n){if(null!=e){void 0!==n&&n in m(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}function a(e,t,n){var r=t.length,o=r,a=!n;if(null==e)return!o;for(e=m(e);r--;){var i=t[r];if(a&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<o;){i=t[r];var s=i[0],c=e[s],l=i[1];if(a&&i[2]){if(void 0===c&&!(s in e))return!1}else{var u=n?n(c,l,s):void 0;if(!(void 0===u?b(l,c,n,!0):u))return!1}}return!0}function i(e){var t=d(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in m(e))}}return function(e){return a(e,t)}}function s(e,t){var n=x(e),r=p(e)&&f(t),a=e+"";return e=g(e),function(i){if(null==i)return!1;var s=a;if(i=m(i),!(!n&&r||s in i)){if(i=1==e.length?i:o(i,u(e,0,-1)),null==i)return!1;s=h(e),i=m(i)}return i[s]===t?void 0!==t||s in i:b(t,i[s],void 0,!0)}}function c(e){return function(t){return null==t?void 0:t[e]}}function l(e){var t=e+"";return e=g(e),function(n){return o(n,e,t)}}function u(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}function d(e){for(var t=k(e),n=t.length;n--;)t[n][2]=f(t[n][1]);return t}function p(e,t){var n=typeof e;if("string"==n&&S.test(e)||"number"==n)return!0;if(x(e))return!1;var r=!j.test(e);return r||null!=t&&e in m(t)}function f(e){return e===e&&!v(e)}function m(e){return v(e)?e:Object(e)}function g(e){if(x(e))return e;var t=[];return n(e).replace(T,function(e,n,r,o){t.push(r?o.replace(A,"$1"):n||e)}),t}function h(e){var t=e?e.length:0;return t?e[t-1]:void 0}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return e}function _(e){return p(e)?c(e):l(e)}var b=e("lodash._baseisequal"),w=e("lodash._bindcallback"),x=e("lodash.isarray"),k=e("lodash.pairs"),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,S=/^\w*$/,T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,A=/\\(\\)?/g;t.exports=r},{"lodash._baseisequal":84,"lodash._bindcallback":86,"lodash.isarray":94,"lodash.pairs":101}],78:[function(e,t){(function(n){function r(e,t,n,a,f,g,v){var y;if(n&&(y=f?n(e,a,f):n(e)),void 0!==y)return y;if(!l(e))return e;var _=m(e);if(_){if(y=i(e),!t)return u(e,y)}else{var b=U.call(e),x=b==w;if(b!=j&&b!=h&&(!x||f))return B[b]?c(e,b,t):f?e:{};if(y=s(x?{}:e),!t)return p(y,e)}g||(g=[]),v||(v=[]);for(var k=g.length;k--;)if(g[k]==e)return v[k];return g.push(e),v.push(y),(_?d:o)(e,function(o,a){y[a]=r(o,t,n,a,e,g,v)}),y}function o(e,t){return f(e,t,g)}function a(e){var t=new H(e.byteLength),n=new G(t);return n.set(new G(e)),t}function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&V.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function s(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}function c(e,t,n){var r=e.constructor;switch(t){case R:return a(e);case y:case _:return new r(+e);case O:case E:case P:case I:case q:case D:case M:case N:case L:var o=e.buffer;return new r(n?a(o):o,e.byteOffset,e.length);case k:case A:return new r(e);case S:var i=new r(e.source,z.exec(e));i.lastIndex=e.lastIndex}return i}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=e("lodash._arraycopy"),d=e("lodash._arrayeach"),p=e("lodash._baseassign"),f=e("lodash._basefor"),m=e("lodash.isarray"),g=e("lodash.keys"),h="[object Arguments]",v="[object Array]",y="[object Boolean]",_="[object Date]",b="[object Error]",w="[object Function]",x="[object Map]",k="[object Number]",j="[object Object]",S="[object RegExp]",T="[object Set]",A="[object String]",C="[object WeakMap]",R="[object ArrayBuffer]",O="[object Float32Array]",E="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",M="[object Uint8ClampedArray]",N="[object Uint16Array]",L="[object Uint32Array]",z=/\w*$/,B={};B[h]=B[v]=B[R]=B[y]=B[_]=B[O]=B[E]=B[P]=B[I]=B[q]=B[k]=B[j]=B[S]=B[A]=B[D]=B[M]=B[N]=B[L]=!0,B[b]=B[w]=B[x]=B[T]=B[C]=!1;var F=Object.prototype,V=F.hasOwnProperty,U=F.toString,H=n.ArrayBuffer,G=n.Uint8Array;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arraycopy":73,"lodash._arrayeach":74,"lodash._baseassign":76,"lodash._basefor":82,"lodash.isarray":94,"lodash.keys":97}],79:[function(e,t){function n(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r];n[a]=e[a]}return n}t.exports=n},{}],80:[function(e,t){function n(e,t){return p(e,t,l)}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e,t){return function(n,r){var o=n?f(n):0;if(!i(o))return e(n,r);for(var a=t?o:-1,c=s(n);(t?a--:++a<o)&&r(c[a],a,c)!==!1;);return n}}function a(e){return function(t,n,r){for(var o=s(t),a=r(t),i=a.length,c=e?i:-1;e?c--:++c<i;){var l=a[c];if(n(o[l],l,o)===!1)break}return t}}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function s(e){return c(e)?e:Object(e)}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=e("lodash.keys"),u=9007199254740991,d=o(n),p=a(),f=r("length");t.exports=d},{"lodash.keys":97}],81:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function o(e,t,a,s){s||(s=[]);for(var u=-1,d=e.length;++u<d;){var p=e[u];n(p)&&i(p)&&(a||l(p)||c(p))?t?o(p,t,a,s):r(s,p):a||(s[s.length]=p)}return s}function a(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&s(d(e))}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}var c=e("lodash.isarguments"),l=e("lodash.isarray"),u=9007199254740991,d=a("length");t.exports=o},{"lodash.isarguments":93,"lodash.isarray":94}],82:[function(e,t){function n(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++o];if(n(a[c],c,a)===!1)break}return t}}var r=n();t.exports=r},{}],83:[function(e,t){function n(e,t,n){if(t!==t)return r(e,n);for(var o=n-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}function r(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var a=e[o];if(a!==a)return o}return-1}t.exports=n},{}],84:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function o(e,t,r,i,s,c){return e===t?!0:null==e||null==t||!l(e)&&!n(t)?e!==e&&t!==t:a(e,t,o,r,i,s,c)}function a(e,t,n,r,o,a,l){var p=u(e),g=u(t),h=m,v=m;p||(h=j.call(e),h==f?h=_:h!=_&&(p=d(e))),g||(v=j.call(t),v==f?v=_:v!=_&&(g=d(t)));var y=h==_,b=v==_,w=h==v;if(w&&!p&&!y)return s(e,t,h);if(!o){var x=y&&k.call(e,"__wrapped__"),S=b&&k.call(t,"__wrapped__");if(x||S)return n(x?e.value():e,S?t.value():t,r,o,a,l)}if(!w)return!1;a||(a=[]),l||(l=[]);for(var T=a.length;T--;)if(a[T]==e)return l[T]==t;a.push(e),l.push(t);var A=(p?i:c)(e,t,n,r,o,a,l);return a.pop(),l.pop(),A}function i(e,t,n,o,a,i,s){var c=-1,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;for(;++c<l;){var d=e[c],p=t[c],f=o?o(a?p:d,a?d:p,c):void 0;if(void 0!==f){if(f)continue;return!1}if(a){if(!r(t,function(e){return d===e||n(d,e,o,a,i,s)}))return!1}else if(d!==p&&!n(d,p,o,a,i,s))return!1}return!0}function s(e,t,n){switch(n){case g:case h:return+e==+t;case v:return e.name==t.name&&e.message==t.message;case y:return e!=+e?t!=+t:e==+t;case b:case w:return e==t+""}return!1}function c(e,t,n,r,o,a,i){var s=p(e),c=s.length,l=p(t),u=l.length;if(c!=u&&!o)return!1;for(var d=c;d--;){var f=s[d];if(!(o?f in t:k.call(t,f)))return!1}for(var m=o;++d<c;){f=s[d];var g=e[f],h=t[f],v=r?r(o?h:g,o?g:h,f):void 0;if(!(void 0===v?n(g,h,r,o,a,i):v))return!1;m||(m="constructor"==f)}if(!m){var y=e.constructor,_=t.constructor;if(y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=e("lodash.isarray"),d=e("lodash.istypedarray"),p=e("lodash.keys"),f="[object Arguments]",m="[object Array]",g="[object Boolean]",h="[object Date]",v="[object Error]",y="[object Number]",_="[object Object]",b="[object RegExp]",w="[object String]",x=Object.prototype,k=x.hasOwnProperty,j=x.toString;t.exports=o},{"lodash.isarray":94,"lodash.istypedarray":96,"lodash.keys":97}],85:[function(e,t){function n(e,t){var n=-1,s=r,c=e.length,l=!0,u=l&&c>=i,d=u?a():null,p=[];d?(s=o,l=!1):(u=!1,d=t?[]:p);e:for(;++n<c;){var f=e[n],m=t?t(f,n,e):f;if(l&&f===f){for(var g=d.length;g--;)if(d[g]===m)continue e;t&&d.push(m),p.push(f)}else s(d,m,0)<0&&((t||u)&&d.push(m),p.push(f))}return p}var r=e("lodash._baseindexof"),o=e("lodash._cacheindexof"),a=e("lodash._createcache"),i=200;t.exports=n},{"lodash._baseindexof":83,"lodash._cacheindexof":87,"lodash._createcache":89}],86:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,a){return e.call(t,n,r,o,a)};case 5:return function(n,r,o,a,i){return e.call(t,n,r,o,a,i)}}return function(){return e.apply(t,arguments)}}function r(e){return e}t.exports=n},{}],87:[function(e,t){function n(e,t){var n=e.data,o="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return o?0:-1}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],88:[function(e,t){function n(e){return a(function(t,n){var a=-1,i=null==t?0:n.length,s=i>2?n[i-2]:void 0,c=i>2?n[2]:void 0,l=i>1?n[i-1]:void 0;for("function"==typeof s?(s=r(s,l,5),i-=2):(s="function"==typeof l?l:void 0,i-=s?1:0),c&&o(n[0],n[1],c)&&(s=3>i?void 0:s,i=1);++a<i;){var u=n[a];u&&e(t,u,s)}return t})}var r=e("lodash._bindcallback"),o=e("lodash._isiterateecall"),a=e("lodash.restparam");t.exports=n},{"lodash._bindcallback":86,"lodash._isiterateecall":91,"lodash.restparam":102}],89:[function(e,t){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:l(null),set:new c};t--;)this.push(e[t])}function o(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}function a(e){return l&&c?new r(e):null}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=e("lodash._getnative"),c=s(n,"Set"),l=s(Object,"create");r.prototype.push=o,t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._getnative":90}],90:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}function o(e){return a(e)&&p.call(e)==s}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return null==e?!1:o(e)?f.test(u.call(e)):n(e)&&c.test(e)}var s="[object Function]",c=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,d=l.hasOwnProperty,p=l.toString,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{}],91:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&i(u(e))}function o(e,t){return e="number"==typeof e||c.test(e)?+e:-1,t=null==t?l:t,e>-1&&e%1==0&&t>e}function a(e,t,n){if(!s(n))return!1;var a=typeof t;if("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var c=/^\d+$/,l=9007199254740991,u=n("length");t.exports=a},{}],92:[function(e,t){function n(e,t,n,i){return t&&"boolean"!=typeof t&&a(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?r(e,t,o(n,i,3)):r(e,t)}var r=e("lodash._baseclone"),o=e("lodash._bindcallback"),a=e("lodash._isiterateecall");t.exports=n},{"lodash._baseclone":78,"lodash._bindcallback":86,"lodash._isiterateecall":91}],93:[function(e,t){function n(e){return o(e)&&m.call(e,"callee")&&(!h.call(e,"callee")||g.call(e)==u)}function r(e){return null!=e&&i(e.length)&&!a(e)}function o(e){return c(e)&&r(e)}function a(e){var t=s(e)?g.call(e):"";return t==d||t==p}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var l=9007199254740991,u="[object Arguments]",d="[object Function]",p="[object GeneratorFunction]",f=Object.prototype,m=f.hasOwnProperty,g=f.toString,h=f.propertyIsEnumerable;t.exports=n},{}],94:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){return i(e)&&m.call(e)==l}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:a(e)?g.test(p.call(e)):n(e)&&u.test(e)}var c="[object Array]",l="[object Function]",u=/^\[object .+?Constructor\]$/,d=Object.prototype,p=Function.prototype.toString,f=d.hasOwnProperty,m=d.toString,g=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=r(Array,"isArray"),v=9007199254740991,y=h||function(e){return n(e)&&o(e.length)&&m.call(e)==c};t.exports=y},{}],95:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){return a(e,t,s)}function o(e){var t;if(!n(e)||d.call(e)!=c||i(e)||!u.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var o;return r(e,function(e,t){o=t}),void 0===o||u.call(e,o)}var a=e("lodash._basefor"),i=e("lodash.isarguments"),s=e("lodash.keysin"),c="[object Object]",l=Object.prototype,u=l.hasOwnProperty,d=l.toString;t.exports=o},{"lodash._basefor":82,"lodash.isarguments":93,"lodash.keysin":98}],96:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&a>=e}function r(e){return!!e&&"object"==typeof e}function o(e){return r(e)&&n(e.length)&&!!O[P.call(e)]}var a=9007199254740991,i="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",m="[object Object]",g="[object RegExp]",h="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",O={};O[w]=O[x]=O[k]=O[j]=O[S]=O[T]=O[A]=O[C]=O[R]=!0,O[i]=O[s]=O[_]=O[c]=O[b]=O[l]=O[u]=O[d]=O[p]=O[f]=O[m]=O[g]=O[h]=O[v]=O[y]=!1;var E=Object.prototype,P=E.toString;t.exports=o},{}],97:[function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&a(v(e))}function o(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?h:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&h>=e}function i(e){for(var t=c(e),n=t.length,r=n&&e.length,i=!!r&&a(r)&&(d(e)||u(e)),s=-1,l=[];++s<n;){var p=t[s];(i&&o(p,r)||m.call(e,p))&&l.push(p)}return l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(d(e)||u(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,c=Array(t),l=t>0;++r<t;)c[r]=r+"";for(var p in e)l&&o(p,t)||"constructor"==p&&(i||!m.call(e,p))||c.push(p);return c}var l=e("lodash._getnative"),u=e("lodash.isarguments"),d=e("lodash.isarray"),p=/^\d+$/,f=Object.prototype,m=f.hasOwnProperty,g=l(Object,"keys"),h=9007199254740991,v=n("length"),y=g?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?i(e):s(e)?g(e):[]}:i;t.exports=y},{"lodash._getnative":90,"lodash.isarguments":93,"lodash.isarray":94}],98:[function(e,t){function n(e,t){return e="number"==typeof e||c.test(e)?+e:-1,t=null==t?d:t,e>-1&&e%1==0&&t>e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&r(t)&&(s(e)||i(e))&&t||0;for(var a=e.constructor,c=-1,l="function"==typeof a&&a.prototype===e,d=Array(t),p=t>0;++c<t;)d[c]=c+"";for(var f in e)p&&n(f,t)||"constructor"==f&&(l||!u.call(e,f))||d.push(f);return d}var i=e("lodash.isarguments"),s=e("lodash.isarray"),c=/^\d+$/,l=Object.prototype,u=l.hasOwnProperty,d=9007199254740991;t.exports=a},{"lodash.isarguments":93,"lodash.isarray":94}],99:[function(e,t){function n(e,t){var n=-1,r=o(e)?Array(e.length):[];return l(e,function(e,o,a){r[++n]=t(e,o,a)}),r}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(p(e))}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function i(e,t,r){var o=u(e)?s:n;return t=c(t,r,3),o(e,t)}var s=e("lodash._arraymap"),c=e("lodash._basecallback"),l=e("lodash._baseeach"),u=e("lodash.isarray"),d=9007199254740991,p=r("length");t.exports=i},{"lodash._arraymap":75,"lodash._basecallback":77,"lodash._baseeach":80,"lodash.isarray":94}],100:[function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t,a,s,l){if(!c(e))return e;var d=i(t)&&(f(t)||g(t)),p=d?void 0:h(t);return u(p||t,function(i,c){if(p&&(c=i,i=t[c]),n(i))s||(s=[]),l||(l=[]),o(e,t,c,r,a,s,l);else{var u=e[c],f=a?a(u,i,c,e,t):void 0,m=void 0===f;m&&(f=i),void 0===f&&(!d||c in e)||!m&&(f===f?f===u:u!==u)||(e[c]=f)}}),e}function o(e,t,n,r,o,a,s){for(var c=a.length,u=t[n];c--;)if(a[c]==u)return void(e[n]=s[c]);var d=e[n],h=o?o(d,u,n,e,t):void 0,y=void 0===h;y&&(h=u,i(u)&&(f(u)||g(u))?h=f(d)?d:i(d)?l(d):[]:m(u)||p(u)?h=p(d)?v(d):m(d)?d:{}:y=!1),a.push(u),s.push(h),y?e[n]=r(h,u,o,a,s):(h===h?h!==d:d===d)&&(e[n]=h)}function a(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&s(_(e))}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=e("lodash._arraycopy"),u=e("lodash._arrayeach"),d=e("lodash._createassigner"),p=e("lodash.isarguments"),f=e("lodash.isarray"),m=e("lodash.isplainobject"),g=e("lodash.istypedarray"),h=e("lodash.keys"),v=e("lodash.toplainobject"),y=9007199254740991,_=a("length"),b=d(r);t.exports=b},{"lodash._arraycopy":73,"lodash._arrayeach":74,"lodash._createassigner":88,"lodash.isarguments":93,"lodash.isarray":94,"lodash.isplainobject":95,"lodash.istypedarray":96,"lodash.keys":97,"lodash.toplainobject":103}],101:[function(e,t){function n(e){return r(e)?e:Object(e)}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){e=n(e);for(var t=-1,r=a(e),o=r.length,i=Array(o);++t<o;){var s=r[t];i[t]=[s,e[s]]}return i}var a=e("lodash.keys");t.exports=o},{"lodash.keys":97}],102:[function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,a=o(n.length-t,0),i=Array(a);++r<a;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=i,e.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=n},{}],103:[function(e,t){function n(e){return r(e,o(e))}var r=e("lodash._basecopy"),o=e("lodash.keysin");t.exports=n},{"lodash._basecopy":79,"lodash.keysin":98}],104:[function(e,t){var n=e("lodash._baseflatten"),r=e("lodash._baseuniq"),o=e("lodash.restparam"),a=o(function(e){return r(n(e,!1,!0))});t.exports=a},{"lodash._baseflatten":81,"lodash._baseuniq":85,"lodash.restparam":102}],105:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){g&&f&&(g=!1,f.length?m=f.concat(m):h=-1,m.length&&s())}function s(){if(!g){var e=o(i);g=!0;for(var t=m.length;t;){for(f=m,m=[];++h<t;)f&&f[h].run();h=-1,t=m.length}f=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,m=[],g=!1,h=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}]},{},[31]);