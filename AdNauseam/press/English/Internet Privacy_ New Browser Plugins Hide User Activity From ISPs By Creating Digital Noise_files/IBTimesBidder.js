window.headertag=window.headertag||{},function(){"use strict";var e={};e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.divIdToSlot=function(t){for(var n=e.getSlots(),r=0,i=n.length;r<i;r++)if(n[r].getSlotElementId()===t)return n[r];return null},e.getDivIdToSlotMap=function(t){t||(t=e.getSlots());for(var n={},r=0,i=t.length;r<i;r++)n[t[r].getSlotElementId()]=t[r];return n},e.getDivIds=function(t){t||(t=e.getSlots());for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].getSlotElementId());return n},e.objToQueryString=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+"&");return t.slice(0,-1)},e.generateCorrelator=function(){return"_"+String((new Date).getTime()%2592e6)+String(Math.floor(16384*Math.random()))},e.getSlots=function(){return window.googletag&&window.googletag.apiReady?googletag.pubads().getSlots().slice():null},e.isInteger=function(e){return"number"==typeof e&&e%1===0},e.validateNonEmptyString=function(e,t){return!!(t&&!e||e&&"string"==typeof e)},e.validateFunction=function(e,t){return!!(t&&!e||e&&"function"==typeof e)},e.validateNonEmptyArray=function(t,n){return!!(n&&!t||t&&e.isArray(t)&&t.length)},e.validateNonEmptyObject=function(t,n){return!!(n&&!t||t&&"object"==typeof t&&!e.isEmpty(t))},e.validateInteger=function(t,n,r,i){return!!(i&&"number"!=typeof t||"number"==typeof t&&e.isInteger(t)&&("number"!=typeof n||t>=n)&&("number"!=typeof r||t<=r))},e.validateBoolean=function(e,t){return!!(t&&"boolean"!=typeof e||"boolean"==typeof e)},e.isMobile=function(){return navigator.userAgent.indexOf("Mobi")!==-1},e.now=function(){return(new Date).getTime()},e.addScriptTag=function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.async=t,r.src=("https:"===document.location.protocol?"https:":"http:")+e,r.onload=n,r.readyState&&(r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())});var i=document.getElementsByTagName("script")[0];return i.parentNode.insertBefore(r,i),r},e.localStorageSupported=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}},e.getProtocol=function(){return"https:"===document.location.protocol?"https:":"http:"},e.getPageUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},window.headertag.Utils=e}(),window.headertagconfig={siteId:186172,timeout:500,partners:{}};var deviceType;"string"==typeof window.ibtmedia_device?"tablet"==window.ibtmedia_device?(window.headertag.pagetype="tablet",deviceType="tablet"):"mobile"==window.ibtmedia_device?(window.headertag.pagetype="mobile",deviceType="mobile"):(window.headertag.pagetype="desktop",deviceType="desktop"):window.headertag.Utils.isMobile()?(window.headertag.pagetype="mobile",deviceType="mobile"):(window.headertag.pagetype="desktop",deviceType="desktop"),"mobile"==window.headertag.pagetype?window.headertagconfig.siteId=186185:"tablet"==window.headertag.pagetype&&(window.headertagconfig.siteId=187964),window.headertagconfig.partners.INDX={targetingType:"slot",timeout:500,prefetch:{enabled:!0,info:{desktop:{requiredIndexSlots:["1","2","3","4","5","6","7","8","9","10","11","12","13","33","42","43","44","45","46","47"]},mobile:{requiredIndexSlots:["14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","34","35","36","37","38","39","40","41"]},tablet:{requiredIndexSlots:["48","49","50","51","52","53","54","55","56","57","58","59"]}}}},function(){"use strict";window.headertag.Q=function(){function e(e){return function(){return H.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===te(e)||e instanceof X}function r(e,t){if(L&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&e.stack.indexOf(ne)===-1){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var o=n.join("\n"+ne+"\n");e.stack=i(o)}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];s(i)||o(i)||!i||n.push(i)}return n.join("\n")}function o(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function a(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function s(e){var t=a(e);if(!t)return!1;var n=t[0],r=t[1];return n===G&&r>=Q&&r<=se}function p(){if(L)try{throw new Error}catch(r){var e=r.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],n=a(t);if(!n)return;return G=n[0],n[1]}}function d(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function u(e){return e instanceof h?e:v(e)?O(e):P(e)}function l(){function e(e){t=e,o.source=e,z(n,function(t,n){u.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=V(l.prototype),o=V(h.prototype);if(o.promiseDispatch=function(e,i,o){var a=$(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):u.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=y(t);return m(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},u.longStackSupport&&L)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(u(n))},i.fulfill=function(n){t||e(P(n))},i.reject=function(n){t||e(x(n))},i.notify=function(e){t||z(r,function(t,n){u.nextTick(function(){n(e)})},void 0)},i}function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=l();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function f(e){return c(function(t,n){for(var r=0,i=e.length;r<i;r++)u(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return x(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=V(h.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){a=x(e)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function g(e,t,n,r){return u(e).then(t,n,r)}function y(e){if(m(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function m(e){return e instanceof h}function v(e){return t(e)&&"function"==typeof e.then}function w(e){return m(e)&&"pending"===e.inspect().state}function I(e){return!m(e)||"fulfilled"===e.inspect().state}function b(e){return m(e)&&"rejected"===e.inspect().state}function D(){re.length=0,ie.length=0,ae||(ae=!0)}function T(e,t){ae&&("object"==typeof process&&"function"==typeof process.emit&&u.nextTick.runAfter(function(){W(ie,e)!==-1&&(process.emit("unhandledRejection",t,e),oe.push(e))}),ie.push(e),t&&"undefined"!=typeof t.stack?re.push(t.stack):re.push("(no stack) "+t))}function S(e){if(ae){var t=W(ie,e);t!==-1&&("object"==typeof process&&"function"==typeof process.emit&&u.nextTick.runAfter(function(){var n=W(oe,e);n!==-1&&(process.emit("rejectionHandled",re[t],e),oe.splice(n,1))}),ie.splice(t,1),re.splice(t,1))}}function x(e){var t=h({when:function(t){return t&&S(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return T(t,e),t}function P(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ee(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function O(e){var t=l();return u.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}function R(e){return h({isDef:function(){}},function(t,n){return A(e,t,n)},function(){return u(e).inspect()})}function E(e,t,n){return u(e).spread(t,n)}function j(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=r[e](t)}catch(e){return x(e)}return a.done?u(a.value):g(a.value,i,o)}try{a=r[e](t)}catch(e){return n(e)?u(e.value):x(e)}return g(a,i,o)}var r=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function k(e){u.done(u.async(e)())}function q(e){throw new X(e)}function _(e){return function(){return E([this,N(arguments)],function(t,n){return e.apply(t,n)})}}function A(e,t,n){return u(e).dispatch(t,n)}function N(e){return g(e,function(e){var t=0,n=l();return z(e,function(r,i,o){var a;m(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,g(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function C(e){if(0===e.length)return u.resolve();var t=u.defer(),n=0;return z(e,function(r,i,o){function a(e){t.resolve(e)}function s(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function p(e){t.notify({index:o,value:e})}var d=e[o];n++,g(d,a,s,p)},void 0),t.promise}function U(e){return g(e,function(e){return e=J(e,u),g(N(J(e,function(e){return g(e,Y,Y)})),function(){return e})})}function M(e){return u(e).allSettled()}function B(e,t){return u(e).then(void 0,void 0,t)}function K(e,t){return u(e).nodeify(t)}var L=!1;try{throw new Error}catch(e){L=!!e.stack}var G,X,Q=p(),Y=function(){},F=function(){function e(){for(var e,r;n.next;)n=n.next,e=n.task,n.task=void 0,r=n.domain,r&&(n.domain=void 0,r.enter()),t(e,r);for(;s.length;)e=s.pop(),t(e);i=!1}function t(t,n){try{t()}catch(t){if(a)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),t;setTimeout(function(){throw t},0)}n&&n.exit()}var n={task:void 0,next:null},r=n,i=!1,o=void 0,a=!1,s=[];if(F=function(e){r=r.next={task:e,domain:a&&process.domain,next:null},i||(i=!0,o())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)a=!0,o=function(){process.nextTick(e)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var p=new MessageChannel;p.port1.onmessage=function(){o=d,p.port1.onmessage=e,e()};var d=function(){p.port2.postMessage(0)};o=function(){setTimeout(e,0),d()}}else o=function(){setTimeout(e,0)};return F.runAfter=function(e){s.push(e),i||(i=!0,o())},F}(),H=Function.call,$=e(Array.prototype.slice),z=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),W=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=e(Array.prototype.map||function(e,t){var n=this,r=[];return z(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),V=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),ee=Object.keys||function(e){var t=[];for(var n in e)Z(e,n)&&t.push(n);return t},te=e(Object.prototype.toString);X="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ne="From previous event:";u.resolve=u,u.nextTick=F,u.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(u.longStackSupport=!0),u.defer=l,l.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve($(arguments,1)):e.resolve(n)}},u.Promise=c,u.promise=c,c.race=f,c.all=N,c.reject=x,c.resolve=u,u.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},u.join=function(e,t){return u(e).join(t)},h.prototype.join=function(e){return u([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},u.race=f,h.prototype.race=function(){return this.then(u.race)},u.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(e){return x(e)}}function o(e){if("function"==typeof t){r(e,s);try{return t(e)}catch(e){return x(e)}}return x(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,p=l(),d=!1;return u.nextTick(function(){s.promiseDispatch(function(e){d||(d=!0,p.resolve(i(e)))},"when",[function(e){d||(d=!0,p.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(e){if(n=!0,!u.onerror)throw e;u.onerror(e)}n||p.notify(t)}]),p.promise},u.tap=function(e,t){return u(e).tap(t)},h.prototype.tap=function(e){return e=u(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},u.when=g,h.prototype.thenResolve=function(e){return this.then(function(){return e})},u.thenResolve=function(e,t){return u(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},u.thenReject=function(e,t){return u(e).thenReject(t)},u.nearer=y,u.isPromise=m,u.isPromiseAlike=v,u.isPending=w,h.prototype.isPending=function(){return"pending"===this.inspect().state},u.isFulfilled=I,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},u.isRejected=b,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var re=[],ie=[],oe=[],ae=!0;u.resetUnhandledRejections=D,u.getUnhandledReasons=function(){return re.slice()},u.stopUnhandledRejectionTracking=function(){D(),ae=!1},D(),u.reject=x,u.fulfill=P,u.master=R,u.spread=E,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},u.async=j,u.spawn=k,u.return=q,u.promised=_,u.dispatch=A,h.prototype.dispatch=function(e,t){var n=this,r=l();return u.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},u.get=function(e,t){return u(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},u.set=function(e,t,n){return u(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},u.del=u.delete=function(e,t){return u(e).dispatch("delete",[t])},h.prototype.del=h.prototype.delete=function(e){return this.dispatch("delete",[e])},u.mapply=u.post=function(e,t,n){return u(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},u.send=u.mcall=u.invoke=function(e,t){return u(e).dispatch("post",[t,$(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,$(arguments,1)])},u.fapply=function(e,t){return u(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},u.try=u.fcall=function(e){return u(e).dispatch("apply",[void 0,$(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,$(arguments)])},u.fbind=function(e){var t=u(e),n=$(arguments,1);return function(){return t.dispatch("apply",[this,n.concat($(arguments))])}},h.prototype.fbind=function(){var e=this,t=$(arguments);return function(){return e.dispatch("apply",[this,t.concat($(arguments))])}},u.keys=function(e){return u(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},u.all=N,h.prototype.all=function(){return N(this)},u.any=C,h.prototype.any=function(){return C(this)},u.allResolved=d(U,"allResolved","allSettled"),h.prototype.allResolved=function(){return U(this)},u.allSettled=M,h.prototype.allSettled=function(){return this.then(function(e){return N(J(e,function(e){function t(){return e.inspect()}return e=u(e),e.then(t,t)}))})},u.fail=u.catch=function(e,t){return u(e).then(void 0,t)},h.prototype.fail=h.prototype.catch=function(e){return this.then(void 0,e)},u.progress=B,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},u.fin=u.finally=function(e,t){return u(e).finally(t)},h.prototype.fin=h.prototype.finally=function(e){return e=u(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},u.done=function(e,t,n,r){return u(e).done(t,n,r)},h.prototype.done=function(e,t,n){var i=function(e){u.nextTick(function(){if(r(e,o),!u.onerror)throw e;u.onerror(e)})},o=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),o.then(void 0,i)},u.timeout=function(e,t,n){return u(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=l(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},u.delay=function(e,t){return void 0===t&&(t=e,e=void 0),u(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=l();return setTimeout(function(){n.resolve(t)},e),n.promise})},u.nfapply=function(e,t){return u(e).nfapply(t)},h.prototype.nfapply=function(e){var t=l(),n=$(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},u.nfcall=function(e){var t=$(arguments,1);return u(e).nfapply(t)},h.prototype.nfcall=function(){var e=$(arguments),t=l();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},u.nfbind=u.denodeify=function(e){var t=$(arguments,1);return function(){var n=t.concat($(arguments)),r=l();return n.push(r.makeNodeResolver()),u(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=$(arguments);return e.unshift(this),u.denodeify.apply(void 0,e)},u.nbind=function(e,t){var n=$(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat($(arguments)),o=l();return i.push(o.makeNodeResolver()),u(r).fapply(i).fail(o.reject),o.promise}},h.prototype.nbind=function(){var e=$(arguments,0);return e.unshift(this),u.nbind.apply(void 0,e)},u.nmapply=u.npost=function(e,t,n){return u(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=$(t||[]),r=l();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},u.nsend=u.nmcall=u.ninvoke=function(e,t){var n=$(arguments,2),r=l();return n.push(r.makeNodeResolver()),u(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=$(arguments,1),n=l();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},u.nodeify=K,h.prototype.nodeify=function(e){return e?void this.then(function(t){u.nextTick(function(){e(null,t)})},function(t){u.nextTick(function(){e(t)})}):this},u.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var se=p();return u}()}(),function(){"use strict";function e(e){function t(e){p[e]=p[e]||{},p[e].startTime=r.now()}function n(e){p.hasOwnProperty(e)&&(p[e].stopTime=r.now())}function i(e,t,n){p[e].partners=p[e].partners||{},p[e].partners[t]=p[e].partners[t]||{},p[e].partners[t].timeout=n,p[e].partners[t].startTime=r.now()}function o(e,t){p.hasOwnProperty(e)&&(p[e].partners[t].stopTime=r.now())}function a(e,t,n,r){p.hasOwnProperty(e)&&(p[e].partners[t].targetingType=n,p[e].partners[t].returnedDemand=r)}function s(t){if(p.hasOwnProperty(t)){var n={};n.s=e,n.u=encodeURIComponent(document.location.href),n.type="RT",n.r=t.replace("_",""),n.t0=p[t].startTime,n.t1=p[t].stopTime||-1;var i=p[t].partners;for(var o in i)if(i.hasOwnProperty(o)){var a=-1,s=1;i[o].startTime&&i[o].stopTime&&(a=i[o].stopTime-i[o].startTime,s=0),n[o+".t"]=a,n[o+".to"]=s,n[o+".ts"]=i[o].timeout||-1;var d=null;if(i[o].hasOwnProperty("returnedDemand"))if("page"===i[o].targetingType)for(d in i[o].returnedDemand.page.demand)i[o].returnedDemand.page.demand.hasOwnProperty(d)&&(n[o+".p.pl."+d]=i[o].returnedDemand.page.demand[d].toString()||"");else for(var u in i[o].returnedDemand.slot)if(i[o].returnedDemand.slot.hasOwnProperty(u))for(d in i[o].returnedDemand.slot[u].demand)i[o].returnedDemand.slot[u].demand.hasOwnProperty(d)&&(n[o+".p."+u+"."+d]=i[o].returnedDemand.slot[u].demand[d].toString()||"")}var l=r.objToQueryString(n),c=("https:"===document.location.protocol?"https://as-sec.":"http://as.")+"casalemedia.com/headerstats"+l,f=new XMLHttpRequest;f.open("GET",c,!0),f.send(),delete p[t]}}var p={};this.startSessionTimer=t,this.stopSessionTimer=n,this.startPartnerTimer=i,this.stopPartnerTimer=o,this.recordReturnedDemand=a,this.sendReport=s}function t(t){function i(e,n){function i(n,i){if((!n||i)&&(O[e]=i,R[e]=t.partners[e].disabled,E[e]=t.partners[e].timeout,!B&&i.getSupportedOptions().hasOwnProperty("prefetch")&&i.getSupportedOptions().prefetch&&t.partners[e].hasOwnProperty("prefetch")&&t.partners[e].prefetch.enabled)){var o=r.generateCorrelator();N.startSessionTimer(o),N.startPartnerTimer(o,e,E[e]);var a=function(){N.stopPartnerTimer(o,e),N.stopSessionTimer(o),N.sendReport(o)},s=i.getPartnerTargetingType();"page"===s?i.prefetchDemand(o,M,a):t.partners[e].prefetch.hasOwnProperty("info")&&window.headertag.pagetype&&t.partners[e].prefetch.info.hasOwnProperty(window.headertag.pagetype)&&i.prefetchDemand(o,t.partners[e].prefetch.info[window.headertag.pagetype],a)}}var o=[];return r.validateNonEmptyString(e)||o.push("partnerId must be a non-empty string."),O.hasOwnProperty(e)&&o.push("partnerId already registered."),r.validateFunction(n)||o.push("init must be a function."),!o.length&&(t.partners.hasOwnProperty(e)&&n(t.partners[e],i),!0)}function o(e,t){var n=[];if(r.validateNonEmptyArray(e)||n.push("partnerIds must be a non-empty array."),r.validateBoolean(t)||n.push("toggle must be a boolean."),n.length)return!1;for(var i=!1,o=0,a=e.length;o<a;o++)if(O.hasOwnProperty(e[o])){if("INDX"===e[o])continue;R[e[o]]=t,i=!0}return i}function a(e){var t=[];return r.validateInteger(e,1)||t.push("timeout must be an interger and greater than 0."),!t.length&&(P=e,!0)}function s(e){return o(e,!1)}function p(e){return o(e,!0)}function d(e,t){var n=[];return r.validateInteger(t,0)||n.push("timeout must be an interger and greater than or equal to 0."),E.hasOwnProperty(e)||n.push("partnerId not registered and instantiated."),!n.length&&(E[e]=t,!0)}function u(e,t){var n=[];return r.validateNonEmptyString(e)||n.push("partnerId must be a non-empty string."),O.hasOwnProperty(e)||n.push("partnerId is not registered."),r.validateNonEmptyString(t)||n.push("targetingType must be a non-empty string."),!n.length&&O[e].setPartnerTargetingType(t)}function l(e,t){if(r.validateNonEmptyObject(e)){var n=r.getDivIdToSlotMap(t),i=null,o=null;for(var a in e)if(e.hasOwnProperty(a))if(e[a].hasOwnProperty("page"))for(o in e[a].page.demand)e[a].page.demand.hasOwnProperty(o)&&(googletag.pubads().setTargeting(o,e[a].page.demand[o]),C.page[o]=!0);else if(e[a].hasOwnProperty("slot"))for(i in n)if(n.hasOwnProperty(i)&&e[a].slot.hasOwnProperty(i))for(o in e[a].slot[i].demand)e[a].slot[i].demand.hasOwnProperty(o)&&(n[i].setTargeting(o,e[a].slot[i].demand[o]),C.slot[i]=C.slot[i]||{},C.slot[i][o]=!0)}}function c(e){var t=null;for(t in C.page)C.page.hasOwnProperty(t)&&(googletag.pubads().clearTargeting(t),delete C.page[t]);for(var n=0;n<e.length;n++){var r=e[n].getSlotElementId();if(C.slot.hasOwnProperty(r)){var i=e[n].getTargetingMap();e[n].clearTargeting();for(t in i)i.hasOwnProperty(t)&&(C.slot[r].hasOwnProperty(t)||e[n].setTargeting(t,i[t]));delete C.slot[r]}}}function f(e){c(e.slots),l(e.demand,e.slots),e.divId?googletag.display(e.divId):googletag.pubads().refresh(e.slots,e.opt)}function h(e,t,i,o){var a=[];if(r.validateNonEmptyString(e)||a.push("correlator must be a non-empty string."),r.validateNonEmptyString(i)||a.push("partnerId must be a non-empty string."),O.hasOwnProperty(i)||a.push("partnerId not registered and instantiated."),r.validateNonEmptyArray(o)||a.push("slots must be a non-empty array."),a.length)return null;var s=n.defer(),p=null,d=!1,u=O[i].getPartnerTargetingType(),l=function(t,n){if(!d){if(clearTimeout(p),O[i].getSupportedAnalytics().time&&N.stopPartnerTimer(e,i),t)return void s.reject();if(!r.validateNonEmptyObject(n))return void s.reject();O[i].getSupportedAnalytics().demand&&N.recordReturnedDemand(e,i,u,n);var o={};o[i]=n,s.resolve(o)}};return E[i]&&(p=setTimeout(function(){d=!0,s.reject()},E[i])),O[i].getSupportedAnalytics().time&&N.startPartnerTimer(e,i,E[i]),"page"===u?O[i].getDemand(e,t,l):O[i].getDemand(e,o,l),s.promise}function g(e){for(var t={},n=0,r=e.length;n<r;n++)if("fulfilled"===e[n].state){var i=e[n].value;for(var o in i)if(i.hasOwnProperty(o))if(t.hasOwnProperty(o)){if(i[o].hasOwnProperty("page"))t[o].page.timestamp<i[o].page.timestamp&&(t[o]=i[o]);else if(i[o].hasOwnProperty("slot"))for(var a in i[o].slot)i[o].slot.hasOwnProperty(a)&&(t[o].slot.hasOwnProperty(a)?t[o].slot[a].timestamp<i[o].slot[a].timestamp&&(t[o].slot[a]=i[o].slot[a]):t[o].slot[a]=i[o].slot[a])}else t[o]=i[o]}return t}function y(e,t,i,o){var a=n.defer(),s=[];if(r.validateNonEmptyString(e)||s.push("correlator must be a non-empty string."),r.validateNonEmptyArray(i)||s.push("slots must be a non-empty array."),r.validateNonEmptyString(o)||s.push("action must be a non-empty string."),s.length)return a.resolve(),a.promise;i=i.slice();var p=[],d={};for(var u in O)O.hasOwnProperty(u)&&(d[u]=i.slice());for(var l=i.length-1;l>=0;l--){var c=i[l].getSlotElementId();if(j.hasOwnProperty(c)){p.indexOf(j[c])<0&&p.push(j[c]);var f=r.now(),y=j[c].inspect();if("fulfilled"===y.state){var m=y.value;for(var v in m)if(m.hasOwnProperty(v))if(O[v].getPartnerDemandExpiry()<0)d[v].splice(d[v].indexOf(i[l]),1);else if(m[v].hasOwnProperty("page")){if(m[v].page.gCorrelator!==t)continue;if(f-m[v].page.timestamp>O[v].getPartnerDemandExpiry())continue;d[v].splice(d[v].indexOf(i[l]),1)}else if(m[v].hasOwnProperty("slot")){if(!m[v].slot.hasOwnProperty(c))continue;if(f-m[v].slot[c].timestamp>O[v].getPartnerDemandExpiry())continue;d[v].splice(d[v].indexOf(i[l]),1)}}else for(var w in O)O.hasOwnProperty(w)&&d[w].splice(d[w].indexOf(i[l]),1)}else j[c]=a.promise}("display"!==o||i.length)&&N.startSessionTimer(e);for(var I in O)if(O.hasOwnProperty(I)&&!R[I]&&d[I].length){var b=h(e,t,I,d[I]);p.push(b)}var D=null,T=!1;return P&&(D=setTimeout(function(){T=!0;for(var e=[],t=0,n=p.length;t<n;t++)e.push(p[t].inspect());var r=g(e);if("display"!==o||!_)for(var t=0;t<i.length;t++){var s=i[t].getSlotElementId();j.hasOwnProperty(s)&&delete j[s]}a.resolve(r)},P)),n.allSettled(p).then(function(t){if(!T){clearTimeout(D),("display"!==o||i.length)&&N.stopSessionTimer(e);var n=g(t);if("display"!==o||!_)for(var r=0;r<i.length;r++){var s=i[r].getSlotElementId();j.hasOwnProperty(s)&&delete j[s]}a.resolve(n)}}),a.promise}function m(e){var t=[];if(r.validateNonEmptyString(e)||t.push("Invalid divId."),!t.length){B=!0;var n=null;if(A?k?n=[r.divIdToSlot(e)]:(k=!0,n=r.getSlots()):n=[r.divIdToSlot(e)],!U.hasOwnProperty(e)){for(var i=r.getDivIds(n),o=0,a=i.length;o<a;o++)U[i[o]]=!0;var s=r.generateCorrelator();y(s,M,n,"display").then(function(t){if(_)return void googletag.display(e);var r={demand:t,slots:n,divId:e,correlator:s};return f(r)}).then(function(){N.sendReport(s)}).catch(function(e){})}}}function v(e,t,n,i){var o=[];if(r.validateNonEmptyString(e)||o.push("adUnitPath must be a non-empty string."),r.validateNonEmptyArray(t)||o.push("size must be a non-empty array."),r.validateNonEmptyString(n,!0)||o.push("Optional. divId must be a non-empty string."),r.validateNonEmptyString(i,!0)||o.push("Optional. clickUrl must be a non-empty string."),!o.length){var a=googletag.defineSlot(e,t,n).addService(googletag.pubads());i&&a.setClickUrl(i),m(n)}}function w(e,t){var n=[];if(r.validateNonEmptyArray(e,!0)||n.push("Optional. slots must be a non-empty array."),r.validateNonEmptyObject(t,!0)||n.push("Optional. options must be a non-empty object."),!n.length){e&&e.length||(e=r.getSlots());var i=r.generateCorrelator();_&&!q?q=!0:M=googletag.pubads().getCorrelator(),y(i,M,e,"refresh").then(function(n){if(A){var r={demand:n,slots:e,opt:t,correlator:i};f(r)}else for(var o=0,a=e.length;o<a;o++)f({demand:n,slots:[e[o]],opt:t,correlator:i})}).then(function(){N.sendReport(i)}).catch(function(e){})}}function I(){return{display:v.bind(b),refresh:w.bind(b)}}var b=this,D=[],T=[];r.validateNonEmptyObject(t)||T.push("Config not provided."),t.hasOwnProperty("siteId")&&r.validateInteger(t.siteId,0)||(t.siteId=0,D.push("Invalid siteId, using default value of 0.")),t.hasOwnProperty("timeout")&&r.validateInteger(t.timeout,1)||(t.timeout=1e3,D.push("Invalid timeout, using default value of 1000ms.")),t.hasOwnProperty("disableInitialLoad")?r.validateBoolean(t.disableInitialLoad)||(t.disableInitialLoad=!1,D.push("Invalid disableInitialLoad, using default value of false.")):t.disableInitialLoad=!1,t.hasOwnProperty("enableSingleRequest")?r.validateBoolean(t.enableSingleRequest)||(t.enableSingleRequest=!0,D.push("Invalid enableSingleRequest, using default value of true.")):(t.enableSingleRequest=!0,D.push("enableSingleRequest not provided, using default value of true.")),t.partners&&t.partners.hasOwnProperty("INDX")||(t.partners=t.partners||{},t.partners.INDX={});for(var S in t.partners)t.partners.hasOwnProperty(S)&&(t.partners[S].hasOwnProperty("disabled")?(r.validateBoolean(t.partners[S].disabled)||(D.push("Invalid disabled set for "+S+", using default value true."),t.partners[S].disabled=!0),"INDX"===S&&t.partners[S].disabled===!0&&(t.partners[S].disabled=!1,D.push("Cannot disable partner INDX."))):t.partners[S].disabled=!1,t.partners[S].hasOwnProperty("timeout")?r.validateInteger(t.partners[S].timeout,0)||(D.push("Invalid partner timeout set for "+S+", using default value 0 (i.e. not set)."),t.partners[S].timeout=0):t.partners[S].timeout=0);if(D.length,!T.length){var x=t.siteId,P=t.timeout,O={},R={},E={},j={},k=!1,q=!1,_=t.disableInitialLoad,A=t.enableSingleRequest,N=new e(x),C={page:{},slot:{}},U={},M=-1,B=!1;this.apiReady=!0,this.registerPartner=i,this.setGlobalTimeout=a,this.enablePartners=s,this.disablePartners=p,this.setPartnerTimeout=d,this.setPartnerTargetingType=u,this.display=m,this.pubads=I}}var n=window.headertag.Q,r=window.headertag.Utils;if(window.headertag){var i=window.headertag;window.headertag=new t(window.headertagconfig);for(var o in i)i.hasOwnProperty(o)&&(window.headertag[o]=i[o])}}(),/.*/.test(location.href)&&(window.cygnus_index_args={embedMode:1,gpt_map:{desktop:{"160_600":{45:{pos:["right3"]},47:{pos:["right4"]}},"300_1050":{3:{pos:["right1"]}},"300_250":{4:{pos:["right1"]},6:{pos:["right2"]},8:{pos:["right3"]},10:{pos:["right4"]}},"300_600":{5:{pos:["right1"]},7:{pos:["right2"]},9:{pos:["right3"]},11:{pos:["right4"]}},"336_280":{42:{pos:["right1"]},43:{pos:["right2"]},44:{pos:["right3"]},46:{pos:["right4"]}},"728_90":{1:{pos:["belowcontent"]},2:{pos:["bottom"]},12:{pos:["top"]}},"970_250":{13:{pos:["top"]}},"970_90":{33:{pos:["top"]}}},mobile:{"300_250":{14:{pos:["right1"]},18:{pos:["right2"]},22:{pos:["right3"]},26:{pos:["right4"]},36:{pos:["belowcontent"]},40:{pos:["bottom"]}},"300_50":{15:{pos:["right1"]},19:{pos:["right2"]},23:{pos:["right3"]},27:{pos:["right4"]},30:{pos:["top"]},37:{pos:["belowcontent"]},41:{pos:["bottom"]}},"320_100":{16:{pos:["right1"]},20:{pos:["right2"]},24:{pos:["right3"]},28:{pos:["right4"]},31:{pos:["top"]},34:{pos:["belowcontent"]},38:{pos:["bottom"]}},"320_50":{17:{pos:["right1"]},21:{pos:["right2"]},25:{pos:["right3"]},29:{pos:["right4"]},32:{pos:["top"]},35:{pos:["belowcontent"]},39:{pos:["bottom"]}}},tablet:{"300_1050":{53:{pos:["right1"]}},"300_250":{51:{pos:["right1"]},54:{pos:["right2"]},56:{pos:["right3"]},58:{pos:["right4"]}},"300_600":{52:{pos:["right1"]},55:{pos:["right2"]},57:{pos:["right3"]},59:{pos:["right4"]}},"728_90":{48:{pos:["top"]},49:{pos:["belowcontent"]},50:{pos:["bottom"]}}}},name:"cygnus",siteID:186172,slots:[{height:90,id:"1",siteID:186172,width:728},{height:90,id:"2",siteID:186173,
width:728},{height:1050,id:"3",siteID:186174,width:300},{height:250,id:"4",siteID:186175,width:300},{height:600,id:"5",siteID:186176,width:300},{height:250,id:"6",siteID:186177,width:300},{height:600,id:"7",siteID:186178,width:300},{height:250,id:"8",siteID:186179,width:300},{height:600,id:"9",siteID:186180,width:300},{height:250,id:"10",siteID:186181,width:300},{height:600,id:"11",siteID:186182,width:300},{height:90,id:"12",siteID:186183,width:728},{height:250,id:"13",siteID:186184,width:970},{height:250,id:"14",siteID:186185,width:300},{height:50,id:"15",siteID:186186,width:300},{height:100,id:"16",siteID:186187,width:320},{height:50,id:"17",siteID:186188,width:320},{height:250,id:"18",siteID:186189,width:300},{height:50,id:"19",siteID:186190,width:300},{height:100,id:"20",siteID:186191,width:320},{height:50,id:"21",siteID:186192,width:320},{height:250,id:"22",siteID:186193,width:300},{height:50,id:"23",siteID:186194,width:300},{height:100,id:"24",siteID:186195,width:320},{height:50,id:"25",siteID:186196,width:320},{height:250,id:"26",siteID:186197,width:300},{height:50,id:"27",siteID:186198,width:300},{height:100,id:"28",siteID:186199,width:320},{height:50,id:"29",siteID:186200,width:320},{height:50,id:"30",siteID:186201,width:300},{height:100,id:"31",siteID:186202,width:320},{height:50,id:"32",siteID:186203,width:320},{height:90,id:"33",siteID:186204,width:970},{height:100,id:"34",siteID:186259,width:320},{height:50,id:"35",siteID:186260,width:320},{height:250,id:"36",siteID:186261,width:300},{height:50,id:"37",siteID:186262,width:300},{height:100,id:"38",siteID:186263,width:320},{height:50,id:"39",siteID:186264,width:320},{height:250,id:"40",siteID:186265,width:300},{height:50,id:"41",siteID:186266,width:300},{height:280,id:"42",siteID:187958,width:336},{height:280,id:"43",siteID:187959,width:336},{height:280,id:"44",siteID:187960,width:336},{height:600,id:"45",siteID:187961,width:160},{height:280,id:"46",siteID:187962,width:336},{height:600,id:"47",siteID:187963,width:160},{height:90,id:"48",siteID:187964,width:728},{height:90,id:"49",siteID:187965,width:728},{height:90,id:"50",siteID:187966,width:728},{height:250,id:"51",siteID:187967,width:300},{height:600,id:"52",siteID:187968,width:300},{height:1050,id:"53",siteID:187969,width:300},{height:250,id:"54",siteID:187970,width:300},{height:600,id:"55",siteID:187971,width:300},{height:250,id:"56",siteID:187972,width:300},{height:600,id:"57",siteID:187973,width:300},{height:250,id:"58",siteID:187974,width:300},{height:600,id:"59",siteID:187975,width:300}]}),function(){"use strict";function validateTargetingType(e){return"string"==typeof e&&SUPPORTED_TARGETING_TYPES[e]}function getKeys(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function arrayCompare(e,t){var n,r,i={matched:0,success:!1};if(!e||!t)return i;for(n=e.length,r=0;r<n;r++){if(t.indexOf(e[r])===-1)return i;i.matched++}return i.success=!0,i}function retrieveIndexSlot(e,t,n){var r,i,o,a,s,p,d,u={};for(s in t)if(!n[s]){a=t[s],r=0,o=0,i=0;for(p in a)r++,d=arrayCompare(a[p],e[p]),d.success&&(i++,o+=d.matched);r===i&&(u.indexId||(u={matched:o,indexId:s}),o>u.matched&&(u.matched=o,u.indexId=s))}return u.indexId}function mapSlots(e){var t,n,r,i,o,a,s,p,d,u,l=headerTagArgs.gptDivs,c=headerTagArgs.gptMap,f=e.length,h={};if(l)for(d=0;d<f;d++){p=e[d].getSlotElementId();for(r in l)l[r].indexOf(p)!==-1&&(h[r]||(h[r]=[]),h[r].push(p))}if(!l&&c)for(t="CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body,n={},i=deviceType,d=0;d<f;d++)for(p=e[d].getSlotElementId(),o=e[d].getSizes(t.clientWidth,t.clientHeight),u=0;u<o.length;u++)a=o[u].getWidth()+"_"+o[u].getHeight(),c[i][a]&&(s=retrieveIndexSlot(e[d].getTargetingMap(),c[i][a],n),s&&(n[s]=!0,h[s]=[p]));return h}function convertSlotDemandObject(e,t){if("slot"===targetingType)return e;var n,r,i={page:{slotIds:[],gCorrelator:t,demand:{}}};for(n in e.slot){i.page.slotIds.push(n),i.page.timestamp?i.page.timestamp=Math.min(i.page.timestamp,e.slot[n].timestamp):i.page.timestamp=e.slot[n].timestamp;for(r in e.slot[n].demand)i.page.demand[r]=i.page.demand[r]||[],i.page.demand[r]=i.page.demand[r].concat(e.slot[n].demand[r])}return i}function parseResults(e,t,n){var r,i,o,a,s,p,d=[],u={slot:{}};if(t){prefetch.demand=JSON.parse(JSON.stringify(headerTagSlots)),prefetch.state=prefetchState.READY,prefetch.analyticsCallback(prefetch.correlator);for(var l=0,c=prefetch.callbacks.length;l<c;l++)setTimeout(prefetch.callbacks[l],0);return void(prefetch.timestamp=Utils.now())}if(n?(r=prefetch.correlator,a=prefetch.demand,p=mapSlots(n)):(r=correlatorTracker[e],a=headerTagSlots,p=ixSlots[r]),(n||dSlots[r]).map(function(e){for(o=e.getSlotElementId(),i=0;i<a.length;i++)s=a[i].split("_"),"undefined"!=typeof p[s[1]]&&p[s[1]].indexOf(o)!==-1&&(n&&d.push(prefetch.demand[i]),u.slot[o]||(u.slot[o]={timestamp:prefetch.timestamp||Utils.now(),demand:{}}),u.slot[o].demand[s[0]]||(u.slot[o].demand[s[0]]=[]),u.slot[o].demand[s[0]].push(s[1]+"_"+s[2]))}),n){var f;for(var h in p)if(p.hasOwnProperty(h)&&prefetch.slotIds.indexOf(h)!==-1){for(i=0;i<p[h].length;i++)u.slot[p[h][i]]||(u.slot[p[h][i]]={timestamp:prefetch.timestamp,demand:{}});f=prefetch.slotIds.indexOf(h),f!==-1&&prefetch.slotIds.splice(f,1)}for(demandStore=u,i=prefetch.demand.length-1;i>=0;i--)d.indexOf(prefetch.demand[i])!==-1&&prefetch.demand.splice(i,1)}else"function"==typeof cb[r]&&(cb[r](null,u),delete cb[r]),delete correlatorTracker[e],delete ixSlots[r],delete dSlots[r]}function escapeCharacter(e){var t=META[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function quote(e){return ESCAPABLE.lastIndex=0,ESCAPABLE.test(e)?e.replace(ESCAPABLE,escapeCharacter):e}function OpenRTBRequest(e,t){if("number"!=typeof e||e%1!==0||e<0)throw"Invalid Site ID";this.siteID=e,this.impressions=[],top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"==typeof indexRequestData.requestCounter?indexRequestData.requestCounter=Math.floor(256*Math.random()):indexRequestData.requestCounter=(indexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+indexRequestData.requestCounter+256),correlatorTracker[this.requestID]=t}function cygnus_index_judge(e){headerTagSlots=[];var t,n={},r="^(?:"+headerTagPublicKey+"|"+headerTagPrivateKey+")_(?:T([0-9])_)?(.*)_.*$",i=new RegExp(r),o=[];for(t=0;t<e.length;t++)if(e[t].split("_")[0]!==headerTagPrivateKey){var a=i.exec(e[t]);if("undefined"!=typeof a&&null!==a){var s,p;if(s=a[1],p=a[2],"undefined"!=typeof s&&null!==s||(s=0),n[p]=n[p]||{},"undefined"==typeof n[p].tier||n[p].tier<s){n[p].tier=s;var d=e[t];if(s>0){var u=e[t].split("_"),l=u.shift(),c=u.join("_");u.shift();var f=u.join("_");d=l+"_"+f,indexRequestData.targetIDToBid[f]=indexRequestData.targetIDToBid[c]}n[p].target=d}}}else o.push(e[t]);var h,g=[];for(h in n)n.hasOwnProperty(h)&&g.push(n[h].target);return g.concat(o)}function Partner(e){function t(e,t){if(Utils.isEmpty(e))return t;if(Utils.isEmpty(t))return e;var n,r;for(n in t.slot)if("undefined"==typeof e.slot[n])e.slot[n]=t.slot[n];else{e.slot[n].timestamp=Math.min(e.slot[n].timestamp,t.slot[n].timestamp);for(r in t.slot[n].demand){switch(typeof e.slot[n].demand[r]){case"undefined":e.slot[n].demand[r]=[];break;case"string":e.slot[n].demand[r]=[e.slot[n].demand[r]]}e.slot[n].demand[r]=e.slot[n].demand[r].concat(t.slot[n].demand[r])}}return e}function n(e,t){var n,r,i,o;try{if("undefined"==typeof headerTagArgs||"undefined"==typeof headerTagArgs.siteID||"undefined"==typeof headerTagArgs.slots)return;for("undefined"==typeof indexRequestData&&(indexRequestData={},indexRequestData.impIDToSlotID={},indexRequestData.reqOptions={}),i=new OpenRTBRequest(headerTagArgs.siteID,e),headerTagArgs.url&&"string"==typeof headerTagArgs.url&&i.setPageOverride(headerTagArgs.url),indexRequestData.impIDToSlotID[i.requestID]={},indexRequestData.reqOptions[i.requestID]={},n=0;n<headerTagArgs.slots.length;n++)o=headerTagArgs.slots[n],t.indexOf(o.id.toString())!==-1&&(r=i.addImpression(o.width,o.height,o.bidfloor,o.bidfloorcur,o.id,o.siteID),r&&(indexRequestData.impIDToSlotID[i.requestID][r]=String(o.id)));return"number"==typeof headerTagArgs.targetMode&&(indexRequestData.reqOptions[i.requestID].targetMode=headerTagArgs.targetMode),"function"==typeof headerTagArgs.callback&&(indexRequestData.reqOptions[i.requestID].callback=headerTagArgs.callback),i.sendRequestAsync(e,e===prefetch.correlator)}catch(e){}}var r=this;targetingType=e.targetingType||"slot",headerTagArgs={gptMap:cygnus_index_args.gpt_map,gptDivs:cygnus_index_args.gpt_divs,siteID:cygnus_index_args.siteID,slots:cygnus_index_args.slots,url:cygnus_index_args.url,targetMode:cygnus_index_args.targetMode,callback:cygnus_index_args.callback},cygnus_index_args=void 0;var i=e.targetingType,o=SUPPORTED_ANALYTICS,a=SUPPORTED_OPTIONS,s=SUPPORTED_OPTIONS.demandExpiry?SUPPORTED_OPTIONS.demandExpiry:-1;this.prefetchIndexSlotIds=e.prefetch.info[window.headertag.pagetype].requiredIndexSlots,this.publicKey=e.publicKey||"IOM",this.privateKey=e.privateKey||"IPM",headerTagPrivateKey=this.privateKey,headerTagPublicKey=this.publicKey,this.getPartnerTargetingType=function(){return i},this.getSupportedAnalytics=function(){return o},this.getSupportedOptions=function(){return a},this.getPartnerDemandExpiry=function(){return s},this.setPartnerTargetingType=function(e){return!!validateTargetingType(e)&&(i=e,targetingType=i,!0)},this.prefetchDemand=function(e,t,r){prefetch.state=prefetchState.IN_PROGRESS,prefetch.correlator=e,prefetch.gCorrelator=t,prefetch.slotIds=this.prefetchIndexSlotIds.slice(),prefetch.slotIdsInPrefetch=this.prefetchIndexSlotIds.slice(),prefetch.analyticsCallback=r,n(e,this.prefetchIndexSlotIds)},this.getDemand=function e(i,o,s){if("page"===targetingType){var p=o;o=Utils.getSlots()}if(prefetch.state===prefetchState.IN_PROGRESS){for(var d=getKeys(mapSlots(o)),u=!1,l=0,c=d.length;l<c;l++){var f=prefetch.slotIdsInPrefetch.indexOf(d[l]);f!==-1&&(prefetch.slotIdsInPrefetch.splice(f,1),u=!0)}if(u)return void prefetch.callbacks.push(e.bind(r,i,o,s))}var h={};if(prefetch.state===prefetchState.READY&&(prefetch.demand&&prefetch.demand.length>0&&prefetch.slotIds.length&&parseResults(null,!1,o),demandStore.slot)){h.slot=h.slot||{};for(var g=o.length-1;g>=0;g--){var y=o[g].getSlotElementId();if(demandStore.slot.hasOwnProperty(y)){if((a.demandExpiry<0||Utils.now()-demandStore.slot[y].timestamp<=a.demandExpiry)&&(h.slot[y]=demandStore.slot[y],o.splice(g,1)),"page"===targetingType&&p===prefetch.gCorrelator)continue;delete demandStore.slot[y]}}if(prefetch.timestamp&&Utils.now()-prefetch.timestamp>a.demandExpiry&&(prefetch.slotIds=[],prefetch.demand=[],delete prefetch.timestamp),Utils.validateNonEmptyObject(demandStore.slot)||prefetch.slotIds.length||(prefetch.state=prefetchState.USED,delete prefetch.timestamp),!o.length)return void("page"===targetingType?s(null,convertSlotDemandObject(h,p)):s(null,h))}cb[i]=function(e,n){return e?void s(e):void("page"===targetingType?s(null,convertSlotDemandObject(t(h,n),p)):s(null,t(h,n)))},dSlots[i]=o,ixSlots[i]=mapSlots(o);var m=getKeys(ixSlots[i]);return m.length?void n(i,m):s(null,convertSlotDemandObject(h))}}function init(e,t){var n=[];return Utils=window.headertag.Utils,e.hasOwnProperty("targetingType")&&!validateTargetingType(e.targetingType)&&(n.push("targetingType either not set or invalid. Defaulting to using slot level targeting."),e.targetingType="slot"),e.hasOwnProperty("publicKey")&&!Utils.validateNonEmptyString(e.publicKey)&&(n.push("Private key is not a string. Defaulting value to IOM"),e.publicKey="IOM"),e.hasOwnProperty("privateKey")&&!Utils.validateNonEmptyString(e.privateKey)&&(n.push("Private key is not a string. Defaulting value to IPM"),e.privateKey="IPM"),n.length?t(n,new Partner(e)):void t(null,new Partner(e))}var PARTNER_ID="INDX",SUPPORTED_TARGETING_TYPES={page:!0,slot:!0},SUPPORTED_ANALYTICS={time:!0,demand:!0},SUPPORTED_OPTIONS={prefetch:!0,demandExpiry:5e4},prefetchState={NEW:1,IN_PROGRESS:2,READY:3,USED:4},prefetch={state:prefetchState.NEW,demand:null,correlator:null,slotIds:[],callbacks:[]},demandStore={},headerTagArgs,headerTagSlots,headerTagPublicKey,headerTagPrivateKey,cb={},correlatorTracker={},ESCAPABLE=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,META={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},indexRequestData,dSlots={},ixSlots={},targetingType,Utils,demandExpiry=15e3;OpenRTBRequest.prototype.serialize=function(){var e,t,n,r='{"id":'+this.requestID+',"site":{"page":"'+quote(this.sitePage)+'"';for("string"==typeof document.referrer&&(r+=',"ref":"'+quote(document.referrer)+'"'),r+='},"imp":[',n=0;n<this.impressions.length;n++)e=this.impressions[n],t=[],r+='{"id":"'+e.id+'", "banner":{"w":'+e.w+',"h":'+e.h+',"topframe":'+String(this.topframe)+"}","number"==typeof e.bidfloor&&(r+=',"bidfloor":'+e.bidfloor,"string"==typeof e.bidfloorcur&&(r+=',"bidfloorcur":"'+quote(e.bidfloorcur)+'"')),"string"!=typeof e.slotID||e.slotID.match(/^\s*$/)||t.push('"sid":"'+quote(e.slotID)+'"'),"number"==typeof e.siteID&&t.push('"siteID":'+e.siteID),t.length>0&&(r+=',"ext": {'+t.join()+"}"),r+=n+1==this.impressions.length?"}":"},";return r+="]}"},OpenRTBRequest.prototype.addImpression=function(e,t,n,r,i,o){var a={id:String(this.impressions.length+1)};if("number"!=typeof e||e<=1)return null;if("number"!=typeof t||t<=1)return null;if(("string"==typeof i||"number"==typeof i)&&String(i).length<=50&&(a.slotID=String(i)),a.w=e,a.h=t,void 0!==n&&"number"!=typeof n)return null;if("number"==typeof n){if(n<0)return null;if(a.bidfloor=n,void 0!==r&&"string"!=typeof r)return null;a.bidfloorcur=r}if("undefined"!=typeof o){if(!("number"==typeof o&&o%1===0&&o>=0))return null;a.siteID=o}return this.impressions.push(a),a.id},OpenRTBRequest.prototype.sendRequestAsync=function(correlator,isPrefetch){if(0===this.impressions.length)return void(cb.hasOwnProperty(correlator)&&(cb[correlator](null,{}),delete cb[correlator]));var jsonURI=encodeURIComponent(this.serialize()),scriptSrc="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";scriptSrc+="/cygnus?v=7&fn=headertag_parse&s="+this.siteID+"&r="+jsonURI;var xhttp=new XMLHttpRequest;xhttp.withCredentials=!0,xhttp.onreadystatechange=function(){if(4===xhttp.readyState&&200===xhttp.status)try{eval(xhttp.responseText)}catch(e){cb.hasOwnProperty(correlator)&&(cb[correlator]([e.toString()]),delete cb[correlator])}},xhttp.open("GET",scriptSrc,!0),xhttp.send()},window.headertag_parse=function(e){function t(e,t){headerTagSlots.push(e+t),void 0===indexRequestData.targetIDToBid[t]?(indexRequestData.targetIDToBid[t]=[o.adm],indexRequestData.correlator[t]=[n]):(indexRequestData.targetIDToBid[t].push(o.adm),indexRequestData.correlator[t].push(n)),d={},d.impressionID=o.impid,"undefined"!=typeof o.ext.dealid&&(d.dealID=o.ext.dealid),d.bid=o.price,d.slotID=a,d.priceLevel=o.ext.pricelevel,d.target=e+t,c.push(d)}var n;try{if(headerTagSlots=[],e){if("object"!=typeof indexRequestData||"object"!=typeof indexRequestData.impIDToSlotID||"undefined"==typeof indexRequestData.impIDToSlotID[e.id])return;var r,i=0;"object"==typeof indexRequestData.reqOptions&&"object"==typeof indexRequestData.reqOptions[e.id]&&("function"==typeof indexRequestData.reqOptions[e.id].callback&&(r=indexRequestData.reqOptions[e.id].callback),"number"==typeof indexRequestData.reqOptions[e.id].targetMode&&(i=indexRequestData.reqOptions[e.id].targetMode)),indexRequestData.lastRequestID=e.id,n=correlatorTracker[e.id];var o,a,s,p,d,u,l,c=[],f="undefined"==typeof e.seatbid?0:e.seatbid.length;for(u=0;u<f;u++)for(l=0;l<e.seatbid[u].bid.length;l++)o=e.seatbid[u].bid[l],"object"==typeof o.ext&&"string"==typeof o.ext.pricelevel&&"undefined"!=typeof indexRequestData.impIDToSlotID[e.id][o.impid]&&(a=indexRequestData.impIDToSlotID[e.id][o.impid],"undefined"==typeof headerTagSlots&&(headerTagSlots=[]),"undefined"==typeof indexRequestData.targetIDToBid&&(indexRequestData.targetIDToBid={}),"undefined"==typeof indexRequestData.correlator&&(indexRequestData.correlator={}),"string"==typeof o.ext.dealid?(p=headerTagPrivateKey+"_",1===i?(s=a+o.ext.pricelevel,t(p,s)):2===i?(s=a+o.ext.pricelevel,t(p,s),s=a+"_"+o.ext.dealid,t(p,s)):(s=a+"_"+o.ext.dealid,t(p,s))):(p=headerTagPublicKey+"_",s=a+o.ext.pricelevel,t(p,s)));"function"==typeof r&&(0===c.length?r(e.id):r(e.id,c)),headerTagSlots=cygnus_index_judge(headerTagSlots.slice(0))}}catch(e){}"undefined"==typeof headerTagSlots&&(headerTagSlots=[]),parseResults(e.id,correlatorTracker[e.id]===prefetch.correlator)},window.index_render=function(e,t){var n,r,i,o,a,s,p;"undefined"==typeof index_demand&&(window.index_demand={}),p=t.split("_"),n=p[0];try{if(r=indexRequestData.targetIDToBid[t].shift(),null!==r)e.write(r),index_demand[n]=1,delete index_no_demand[n];else{for(i={},j=0;j<headerTagArgs.slots.length;j++)if(headerTagArgs.slot[j].id===n){i.s=headerTagArgs.slot[j].siteID;break}i.hasOwnProperty("s")||(i.s=0),i.u=encodeURIComponent(location.href),i.type="RT",i.r=correlator,i.blank="["+t+"]",o=Utils.objToQueryString(i),a=("https:"===location.protocol?"https://as-sec.":"http://as.")+"casalemedia.com/headerstats"+o,s=new XMLHttpRequest,s.open("GET",a,!0),s.send()}}catch(e){}},window.headertag_render=function(e,t,n){var r,i,o=n,a=t.split(",");for(r=0;r<a.length;r++)if(i=a[r].split("_"),i[0]==o)return void window.index_render(e,a[r])},window.headertag.registerPartner(PARTNER_ID,init)}();