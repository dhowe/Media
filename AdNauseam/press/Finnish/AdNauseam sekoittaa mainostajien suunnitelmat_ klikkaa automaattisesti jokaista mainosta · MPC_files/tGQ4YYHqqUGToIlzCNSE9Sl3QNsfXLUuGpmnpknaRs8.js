function f(e){return function(t){this[e]=t}}function q(e,t,n){e=e.split("."),n=n||o,!(e[0]in n)&&n.execScript&&n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||void 0===t?n=n[i]?n[i]:n[i]={}:n[i]=t}function r(){}function aa(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array||!(e instanceof Object)&&"[object Array]"==Object.prototype.toString.call(e)||"number"==typeof e.length&&e.splice!==void 0&&e.propertyIsEnumerable!==void 0&&!e.propertyIsEnumerable("splice"))return"array";if(!(e instanceof Object||"[object Function]"!=Object.prototype.toString.call(e)&&(void 0===e.call||void 0===e.propertyIsEnumerable||e.propertyIsEnumerable("call"))))return"function"}else if("function"==t&&e.call===void 0)return"object";return t}function s(e){return"array"==aa(e)}function t(e){var t=aa(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"string"==typeof e}function ba(e){return"function"==aa(e)}function ca(e){return e=aa(e),"object"==e||"array"==e||"function"==e}function da(e){return e.hasOwnProperty&&e.hasOwnProperty(w)?e[w]:(e[w]||(e[w]=++ea),e[w])}function x(e,t){function n(){}n.prototype=t.prototype,e.Ta=t.prototype,e.prototype=new n}function ga(e){this.stack=Error().stack||"",e&&(this.message=e+"")}function ha(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)==n}function ia(e){for(var t=1;arguments.length>t;t++){var n=(arguments[t]+"").replace(/\$/g,"$$$$");e=e.replace(/\%s/,n)}return e}function ka(e){return e+="",ja.test(e)?e:encodeURIComponent(e)}function la(e,t){return t?e.replace(ma,"&amp;").replace(na,"&lt;").replace(oa,"&gt;").replace(pa,"&quot;"):qa.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(ma,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(na,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oa,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(pa,"&quot;")),e):e}function z(e,t,n){return e=void 0!==n?e.toFixed(n):e+"",n=e.indexOf("."),-1==n&&(n=e.length),Array(Math.max(0,t-n)+1).join("0")+e}function ra(e,t){for(var n=0,i=(e+"").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),a=(t+"").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),s=Math.max(i.length,a.length),r=0;0==n&&s>r;r++){var o=i[r]||"",l=a[r]||"",c=RegExp("(\\d*)(\\D*)","g"),d=RegExp("(\\d*)(\\D*)","g");do{var u=c.exec(o)||["","",""],h=d.exec(l)||["","",""];if(0==u[0].length&&0==h[0].length)break;n=sa(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||sa(0==u[2].length,0==h[2].length)||sa(u[2],h[2])}while(0==n)}return n}function sa(e,t){return t>e?-1:e>t?1:0}function ta(e,t){t.unshift(e),ga.call(this,ia.apply(null,t)),t.shift(),this.sb=e}function ua(e,t,n,i){var a="Assertion failed";if(n){a+=": "+n;var s=i}else e&&(a+=": "+e,s=t);throw new ta(""+a,s||[])}function va(e,t){!e&&ua("",null,t,Array.prototype.slice.call(arguments,2))}function wa(e,t){return"number"!=typeof e&&ua("Expected number but got %s.",[e],t,Array.prototype.slice.call(arguments,2)),e}function za(){return A.concat.apply(A,arguments)}function Aa(e){if(s(e))return za(e);for(var t=[],n=0,i=e.length;i>n;n++)t[n]=e[n];return t}function Ba(e){for(var n=1;arguments.length>n;n++){var i,a=arguments[n];if(s(a)||(i=t(a))&&a.hasOwnProperty("callee"))e.push.apply(e,a);else if(i)for(var r=e.length,o=a.length,l=0;o>l;l++)e[r+l]=a[l];else e.push(a)}}function Ca(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function Da(e){var t=[],n=0;for(var i in e)t[n++]=e[i];return t}function Ea(e){var t=[],n=0;for(var i in e)t[n++]=i;return t}function Ga(e){for(var t,n,i=1;arguments.length>i;i++){n=arguments[i];for(t in n)e[t]=n[t];for(var a=0;Fa.length>a;a++)t=Fa[a],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Na(){return o.navigator?o.navigator.userAgent:null}function bb(e,t){Ca(t,function(t,n){"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:n in cb?e.setAttribute(cb[n],t):e[n]=t})}function db(){return eb(document,arguments)}function eb(e,n){var i=n[0],a=n[1];if(D&&a&&(a.name||a.type)){if(i=["<",i],a.name&&i.push(' name="',la(a.name),'"'),a.type){i.push(' type="',la(a.type),'"');var s={};Ga(s,a),a=s,delete a.type}i.push(">"),i=i.join("")}var r=e.createElement(i);if(a&&(v(a)?r.className=a:bb(r,a)),n.length>2)for(a=function(t){t&&r.appendChild(v(t)?e.createTextNode(t):t)},i=2;n.length>i;i++)s=n[i],!t(s)||ca(s)&&s.nodeType>0?a(s):ya(fb(s)?Aa(s):s,a);return r}function fb(e){if(e&&"number"==typeof e.length){if(ca(e))return"function"==typeof e.item||"string"==typeof e.item;if(ba(e))return"function"==typeof e.item}return!1}function zb(e){if("function"==typeof e.u)return e.u();if(v(e))return e.split("");if(t(e)){for(var n=[],i=e.length,a=0;i>a;a++)n.push(e[a]);return n}return Da(e)}function Ab(e,n,i){if("function"==typeof e.forEach)e.forEach(n,i);else if(t(e)||v(e))ya(e,n,i);else{var a;if("function"==typeof e.A)a=e.A();else if("function"!=typeof e.u)if(t(e)||v(e)){a=[];for(var s=e.length,r=0;s>r;r++)a.push(r);a=a}else a=Ea(e);else a=void 0;s=zb(e),r=s.length;for(var o=0;r>o;o++)n.call(i,s[o],a&&a[o],e)}}function Bb(e){this.m={},this.d=[];var t=arguments.length;if(t>1){if(t%2)throw Error("Uneven number of arguments");for(var n=0;t>n;n+=2)this.set(arguments[n],arguments[n+1])}else if(e){e instanceof Bb?(t=e.A(),n=e.u()):(t=Ea(e),n=Da(e));for(var i=0;t.length>i;i++)this.set(t[i],n[i])}}function Cb(e){if(e.c!=e.d.length){for(var t=0,n=0;e.d.length>t;){var i=e.d[t];G(e.m,i)&&(e.d[n++]=i),t++}e.d.length=n}if(e.c!=e.d.length){var a={};for(n=t=0;e.d.length>t;)i=e.d[t],G(a,i)||(e.d[n++]=i,a[i]=1),t++;e.d.length=n}}function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){var n;e instanceof H?(this.H(null==t?e.g:t),Eb(this,e.o),Fb(this,e.L),this.G(e.z),Gb(this,e.B),Hb(this,e.K),Ib(this,e.e.clone()),Jb(this,e.J)):e&&(n=(e+"").match(Db))?(this.H(!!t),Eb(this,n[1]||"",!0),Fb(this,n[2]||"",!0),this.G(n[3]||"",!0),Gb(this,n[4]),Hb(this,n[5]||"",!0),this.Da(n[6]||"",!0),Jb(this,n[7]||"",!0)):(this.H(!!t),this.e=new I(null,this,this.g))}function Eb(e,t,n){return K(e),delete e.f,e.o=n?t?decodeURIComponent(t):"":t,e.o&&(e.o=e.o.replace(/:$/,"")),e}function Fb(e,t,n){return K(e),delete e.f,e.L=n?t?decodeURIComponent(t):"":t,e}function Gb(e,t){if(K(e),delete e.f,t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.B=t}else e.B=null;return e}function Hb(e,t,n){return K(e),delete e.f,e.K=n?t?decodeURIComponent(t):"":t,e}function Ib(e,t,n){return K(e),delete e.f,t instanceof I?(e.e=t,e.e.Fa=e,e.e.H(e.g)):(n||(t=J(t,Nb)),e.e=new I(t,e,e.g)),e}function Ob(e,t,n){return K(e),delete e.f,e.e.set(t,n),e}function Jb(e,t,n){return K(e),delete e.f,e.J=n?t?decodeURIComponent(t):"":t,e}function K(e){if(e.bb)throw Error("Tried to modify a read-only Uri")}function J(e,t){var n=null;return v(e)&&(n=e,Pb.test(n)||(n=encodeURI(e)),n.search(t)>=0&&(n=n.replace(t,Qb))),n}function Qb(e){return e=e.charCodeAt(0),"%"+(15&e>>4).toString(16)+(15&e).toString(16)}function I(e,t,n){this.k=e||null,this.Fa=t||null,this.g=!!n}function L(e){if(!e.b&&(e.b=new Bb,e.k))for(var t=e.k.split("&"),n=0;t.length>n;n++){var i=t[n].indexOf("="),a=null,s=null;i>=0?(a=t[n].substring(0,i),s=t[n].substring(i+1)):a=t[n],a=decodeURIComponent(a.replace(/\+/g," ")),a=M(e,a),e.add(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}function Rb(e){delete e.Aa,delete e.k,e.Fa&&delete e.Fa.f}function M(e,t){var n=t+"";return e.g&&(n=n.toLowerCase()),n}function N(e,t,n,i,a){if(/[;=]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/;/.test(t))throw Error('Invalid cookie value "'+t+'"');void 0!==n||(n=-1),document.cookie=e+"="+t+(a?";domain="+a:"")+(i?";path="+i:"")+(0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date((new Date).getTime()+1e3*n).toUTCString())}function O(e,t){for(var n,i=e+"=",a=(document.cookie+"").split(Sb),s=0;n=a[s];s++)if(0==n.indexOf(i))return n.substr(i.length);return t}function P(){}function Q(e,t){this.type=e,this.currentTarget=this.target=t}function R(e,t){e&&this.init(e,t)}function Ub(){}function S(e,t){if(this.Oa=t,this.q=[],e>this.Oa)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var n=0;e>n;n++)this.q.push(this.j?this.j():{})}function T(e){return e.q.length?e.q.pop():e.j?e.j():{}}function U(e,t){e.q.length<e.Oa?e.q.push(t):Wb(e,t)}function Wb(e,t){if(e.Ka)e.Ka(t);else if(ba(t.X))t.X();else for(var n in t)delete t[n]}function kc(e,t,n,i,a){if(t){if(s(t)){for(var r=0;t.length>r;r++)kc(e,t[r],n,i,a);return null}i=!!i;var l=W;t in l||(l[t]=Zb()),l=l[t],i in l||(l[i]=Zb(),l.c++),l=l[i];var c,d=da(e);if(l.D++,l[d]){for(c=l[d],r=0;c.length>r;r++)if(l=c[r],l.ma==n&&l.handler==a){if(l.F)break;return c[r].key}}else c=l[d]=ac(),l.c++;return r=cc(),r.src=e,l=fc(),l.init(n,r,e,t,i,a),n=l.key,r.key=n,c.push(l),V[n]=l,X[d]||(X[d]=ac()),X[d].push(l),e.addEventListener?e!=o&&e.Xa||e.addEventListener(t,r,i):e.attachEvent(lc(t),r),n}throw Error("Invalid event type")}function mc(e,t,n,i){if(!i.oa&&i.Pa){for(var a=0,s=0;i.length>a;a++)if(i[a].F){var r=i[a].proxy;r.src=null,ec(r),gc(i[a])}else a!=s&&(i[s]=i[a]),s++;i.length=s,i.Pa=!1,0==s&&(bc(i),delete W[e][t][n],W[e][t].c--,0==W[e][t].c&&($b(W[e][t]),delete W[e][t],W[e].c--),0==W[e].c&&($b(W[e]),delete W[e]))}}function lc(e){return e in jc?jc[e]:jc[e]="on"+e}function nc(e,t,n,i,a){var s=1;if(t=da(t),e[t]){e.D--,e=e[t],e.oa?e.oa++:e.oa=1;try{for(var r=e.length,o=0;r>o;o++){var l=e[o];l&&!l.F&&(s&=oc(l,a)!==!1)}}finally{e.oa--,mc(n,i,t,e)}}return Boolean(s)}function oc(e,t){var n=e.handleEvent(t);if(e.Ga){var i=e.key;if(V[i]){var a=V[i];if(!a.F){var s=a.src,r=a.type,l=a.proxy,c=a.capture;if(s.removeEventListener?s!=o&&s.Xa||s.removeEventListener(r,l,c):s.detachEvent&&s.detachEvent(lc(r),l),s=da(s),l=W[r][c][s],X[s]){var d=X[s],u=xa(d,a);u>=0&&(va(d||v(d)),wa(d.length),A.splice.call(d,u,1)),0==d.length&&delete X[s]}a.F=!0,l.Pa=!0,mc(r,c,s,l),delete V[i]}}}return n}function pc(e,t,n){"number"==typeof e?(this.a=new Date(e,t||0,n||1),qc(this,n||1)):ca(e)?(this.a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),qc(this,e.getDate())):(this.a=new Date,this.a.setHours(0),this.a.setMinutes(0),this.a.setSeconds(0),this.a.setMilliseconds(0))}function rc(e){if(e=e.getTimezoneOffset(),0==e)e="Z";else{var t=Math.abs(e)/60,n=Math.floor(t);t=60*(t-n),e=(e>0?"-":"+")+z(n,2)+":"+z(t,2)}return e}function qc(e,t){if(e.getDate()!=t){var n=t>e.getDate()?1:-1;e.a.setUTCHours(e.a.getUTCHours()+n)}}function Y(e,t,n,i,a,s,r){this.a="number"==typeof e?new Date(e,t||0,n||1,i||0,a||0,s||0,r||0):new Date(e?e.getTime():fa())}function Z(e){this.W=("https:"==document.location.protocol?"https://":"http://")+e+"/tsr.js?",this.Ea(0),this.Sa("PAGE"),this.Ca(!1),this.V="5.0.0",this.U=sc(this),this.O=tc(this),this.R=ub?vb:"",this.N=wb,xb||(xb="en"),e=xb;var t;t=(t=e.match(/^\w{2,3}([-_]|$)/))?t[0].replace(/[_-]/g,""):"",this.T=t in yb?yb[t]:e,this.G(),this.Da(),this.xa=document.referrer,this.ya=document.title.replace(/'/g,"%27");try{"undefined"!=typeof cdCampaignKey&&this.Qa(cdCampaignKey)}catch(n){}try{"undefined"!=typeof cdDomainKey&&this.Ra(cdDomainKey)}catch(i){}try{"undefined"!=typeof cdPageKey&&(this.ua=cdPageKey)}catch(a){}try{"undefined"!=typeof cdScore&&this.Ea(cdScore)}catch(s){}try{"undefined"!=typeof cdPriority&&this.Ca(cdPriority)}catch(r){}uc(this),this.n=O("cusid",""),""==this.n&&(this.n=(new Y).getTime(),N("cusid",this.n,1800,escape("/"),this.i)),new vc(this)}function wc(e,t,n){var i=(new Y).getTime(),a=e.W;a+="ac="+e.M,a+="&urk="+i,a+="&cm="+e.P,a+="&s="+e.n,a+="&v="+e.I,a+="&lc="+e.T,a+="&pt="+encodeURIComponent(e.ya),a+="&dn="+e.i,a+="&hn="+e.S,a+="&uri="+encodeURIComponent(window.location.href),a+="&r="+encodeURIComponent(e.xa),a+="&t="+t,a+="&b="+e.O,a+="&os="+e.U,a+="&fv="+e.R,a+="&ar="+e.N,a+="&sc=0",a+="&sv="+e.V,a+=n,a+="&dt="+i,a+="&pvon="+O("cuvon",""),e=db("img"),e.id="clickdimensionsTi"+i,e.src=a.replace("tsr.js","ti.gif"),document.body.appendChild(e)}function uc(e){var t;return t=new H(window.location.href).e.get("_cldvid"),t&&void 0!=t&&""!=t&&null!=t||(t=O("cuvid","")),e.I=t}function sc(){return Va?"LINUX":La?"MAC":Sa?"MOBILE":Ma?"WINDOWS":""}function tc(){return rb?"ANDROID":ob?"CAMINO":sb?"CHROME":nb?"FIREFOX":D?"IE":qb?"IPAD":pb?"IPHONE":Pa?"OPERA":tb?"SAFARI":""}function vc(e){for(var t=[".pdf",".txt",".doc",".dot",".csv",".exe",".fla",".msi",".rar",".zip",".gz",".ppt",".pps",".pos",".xla",".xlc",".xlm",".xls",".xlt",".pptx",".sldx",".ppsx",".potx",".xlsx",".xltx",".docx",".dotx",".swf",".vsd",".xap",".xlw",".calx",".mpp",".vdx",".xps",".mps",".wav",".mpg",".avi",".mpeg",".gif",".jpe",".jpeg",".jpg",".png",".tif",".tiff"],n=document.getElementsByTagName("a"),i=0;n.length>i;i++){var a=n[i].getAttribute("href")+"";if(a&&0==a.lastIndexOf("http",0))for(var s=0;t.length>s;s++)if(ha(a,t[s])){kc(n[i],"click",function(){try{var t=this.textContent;void 0===t&&(t=this.innerText),e.Ua(this.getAttribute("href"),t)}catch(n){}},!1,n[i]);break}}}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},a=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,a.prototype=new i,a}),define("bind.polyfill",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=at.type(e);return"function"===n||at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return at.inArray(e,t)>=0!==n})}function a(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=bt[e]={};return at.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function r(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(mt.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(r(),at.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Tt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Lt.test(n)?at.parseJSON(n):n}catch(a){}at.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(at.acceptData(e)){var a,s,r=at.expando,o=e.nodeType,l=o?at.cache:e,c=o?e[r]:e[r]&&r;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=o?e[r]=J.pop()||at.guid++:r),l[c]||(l[c]=o?{}:{toJSON:at.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=at.extend(l[c],t):l[c].data=at.extend(l[c].data,t)),s=l[c],i||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[at.camelCase(t)]=n),"string"==typeof t?(a=s[t],null==a&&(a=s[at.camelCase(t)])):a=s,a}}function u(e,t,n){if(at.acceptData(e)){var i,a,s=e.nodeType,r=s?at.cache:e,o=s?e[at.expando]:at.expando;if(r[o]){if(t&&(i=n?r[o]:r[o].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in i?t=[t]:(t=at.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!c(i):!at.isEmptyObject(i))return}(n||(delete r[o].data,c(r[o])))&&(s?at.cleanData([e],!0):nt.deleteExpando||r!=r.window?delete r[o]:r[o]=null)}}}function h(){return!0}function p(){return!1}function m(){try{return mt.activeElement}catch(e){}}function f(e){var t=jt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,a=0,s=typeof e.getElementsByTagName!==kt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==kt?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||at.nodeName(i,t)?s.push(i):at.merge(s,g(i,t));return void 0===t||t&&at.nodeName(e,t)?at.merge([e],s):s}function v(e){Dt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return at.nodeName(e,"table")&&at.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==at.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)at._data(n,"globalEval",!t||at._data(t[i],"globalEval"))}function M(e,t){if(1===t.nodeType&&at.hasData(e)){var n,i,a,s=at._data(e),r=at._data(t,s),o=s.events;if(o){delete r.handle,r.events={};for(n in o)for(i=0,a=o[n].length;a>i;i++)at.event.add(t,n,o[n][i])}r.data&&(r.data=at.extend({},r.data))}}function k(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[at.expando]){a=at._data(t);for(i in a.events)at.removeEvent(t,i,a.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(_(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Dt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function L(t,n){var i,a=at(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(a[0]))?i.display:at.css(a[0],"display");return a.detach(),s}function T(e){var t=mt,n=Qt[e];return n||(n=L(e,t),"none"!==n&&n||(Zt=(Zt||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=L(e,t),Zt.detach()),Qt[e]=n),n}function x(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=pn.length;a--;)if(t=pn[a]+n,t in e)return t;return i}function C(e,t){for(var n,i,a,s=[],r=0,o=e.length;o>r;r++)i=e[r],i.style&&(s[r]=at._data(i,"olddisplay"),n=i.style.display,t?(s[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ct(i)&&(s[r]=at._data(i,"olddisplay",T(i.nodeName)))):(a=Ct(i),(n&&"none"!==n||!a)&&at._data(i,"olddisplay",a?n:at.css(i,"display"))));for(r=0;o>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[r]||"":"none"));return e}function I(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function D(e,t,n,i,a){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>s;s+=2)"margin"===n&&(r+=at.css(e,n+St[s],!0,a)),i?("content"===n&&(r-=at.css(e,"padding"+St[s],!0,a)),"margin"!==n&&(r-=at.css(e,"border"+St[s]+"Width",!0,a))):(r+=at.css(e,"padding"+St[s],!0,a),"padding"!==n&&(r+=at.css(e,"border"+St[s]+"Width",!0,a)));return r}function Y(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,s=en(e),r=nt.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,s);if(0>=a||null==a){if(a=tn(e,t,s),(0>a||null==a)&&(a=e.style[t]),an.test(a))return a;i=r&&(nt.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+D(e,t,n||(r?"border":"content"),i,s)+"px"}function A(e,t,n,i,a){return new A.prototype.init(e,t,n,i,a)}function E(){return setTimeout(function(){mn=void 0}),mn=at.now()}function N(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=St[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function H(e,t,n){for(var i,a=(bn[t]||[]).concat(bn["*"]),s=0,r=a.length;r>s;s++)if(i=a[s].call(n,t,e))return i}function j(e,t,n){var i,a,s,r,o,l,c,d,u=this,h={},p=e.style,m=e.nodeType&&Ct(e),f=at._data(e,"fxshow");n.queue||(o=at._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,at.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=at.css(e,"display"),d="none"===c?at._data(e,"olddisplay")||T(e.nodeName):c,"inline"===d&&"none"===at.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],gn.exec(a)){if(delete t[i],s=s||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!f||void 0===f[i])continue;m=!0}h[i]=f&&f[i]||at.style(e,i)}else c=void 0;if(at.isEmptyObject(h))"inline"===("none"===c?T(e.nodeName):c)&&(p.display=c);else{f?"hidden"in f&&(m=f.hidden):f=at._data(e,"fxshow",{}),s&&(f.hidden=!m),m?at(e).show():u.done(function(){at(e).hide()}),u.done(function(){var t;at._removeData(e,"fxshow");for(t in h)at.style(e,t,h[t])});for(i in h)r=H(m?f[i]:0,i,u),i in f||(f[i]=r.start,m&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function P(e,t){var n,i,a,s,r;for(n in e)if(i=at.camelCase(n),a=t[i],s=e[n],at.isArray(s)&&(a=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),r=at.cssHooks[i],r&&"expand"in r){s=r.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=a)}else t[i]=a}function R(e,t,n){var i,a,s=0,r=_n.length,o=at.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=mn||E(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(s);return o.notifyWith(e,[c,s,n]),1>s&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||E(),duration:n.duration,tweens:[],createTween:function(t,n){var i=at.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),d=c.props;for(P(d,c.opts.specialEasing);r>s;s++)if(i=_n[s].call(c,e,d,c.opts))return i;return at.map(d,H,c),at.isFunction(c.opts.start)&&c.opts.start.call(e,c),at.fx.timer(at.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,s=t.toLowerCase().match(_t)||[];if(at.isFunction(n))for(;i=s[a++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function V(e,t,n,i){function a(o){var l;return s[o]=!0,at.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var s={},r=e===$n;return a(t.dataTypes[0])||!s["*"]&&a("*")}function O(e,t){var n,i,a=at.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&at.extend(!0,e,n),e}function F(e,t,n){for(var i,a,s,r,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(r in o)if(o[r]&&o[r].test(a)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}i||(i=r)}s=s||i}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function B(e,t,n,i){var a,s,r,o,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=d.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=c[l+" "+s]||c["* "+s],!r)for(a in c)if(o=a.split(" "),o[1]===s&&(r=c[l+" "+o[0]]||c["* "+o[0]])){r===!0?r=c[a]:c[a]!==!0&&(s=o[0],d.unshift(o[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function $(e,t,n,i){var a;if(at.isArray(t))at.each(t,function(t,a){n||Jn.test(e)?i(e,a):$(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==at.type(t))i(e,t);else for(a in t)$(e+"["+a+"]",t[a],n,i)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function U(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],G=J.slice,K=J.concat,X=J.push,Z=J.indexOf,Q={},et=Q.toString,tt=Q.hasOwnProperty,nt={},it="1.11.1",at=function(e,t){return new at.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,ot=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};at.fn=at.prototype={jquery:it,constructor:at,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:J.sort,splice:J.splice},at.extend=at.fn.extend=function(){var e,t,n,i,a,s,r=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[o]||{},o++),"object"==typeof r||at.isFunction(r)||(r={}),o===l&&(r=this,o--);l>o;o++)if(null!=(a=arguments[o]))for(i in a)e=r[i],n=a[i],r!==n&&(c&&n&&(at.isPlainObject(n)||(t=at.isArray(n)))?(t?(t=!1,s=e&&at.isArray(e)?e:[]):s=e&&at.isPlainObject(e)?e:{},r[i]=at.extend(c,s,n)):void 0!==n&&(r[i]=n));return r},at.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!at.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Q[et.call(e)]||"object":typeof e},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(rt,"ms-").replace(ot,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,s=0,r=e.length,o=n(e);if(i){if(o)for(;r>s&&(a=t.apply(e[s],i),a!==!1);s++);else for(s in e)if(a=t.apply(e[s],i),a===!1)break}else if(o)for(;r>s&&(a=t.call(e[s],s,e[s]),a!==!1);s++);else for(s in e)if(a=t.call(e[s],s,e[s]),a===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?at.merge(i,"string"==typeof e?[e]:e):X.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Z)return Z.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;)e[a++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[a++]=t[i++];return e.length=a,e},grep:function(e,t,n){for(var i,a=[],s=0,r=e.length,o=!n;r>s;s++)i=!t(e[s],s),i!==o&&a.push(e[s]);return a},map:function(e,t,i){var a,s=0,r=e.length,o=n(e),l=[];if(o)for(;r>s;s++)a=t(e[s],s,i),null!=a&&l.push(a);else for(s in e)a=t(e[s],s,i),null!=a&&l.push(a);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(a=e[t],t=e,e=a),at.isFunction(e)?(n=G.call(arguments,2),i=function(){return e.apply(t||this,n.concat(G.call(arguments)))},i.guid=e.guid=e.guid||at.guid++,i):void 0},now:function(){return+new Date},support:nt}),at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var a,s,r,o,l,c,u,p,m,f;if((t?t.ownerDocument||t:V)!==A&&Y(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(N&&!i){if(a=yt.exec(e))if(r=a[1]){if(9===o){if(s=t.getElementById(r),!s||!s.parentNode)return n;if(s.id===r)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&R(t,s)&&s.id===r)return n.push(s),n}else{if(a[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=a[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&(!H||!H.test(e))){if(p=u=z,m=t,f=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?p=u.replace(bt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);m=_t.test(e)&&d(t.parentNode)||t,f=c.join(",")}if(f)try{return Q.apply(n,m.querySelectorAll(f)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return S(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>M.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[z]=!0,e}function a(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)M.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var a,s=e([],n.length,t),r=s.length;r--;)n[a=s[r]]&&(n[a]=!(i[a]=n[a]))})})}function d(e){return e&&typeof e.getElementsByTagName!==U&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,a=n&&"parentNode"===i,s=F++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,s)}:function(t,n,r){var o,l,c=[O,s];if(r){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(l=t[z]||(t[z]={}),(o=l[i])&&o[0]===O&&o[1]===s)return c[2]=o[2];if(l[i]=c,c[2]=e(t,n,r))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function f(e,n,i){for(var a=0,s=n.length;s>a;a++)t(e,n[a],i);return i}function g(e,t,n,i,a){for(var s,r=[],o=0,l=e.length,c=null!=t;l>o;o++)(s=e[o])&&(!n||n(s,i,a))&&(r.push(s),c&&t.push(o));return r}function v(e,t,n,a,s,r){return a&&!a[z]&&(a=v(a)),s&&!s[z]&&(s=v(s,r)),i(function(i,r,o,l){var c,d,u,h=[],p=[],m=r.length,v=i||f(t||"*",o.nodeType?[o]:o,[]),y=!e||!i&&t?v:g(v,h,e,o,l),_=n?s||(i?e:m||a)?[]:r:y;if(n&&n(y,_,o,l),a)for(c=g(_,p),a(c,[],o,l),d=c.length;d--;)(u=c[d])&&(_[p[d]]=!(y[p[d]]=u));if(i){if(s||e){if(s){for(c=[],d=_.length;d--;)(u=_[d])&&c.push(y[d]=u);s(null,_=[],c,l)}for(d=_.length;d--;)(u=_[d])&&(c=s?tt.call(i,u):h[d])>-1&&(i[c]=!(r[c]=u))}}else _=g(_===r?_.splice(m,_.length):_),s?s(null,r,_,l):Q.apply(r,_)})}function y(e){for(var t,n,i,a=e.length,s=M.relative[e[0].type],r=s||M.relative[" "],o=s?1:0,l=p(function(e){return e===t
},r,!0),c=p(function(e){return tt.call(t,e)>-1},r,!0),d=[function(e,n,i){return!s&&(i||n!==C)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];a>o;o++)if(n=M.relative[e[o].type])d=[p(m(d),n)];else{if(n=M.filter[e[o].type].apply(null,e[o].matches),n[z]){for(i=++o;a>i&&!M.relative[e[i].type];i++);return v(o>1&&m(d),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),n,i>o&&y(e.slice(o,i)),a>i&&y(e=e.slice(i)),a>i&&h(e))}d.push(n)}return m(d)}function _(e,n){var a=n.length>0,s=e.length>0,r=function(i,r,o,l,c){var d,u,h,p=0,m="0",f=i&&[],v=[],y=C,_=i||s&&M.find.TAG("*",c),b=O+=null==y?1:Math.random()||.1,w=_.length;for(c&&(C=r!==A&&r);m!==w&&null!=(d=_[m]);m++){if(s&&d){for(u=0;h=e[u++];)if(h(d,r,o)){l.push(d);break}c&&(O=b)}a&&((d=!h&&d)&&p--,i&&f.push(d))}if(p+=m,a&&m!==p){for(u=0;h=n[u++];)h(f,v,r,o);if(i){if(p>0)for(;m--;)f[m]||v[m]||(v[m]=X.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(O=b,C=y),f};return a?i(r):r}var b,w,M,k,L,T,x,S,C,I,D,Y,A,E,N,H,j,P,R,z="sizzle"+-new Date,V=e.document,O=0,F=0,B=n(),$=n(),W=n(),q=function(e,t){return e===t&&(D=!0),0},U="undefined",J=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,Z=K.push,Q=K.push,et=K.slice,tt=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=at.replace("w","w#"),rt="\\["+it+"*("+at+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+it+"*\\]",ot=":("+at+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",lt=RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=RegExp("^"+it+"*,"+it+"*"),dt=RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=RegExp(ot),pt=RegExp("^"+st+"$"),mt={ID:RegExp("^#("+at+")"),CLASS:RegExp("^\\.("+at+")"),TAG:RegExp("^("+at.replace("w","w*")+")"),ATTR:RegExp("^"+rt),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:RegExp("^(?:"+nt+")$","i"),needsContext:RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,bt=/'|\\/g,wt=RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Mt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Q.apply(K=et.call(V.childNodes),V.childNodes),K[V.childNodes.length].nodeType}catch(kt){Q={apply:K.length?function(e,t){Z.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},Y=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:V,i=n.defaultView;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,E=n.documentElement,N=!L(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){Y()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Y()})),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName)&&a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=a(function(e){return E.appendChild(e).id=z,!n.getElementsByName||!n.getElementsByName(z).length}),w.getById?(M.find.ID=function(e,t){if(typeof t.getElementById!==U&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},M.filter.ID=function(e){var t=e.replace(wt,Mt);return function(e){return e.getAttribute("id")===t}}):(delete M.find.ID,M.filter.ID=function(e){var t=e.replace(wt,Mt);return function(e){var n=typeof e.getAttributeNode!==U&&e.getAttributeNode("id");return n&&n.value===t}}),M.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==U?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[a++];)1===n.nodeType&&i.push(n);return i}return s},M.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==U&&N?t.getElementsByClassName(e):void 0},j=[],H=[],(w.qsa=vt.test(n.querySelectorAll))&&(a(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),a(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(w.matchesSelector=vt.test(P=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&a(function(e){w.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),j.push("!=",ot)}),H=H.length&&RegExp(H.join("|")),j=j.length&&RegExp(j.join("|")),t=vt.test(E.compareDocumentPosition),R=t||vt.test(E.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===V&&R(V,e)?-1:t===n||t.ownerDocument===V&&R(V,t)?1:I?tt.call(I,e)-tt.call(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,a=0,s=e.parentNode,o=t.parentNode,l=[e],c=[t];if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:I?tt.call(I,e)-tt.call(I,t):0;if(s===o)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?r(l[a],c[a]):l[a]===V?-1:c[a]===V?1:0},n):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&Y(e),n=n.replace(ut,"='$1']"),!(!w.matchesSelector||!N||j&&j.test(n)||H&&H.test(n)))try{var i=P.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&Y(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&Y(e);var n=M.attrHandle[t.toLowerCase()],i=n&&G.call(M.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==i?i:w.attributes||!N?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(D=!w.detectDuplicates,I=!w.sortStable&&e.slice(0),e.sort(q),D){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return I=null,e},k=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},M=t.selectors={cacheLength:50,createPseudo:i,match:mt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Mt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Mt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return mt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Mt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==U&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var s=t.attr(a,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,a){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,m,f=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(s){for(;f;){for(u=t;u=u[f];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&y){for(d=g[z]||(g[z]={}),c=d[e]||[],p=c[0]===O&&c[1],h=c[0]===O&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(h=p=0)||m.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[O,p,h];break}}else if(y&&(c=(t[z]||(t[z]={}))[e])&&c[0]===O)h=c[1];else for(;(u=++p&&u&&u[f]||(h=p=0)||m.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[z]||(u[z]={}))[e]=[O,h]),u!==t)););return h-=a,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,n){var a,s=M.pseudos[e]||M.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[z]?s(n):s.length>1?(a=[e,e,"",n],M.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=s(e,n),r=a.length;r--;)i=tt.call(e,a[r]),e[i]=!(t[i]=a[r])}):function(e){return s(e,0,a)}):s}},pseudos:{not:i(function(e){var t=[],n=[],a=x(e.replace(lt,"$1"));return a[z]?i(function(e,t,n,i){for(var s,r=a(e,null,i,[]),o=e.length;o--;)(s=r[o])&&(e[o]=!(t[o]=s))}):function(e,i,s){return t[0]=e,a(t,null,s,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Mt).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!M.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ft.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=o(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=l(b);return u.prototype=M.filters=M.pseudos,M.setFilters=new u,T=t.tokenize=function(e,n){var i,a,s,r,o,l,c,d=$[e+" "];if(d)return n?0:d.slice(0);for(o=e,l=[],c=M.preFilter;o;){(!i||(a=ct.exec(o)))&&(a&&(o=o.slice(a[0].length)||o),l.push(s=[])),i=!1,(a=dt.exec(o))&&(i=a.shift(),s.push({value:i,type:a[0].replace(lt," ")}),o=o.slice(i.length));for(r in M.filter)!(a=mt[r].exec(o))||c[r]&&!(a=c[r](a))||(i=a.shift(),s.push({value:i,type:r,matches:a}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):$(e,l).slice(0)},x=t.compile=function(e,t){var n,i=[],a=[],s=W[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=y(t[n]),s[z]?i.push(s):a.push(s);s=W(e,_(a,i)),s.selector=e}return s},S=t.select=function(e,t,n,i){var a,s,r,o,l,c="function"==typeof e&&e,u=!i&&T(e=c.selector||e);if(n=n||[],1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&w.getById&&9===t.nodeType&&N&&M.relative[s[1].type]){if(t=(M.find.ID(r.matches[0].replace(wt,Mt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(a=mt.needsContext.test(e)?0:s.length;a--&&(r=s[a],!M.relative[o=r.type]);)if((l=M.find[o])&&(i=l(r.matches[0].replace(wt,Mt),_t.test(s[0].type)&&d(t.parentNode)||t))){if(s.splice(a,1),e=i.length&&h(s),!e)return Q.apply(n,i),n;break}}return(c||x(e,u))(i,t,!N,n,_t.test(e)&&d(t.parentNode)||t),n},w.sortStable=z.split("").sort(q).join("")===z,w.detectDuplicates=!!D,Y(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);at.find=ct,at.expr=ct.selectors,at.expr[":"]=at.expr.pseudos,at.unique=ct.uniqueSort,at.text=ct.getText,at.isXMLDoc=ct.isXML,at.contains=ct.contains;var dt=at.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;at.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?at.find.matchesSelector(i,e)?[i]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},at.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;a>t;t++)if(at.contains(i[t],this))return!0}));for(t=0;a>t;t++)at.find(e,i[t],n);return n=this.pushStack(a>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&dt.test(e)?at(e):e||[],!1).length}});var pt,mt=e.document,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=at.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof at?t[0]:t,at.merge(this,at.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),ut.test(n[1])&&at.isPlainObject(t))for(n in t)at.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=mt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(e);this.length=1,this[0]=i}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?pt.ready!==void 0?pt.ready(e):e(at):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))};gt.prototype=at.fn,pt=at(mt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};at.extend({dir:function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(void 0===n||1!==a.nodeType||!at(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),at.fn.extend({has:function(e){var t,n=at(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(at.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,s=[],r=dt.test(e)||"string"!=typeof e?at(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(r?r.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?at.unique(s):s)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(at.unique(at.merge(this.get(),at(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,i){var a=at.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=at.filter(i,a)),this.length>1&&(yt[e]||(a=at.unique(a)),vt.test(e)&&(a=a.reverse())),this.pushStack(a)}});var _t=/\S+/g,bt={};at.Callbacks=function(e){e="string"==typeof e?bt[e]||s(e):at.extend({},e);var t,n,i,a,r,o,l=[],c=!e.once&&[],d=function(s){for(n=e.memory&&s,i=!0,r=o||0,o=0,a=l.length,t=!0;l&&a>r;r++)if(l[r].apply(s[0],s[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function s(t){at.each(t,function(t,n){var i=at.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),t?a=l.length:n&&(o=i,d(n))}return this},remove:function(){return l&&at.each(arguments,function(e,n){for(var i;(i=at.inArray(n,l,i))>-1;)l.splice(i,1),t&&(a>=i&&a--,r>=i&&r--)}),this},has:function(e){return e?at.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,s){var r=at.isFunction(e[t])&&e[t];a[s[1]](function(){var e=r&&r.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,i):i}},a={};return i.pipe=i.then,at.each(t,function(e,s){var r=s[2],o=s[3];i[s[1]]=r.add,o&&r.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?i:this,arguments),this},a[s[0]+"With"]=r.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,s=G.call(arguments),r=s.length,o=1!==r||e&&at.isFunction(e.promise)?r:0,l=1===o?e:at.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?G.call(arguments):a,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(r>1)for(t=Array(r),n=Array(r),i=Array(r);r>a;a++)s[a]&&at.isFunction(s[a].promise)?s[a].promise().done(c(a,i,s)).fail(l.reject).progress(c(a,n,t)):--o;return o||l.resolveWith(i,s),l.promise()}});var wt;at.fn.ready=function(e){return at.ready.promise().done(e),this},at.extend({isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!mt.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(wt.resolveWith(mt,[at]),at.fn.triggerHandler&&(at(mt).triggerHandler("ready"),at(mt).off("ready")))}}}),at.ready.promise=function(t){if(!wt)if(wt=at.Deferred(),"complete"===mt.readyState)setTimeout(at.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{mt.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(i){}n&&n.doScroll&&!function a(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}r(),at.ready()}}()}return wt.promise(t)};var Mt,kt="undefined";for(Mt in at(nt))break;nt.ownLast="0"!==Mt,nt.inlineBlockNeedsLayout=!1,at(function(){var e,t,n,i;n=mt.getElementsByTagName("body")[0],n&&n.style&&(t=mt.createElement("div"),i=mt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=mt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),at.acceptData=function(e){var t=at.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;at.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!c(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),at.fn.extend({data:function(e,t){var n,i,a,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(a=at.data(s),1===s.nodeType&&!at._data(s,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=at.camelCase(i.slice(5)),l(s,i,a[i])));at._data(s,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){at.data(this,e)}):arguments.length>1?this.each(function(){at.data(this,e,t)}):s?l(s,e,at.data(s,e)):void 0},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=at._data(e,t),n&&(!i||at.isArray(n)?i=at._data(e,t,at.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),i=n.length,a=n.shift(),s=at._queueHooks(e,t),r=function(){at.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete s.stop,a.call(e,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?at.queue(this[0],e):void 0===t?this:this.each(function(){var n=at.queue(this,e,t);at._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=at.Deferred(),s=this,r=this.length,o=function(){--i||a.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=at._data(s[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),a.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)},It=at.access=function(e,t,n,i,a,s,r){var o=0,l=e.length,c=null==n;if("object"===at.type(n)){a=!0;for(o in n)at.access(e,t,o,n[o],!0,s,r)}else if(void 0!==i&&(a=!0,at.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(at(e),n)})),t))for(;l>o;o++)t(e[o],n,r?i:i.call(e[o],o,t(e[o],n)));return a?e:c?t.call(e):l?t(e[0],n):s},Dt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createElement("input"),t=mt.createElement("div"),n=mt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Yt=/^(?:input|select|textarea)$/i,At=/^key/,Et=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,t,n,i,a){var s,r,o,l,c,d,u,h,p,m,f,g=at._data(e);if(g){for(n.handler&&(l=n,n=l.handler,a=l.selector),n.guid||(n.guid=at.guid++),(r=g.events)||(r=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof at===kt||e&&at.event.triggered===e.type?void 0:at.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(_t)||[""],o=t.length;o--;)s=Ht.exec(t[o])||[],p=f=s[1],m=(s[2]||"").split(".").sort(),p&&(c=at.event.special[p]||{},p=(a?c.delegateType:c.bindType)||p,c=at.event.special[p]||{},u=at.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&at.expr.match.needsContext.test(a),namespace:m.join(".")},l),(h=r[p])||(h=r[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,m,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,u):h.push(u),at.event.global[p]=!0);e=null}},remove:function(e,t,n,i,a){var s,r,o,l,c,d,u,h,p,m,f,g=at.hasData(e)&&at._data(e);if(g&&(d=g.events)){for(t=(t||"").match(_t)||[""],c=t.length;c--;)if(o=Ht.exec(t[c])||[],p=f=o[1],m=(o[2]||"").split(".").sort(),p){for(u=at.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=d[p]||[],o=o[2]&&RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)r=h[s],!a&&f!==r.origType||n&&n.guid!==r.guid||o&&!o.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(h.splice(s,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(e,r));l&&!h.length&&(u.teardown&&u.teardown.call(e,m,g.handle)!==!1||at.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)at.event.remove(e,p+t[c],n,i,!0);at.isEmptyObject(d)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(t,n,i,a){var s,r,o,l,c,d,u,h=[i||mt],p=tt.call(t,"type")?t.type:t,m=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=d=i=i||mt,3!==i.nodeType&&8!==i.nodeType&&!Nt.test(p+at.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),r=0>p.indexOf(":")&&"on"+p,t=t[at.expando]?t:new at.Event(p,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:at.makeArray(n,[t]),c=at.event.special[p]||{},a||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!a&&!c.noBubble&&!at.isWindow(i)){for(l=c.delegateType||p,Nt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),d=o;d===(i.ownerDocument||mt)&&h.push(d.defaultView||d.parentWindow||e)}for(u=0;(o=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,s=(at._data(o,"events")||{})[t.type]&&at._data(o,"handle"),s&&s.apply(o,n),s=r&&o[r],s&&s.apply&&at.acceptData(o)&&(t.result=s.apply(o,n),t.result===!1&&t.preventDefault());if(t.type=p,!a&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&at.acceptData(i)&&r&&i[p]&&!at.isWindow(i)){d=i[r],d&&(i[r]=null),at.event.triggered=p;try{i[p]()}catch(f){}at.event.triggered=void 0,d&&(i[r]=d)}return t.result}},dispatch:function(e){e=at.event.fix(e);var t,n,i,a,s,r=[],o=G.call(arguments),l=(at._data(this,"events")||{})[e.type]||[],c=at.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=at.event.handlers.call(this,e,l),t=0;(a=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,s=0;(i=a.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((at.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,o),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,s,r=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(a=[],s=0;o>s;s++)i=t[s],n=i.selector+" ",void 0===a[n]&&(a[n]=i.needsContext?at(n,this).index(l)>=0:at.find(n,this,null,[l]).length),a[n]&&a.push(i);a.length&&r.push({elem:l,handlers:a})}return t.length>o&&r.push({elem:this,handlers:t.slice(o)}),r},fix:function(e){if(e[at.expando])return e;var t,n,i,a=e.type,s=e,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=Et.test(a)?this.mouseHooks:At.test(a)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new at.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,s=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||mt,a=i.documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?at.event.trigger(a,null,t):at.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===kt&&(e[i]=null),e.detachEvent(i,n))},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,s=e.handleObj;return(!a||a!==i&&!at.contains(i,a))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:void at.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=at.nodeName(t,"input")||at.nodeName(t,"button")?t.form:void 0;n&&!at._data(n,"submitBubbles")&&(at.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),at._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:void at.event.remove(this,"._submit")}}),nt.changeBubbles||(at.event.special.change={setup:function(){return Yt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(e){var t=e.target;Yt.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return at.event.remove(this,"._change"),!Yt.test(this.nodeName)}}),nt.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=at._data(i,t);a||i.addEventListener(e,n,!0),at._data(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=at._data(i,t)-1;a?at._data(i,t,a):(i.removeEventListener(e,n,!0),at._removeData(i,t))}}}),at.fn.extend({on:function(e,t,n,i,a){var s,r;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===a&&(r=i,i=function(e){return at().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=at.guid++)),this.each(function(){at.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,at(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){at.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0}});var jt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Rt=RegExp("<(?:"+jt+")[\\s/>]","i"),zt=/^\s+/,Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Ft=/<tbody/i,Bt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^$|\/(?:java|ecma)script/i,Ut=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=f(mt),Xt=Kt.appendChild(mt.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,at.extend({clone:function(e,t,n){var i,a,s,r,o,l=at.contains(e.ownerDocument,e);if(nt.html5Clone||at.isXMLDoc(e)||!Rt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Xt.innerHTML=e.outerHTML,Xt.removeChild(s=Xt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(i=g(s),o=g(e),r=0;null!=(a=o[r]);++r)i[r]&&k(a,i[r]);if(t)if(n)for(o=o||g(e),i=i||g(s),r=0;null!=(a=o[r]);r++)M(a,i[r]);else M(e,s);return i=g(s,"script"),i.length>0&&w(i,!l&&g(e,"script")),i=o=a=null,s},buildFragment:function(e,t,n,i){for(var a,s,r,o,l,c,d,u=e.length,h=f(t),p=[],m=0;u>m;m++)if(s=e[m],s||0===s)if("object"===at.type(s))at.merge(p,s.nodeType?[s]:s);else if(Bt.test(s)){for(o=o||h.appendChild(t.createElement("div")),l=(Ot.exec(s)||["",""])[1].toLowerCase(),d=Gt[l]||Gt._default,o.innerHTML=d[1]+s.replace(Vt,"<$1></$2>")+d[2],a=d[0];a--;)o=o.lastChild;if(!nt.leadingWhitespace&&zt.test(s)&&p.push(t.createTextNode(zt.exec(s)[0])),!nt.tbody)for(s="table"!==l||Ft.test(s)?"<table>"!==d[1]||Ft.test(s)?0:o:o.firstChild,a=s&&s.childNodes.length;a--;)at.nodeName(c=s.childNodes[a],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(at.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else p.push(t.createTextNode(s));for(o&&h.removeChild(o),nt.appendChecked||at.grep(g(p,"input"),v),m=0;s=p[m++];)if((!i||-1===at.inArray(s,i))&&(r=at.contains(s.ownerDocument,s),o=g(h.appendChild(s),"script"),r&&w(o),n))for(a=0;s=o[a++];)qt.test(s.type||"")&&n.push(s);return o=null,h},cleanData:function(e,t){for(var n,i,a,s,r=0,o=at.expando,l=at.cache,c=nt.deleteExpando,d=at.event.special;null!=(n=e[r]);r++)if((t||at.acceptData(n))&&(a=n[o],s=a&&l[a])){if(s.events)for(i in s.events)d[i]?at.event.remove(n,i):at.removeEvent(n,i,s.handle);l[a]&&(delete l[a],c?delete n[o]:typeof n.removeAttribute!==kt?n.removeAttribute(o):n[o]=null,J.push(a))}}}),at.fn.extend({text:function(e){return It(this,function(e){return void 0===e?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?at.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||at.cleanData(g(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pt,""):void 0;if(!("string"!=typeof e||$t.test(e)||!nt.htmlSerialize&&Rt.test(e)||!nt.leadingWhitespace&&zt.test(e)||Gt[(Ot.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Vt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(at.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,at.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,a,s,r,o,l=0,c=this.length,d=this,u=c-1,h=e[0],p=at.isFunction(h);if(p||c>1&&"string"==typeof h&&!nt.checkClone&&Wt.test(h))return this.each(function(n){var i=d.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(o=at.buildFragment(e,this[0].ownerDocument,!1,this),n=o.firstChild,1===o.childNodes.length&&(o=n),n)){for(s=at.map(g(o,"script"),_),a=s.length;c>l;l++)i=o,l!==u&&(i=at.clone(i,!0,!0),a&&at.merge(s,g(i,"script"))),t.call(this[l],i,l);if(a)for(r=s[s.length-1].ownerDocument,at.map(s,b),l=0;a>l;l++)i=s[l],qt.test(i.type||"")&&!at._data(i,"globalEval")&&at.contains(r,i)&&(i.src?at._evalUrl&&at._evalUrl(i.src):at.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Jt,"")));o=n=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,i=0,a=[],s=at(e),r=s.length-1;r>=i;i++)n=i===r?this:this.clone(!0),at(s[i])[t](n),X.apply(a,n.get());return this.pushStack(a)}});var Zt,Qt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=mt.getElementsByTagName("body")[0],n&&n.style?(t=mt.createElement("div"),i=mt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(mt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,an=RegExp("^("+xt+")(?!px)[a-z%]+$","i"),sn=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tn=function(e,t,n){var i,a,s,r,o=e.style;return n=n||en(e),r=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==r||at.contains(e.ownerDocument,e)||(r=at.style(e,t)),an.test(r)&&nn.test(t)&&(i=o.width,a=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=a,o.maxWidth=s)),void 0===r?r:r+""}):mt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,a,s,r,o=e.style;return n=n||en(e),r=n?n[t]:void 0,null==r&&o&&o[t]&&(r=o[t]),an.test(r)&&!sn.test(t)&&(i=o.left,a=e.runtimeStyle,s=a&&a.left,s&&(a.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=i,s&&(a.left=s)),void 0===r?r:r+""||"auto"}),!function(){function t(){var t,n,i,a;n=mt.getElementsByTagName("body")[0],n&&n.style&&(t=mt.createElement("div"),i=mt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=r=!1,l=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(t,null)||{}).top,r="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(mt.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===a[0].offsetHeight,o&&(a[0].style.display="",a[1].style.display="none",o=0===a[0].offsetHeight),n.removeChild(i))}var n,i,a,s,r,o,l;n=mt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=n.getElementsByTagName("a")[0],(i=a&&a.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,at.extend(nt,{reliableHiddenOffsets:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){return null==l&&t(),l}}))}(),at.swap=function(e,t,n,i){var a,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];a=n.apply(e,i||[]);for(s in t)e.style[s]=r[s];return a};var rn=/alpha\([^)]*\)/i,on=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=RegExp("^("+xt+")(.*)$","i"),dn=RegExp("^([+-])=("+xt+")","i"),un={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,r,o=at.camelCase(t),l=e.style;if(t=at.cssProps[o]||(at.cssProps[o]=S(l,o)),r=at.cssHooks[t]||at.cssHooks[o],void 0===n)return r&&"get"in r&&void 0!==(a=r.get(e,!1,i))?a:l[t];if(s=typeof n,"string"===s&&(a=dn.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(at.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||at.cssNumber[o]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var a,s,r,o=at.camelCase(t);return t=at.cssProps[o]||(at.cssProps[o]=S(e.style,o)),r=at.cssHooks[t]||at.cssHooks[o],r&&"get"in r&&(s=r.get(e,!0,n)),void 0===s&&(s=tn(e,t,i)),"normal"===s&&t in hn&&(s=hn[t]),""===n||n?(a=parseFloat(s),n===!0||at.isNumeric(a)?a||0:s):s}}),at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,i){return n?ln.test(at.css(e,"display"))&&0===e.offsetWidth?at.swap(e,un,function(){return Y(e,t,i)}):Y(e,t,i):void 0},set:function(e,n,i){var a=i&&en(e);return I(e,n,i?D(e,t,i,nt.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,a),a):0)}}}),nt.opacity||(at.cssHooks.opacity={get:function(e,t){return on.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(s.replace(rn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=rn.test(s)?s.replace(rn,a):s+" "+a)}}),at.cssHooks.marginRight=x(nt.reliableMarginRight,function(e,t){return t?at.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var i=0,a={},s="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+St[i]+t]=s[i]||s[i-2]||s[0];return a}},nn.test(e)||(at.cssHooks[e+t].set=I)}),at.fn.extend({css:function(e,t){return It(this,function(e,t,n){var i,a,s={},r=0;if(at.isArray(t)){for(i=en(e),a=t.length;a>r;r++)s[t[r]]=at.css(e,t[r],!1,i);return s}return void 0!==n?at.style(e,t,n):at.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?at(this).show():at(this).hide()})}}),at.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,a,s){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(at.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.fx=A.prototype.init,at.fx.step={};var mn,fn,gn=/^(?:toggle|show|hide)$/,vn=RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),yn=/queueHooks$/,_n=[j],bn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=vn.exec(t),s=a&&a[3]||(at.cssNumber[e]?"":"px"),r=(at.cssNumber[e]||"px"!==s&&+i)&&vn.exec(at.css(n.elem,e)),o=1,l=20;if(r&&r[3]!==s){s=s||r[3],a=a||[],r=+i||1;do o=o||".5",r/=o,at.style(n.elem,e,r+s);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return a&&(r=n.start=+r||+i||0,n.unit=s,n.end=a[1]?r+(a[1]+1)*a[2]:+a[2]),n}]};at.Animation=at.extend(R,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],bn[n]=bn[n]||[],bn[n].unshift(t)},prefilter:function(e,t){t?_n.unshift(e):_n.push(e)}}),at.speed=function(e,t,n){var i=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return i.duration=at.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in at.fx.speeds?at.fx.speeds[i.duration]:at.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){at.isFunction(i.old)&&i.old.call(this),i.queue&&at.dequeue(this,i.queue)},i},at.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=at.isEmptyObject(e),s=at.speed(t,n,i),r=function(){var t=R(this,at.extend({},e),s);(a||at._data(this,"finish"))&&t.stop(!0)};return r.finish=r,a||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",s=at.timers,r=at._data(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&yn.test(a)&&i(r[a]);for(a=s.length;a--;)s[a].elem!==this||null!=e&&s[a].queue!==e||(s[a].anim.stop(n),t=!1,s.splice(a,1));(t||!n)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],s=at.timers,r=i?i.length:0;for(n.finish=!0,at.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,i,a)}}),at.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),at.timers=[],at.fx.tick=function(){var e,t=at.timers,n=0;for(mn=at.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||at.fx.stop(),mn=void 0},at.fx.timer=function(e){at.timers.push(e),e()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){fn||(fn=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(fn),fn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,a;t=mt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=mt.createElement("select"),a=n.appendChild(mt.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=a.selected,nt.enctype=!!mt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!a.disabled,e=mt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var wn=/\r/g;at.fn.extend({val:function(e){var t,n,i,a=this[0];return arguments.length?(i=at.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,at(this).val()):e,null==a?a="":"number"==typeof a?a+="":at.isArray(a)&&(a=at.map(a,function(e){return null==e?"":e+""})),t=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=at.valHooks[a.type]||at.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)):void 0}}),at.extend({valHooks:{option:{get:function(e){var t=at.find.attr(e,"value");return null!=t?t:at.trim(at.text(e))}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,s="select-one"===e.type||0>a,r=s?null:[],o=s?a+1:i.length,l=0>a?o:s?a:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==a||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var n,i,a=e.options,s=at.makeArray(t),r=a.length;r--;)if(i=a[r],at.inArray(at.valHooks.option.get(i),s)>=0)try{i.selected=n=!0}catch(o){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),a}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}},nt.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mn,kn,Ln=at.expr.attrHandle,Tn=/^(?:checked|selected)$/i,xn=nt.getSetAttribute,Sn=nt.input;at.fn.extend({attr:function(e,t){return It(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})}}),at.extend({attr:function(e,t,n){var i,a,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?typeof e.getAttribute===kt?at.prop(e,t,n):(1===s&&at.isXMLDoc(e)||(t=t.toLowerCase(),i=at.attrHooks[t]||(at.expr.match.bool.test(t)?kn:Mn)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:(a=at.find.attr(e,t),null==a?void 0:a):null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void at.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,a=0,s=t&&t.match(_t);if(s&&1===e.nodeType)for(;n=s[a++];)i=at.propFix[n]||n,at.expr.match.bool.test(n)?Sn&&xn||!Tn.test(n)?e[i]=!1:e[at.camelCase("default-"+n)]=e[i]=!1:at.attr(e,n,""),e.removeAttribute(xn?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),kn={set:function(e,t,n){return t===!1?at.removeAttr(e,n):Sn&&xn||!Tn.test(n)?e.setAttribute(!xn&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ln[t]||at.find.attr;Ln[t]=Sn&&xn||!Tn.test(t)?function(e,t,i){var a,s;return i||(s=Ln[t],Ln[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,Ln[t]=s),a}:function(e,t,n){return n?void 0:e[at.camelCase("default-"+t)]?t.toLowerCase():null}}),Sn&&xn||(at.attrHooks.value={set:function(e,t,n){return at.nodeName(e,"input")?void(e.defaultValue=t):Mn&&Mn.set(e,t,n)}}),xn||(Mn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ln.id=Ln.name=Ln.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},at.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Mn.set},at.attrHooks.contenteditable={set:function(e,t,n){Mn.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,t){at.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(at.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Cn=/^(?:input|select|textarea|button|object)$/i,In=/^(?:a|area)$/i;at.fn.extend({prop:function(e,t){return It(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),at.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,a,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(s=1!==r||!at.isXMLDoc(e),s&&(t=at.propFix[t]||t,a=at.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=at.find.attr(e,"tabindex");return t?parseInt(t,10):Cn.test(e.nodeName)||In.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),nt.enctype||(at.propFix.enctype="encoding");var Dn=/[\t\r\n\f]/g;at.fn.extend({addClass:function(e){var t,n,i,a,s,r,o=0,l=this.length,c="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_t)||[];l>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dn," "):" ")){for(s=0;a=t[s++];)0>i.indexOf(" "+a+" ")&&(i+=a+" ");r=at.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(e){var t,n,i,a,s,r,o=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_t)||[];l>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dn," "):"")){for(s=0;a=t[s++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");r=e?at.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(at.isFunction(e)?function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=at(this),s=e.match(_t)||[];t=s[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===kt||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dn," ").indexOf(t)>=0)return!0;return!1}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Yn=at.now(),An=/\?/,En=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;at.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,a=at.trim(t+"");return a&&!at.trim(a.replace(En,function(e,t,a,s){return n&&t&&(i=0),0===i?e:(n=a||t,i+=!s-!a,"")}))?Function("return "+a)():at.error("Invalid JSON: "+t)},at.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(a){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+t),n
};var Nn,Hn,jn=/#.*$/,Pn=/([?&])_=[^&]*/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vn=/^(?:GET|HEAD)$/,On=/^\/\//,Fn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bn={},$n={},Wn="*/".concat("*");try{Hn=location.href}catch(qn){Hn=mt.createElement("a"),Hn.href="",Hn=Hn.href}Nn=Fn.exec(Hn.toLowerCase())||[],at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hn,type:"GET",isLocal:zn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,at.ajaxSettings),t):O(at.ajaxSettings,e)},ajaxPrefilter:z(Bn),ajaxTransport:z($n),ajax:function(e,t){function n(e,t,n,i){var a,d,v,y,b,M=t;2!==_&&(_=2,o&&clearTimeout(o),c=void 0,r=i||"",w.readyState=e>0?4:0,a=e>=200&&300>e||304===e,n&&(y=F(u,w,n)),y=B(u,y,w,a),a?(u.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(at.lastModified[s]=b),b=w.getResponseHeader("etag"),b&&(at.etag[s]=b)),204===e||"HEAD"===u.type?M="nocontent":304===e?M="notmodified":(M=y.state,d=y.data,v=y.error,a=!v)):(v=M,(e||!M)&&(M="error",0>e&&(e=0))),w.status=e,w.statusText=(t||M)+"",a?m.resolveWith(h,[d,M,w]):m.rejectWith(h,[w,M,v]),w.statusCode(g),g=void 0,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[w,u,a?d:v]),f.fireWith(h,[w,M]),l&&(p.trigger("ajaxComplete",[w,u]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,s,r,o,l,c,d,u=at.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?at(h):at.event,m=at.Deferred(),f=at.Callbacks("once memory"),g=u.statusCode||{},v={},y={},_=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!d)for(d={};t=Rn.exec(r);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return _||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),n(0,t),this}};if(m.promise(w).complete=f.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||Hn)+"").replace(jn,"").replace(On,Nn[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=at.trim(u.dataType||"*").toLowerCase().match(_t)||[""],null==u.crossDomain&&(i=Fn.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===Nn[1]&&i[2]===Nn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=at.param(u.data,u.traditional)),V(Bn,u,t,w),2===_)return w;l=u.global,l&&0===at.active++&&at.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Vn.test(u.type),s=u.url,u.hasContent||(u.data&&(s=u.url+=(An.test(s)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Pn.test(s)?s.replace(Pn,"$1_="+Yn++):s+(An.test(s)?"&":"?")+"_="+Yn++)),u.ifModified&&(at.lastModified[s]&&w.setRequestHeader("If-Modified-Since",at.lastModified[s]),at.etag[s]&&w.setRequestHeader("If-None-Match",at.etag[s])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Wn+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)w.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,w,u)===!1||2===_))return w.abort();b="abort";for(a in{success:1,error:1,complete:1})w[a](u[a]);if(c=V($n,u,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},u.timeout));try{_=1,c.send(v,n)}catch(M){if(!(2>_))throw M;n(-1,M)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,t){return at.get(e,void 0,t,"script")}}),at.each(["get","post"],function(e,t){at[t]=function(e,n,i,a){return at.isFunction(n)&&(a=a||i,i=n,n=void 0),at.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at._evalUrl=function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},at.fn.extend({wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(at.isFunction(e)?function(t){at(this).wrapInner(e.call(this,t))}:function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)};var Un=/%20/g,Jn=/\[\]$/,Gn=/\r?\n/g,Kn=/^(?:submit|button|image|reset|file)$/i,Xn=/^(?:input|select|textarea|keygen)/i;at.param=function(e,t){var n,i=[],a=function(e,t){t=at.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){a(this.name,this.value)});else for(n in e)$(n,e[n],t,a);return i.join("&").replace(Un,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&Xn.test(this.nodeName)&&!Kn.test(e)&&(this.checked||!Dt.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Gn,"\r\n")}}):{name:t.name,value:n.replace(Gn,"\r\n")}}).get()}}),at.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||q()}:W;var Zn=0,Qn={},ei=at.ajaxSettings.xhr();e.ActiveXObject&&at(e).on("unload",function(){for(var e in Qn)Qn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&at.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var a,s=e.xhr(),r=++Zn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)void 0!==n[a]&&s.setRequestHeader(a,n[a]+"");s.send(e.hasContent&&e.data||null),t=function(n,a){var o,l,c;if(t&&(a||4===s.readyState))if(delete Qn[r],t=void 0,s.onreadystatechange=at.noop,a)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(d){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Qn[r]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||at("head")[0]||mt.documentElement;return{send:function(i,a){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||at.expando+"_"+Yn++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(t,n,i){var a,s,r,o=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=at.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ni,"$1"+a):t.jsonp!==!1&&(t.url+=(An.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return r||at.error(a+" was not called"),r[0]},t.dataTypes[0]="json",s=e[a],e[a]=function(){r=arguments},i.always(function(){e[a]=s,t[a]&&(t.jsonpCallback=n.jsonpCallback,ti.push(a)),r&&at.isFunction(s)&&s(r[0]),r=s=void 0}),"script"):void 0}),at.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var i=ut.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=at.buildFragment([e],t,a),a&&a.length&&at(a).remove(),at.merge([],i.childNodes))};var ii=at.fn.load;at.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,a,s,r=this,o=e.indexOf(" ");return o>=0&&(i=at.trim(e.slice(o,e.length)),e=e.slice(0,o)),at.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),r.length>0&&at.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){a=arguments,r.html(i?at("<div>").append(at.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){r.each(n,a||[e.responseText,t,e])}),this},at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length};var ai=e.document.documentElement;at.offset={setOffset:function(e,t,n){var i,a,s,r,o,l,c,d=at.css(e,"position"),u=at(e),h={};"static"===d&&(e.style.position="relative"),o=u.offset(),s=at.css(e,"top"),l=at.css(e,"left"),c=("absolute"===d||"fixed"===d)&&at.inArray("auto",[s,l])>-1,c?(i=u.position(),r=i.top,a=i.left):(r=parseFloat(s)||0,a=parseFloat(l)||0),at.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+r),null!=t.left&&(h.left=t.left-o.left+a),"using"in t?t.using.call(e,h):u.css(h)}},at.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){at.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},a=this[0],s=a&&a.ownerDocument;return s?(t=s.documentElement,at.contains(t,a)?(typeof a.getBoundingClientRect!==kt&&(i=a.getBoundingClientRect()),n=U(s),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===at.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(i,"marginTop",!0),left:t.left-n.left-at.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ai;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||ai})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);at.fn[e]=function(i){return It(this,function(e,i,a){var s=U(e);return void 0===a?s?t in s?s[t]:s.document.documentElement[i]:e[i]:void(s?s.scrollTo(n?at(s).scrollLeft():a,n?a:at(s).scrollTop()):e[i]=a)},e,i,arguments.length,null)}}),at.each(["top","left"],function(e,t){at.cssHooks[t]=x(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),an.test(n)?at(e).position()[t]+"px":n):void 0})}),at.each({Height:"height",Width:"width"},function(e,t){at.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){at.fn[i]=function(i,a){var s=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||a===!0?"margin":"border");return It(this,function(t,n,i){var a;return at.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?at.css(t,n,r):at.style(t,n,i,r)},t,s?i:void 0,s,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var si=e.jQuery,ri=e.$;return at.noConflict=function(t){return e.$===at&&(e.$=ri),t&&e.jQuery===at&&(e.jQuery=si),at},typeof t===kt&&(e.jQuery=e.$=at),at});var juissi=juissi||{};window.jQueryEnabled=function(){return"undefined"!=typeof jQuery},juissi.onResize=function(e){window.jQueryEnabled()?$(window).resize(e):window.onresize=e},juissi.onScroll=function(e){window.jQueryEnabled()?$(document).bind("scroll",e):document.addEventListener("scroll",e)},window.onOrientation=function(e){window.jQueryEnabled()?$(window).bind("orientationchange",e):(void 0===this.triggerStack&&(this.orientationTriggerStack=[],window.onorientationchange=function(e){for(var t in this.orientationTriggerStack)this.orientationTriggerStack[t](e)}),this.orientationTriggerStack.push(e))},function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.JClass=function(){},JClass.extend=function(n){function i(){!e&&this._construct&&this._construct.apply(this,arguments)}var a=this.prototype;e=!0;var s=new this;e=!1;for(var r in n)s[r]="function"==typeof n[r]&&"function"==typeof a[r]&&t.test(n[r])?function(e,t){return function(){var n=this._super;this._super=a[e];var i=t.apply(this,arguments);return this._super=n,i}}(r,n[r]):n[r];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}();var juissi=juissi||{};juissi.DeviceSettings=function(){this.axisDetectionThreshold=6,this.scrollingKinetics={vertical:500,horizontal:500}};var juissi=juissi||{};(function(){window.JuissEngine={};var e={applewebkit:{css:"-webkit-",dom:"WebKit",aliases:{transitionend:"webkitTransitionEnd",transform:"webkitTransform",transition:"webkitTransition"}},firefox:{css:"",dom:"Moz",aliases:{transitionend:"transitionend",transform:"MozTransform",transition:"MozTransition"}},presto:{css:"-o-",dom:"O",aliases:{transitionend:"oTransitionEnd",transform:"OTransform",transition:"OTransition"},custom:{transform:"OTransform",transition:"OTransition"}},msie:{transform:"-ms-transform",transition:"-ms-transition",css:"-ms-",dom:"ms",aliases:{transitionend:"MSTransitionEnd",transform:"msTransform",transition:"msTransition"}},trident:{transform:"-ms-transform",transition:"-ms-transition",css:"-ms-",dom:"ms",aliases:{transitionend:"MSTransitionEnd",transform:"msTransform",transition:"msTransition"}}},t=navigator.userAgent.toLowerCase(),n=e.applewebkit;for(var i in e)t.match(i)&&(n=e[i]);var a=t.indexOf("opera")>-1,s=!a&&t.indexOf("msie")>-1,r=function(){return!document.compatMode&&!s||a?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},o=function(){return!document.compatMode&&!s||a?(document.parentWindow||document.defaultView).innerWidth:"CSS1Compat"==document.compatMode?document.documentElement.clientWidth:document.body.clientWidth};JuissEngine.getViewport=function(){return{height:r(),width:o()}},juissi.Helper={},juissi.Helper.getFullResolution=JuissEngine.getViewport;var l=window[n.dom+"CSSMatrix"]!==void 0,c=function(){var e=1,t={};return{addListener:function(n,i,a,s){return n.addEventListener(i,a,s),t[e]={element:n,event:i,handler:a,capture:s},e++},removeListener:function(e){if(e in t){var n=t[e];n.element.removeEventListener(n.event,n.handler,n.capture)}}}}();window.JuissEngine.Device={isTouch:function(){return void 0===this.isTouchDevice&&(this.isTouchDevice="ontouchstart"in window||t.indexOf("touch")>=0),this.isTouchDevice},isTabletPc:function(){return t.indexOf("tablet pc")>=0},isDesktop:function(){return void 0===this.isDesktopDevice&&(this.isDesktopDevice=void 0===window.orientation),this.isDesktopDevice},supportsDivScrolling:function(){if(void 0===this.supportsNativeScroll)if(this.supportsNativeScroll=!0,this.isAndroid()){var e=this.getAndroidVersion();400>e&&(this.supportsNativeScroll=!1)}else if(this.isWindows())this.supportsNativeScroll=!0;else if(this.isApple()&&JuissEngine.Device.isMobileApple()){var t=this.getAppleVersion();this.supportsNativeScroll=500>t?!1:!0}return this.supportsNativeScroll},windowsPointersAreEnabled:function(){return window.navigator.msPointerEnabled},isAndroid:function(){return t.indexOf("android")>0},isMobileApple:function(){return/iP(hone|od|ad)/.test(navigator.platform)},isWindows:function(){return t.indexOf("msie")>0},isOpera:function(){return t.indexOf("opera")>=0},getAndroidVersion:function(){var e=t.match(/android (\d\.\d|\d\.\d\.\d);/);if(!e)return 0;if(e.length>1){var n=e[1].split(".");return 2===n.length&&n.push("0"),parseInt(n.join(""))}return 0},getAppleVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];return parseInt(t[0]+""+t[1]+t[2])}return null},isApple:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("mac os x")>0},eventNames:{touchStart:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerDown":"touchstart":"mousedown"},touchMove:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerMove":"touchmove":"mousemove"},touchEnd:function(){return JuissEngine.Device.isTouch()?JuissEngine.Device.windowsPointersAreEnabled()?"MSPointerUp":"touchend":"mouseup"}},supports3d:function(){if(void 0===this._supports3d){if(this._supports3d=!0,a)return this._supports3d=!1,void 0;try{if(this._supports3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,JuissEngine.Device.isAndroid()){var e=JuissEngine.Device.getAndroidVersion();400>e&&(this._supports3d=!1)}t.indexOf("chrome")>=0&&t.indexOf("linux")>=0&&(this._supports3d=!1)}catch(n){this._supports3d=!1}}return this._supports3d},extend:function(e){this.isMobileApple()&&e.mobileOS?e.mobileOS(this.getAppleVersion()):this.isAndroid()&&e.android?e.android(this.getAndroidVersion()):this.isWindows()&&e.windows&&e.windows();for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}};var d=window.JuissEngine.Device,u=function(e){switch(e){case"transitionend":e=n.aliases.transitionend}return e},h={getPosition:function(){var e=this;if(!l){var t=window.getComputedStyle(e)[n.aliases.transform],i=/-?[0-9.]+/gi,a=t.match(i);return a?t.indexOf("matrix3d")>=0?{x:1*a[13],y:1*a[14]}:{x:1*a[4],y:1*a[5]}:{x:0,y:0}}var s=window.getComputedStyle(e)[n.aliases.transform],r=new window[n.dom+"CSSMatrix"](s);return r?{x:r.e,y:r.f}:void 0},move:function(e,t){var i;i=d.supports3d()?"translate3d("+e+"px,"+t+"px, 0px)":"translate("+e+"px,"+t+"px)",this.style[n.custom?n.custom.transform:n.css+"transform"]=i},animation:function(e,t){var i=t?t:"all",a=e?i+" "+e:i+" 0s linear";this.style[n.custom?n.custom.transition:n.css+"transition"]=a},transform:function(e,t){this.move(e,t)},transition:function(e,t){this.animation(e,t)},specificStyle:function(e,t){this.style[n.css+e]=t},eachNode:function(e){for(var t=this.childNodes.length,n=0,i=0;t>=i;i++){var a=this.childNodes[i];a&&1===a.nodeType&&(e(a,n),n++)}},opacity:function(e){this.style[n.css+"opacity"]=e},getNode:function(e){var t=void 0;return this.eachNode(function(n,i){i==e&&(t=n)}),t},addCss:function(e){for(var t in e)this.style[t]=e[t]},on:function(e,t){this.bind(e,function(n){t.bind(this)(n),this.unbind(e)})},bind:function(e,t,n){var i=e.split(/\s+/g);void 0===this.__boundEvents&&(this.__boundEvents={});for(var a in i){var s=u(i[a]),r=c.addListener(this,s,t.bind(this),n);this.__boundEvents[s]||(this.__boundEvents[s]=[]),this.__boundEvents[s].push(r)}},dispatchTouchEnd:function(e,t){var n=document.createEvent("MouseEvent");n.initUIEvent("touchend",!0,!0,window,1),n.touches=[{pageX:e,pageY:t}],this.dispatchEvent(n)},unbind:function(e){var e=u(e);if(this.__boundEvents&&this.__boundEvents[e]){for(var t in this.__boundEvents[e]){var n=this.__boundEvents[e][t];c.removeListener(n)}delete this.__boundEvents[e]}},click:function(e,t){this.bind("click",e,t)},append:function(e){this.appendChild(e)},appendTo:function(e){e.appendChild(this)},remove:function(){void 0!=this.parentNode&&this.parentNode.removeChild(this)},exists:function(){for(var e=this;e=e.parentNode;)if(e===document)return!0;return!1},getWidth:function(){var e=parseInt(window.getComputedStyle(this)["margin-left"]),t=parseInt(window.getComputedStyle(this)["margin-right"]),n=parseInt(window.getComputedStyle(this)["border-left-width"]),i=parseInt(window.getComputedStyle(this)["border-right-width"]);return this.getBoundingClientRect().width+e+t+n+i},getHeight:function(){var e=parseInt(window.getComputedStyle(this)["margin-bottom"]),t=parseInt(window.getComputedStyle(this)["margin-top"]),n=parseInt(window.getComputedStyle(this)["border-top-width"]),i=parseInt(window.getComputedStyle(this)["border-bottom-width"]);return this.getBoundingClientRect().height+e+t+n+i}};for(var p in h)Element.prototype[p]=h[p];Document.prototype.find=h.find})();var juissi=juissi||{};(function(){juissi.SpeedCalculation=JClass.extend({_construct:function(e,t){this.maxSpeed=t&&t.maxSpeed||3e3,this.dictionary=[]},add:function(e){this.dictionary.push({x:e.x,y:e.y,time:(new Date).getTime()})},reset:function(){this.dictionary=[]},calculateSpeed:function(){var e={x:0,y:0};if(2>this.dictionary.length)return e;var t=this.dictionary.slice(0),n=t.pop(),i=t.pop(),a=n.x-i.x,s=n.y-i.y,r=n.time-i.time;return e.x=a/r>this.maxSpeed?this.maxSpeed:a/r,e.y=s/r>this.maxSpeed?this.maxSpeed:s/r,e.x=Math.abs(e.x)>.1?e.x:0,e.y=Math.abs(e.y)>.1?e.y:0,this.reset(),e}})})();var juissi=juissi||{};juissi.xLock=!1,juissi.yLock=!1,juissi.Axis={lockX:function(){juissi.xLock=!0},unlockX:function(){juissi.xLock=!1},lockY:function(){juissi.yLock=!0},unlockY:function(){juissi.yLock=!1},isXLocked:function(){return juissi.xLock},isYLocked:function(){return juissi.yLock}},juissi.GestureCommon=function(){this.reset=!1,this.resetCoords=function(){this.reset=!0},this.shouldResetCoords=function(){return this.reset}},juissi.GestureCommonInstance=null,juissi.MouseDown=!1,juissi.Gesture=function(e,t,n){this.startCoords={touchStart:{coords:null,element:null},touchMove:{coords:null,element:null}},this.common=null,this.microsoftYUnlock=n&&n.unlockYMicrosoft,this.disableMouse=n&&n.disableMouseGestures||!1,this.settings=new juissi.DeviceSettings,this.axisThreshold=8,this.element=e,this.handlers=t,this.xMove=null,this.yMove=null,this.speed=new juissi.SpeedCalculation,this._getCoords=function(e){return coords="touchend"===e.type?e.changedTouches?e.changedTouches[0]:e.touches[0]:e.touches?e.touches[0]:e,{x:coords.pageX,y:coords.pageY}},this.resetEvent=function(){this.shift.x=0,this.shift.y=0,this.startCoords.touchMove.coords=coords,this.startCoords.touchMove.element=this.element.getPosition()},this._move=function(e){var t=this._getCoords(e);if(!this.__shouldPreventAction(e)){var t=this._getCoords(e);null===this.startCoords.touchMove.coords&&(this.startCoords.touchMove.coords=t,this.startCoords.touchMove.element=this.element.getPosition()),this.common.shouldResetCoords()&&(this.startCoords.touchStart.element=this.element.getPosition(),this.startCoords.touchStart.coords=t,this.startCoords.touchMove.coords=t,this.startCoords.touchMove.element=this.element.getPosition(),this.common.reset=!1),this.startCoords.touchMove.delta={x:this.startCoords.touchMove.coords.x-t.x,y:this.startCoords.touchMove.coords.y-t.y};try{this.shift={x:this.startCoords.touchStart.coords.x-t.x,y:this.startCoords.touchStart.coords.y-t.y}}catch(n){return}if(this.speed.add(t),this.detectAxis(),this.handlers.move&&this.axisDetected()){var i={originalEvent:e,startCoords:this.startCoords,delta:this.shift,common:this.common,coords:t,event:e,xMove:this.xMove,yMove:this.yMove,directionX:0>this.shift.x?"right":"left",directionY:0>this.shift.y?"bottom":"top",reset:this.resetEvent};this.handlers.move(i)}this.isSwiping=!0}},this.detectAxis=function(){null===this.yMove&&Math.abs(this.shift.y)>this.settings.axisDetectionThreshold&&(this.yMove=!0,this.xMove=!1),null===this.xMove&&Math.abs(this.shift.x)>this.settings.axisDetectionThreshold&&(this.yMove=!1,this.xMove=!0)},this.axisDetected=function(){return!0},this._start=function(e){if(null==this.xMove,null==this.yMove,juissi.MouseDown=!0,this.isSwiping=!1,!this.__shouldPreventAction(e)){var t=this._getCoords(e);this.isSwiping=!1,this.startCoords.touchStart.coords=t,this.startCoords.touchStart.element=this.element.getPosition(),this.handlers.start&&this.handlers.start({originalEvent:e,common:this.common})}},this._stop=function(e){juissi.MouseDown=!1;var t=this._getCoords(e);try{var n={x:this.startCoords.touchStart.coords.x-t.x,y:this.startCoords.touchStart.coords.y-t.y}}catch(i){return}var a=this.speed.calculateSpeed();if(this.handlers.stop){var i={originalEvent:e,directionX:0>n.x?"right":"left",directionY:0>n.y?"bottom":"top",startCoords:this.startCoords,delta:this.shift,coords:t,speed:a,xMove:this.xMove,yMove:this.yMove,common:this.common};this._onCommonStop&&this._onCommonStop(i),this.handlers.stop(i)}this.xMove=null,this.yMove=null,this.startCoords.touchMove.coords=null,Math.abs(n.x)<=this.axisThreshold&&(this.isSwiping=!1)},this.__shouldPreventAction=function(e){return this.disableMouse&&e.pointerType&&e.pointerType!=e.MSPOINTER_TYPE_TOUCH?!0:JuissEngine.Device.isTouch()||juissi.MouseDown?void 0:!0},this.detach=function(){var e=JuissEngine.Device.eventNames;this.element.removeEventListener(e.touchStart(),this._start.bind(this)),this.element.removeEventListener(e.touchMove(),this._move.bind(this)),this.element.removeEventListener(e.touchEnd(),this._stop.bind(this)),console.log("Detaching")},this.__init=function(e){null===juissi.GestureCommonInstance&&(juissi.GestureCommonInstance=new juissi.GestureCommon),this.common=juissi.GestureCommonInstance,this.element=e,JuissEngine.Device.windowsPointersAreEnabled()&&(e.style["-ms-touch-action"]=this.microsoftYUnlock?"pan-y":"none",e.addEventListener("click",function(e){this.isSwiping&&(e.stopPropagation(),e.preventDefault())}.bind(this),!0));var t=JuissEngine.Device.eventNames,n=!0;this.disableMouse&&(JuissEngine.Device.isTouch()||(n=!1)),e.juissiGesture=this,n&&(e.addEventListener(t.touchStart(),this._start.bind(this)),e.addEventListener(t.touchMove(),this._move.bind(this)),e.addEventListener(t.touchEnd(),this._stop.bind(this)))},this.__init(e)};var juissi=juissi||{};juissi.NativeScroll=function(e,t){this.element=e,this.parent=t&&t.parent||null,this._getCoords=function(e){return coords="touchend"===e.type?e.changedTouches?e.changedTouches[0]:e.touches[0]:e.touches?e.touches[0]:e,{x:coords.pageX,y:coords.pageY}},this.animationInProgress=function(){return this.__explore?this.__explore.animationInProgress:!1},this._move=function(e){if(!this.animationInProgress()){var t=this._getCoords(e),n=t.y-this.yStart,i=t.x-this.xStart;Math.abs(t.x-this.xStart);var a=!1;if(Math.abs(i)>Math.abs(n))return juissi.GlobalXlock=!0,e.preventDefault(),void 0;if(n>0)a=n>0&&0==this.startScrollingCoordinate;else{var s=this.element.scrollHeight,r=this.startScrollingCoordinate,o=this.element.getHeight();a=r+o>=s}return this.resetTransition=!1,a?(this.resetTransition=!0,e.preventDefault(),void 0):void 0}},this._start=function(e){var t=this._getCoords(e);this.xStart=t.x,this.yStart=t.y,this.startScrollingCoordinate=this.element.scrollTop,juissi.GlobalXlock=!1},this._stop=function(){juissi.GlobalXlock=!0},this.__onViewport=function(){},this.__offViewport=function(){},this.onScroll=function(e){var t=this.element;return e?(t.onscroll=function(n){var i=t.scrollTop,a=this.element.getHeight(),s=Math.round(100*(i/(this.element.scrollHeight-a)));s=s>100?100:s,e({event:n,scrolled:i,viewport:a,percent:s,elementHeight:this.element.scrollHeight})}.bind(this),void 0):(t.onscroll=null,void 0)},this.__init=function(){var e=this.element.getNode(0);this.element.style["overflow-y"]="scroll",this.element.style["-webkit-overflow-scrolling"]="touch",JuissEngine.Device.isWindows()&&(this.element.style["-ms-touch-action"]="pan-y"),e.overflow="auto";var t={};t.move=this._move.bind(this),t.stop=this._stop.bind(this),t.start=this._start.bind(this);var n=JuissEngine.Device.eventNames;JuissEngine.Device.isTouch()&&(this.element.addEventListener(n.touchStart(),this._start.bind(this)),this.element.addEventListener(n.touchMove(),this._move.bind(this)),this.element.addEventListener(n.touchEnd(),this._stop.bind(this))),this.parent&&this.parent.__exploreModule&&(this.__explore=this.parent.__exploreModule)},this.__init()};var juissi=juissi||{};(function(){var e=function(){this.kineticSpeed=600};juissi.Scrollable=JClass.extend({_construct:function(e,t){this.element=e,this.element.juissiScrollable=this,this._initOptions(t),this._prepare(),this._initiate()},scrollTo:function(e,t,n){this.container.move(e,t),this.container.animation((n?"0.0s":"0.3s")+" ease-out"),this.__calculatePercentage({y:t,touchEnded:!0,delay:n?0:.3})},_prevent:function(e){return this._locked?!0:this.options.vertical&&e.xMove?!0:this.options.horizontal&&e.yMove?!0:void 0},__onViewport:function(){this.nativeScroll?this.nativeScroll.__onViewport():this.options.scrollbars&&this.__initScrollBar({color:"#444444"})},__offViewport:function(){this.nativeScroll?this.nativeScroll.__offViewport():this.options.scrollbars&&this.__destroyScrollBar()},_onStart:function(e){if(!this._prevent(e)){this._bound2Top=!1,this._overideAnimation=null,this.__calculatePercentage();var t=this.container.getPosition();this.container.move(t.x,t.y),this.container.animation("0.3s ease-out")}},_onMove:function(e){if(this._prevent(e))return JuissEngine.Device.isAndroid()&&this.container.dispatchTouchEnd(0,0),void 0;var t=this.options.vertical,n=this.container.getPosition(),i=e.startCoords.touchMove.element,a=e.startCoords.touchMove.delta,s=t?n.y:n.x,r=t?i.y:i.x;t?a.y:a.x;var o=r-(t?e.delta.y:e.delta.x),l="0.0",c=t?this.container.getHeight():this.container.getWidth(),d=t?this.element.getHeight():this.element.getWidth();if(d>c)o/=30,this._bound2Top=!0;else{s>0&&(o/=10,this._overideAnimation="0.3");var u=t?this._bottom(o):this._right(o);u&&(o=u)}this.container.animation(l+"s linear"),this.container.move(t?0:o,t?o:0),this.__calculatePercentage(),(t?e.yMove:e.xMove)&&(e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())},_onStop:function(e){if(!this._prevent(e)){var t=this.options.vertical,n=this.container.getPosition(),i=t?n.y:n.x,a=(t?e.speed.y:e.speed.x)*this.options.kineticSpeed,s=Math.round(i+a),r=this._overideAnimation?this._overideAnimation:Math.abs((i-s)/a)||.3;s>0&&(s=0),s=this.__considerGrid({x:s,y:s});var o=t?this._bottom(s):this._right(s);o&&(s=o),this._bound2Top&&(s=0),t||(s=this.container.getWidth()<this.element.getWidth()?0:s),this.container.animation(r+"s ease-out"),this.container.move(t?0:s,t?s:0),this.__calculatePercentage({y:t?s:0,x:t?0:s,touchEnded:!0,delay:r})}},_right:function(e){var t=this.element.getWidth(),n=this.container.getWidth();
return Math.abs(e)>n-t?-1*(n-t):!1},_bottom:function(e){var t=this.element.getHeight(),n=this.container.getHeight();return Math.abs(e)>n-t?-1*(n-t):!1},_prepare:function(){var e={overflow:"hidden",position:"relative","z-index":"0"};this.element.addCss(e),this.container=this.element.getNode(0);var t={overflow:"auto"};this.container.addCss(t)},_initOptions:function(t){this.options=new e;for(var n in t)this.options[n]=t[n];this.options.horizontal||this.options.vertical||(this.options.vertical=!0),this.__exploreModule=this.options.__exploreModule,this.triggers={}},__calculatePercentage:function(e){var t=e?e:this.container.getPosition(),n=e&&e.delay||0,i=e&&e.touchEnded||!1;this.percentShift=this.options.vertical?Math.round(100*(Math.abs(t.y)/(this.container.getHeight()-this.element.getHeight()))):Math.round(100*(Math.abs(t.x)/(this.container.getWidth()-this.element.getWidth()))),this.scrollPosition={y:{percent:this.options.vertical?this.percentShift:0,viewport:this.element.getHeight(),height:this.container.getHeight(),scrolled:t.y},x:{percent:this.options.horizontal?this.percentShift:0,viewport:this.element.getWidth(),height:this.container.getHeight(),scrolled:t.x}},this.triggers.onScroll&&this.triggers.onScroll(this.scrollPosition),this.options.scrollbars&&this.options.vertical&&void 0===this.nativeScroll&&this.__onScrollBar(this.percentShift,n,i)},lock:function(){this._locked=!0},unlock:function(){this._locked=!1},_initiate:function(){this.options.nativeScrollIfPossible&&JuissEngine.Device.supportsDivScrolling()?this.nativeScroll=new window.juissi.NativeScroll(this.element,{parent:this,triggers:this.triggers}):this._bind()},_bind:function(){this.container.bind("transitionend",function(e){this.triggers.onStop&&this.triggers.onStop(e)}.bind(this)),this.gesture=new juissi.Gesture(this.container,{start:this._onStart.bind(this),move:this._onMove.bind(this),stop:this._onStop.bind(this)})}})})(),function(){var e=function(e){return"object"==typeof e&&void 0!==e.nodeName},t=function(e){return"number"==typeof e},n=function(e){if("string"==typeof e){var t=parseInt(e);if(0/0!==t)return t}return!1},i=function(i,a){var s=null,r=e(i),o=t(i),l=n(i);return r?s=a&&"width"===a?i.getWidth():i.getHeight():o?s=i:l&&(s=l),{value:null===s?0:s,doSum:r}},a=function(e,t){var n=[],a=0;for(coord in e){var s=e[coord],r=i(s,t);n.push(r.doSum?a+r.value:r.value),a+=r.value}return n};juissi.Scrollable=juissi.Scrollable.extend({bindGrid:function(e){var t=e.x?e.x:e.y,n=e.x?"width":"height";void 0!==t&&(this.grid=a(t,n))},__considerGrid:function(e){if(!this.grid)return e;var t=null,n=0;for(var i in this.grid){var a=this.grid[i],s=Math.abs(this.horizonal?e.x:e.y);if(s>=n&&a>=s){var r=n+Math.round((a-n)/2);t=r>s?n:a}n=a}return null!==t?this.vertical?-1*t:-1*t:e}})}();var juissi=juissi||{};juissi.PagingActive=!1,juissi.ScrollingActive=!1,juissi.ExploreOptions=function(e){this.__init=function(e){if(e)for(var t in e)this[t]=e[t]},this.__processOptions=function(){this.desktopVersion&&JuissEngine.Device.isDesktop()&&(this.horizontalMode=!0,this.scrollable=!1,this.fullScreen=!1,this.desktopMode=!0)},this.__init(e),this.__processOptions()},juissi.Explore=function(e,t){if(this.element=e,this.deviceSettings=new juissi.DeviceSettings,this.container=document.createElement("div"),this.onStopDuration=.3,this.options=new juissi.ExploreOptions(t),this.page=this.options.initialPage||"0.0",this.animationInProgress=!1,this.triggers={onPageChange:null,onFinger:null,onRender:this.options.onRender},this.getElements=function(){return this.elements},this.getElement=function(e,t){e+="";var n=e.split(".");return n=n.length>1?n[0]+"."+n[1]:e+"."+t,this.elementExists(n)?this.elements[n]:null},this.getContainerWidth=function(){return this.element.getWidth()},this.getContainerHeight=function(){return this.element.getHeight()},this.getCurrentCoords=function(e){var t=(e?e:this.page).split(".");return{x:1*t[0],y:1*t[1]}},this.getCurrentPage=function(){var e=this.getCurrentCoords();return this.getElement(e.x,e.y)},this.__setPage=function(e,t){var n=this.getCurrentCoords();this.page=e+"."+t;var i={current:this.getElement(this.page),prev:this.getElement(n.x+"."+n.y)};this.options.autoRevertScroll&&(this.options.horizontalMode?window.scroll(0,0):i.prev&&i.prev.scrollable&&window.setTimeout(function(){if(i.prev.scrollable.nativeScroll){var e=i.prev.scrollable.element;e.scrollTop=0}else i.prev.scrollable.scrollTo(0,0,!0)},1e3*this.onStopDuration));var a={current:{x:e,y:t},prev:n};i.prev&&i.prev.scrollable&&i.prev.scrollable.__offViewport(),this.triggers.onPageChange&&window.setTimeout(function(){this.triggers.onPageChange(a,i)}.bind(this),1e3*this.onStopDuration)},this.__pageAssumedAsCurrent=function(){var e=this.getCurrentPage();e.scrollable&&e.scrollable.__onViewport()},this.__addHorizontal=function(e){var t=this.getCurrentCoords();this.options.loopHorizontal&&this.getSize()>1?-1===e&&0===t.x?this.__setPage(this._lec.x,t.y):1===e&&t.x===this._lec.x?this.__setPage(this._fec.x,t.y):this.__setPage(t.x+e,t.y):this.__setPage(t.x+e,t.y)},this.__addVertical=function(e){var t=this.getCurrentCoords();this.__setPage(t.x,t.y+e)},this.__horizontalExists=function(e){var t=this.getCurrentCoords(),n=t.x+e+"."+t.y;return this.options.loopHorizontal&&this.getSize()>1?!0:this.elementExists(n)},this.__verticalExists=function(e){var t=this.getCurrentCoords(),n=t.x+"."+(t.y+e);return this.elementExists(n)},this._eventsAreLocked=function(e){return this._lockEventsCallback?(this._lockEventsCallback(e),!0):void 0},this._start=function(e){e.type="start",this.__size=null,this._eventsAreLocked(e)||(this.hasActuallyMoved=!1)},this._preventDefaults=function(e){e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()},this._move=function(e){if(e.type="move",!this._eventsAreLocked(e)){if((this.options.horizontalMode||this.options.releaseVertical)&&e.yMove)return JuissEngine.Device.isAndroid()&&this._dispatchTouchEnd(),void 0;if(this.animationInProgress)return e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),void 0;if(!this.nativeScroll||juissi.GlobalXlock!==!1){this._preventDefaults(e);var t=!1;juissi.PagingActive=!0,e.xMove&&(t=this.__horizontalExists("left"===e.directionX?1:-1)===!1),e.yMove&&(t=this.__verticalExists("bottom"===e.directionY?1:-1)===!1);var n=e.startCoords.touchStart.element,i=n.x-e.delta.x;t&&e.xMove&&(i=n.x-e.delta.x/15);var a=e.yMove?n.y-e.delta.y:n.y;t&&e.yMove&&(a=n.y-e.delta.y/15),this.nativeScroll&&(e.xMove=!0),this.__moveElements(e.xMove?i:0,e.yMove?a:0),this.hasActuallyMoved=!0}}},this.__moveElements=function(e,t,n){var i=0;void 0!==this.triggers.onMove&&this.triggers.onMove({x:e,y:t,speed:n,released:n?!0:!1}),this._needFixLoopHorizontal()&&!n&&this._checkFor2Elements(e,t),this.element.eachNode(function(a){void 0!==n&&a.animation(n+"s ease-out"),a.move(e,t),i++}.bind(this))},this._needFixLoopHorizontal=function(){return this.options.loopHorizontal&&2==this.getSize()},this._checkFor2Elements=function(e){var t=this.getCurrentCoords().x;this._leftShiftedElement=this.getElement(0==t?1:0,0),this._leftShiftedElement.style.left=e>0?"-100%":"100%"},this._stop=function(e){if(e.type="stop",this._2slidesDetection=!1,!this._eventsAreLocked(e)&&this.hasActuallyMoved!==!1){if(!this.nativeScroll&&juissi.GlobalXlock===!1){if(this.animationInProgress||(this.options.horizontalMode||this.options.releaseVertical)&&e.yMove)return;if(juissi.Axis.isXLocked()&&e.xMove)return;if(juissi.Axis.isYLocked()&&e.yMove)return}var t={};t.alignElements=!0,this.animationInProgress=!0,this.onStopDuration=.3,t.crucialPercentToPass=5;var n="left"===e.directionX,i="bottom"===e.directionY;this.nativeScroll&&(e.xMove=!0);var a,s;e.xMove?this.__horizontalExists(n?1:-1)?(a=100*(Math.abs(e.delta.x)/this.getContainerWidth()),t.crucialPercentToPass>a?(t.alignElements=!1,this.__moveElements(0,0,this.onStopDuration)):(this.__addHorizontal(n?1:-1),s=this.getContainerWidth()*(n?-1:1),this.__moveElements(s,0,this.onStopDuration))):(t.alignElements=!1,this.__moveElements(0,0,this.onStopDuration)):this.__verticalExists(i?1:-1)?(a=100*(Math.abs(e.delta.y)/this.getContainerHeight()),t.crucialPercentToPass>a?(t.alignElements=!1,this.__moveElements(0,0,this.onStopDuration)):(this.__addVertical(i?1:-1),s=this.getContainerHeight()*(i?1:-1),this.__moveElements(0,s,this.onStopDuration))):(t.alignElements=!1,this.__moveElements(0,0,this.onStopDuration)),juissi.PagingActive=!1,JuissEngine.Device.isAndroid()&&(this.onStopDuration+=.2),this.stopTimeout=window.setTimeout(function(){t.alignElements&&(this._needFixLoopHorizontal()&&this._leftShiftedElement&&(this._leftShiftedElement.style.left="0"),this.alignElements(e)),this.animationInProgress=!1}.bind(this),1e3*this.onStopDuration)}},this.element=e,this.elementExists=function(e,t){return void 0!==t?void 0!==this.elements[e+"."+t]:void 0!==this.elements[e]},this.getSize=function(){var e=0;for(var t in this.elements)e++;return e},this._orientationChanged=function(){this.options.fullScreen&&this.__onFullScreen()},this.updateElement=function(e,t){var n=this.getElement(e.x+"",e.y+"");n&&(t.removeAttribute("data-coords"),n.remove(),delete this.elements[e.x+"."+e.y]),this.setElement(e,t),this.options.fullScreen&&this.__onFullScreen()},this.enumerateElements=function(){var e=0,t={};for(var n in this.elements){var i=e+".0";t[i]=this.elements[n],t[i].setAttribute("data-coords",i),e++}this.elements=t,this.__detectHorizontalCoordPositions(),this.alignElements()},this.removeElement=function(e){if(this.elementExists(e.x,e.y)){var t=this.getCurrentCoords(),n=this.elements[e.x+"."+e.y];if(t.x===e.x&&t.y===e.y){delete this.elements[e.x+"."+e.y];for(var i in this.elements){var a=this.getCurrentCoords(i);this.__setPage(a.x,a.y);break}}else delete this.elements[e.x+"."+e.y];n.remove(),this.alignElements()}},this.setElement=function(e,t,n){var i=n&&n.initially||!1,a="";if(i?(a=t.getAttribute("data-coords"),null===a&&(a=e.x+"."+e.y)):a=e.x+"."+e.y,t.style.top=0,t.style.width="100%",t.style.height=this.options.horizontalMode?"auto":this.getContainerHeight()+"px",this.options.styles)for(var s in this.options.styles)t.style[s]=this.options.styles[s];t.style.overflow="hidden";var r=null;if(this.options.scrollable&&(r=t),this.options.scrollableClassName){var o=t.getElementsByClassName(this.options.scrollableClassName);o&&(r=o[0])}if(r){var l=this.options.scrollableOptions;void 0===l.horizontal&&(l.vertical=!0),l.exploreInteraction=!0,l.__exploreModule=this;var c=new juissi.Scrollable(r,l);this.performScrollSpyCallback&&(c.nativeScroll?c.nativeScroll.onScroll(function(e){null===this.performScrollSpyCallback?c.nativeScroll.onScroll(null):this.performScrollSpyCallback("div",e.event,e.scrolled,e.viewport,e.percent,e.elementHeight)}.bind(this)):c.triggers.onScroll=function(e){this.performScrollSpyCallback("juissi",null,e.y.scrolled,e.y.viewport,e.y.percent,e.y.height)}.bind(this)),c.nativeScroll&&(this.nativeScroll=!0),t.scrollable=c}this.elements[a]=t,i===!1&&this.options.loopHorizontal&&this.__detectHorizontalCoordPositions(e)},this.store=function(){this.elements={},this.element.eachNode(function(e,t){var n={x:t,y:0};this.setElement(n,e,{initially:!0}),void 0===this._fec&&(this._fec=n),this._lec=n}.bind(this))},this.__detectHorizontalCoordPositions=function(){var e=[],t=this.getCurrentCoords();for(var n in this.elements){var i=this.getCurrentCoords(n);e.push(i.x)}e.sort(function(e,t){return e-t});var a=e[e.length-1],s=e[0];this._lec={x:a,y:t.y},this._fec={x:s,y:t.y}},this.detachUseless=function(e){var t={};for(var n in e){var i=e[n];t[i.coords]=i}var a=[];this.element.eachNode(function(e){var n=e.getAttribute("data-coords");t[n]||a.push(e)});for(var n in a)a[n].remove()},this._getExpectedCoords=function(e){var t=e.x,n=e.y,i=[{type:"horizontal-left",coords:t-1+"."+n},{type:"horizontal-current",coords:this.page},{type:"vertical-top",coords:t+"."+(n+1)},{type:"vertical-bottom",coords:t+"."+(n-1)},{type:"horizontal-right",coords:t+1+"."+n}];if(this.getSize()>1&&this.options.loopHorizontal&&this._fec&&this._lec){for(first in this.elements)break;0===t&&(i[0].coords=this._lec.x+"."+this._lec.y),t===this._lec.x&&(i[4].coords=this._fec.x+"."+this._fec.y)}return i},this.counter=0,this.alignElements=function(e){{var t=this.getCurrentCoords(),n=this._getExpectedCoords(t),i=this,a=!0;this.getSize()}e&&(a="left"===e.directionX),this.detachUseless(n);for(var s in n){var r=n[s],o=r.coords;if(this.elements[o]){var l=this.elements[o],c=0,d=0;"horizontal-left"===r.type&&(c=-100),"horizontal-right"===r.type&&(c=100),"vertical-top"===r.type&&(d=-100),"vertical-bottom"===r.type&&(d=100);var u="absolute";i.options.horizontalMode&&"horizontal-current"===r.type&&(u="static"),l.style.display="none",l.style.position=u,l.style.width="100%",l.style.left=c+"%",l.style.top=d+"%",l.transition(),l.transform(0,0),l.setAttribute("data-coords",o),a?l.exists()||i.element.appendChild(l):l.exists()||i.element.appendChild(l,i.element.firstChild),l.style.display="block","horizontal-current"===r.type&&this.__pageAssumedAsCurrent()}}},this.__onFullScreen=function(){var e=juissi.Helper.getFullResolution(),t=document.body;this.element.style.top="0",this.element.style.width=e.width+"px",this.options.horizontalMode||(this.element.style.height=e.height+"px"),t.style.overflow="hidden",t.style.margin="0";for(var n in this.elements){var i=this.elements[n];this.options.horizontalMode||(i.style.height=e.height+"px")}},this.__buildElements=function(){for(this.store(),this.hasChildren=!1;this.element.hasChildNodes();)this.element.removeChild(this.element.firstChild),this.hasChildren=!0;this.alignElements(),this.options.fullScreen&&this.__onFullScreen()},this.getPointer=function(){return this.element.juissiExplore},this.__initScrollSpy=function(e,t){var n=null===e?!0:!1,i=t&&t.applyOnlyNative,a=function(t,n,i,a,s,r){e&&e({interfaceName:t,scrolled:i,viewport:a,originalEvent:n,percent:s,elementHeight:r})};if(this.options.desktopMode){if(n)return window.onscroll=null,void 0;window.onscroll=function(e){var t=window.pageYOffset||document.documentElement.scrollTop,n=juissi.Helper.getFullResolution().height,i=Math.round(100*(t/(this.element.getHeight()-n)));a("window",e,t,n,i,this.element.getHeight())}.bind(this)}else{if(i&&JuissEngine.Device.supportsDivScrolling()===!1)return;this.performScrollSpyCallback=a,n&&(this.performScrollSpyCallback=null)}},this.lockEvents=function(e){var t=this.getCurrentCoords(),n=this._getExpectedCoords(t);for(var i in n){var a=n[i],s=a.coords;this.elements[s]&&"horizontal-current"!=a.type&&this.elements[s].remove()}this._lockEventsCallback=e,this.options.disableMouseGestures&&!JuissEngine.Device.isTouch()&&this.element.bind("click",this._lockEventsCallback,!0),this.__initScrollSpy(e,{applyOnlyNative:!0})},this.unlockEvents=function(){this._lockEventsCallback=null,this.alignElements(),this.element.unbind("click"),this.__initScrollSpy(null,{applyOnlyNative:!0}),this.scrollSpyOriginalEvent&&this.__initScrollSpy(this.scrollSpyOriginalEvent)},this._dispatchTouchEnd=function(){var t=document.createEvent("MouseEvent");t.initUIEvent("touchend",!0,!0,window,1),t.touches=[{pageX:0,pageY:0}],e.dispatchEvent(t)},this.__init=function(e){e.juissiExplore=this;var t={};this.element.style.display="none",this.options.scrollSpy&&(this.scrollSpyOriginalEvent=this.options.scrollSpy,this.__initScrollSpy(this.scrollSpyOriginalEvent)),this.element.style.overflow="hidden",this.element.style.position="relative",this.__buildElements(),JuissEngine.Device.isDesktop()||(JuissEngine.Device.isAndroid()?juissi.onResize(this._orientationChanged.bind(this)):window.onOrientation(this._orientationChanged.bind(this))),t.move=this._move.bind(this),t.stop=this._stop.bind(this),t.start=this._start.bind(this);var n={};this.options.horizontalMode&&(n.unlockYMicrosoft=!0),n.disableMouseGestures=this.options.disableMouseGestures,JuissEngine.Device.isTouch()&&!JuissEngine.Device.isTabletPc()&&this.element.specificStyle("user-select","none"),this.gesture=new juissi.Gesture(this.element,t,n),this.element.style.display="block",this.triggers.onRender&&this.triggers.onRender(this.element)},void 0===e)return console.log("Juissi:Explore - element can't be found."),void 0;if(void 0===e.juissiExplore)this.__init(e);else{if(!e.juissiExplore._fec)return e.juissiExplore.__buildElements(),e.juissiExplore;e.juissiExplore.alignElements()}},function(){juissi.Explore.prototype.__scrollClicked=!1,juissi.Explore.prototype.__getScrollCoordinates=function(e,t){var n,i,a=this.getCurrentCoords(),s=e-a.x,r=t-a.y,o=1;return n=r>=0?"-100%":"100%",i=s>=0?"100%":"-100%",Math.abs(r)>1&&(n=r>0?"-200%":"200%",0===s&&(i="0"),o=2),Math.abs(s)>1&&(i=s>0?"200%":"-200%",0===r&&(n="0"),o=2),{xPosition:i,yPosition:n,deltaX:s,deltaY:r,isLeft:s>=0,skipCells:o,isTop:r>=0}},juissi.Explore.prototype.scroll=function(e,t,n){var i=this.options.loopHorizontal?!0:this.elementExists(e,t);n&&n.horizontal;var a=n&&n.plus;if(i&&!this.__scrollClicked){var s=this.getCurrentCoords(),r=n&&void 0!==n.instant||!1,e=parseInt(e),t=parseInt(t);if(e!=s.x){this.animationInProgress=!0,this.__scrollClicked=!0;var o=this.__getScrollCoordinates(e,t),l=this.elements[e+"."+t],c=!1;l&&!l.exists()&&(l.style.left=o.xPosition,l.style.top=o.yPosition,l.style.position="absolute",o.isLeft?this.element.appendChild(l):this.element.appendChild(l,this.element.firstChild),l.move(0,0),c=!1);var d=0===o.deltaY?0:this.getContainerHeight()*(o.isTop?1:-1)*o.skipCells,u=0===o.deltaX?0:this.getContainerWidth()*(o.isLeft?-1:1)*o.skipCells;if(this.options.loopHorizontal&&l&&l.exists()){var h=parseInt(l.style.left);-100==h&&(u=1*this.getContainerWidth()),100==h&&(u=-1*this.getContainerWidth())}var p=r?0:Math.abs(s.x-e)>1?.7:.5;if(this._needFixLoopHorizontal()&&!a){var m=s.x;this._leftShiftedElement=this.getElement(0==m?1:0,0),this._leftShiftedElement.style.left="-100%",u=1*this.getContainerWidth()}setTimeout(function(){this.__moveElements(u,d,p),this._needFixLoopHorizontal()?this.__addHorizontal(a?1:-1):this.__setPage(e,t),window.setTimeout(function(){this._needFixLoopHorizontal()&&this._leftShiftedElement&&(this._leftShiftedElement.style.left="0"),this.alignElements(),this.__scrollClicked=!1,this.animationInProgress=!1}.bind(this),1e3*(p+.1))}.bind(this),200)}}};var e={scrollRight:function(e){var t=this.getCurrentCoords(),n=t.y,i=t.x+1;void 0===e&&(e={}),this.options.loopHorizontal&&(i==this.getSize()&&(i=0),e.plus=!0),e.horizontal=!0,this.scroll(i,n,e)},scrollLeft:function(e){var t=this.getCurrentCoords(),n=t.y,i=t.x-1;void 0===e&&(e={}),this.options.loopHorizontal&&0>i&&(i=this.getSize()-1),e.horizontal=!0,this.scroll(i,n,e)},scrollTop:function(e){var t=this.getCurrentCoords(),n=t.y+1,i=t.x;this.scroll(i,n,e)},scrollBottom:function(e){var t=this.getCurrentCoords(),n=t.y-1,i=t.x;this.scroll(i,n,e)},addHorizontal:function(e,t){var n=this.getCurrentCoords();x=void 0!==this._latestAddedHorizontal?this._latestAddedHorizontal:n.x,x+=t?t:1,this._latestAddedHorizontal=x;var i=n.y;this.setElement({x:x,y:i},e),this.alignElements()},addVertical:function(e,t){var n=this.getCurrentCoords(),i=n.x,a=n.y;a=void 0!==this._latestAddedVertical?this._latestAddedVertical:a,a+=t?t:1,this._latestAddedVertical=a,this.setElement({x:i,y:a},e),this.alignElements()}};for(var t in e)juissi.Explore.prototype[t]=e[t]}(),function(){juissi.Scrollable=juissi.Scrollable.extend({__initScrollBar:function(e){var t=document.createElement("div"),n={position:"absolute","border-radius":"2px",width:"5px",overflow:"hidden",right:"2px",top:"0",height:"1px",background:e.color};t.addCss(n),t.opacity(0),this.element.appendChild(t),this.scrollbarContainer=t,this.__resetInitialScrollbarViewport(),window.onOrientation(function(){this.__resetInitialScrollbarViewport()}.bind(this)),this.scrollbarContainer.bind("transitionend",function(){this.scrollbarContainer.transition("0.5s ease-out"),this.scrollbarContainer.opacity(0)}.bind(this))},__resetInitialScrollbarViewport:function(){this.viewportHeight=void 0,this.containerHeight=void 0},__destroyScrollBar:function(){this.scrollbarContainer&&this.scrollbarContainer.remove(),this.scrollbarContainer.unbind("transitionend")},__onScrollBar:function(e,t,n){if(void 0!=this.scrollbarContainer){e>=99&&(e=99),clearTimeout(this.scrollbarOpacityTimeout),void 0===this.viewportHeight&&(this.viewportHeight=this.element.getHeight({ignoreMargings:!0})),void 0===this.containerHeight&&(this.containerHeight=this.container.getHeight({ignoreMargings:!0}));var i=Math.round(100*(this.viewportHeight/this.containerHeight));20>i&&(i=20);var a=Math.round(i/100*this.viewportHeight);this.scrollbarContainer.style.height=a+"px";var s=Math.round((this.viewportHeight-a)*(e/100));this.scrollbarContainer.transition("0.0s linear"),this.scrollbarContainer.transform(0,s),this.scrollbarContainer.opacity(.7),n&&this.scrollbarContainer.transition(t+"s ease-out")}}})}(),window.jQueryEnabled()&&($.fn.explore=function(e){this.each(function(){$(this).data("explore",new juissi.Explore(this,e))})},$.fn.scrollable=function(e){this.each(function(){$(this).data("scrollable",new juissi.Scrollable(this,e))})}),Element.prototype.enableScrollable=function(e){return new juissi.Scrollable(this,e)},Element.prototype.enableExplore=function(e){var t=new juissi.Explore(this,e);return t.getPointer()},define("juissi.swipe",function(e){return function(){var t;return t||e.juissi}}(this)),define("juissi.config",["juissi.swipe"],function(){JuissEngine.Device.extend({mobileOS:function(e){600>e&&(this.supportsNativeScroll=!1)},android:function(){},windows:function(){}})}),function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,s=Function.prototype,r=i.push,o=i.slice,l=i.concat,c=a.toString,d=a.hasOwnProperty,u=i.forEach,h=i.map,p=i.reduce,m=i.reduceRight,f=i.filter,g=i.every,v=i.some,y=i.indexOf,_=i.lastIndexOf,b=Array.isArray,w=Object.keys,M=s.bind,k=function(e){return e instanceof k?e:this instanceof k?(this._wrapped=e,void 0):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.4.4";var L=k.each=k.forEach=function(e,t,i){if(null!=e)if(u&&e.forEach===u)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,s=e.length;s>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var r in e)if(k.has(e,r)&&t.call(i,e[r],r,e)===n)return};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(L(e,function(e,a,s){i[i.length]=t.call(n,e,a,s)}),i)};var T="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),a?e.reduce(t,n):e.reduce(t);if(L(e,function(e,s,r){a?n=t.call(i,n,e,s,r):(n=e,a=!0)}),!a)throw new TypeError(T);return n},k.reduceRight=k.foldr=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return i&&(t=k.bind(t,i)),a?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var r=k.keys(e);s=r.length}if(L(e,function(o,l,c){l=r?r[--s]:--s,a?n=t.call(i,n,e[l],l,c):(n=e[l],a=!0)}),!a)throw new TypeError(T);return n},k.find=k.detect=function(e,t,n){var i;return x(e,function(e,a,s){return t.call(n,e,a,s)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:f&&e.filter===f?e.filter(t,n):(L(e,function(e,a,s){t.call(n,e,a,s)&&(i[i.length]=e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,a){return!t.call(n,e,i,a)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var a=!0;return null==e?a:g&&e.every===g?e.every(t,i):(L(e,function(e,s,r){return(a=a&&t.call(i,e,s,r))?void 0:n}),!!a)};var x=k.some=k.any=function(e,t,i){t||(t=k.identity);var a=!1;return null==e?a:v&&e.some===v?e.some(t,i):(L(e,function(e,s,r){return a||(a=t.call(i,e,s,r))?n:void 0}),!!a)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):x(e,function(e){return e===t})},k.invoke=function(e,t){var n=o.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?null:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return L(e,function(e,a,s){var r=t?t.call(n,e,a,s):e;r>=i.computed&&(i={value:e,computed:r})}),i.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return L(e,function(e,a,s){var r=t?t.call(n,e,a,s):e;i.computed>r&&(i={value:e,computed:r})}),i.value},k.shuffle=function(e){var t,n=0,i=[];return L(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i};var S=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var i=S(t);return k.pluck(k.map(e,function(e,t,a){return{value:e,index:t,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var C=function(e,t,n,i){var a={},s=S(t||k.identity);return L(e,function(t,r){var o=s.call(n,t,r,e);i(a,o,t)}),a};k.groupBy=function(e,t,n){return C(e,t,n,function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)})},k.countBy=function(e,t,n){return C(e,t,n,function(e,t){k.has(e,t)||(e[t]=0),e[t]++})},k.sortedIndex=function(e,t,n,i){n=null==n?k.identity:S(n);for(var a=n.call(i,t),s=0,r=e.length;r>s;){var o=s+r>>>1;a>n.call(i,e[o])?s=o+1:r=o}return s},k.toArray=function(e){return e?k.isArray(e)?o.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:o.call(e,0,t)},k.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var I=function(e,t,n){return L(e,function(e){k.isArray(e)?t?r.apply(n,e):I(e,t,n):n.push(e)}),n};k.flatten=function(e,t){return I(e,t,[])},k.without=function(e){return k.difference(e,o.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var a=n?k.map(e,n,i):e,s=[],r=[];return L(a,function(n,i){(t?i&&r[r.length-1]===n:k.contains(r,n))||(r.push(n),s.push(e[i]))}),s},k.union=function(){return k.uniq(l.apply(i,arguments))},k.intersection=function(e){var t=o.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=l.apply(i,o.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=o.call(arguments),t=k.max(k.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=k.pluck(e,""+i);return n},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,a+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(_&&e.lastIndexOf===_)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=i?n:e.length;a--;)if(e[a]===t)return a;return-1},k.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,s=Array(i);i>a;)s[a++]=e,e+=n;return s},k.bind=function(e,t){if(e.bind===M&&M)return M.apply(e,o.call(arguments,1));var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}},k.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},k.bindAll=function(e){var t=o.call(arguments,1);return 0===t.length&&(t=k.functions(e)),L(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(o.call(arguments,1)))},k.throttle=function(e,t){var n,i,a,s,r=0,o=function(){r=new Date,a=null,s=e.apply(n,i)};return function(){var l=new Date,c=t-(l-r);return n=this,i=arguments,0>=c?(clearTimeout(a),a=null,r=l,s=e.apply(n,i)):a||(a=setTimeout(o,c)),s}},k.debounce=function(e,t,n){var i,a;return function(){var s=this,r=arguments,o=function(){i=null,n||(a=e.apply(s,r))},l=n&&!i;return clearTimeout(i),i=setTimeout(o,t),l&&(a=e.apply(s,r)),a}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return r.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},k.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&(t[t.length]=n);return t},k.values=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push(e[n]);return t},k.pairs=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push([n,e[n]]);return t},k.invert=function(e){var t={};for(var n in e)k.has(e,n)&&(t[e[n]]=n);return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return L(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return L(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var a in e)k.contains(n,a)||(t[a]=e[a]);return t},k.defaults=function(e){return L(o.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var a=c.call(e);if(a!=c.call(t))return!1;switch(a){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;n.push(e),i.push(t);var r=0,o=!0;if("[object Array]"==a){if(r=e.length,o=r==t.length)for(;r--&&(o=D(e[r],t[r],n,i)););}else{var l=e.constructor,d=t.constructor;if(l!==d&&!(k.isFunction(l)&&l instanceof l&&k.isFunction(d)&&d instanceof d))return!1;for(var u in e)if(k.has(e,u)&&(r++,!(o=k.has(t,u)&&D(e[u],t[u],n,i))))break;if(o){for(u in t)if(k.has(t,u)&&!r--)break;o=!r}}return n.pop(),i.pop(),o};k.isEqual=function(e,t){return D(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=b||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))
}),k.isFunction=function(e){return"function"==typeof e},k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return d.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var i=Array(e),a=0;e>a;a++)i[a]=t.call(n,a);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var Y={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};Y.unescape=k.invert(Y.escape);var A={escape:RegExp("["+k.keys(Y.escape).join("")+"]","g"),unescape:RegExp("("+k.keys(Y.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return Y[e][t]})}}),k.result=function(e,t){if(null==e)return null;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){L(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),P.call(this,n.apply(k,e))}})};var E=0;k.uniqueId=function(e){var t=++E+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var a=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(a,function(t,n,i,a,o){return r+=e.slice(s,o).replace(j,function(e){return"\\"+H[e]}),n&&(r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(r+="';\n"+a+"\n__p+='"),s=o+t.length,t}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=Function(n.variable||"obj","_",r)}catch(o){throw o.source=r,o}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+r+"}",l},k.chain=function(e){return k(e).chain()};var P=function(e){return this._chain?k(e).chain():e};k.mixin(k),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],P.call(this,n)}}),L(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(){var e,t=this,n=t.Backbone,i=[],a=i.push,s=i.slice,r=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var i=this,a=o.once(function(){i.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,a,s,r,l,c,u,h;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(r=e?[e]:o.keys(this._events),l=0,c=r.length;c>l;l++)if(e=r[l],s=this._events[e]){if(this._events[e]=i=[],t||n)for(u=0,h=s.length;h>u;u++)a=s[u],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var a=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var s in i)i[s].off(t,n,this),a&&delete this._listeners[s];return this}},c=/\s+/,d=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var a in n)e[t].apply(e,[a,n[a]].concat(i));return!1}if(c.test(n)){for(var s=n.split(c),r=0,o=s.length;o>r;r++)e[t].apply(e,[s[r]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,a=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;a>++i;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;a>++i;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;a>++i;)(n=e[i]).callback.call(n.ctx,s,r);return;case 3:for(;a>++i;)(n=e[i]).callback.call(n.ctx,s,r,o);return;default:for(;a>++i;)(n=e[i]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};o.each(h,function(e,t){l[t]=function(t,n,i){var a=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=o.uniqueId("l"));return a[s]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,o.extend(e,l);var p=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},o.extend(this,o.pick(t,m)),t.parse&&(i=this.parse(i,t)||{}),(n=o.result(this,"defaults"))&&(i=o.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];o.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,a,s,r,l,c,d,u;if(null==e)return this;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;s=n.unset,l=n.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)t=a[i],o.isEqual(u[i],t)||r.push(i),o.isEqual(d[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete u[i]:u[i]=t;if(!l){r.length&&(this._pending=!0);for(var h=0,p=r.length;p>h;h++)this.trigger("change:"+r[h],this,u[r[h]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)o.isEqual(i[a],t=e[a])||((n||(n={}))[a]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},P(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,a,s,r=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=o.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=o.extend({},r,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=r;var t=l.parse(e,n);return n.wait&&(t=o.extend(i||{},t)),o.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},P(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=i),s=this.sync(a,this,n),i&&n.wait&&(this.attributes=r),s},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(a){(e.wait||t.isNew())&&i(),n&&n(t,a,e),t.isNew()||t.trigger("sync",t,a,e)},this.isNew())return e.success(),!1;P(this,e);var a=this.sync("delete",this,e);return e.wait||i(),a},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||j();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,o.extend(t||{},{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];o.each(f,function(e){p.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};o.extend(g.prototype,l,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.defaults(t||{},y))},remove:function(e,t){e=o.isArray(e)?e.slice():[e],t||(t={});var n,i,a,s;for(n=0,i=e.length;i>n;n++)s=this.get(e[n]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s));return this},set:function(e,t){t=o.defaults(t||{},v),t.parse&&(e=this.parse(e,t)),o.isArray(e)||(e=e?[e]:[]);var n,i,s,l,c,d=t.at,u=this.comparator&&null==d&&t.sort!==!1,h=o.isString(this.comparator)?this.comparator:null,p=[],m=[],f={};for(n=0,i=e.length;i>n;n++)(s=this._prepareModel(e[n],t))&&((l=this.get(s))?(t.remove&&(f[l.cid]=!0),t.merge&&(l.set(s.attributes,t),u&&!c&&l.hasChanged(h)&&(c=!0))):t.add&&(p.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(t.remove){for(n=0,i=this.length;i>n;++n)f[(s=this.models[n]).cid]||m.push(s);m.length&&this.remove(m,t)}if(p.length&&(u&&(c=!0),this.length+=p.length,null!=d?r.apply(this.models,[d,0].concat(p)):a.apply(this.models,p)),c&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=p.length;i>n;n++)(s=p[n]).trigger("add",s,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=o.isFunction(t)?t:function(e){return e.get(t)};return o.sortedIndex(this.models,e,i,n)},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var a=e.reset?"reset":"set";n[a](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(a){t.wait&&n.add(e,t),i&&i(e,a,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(_,function(e){g.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var b=["groupBy","countBy","sortBy"];o.each(b,function(e){g.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var w=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},M=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];o.extend(w.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),n){var i=t.match(M),a=i[1],s=i[2];n=o.bind(n,this),a+=".delegateEvents"+this.cid,""===s?this.$el.on(a,n):this.$el.on(a,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=o.extend({},o.result(this,"options"),e)),o.extend(this,o.pick(e,k)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var n=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var a=L[t];o.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=o.result(n,"url")||j()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var r=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),r?r.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(o.extend(s,i));return n.trigger("request",n,l,i),l};var L={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,C=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(T.prototype,l,{initialize:function(){},route:function(t,n,i){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var a=this;return e.history.route(t,function(s){var r=a._extractParameters(t,s);i&&i.apply(a,r),a.trigger.apply(a,["route:"+n].concat(r)),a.trigger("route",n,r),e.history.trigger("route",a,n,r)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(I,"\\$&").replace(x,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(C,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var D=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,E=/msie [\w.]+/,N=/\/$/;D.started=!1,o.extend(D.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(Y,"")},start:function(t){if(D.started)throw Error("Backbone.history has already been started");D.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,a=E.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(A,"/"),a&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location,r=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(Y,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!D.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new D;var H=function(e,t){var n,i=this;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var a=function(){this.constructor=n};return a.prototype=i.prototype,n.prototype=new a,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};p.extend=g.extend=T.extend=w.extend=D.extend=H;var j=function(){throw Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),function(e,t){if("object"==typeof exports){var n=require("underscore"),i=require("backbone");module.exports=t(n,i)}else"function"==typeof define&&define.amd&&define("backbone.wreqr",["underscore","backbone"],t)}(this,function(e,t){"option strict";return t.Wreqr=function(e,t,n){var i={};return i.Handlers=function(e,t){var n=function(){this._handlers={}};return n.extend=e.Model.extend,t.extend(n.prototype,{addHandler:function(e,t,n){var i={callback:t,context:n};this._handlers[e]=i},getHandler:function(e){var t=this._handlers[e];if(!t)throw Error("Handler not found for '"+e+"'");return function(){return t.callback.apply(t.context,arguments)}},removeHandler:function(e){delete this._handlers[e]},removeAllHandlers:function(){this._handlers={}}}),n}(e,n),i.Commands=function(e){return e.Handlers.extend({execute:function(e,t){this.getHandler(e)(t)}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(e,t){return this.getHandler(e)(t)}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),i}(t,t.Marionette,e),t.Wreqr}),function(e,t){if("object"==typeof exports){var n=require("underscore"),i=require("backbone");module.exports=t(n,i)}else"function"==typeof define&&define.amd&&define("backbone.babysitter",["underscore","backbone"],t)}(this,function(e,t){"option strict";return t.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCollection={},this._indexByCustom={},this._updateLength(),this._addInitialViews(e)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),e.collection&&(this._indexByCollection[e.collection.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength()},findByModel:function(e){var t=this._indexByModel[e.cid];return this.findByCid(t)},findByCollection:function(e){var t=this._indexByCollection[e.cid];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var t=e.cid;e.model&&delete this._indexByModel[e.model.cid],e.collection&&delete this._indexByCollection[e.collection.cid];var n;for(var i in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(i)&&this._indexByCustom[i]===t){n=i;break}n&&delete this._indexByCustom[n],delete this._views[t],this._updateLength()},call:function(e,t){t=Array.prototype.slice.call(arguments,1),this.apply(e,t)},apply:function(e,n){n=n||[],t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n)})},_updateLength:function(){this.length=t.size(this._views)},_addInitialViews:function(e){if(e){var t,n,i=e.length;for(n=0;i>n;n++)t=e[n],this.add(t)}}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(t,e),t.ChildViewContainer}),function(e,t){if("object"==typeof exports){var n=require("underscore"),i=require("backbone"),a=require("backbone.wreqr"),s=require("backbone.babysitter");module.exports=t(n,i,a,s)}else"function"==typeof define&&define.amd&&define("backbone.marionette",["underscore","backbone","backbone.wreqr","backbone.babysitter"],t)}(this,function(e,t){return function(e,t,n){function i(e){return r.call(e)}function a(e,t){var n=Error(e);throw n.name=t||"Error",n}var s={};t.Marionette=s,s.$=t.$;var r=Array.prototype.slice;return s.extend=t.Model.extend,s.getOption=function(e,t){if(e&&t){var n;return n=e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},s.triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi,i=function(i){var a="on"+i.replace(t,e),s=this[a];return this.trigger.apply(this,arguments),n.isFunction(s)?s.apply(this,n.tail(arguments)):void 0};return i}(),s.MonitorDOMRefresh=function(){function e(e){e._isShown=!0,i(e)}function t(e){e._isRendered=!0,i(e)}function i(e){e._isShown&&e._isRendered&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}return function(n){n.listenTo(n,"show",function(){e(n)}),n.listenTo(n,"render",function(){t(n)})}}(),function(e){function t(e,t,i,s){var r=s.split(/\s+/);n.each(r,function(n){var s=e[n];s||a("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,s,e)})}function i(e,t,n,i){e.listenTo(t,n,i,e)}function s(e,t,i,a){var s=a.split(/\s+/);n.each(s,function(){var n=e[n];e.stopListening(t,i,n,e)})}function r(e,t,n,i){e.stopListening(t,n,i,e)}function o(e,t,i,a,s){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,function(i,r){n.isFunction(i)?a(e,t,r,i):s(e,t,r,i)}))}e.bindEntityEvents=function(e,n,a){o(e,n,a,i,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,r,s)}}(s),s.Callbacks=function(){this._deferred=s.$.Deferred(),this._callbacks=[]},n.extend(s.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,i){t&&(n=t),e.call(n,i)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=s.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),s.Controller=function(e){this.triggerMethod=s.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,n.extend(s.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),s.Region=function(e){if(this.options=e||{},this.el=s.getOption(this,"el"),!this.el){var t=Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},n.extend(s.Region,{buildRegion:function(e,t){var i="string"==typeof e,a="string"==typeof e.selector,s=e.regionType===void 0,r="function"==typeof e;if(!r&&!i&&!a)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var o,l;i&&(o=e),e.selector&&(o=e.selector),r&&(l=e),!r&&s&&(l=t),e.regionType&&(l=e.regionType);var c=new l({el:o});return e.parentEl&&(c.getEl=function(t){var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(t)}),c}}),n.extend(s.Region.prototype,t.Events,{show:function(e){this.ensureEl(),e!==this.currentView?(this.close(),e.render(),this.open(e)):e.render(),s.triggerMethod.call(e,"show"),s.triggerMethod.call(this,"show",e),this.currentView=e},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return s.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),s.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),s.Region.extend=s.extend,s.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,function(e,a){"string"==typeof e&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(a,e);i[a]=s},this),i},addRegion:function(t,i){var a,s=n.isObject(i),r=n.isString(i),o=!!i.selector;return a=r||s&&o?e.Region.buildRegion(i,e.Region):n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,a),this.triggerMethod("region:add",t,a),a},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t,this.length=n.size(this._regions)},_remove:function(e,t){t.close(),delete this._regions[e],this.triggerMethod("region:remove",e,t)}}),i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(i,function(e){t.prototype[e]=function(){var t=n.values(this._regions),i=[t].concat(n.toArray(arguments));return n[e].apply(n,i)}}),t}(s),s.TemplateCache=function(e){this.templateId=e},n.extend(s.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new s.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i(arguments),n=t.length;if(n>0)for(e=0;n>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(s.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=s.$(e).html();return t&&0!==t.length||a("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),s.Renderer={render:function(e,t){var n="function"==typeof e?e:s.TemplateCache.get(e);return n(t)}},s.View=t.View.extend({constructor:function(){n.bindAll(this,"render");var e=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,e),s.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:s.triggerMethod,getTemplate:function(){return s.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=this.templateHelpers;return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},configureTriggers:function(){if(this.triggers){var e={},t=n.result(this,"triggers");return n.each(t,function(t,n){e[n]=function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation();var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(t,n)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),s.bindEntityEvents(this,this.model,s.getOption(this,"modelEvents")),s.bindEntityEvents(this,this.collection,s.getOption(this,"collectionEvents"))
},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var i={},a=this.configureTriggers();n.extend(i,e,a),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),s.unbindEntityEvents(this,this.model,s.getOption(this,"modelEvents")),s.unbindEntityEvents(this,this.collection,s.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=this.triggerMethod("before:close");e!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),s.ItemView=s.View.extend({constructor:function(){s.View.prototype.constructor.apply(this,i(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=s.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),s.View.prototype.close.apply(this,i(arguments)),this.triggerMethod("item:closed"))}}),s.CollectionView=s.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),s.View.prototype.constructor.apply(this,i(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e){this.closeEmptyView();var t=this.getItemView(e),n=this.collection.indexOf(e);this.addItemView(e,t,n)},onShowCalled:function(){this.children.each(function(e){s.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=s.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var e=s.getOption(this,"itemView");return e||a("An `itemView` must be specified","NoItemViewError"),e},addItemView:function(e,t,i){var a=s.getOption(this,"itemViewOptions");n.isFunction(a)&&(a=a.call(this,e,i));var r=this.buildItemView(e,t,a);this.addChildViewEventForwarding(r),this.triggerMethod("before:item:added",r),this.children.add(r),this.renderItemView(r,i),this._isShown&&s.triggerMethod.call(r,"show"),this.triggerMethod("after:item:added",r)},addChildViewEventForwarding:function(e){var t=s.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var n=i(arguments);n[0]=t+":"+n[0],n.splice(1,0,e),s.triggerMethod.apply(this,n)},this)},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){var a=n.extend({model:e},i);return new t(a)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(e,t){e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),s.View.prototype.close.apply(this,i(arguments)))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.apply(this,i(arguments)),this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var e=s.getOption(this,"itemView")||this.constructor;return e||a("An `itemView` must be specified","NoItemViewError"),e},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(s.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return s.Renderer.render(t,e)},appendHtml:function(e,t){var n=this.getItemViewContainer(e);n.append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t;if(e.itemViewContainer){var i=n.result(e,"itemViewContainer");t=e.$(i),0>=t.length&&a("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),s.Layout=s.ItemView.extend({regionType:s.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),s.ItemView.call(this,e)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments),t=s.ItemView.prototype.render.apply(this,e);return t},close:function(){if(!this.isClosed){this.regionManager.close();var e=Array.prototype.slice.apply(arguments);s.ItemView.prototype.close.apply(this,e)}},addRegion:function(e,t){var n={};return n[e]=t,this.addRegions(n)[e]},addRegions:function(e){return this.regions=n.extend(this.regions||{},e),this._buildRegions(e)},removeRegion:function(e){return this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new s.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),s.AppRouter=t.Router.extend({constructor:function(e){if(t.Router.prototype.constructor.apply(this,i(arguments)),this.options=e,this.appRoutes){var n=s.getOption(this,"controller");this.processAppRoutes(n,this.appRoutes)}},processAppRoutes:function(e,t){var i=n.keys(t).reverse();n.each(i,function(i){var a=t[i],s=e[a];if(!s)throw Error("Method '"+a+"' was not found on the controller");this.route(i,a,n.bind(s,e))},this)}}),s.Application=function(e){this._initRegionManager(),this._initCallbacks=new s.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=s.triggerMethod},n.extend(s.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},removeRegion:function(e){this._regionManager.removeRegion(e)},module:function(){var e=i(arguments);return e.unshift(this),s.Module.create.apply(s.Module,e)},_initRegionManager:function(){this._regionManager=new s.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e){delete this[e]})}}),s.Application.extend=s.extend,s.Module=function(e,t){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=s.triggerMethod},n.extend(s.Module.prototype,t.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,s.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),s.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var a=n.flatten([this,this.app,t,s,s.$,n,i]);e.apply(this,a)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks}}),n.extend(s.Module,{create:function(e,t,a){var s=e,r=i(arguments);r.splice(0,3),t=t.split(".");var o=t.length,l=[];return l[o-1]=a,n.each(t,function(t,n){var i=s;s=this._getModule(i,t,e),this._addModuleDefinition(i,s,l[n],r)},this),s},_getModule:function(e,t,n){var i=e[t];return i||(i=new s.Module(t,n),e[t]=i,e.submodules[t]=i),i},_addModuleDefinition:function(e,t,i,a){var s,r;n.isFunction(i)?(s=i,r=!0):n.isObject(i)?(s=i.define,r=i.startWithParent):r=!0,s&&t.addDefinition(s,a),t.startWithParent=t.startWithParent&&r,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),s}(this,t,e),t.Marionette}),function(e,t,n,i,a,s,r){"object"==typeof i?a.exports=s(n("underscore"),n("backbone"),n("backbone.marionette")):"function"==typeof n&&"function"==typeof t&&t.amd?n(["underscore","backbone","backbone.marionette"],function(t,n){return t=t===r?e._:t,n=n===r?e.Backbone:n,e.returnExportsGlobal=s(t,n,e)}):e.returnExportsGlobal=s(e._,e.Backbone)}(this,this.define,this.require,this.exports,this.module,function(e,t){var n;return n=t.Marionette.Renderer.render,t.Marionette.Renderer.render=function(t,i){return e.isObject(t)&&"handlebars"===t.type?t.template(e.extend(i,t.data),t.options):n(t,i)},t.Marionette}),define("backbone.marionette.handlebars",function(){}),window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),i=function(i){var a=t.document.createElement("link"),s=t.document.getElementsByTagName("script")[0];a.rel="stylesheet",a.href=e[i&&n?0:i?1:2],s.parentNode.insertBefore(a,s)},a=new t.Image;a.onerror=function(){i(!1)},a.onload=function(){i(1===a.width&&1===a.height)},a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}},define("grunticon",function(e){return function(){var t;return t||e.grunticon}}(this)),define("application",["environment","grunticon","config","backbone","backbone.marionette"],function(e,t,n,i,a){var s=new a.Application;t(e.gruntIconUrls),s.addRegions({mainRegion:"body"});var r=i.Model.extend({defaults:{currentChannelId:n.channelId,currentSectionId:null,currentSubsectionId:null,currentArticleId:null,currentPageId:null},getCurrentSectionId:function(){var e=this.get("currentPageId");return"books"==e?"books":"bookCategory"==e||"book"==e?this.get("currentCategoryId"):this.get("currentSectionId")},isBookDetailPage:function(){var e=this.get("currentPageId");return"book"==e},isBookCategoryPage:function(){var e=this.get("currentPageId");return"bookCategory"==e},isBooksChannelPage:function(){var e=this.get("currentPageId");return"books"==e},isBookRelatedPage:function(){return this.isBooksChannelPage()||this.isBookCategoryPage()||this.isBookDetailPage()},isChannelPage:function(){var e=this.get("currentPageId");return"channel"===e},isCurrentTemporary:function(){var e=this.get("temporary");return e===!0},isCurrentReplacement:function(){var e=this.get("replacement");return e===!0},replaceDone:function(){this.set({temporary:null,replacement:null},{silent:!0})},reset:function(e,t,n){this.set(this.defaults,{silent:!0}),e&&this.set(e,t,n)}});return s.location=new r,s.openMagazinePath="/",s.guidanceShown={},s.startTime=Date.now(),s.config=n,s}),define("app/models/Book",["backbone"],function(e){var t=e.Model.extend({});return t}),define("app/collections/IssueCollection",["backbone","underscore","app/models/Book","application"],function(e,t,n,i){var a=e.Model.extend({}),s=e.Collection.extend({model:a,initialize:function(e,t){this.url=i.config.apiRoot+"/issues/"+t.channelId},parse:function(e){return e.items}});return s}),define("app/models/Conference",["application","backbone"],function(e,t){var n=t.Model.extend({initialize:function(t){this.url="/api/1.0/conferences/"+t.channelId+"/"+t.conferenceId,this.content=this.fetch(),this.articlesFetched=new $.Deferred;var n=this;this.content.done(function(){n.articles=e.reqres.request("getArticles",{ids:n.get("articleIds"),propertySetId:"small",requestParameters:null}),n.articles.deferred.done(function(){n.articlesFetched.resolve()})})}});return n}),define("app/models/Channel",["backbone","underscore","application","app/collections/IssueCollection","app/models/Conference"],function(e,t,n,i,a){var s=e.Model.extend({initialize:function(){t.bindAll(this),this.set("channelId",this.id);var e=this.get("sections");this.set("hasSections",e&&e.length>1),this.articlesUpdated=new $.Deferred,this.on("change:sections",function(e){this.checkIfUpdateOccurred(e)}.bind(this))},checkIfUpdateOccurred:function(e){var n=e.previousAttributes().sections,i=e.get("sections"),a=t.find(n,function(e){return e.latestNews}),s=t.find(i,function(e){return e.latestNews});if(a&&s){var r=t.difference(s.articleIds,a.articleIds);r.length&&(this.set("newArticles",r),this.articlesUpdated.resolve())}},getIssues:function(){this.issueCollection=new i([],{channelId:this.id}),this.issueCollection.deferred=this.issueCollection.fetch()},getSections:function(){return new e.Collection(this.get("sections"))},getTopConferenceObject:function(){var e=t.first(this.get("groupedConferences").upcoming);if(!e){var n=this.get("groupedConferences");for(var i in n)if("upcoming"!=i){e=t.first(n[i]);break}}return e},getTopConference:function(){return new e.Model(this.getTopConferenceObject())},getUpcomingConferences:function(){var n=this.getTopConferenceObject(),i=t.without(this.get("groupedConferences").upcoming,n);return new e.Collection(i)},getPastConferences:function(){var n=[],i=this.get("groupedConferences"),a=this.getTopConferenceObject();for(var s in i)if("upcoming"!=s){var r=t.without(i[s],a);r&&r.length>0&&n.push({name:s,conferences:new e.Collection(r)})}return n},getIssueIds:function(){return t.pluck(this.get("issues"),"id")},getSectionIds:function(){return t.pluck(this.get("sections"),"id")},isIssue:function(e){return t.contains(this.getIssueIds(),e)},isExternal:function(){return this.get("externalChannel")},isMainNewsSection:function(e){return e===this.get("mainSectionId")},isMainLatestNewsSection:function(e){return e===this.get("latestNewsSectionId")},isIssueSection:function(e){return"magazines"===e},isNewsChannel:function(){return this.get("brandChannel")||this.get("crossChannel")},usesFrontPageTemplate:function(e){var t=this.getSection(e);return t?"frontpage_template"==t.template:!1},showRefreshButton:function(e){var t=this.get("type");if("cross"===t){var n=this.getSection(e),i=n?n.template:"";return this.isMainLatestNewsSection(e)||"frontpage_template"===i}return this.isMainNewsSection(e)||this.isMainLatestNewsSection(e)},getSectionArticleIds:function(e){var t=this.getSection(e);return t?t.articleIds:this.getTopArticleIds()},getDailyIssueArticleIds:function(e){var n=this.get("groupedDailyIssues"),i=t.find(n,function(n){var i=t.find(n.issues,function(t){return t.id===e});return null!=i}),a=t.find(i.issues,function(t){return t.id===e});return a?a.articleIds:void 0},getConference:function(e){return null==e?null:(this["conference_"+e]||(this["conference_"+e]=new a({channelId:this.get("id"),conferenceId:e})),this["conference_"+e])},getTopArticleIds:function(e){var n=this.get("dashboardArticles");return 0==e?n=t.take(n,9):"latest"!=this.get("type")&&(n=t.take(n,4)),n||(n=[]),n},getTop4Articles:function(){if(this.top4Articles)return this.top4Articles;var e=this.getTopArticleIds(0);e=t.take(e,4);var i={ids:e,propertySetId:"small",requestParameters:null},a=n.reqres.request("getArticles",i);return this.top4Articles=a,a},getCurrentSection:function(){var e,i=n.location.get("currentSectionId"),a=n.location.get("currentChannelId"),s=this.get("sections");return e=this.id===a&&i?t.find(s,function(e){return e.id===i}):t.first(s)},getCurrentTemplate:function(){var e=this.getCurrentSection();return e?e.template:void 0},getSection:function(e){var n=this.get("sections");return t.find(n,function(t){return t.id===e})},getIssue:function(e){var n=this.get("issues");return t.find(n,function(t){return t.id===e})},getLatestNewsSection:function(){var e=this.get("sections"),n=null;return n=t.find(e,function(e){return e.latestNews})},getEditorNewsSection:function(){var e=this.get("sections"),n=null;return n=t.find(e,function(e){return"blogs_template"==e.template})},getLatestNewsArticleIds:function(e){var n=this.getLatestNewsSection();return n?t.first(n.articleIds,e):[]},getEditorArticleIds:function(e){var n=this.getEditorNewsSection();return n?e>0?t.first(n.articleIds,e):n.articleIds:[]},storeArticles:function(e){var n=this,i=[];t.each(e,function(e,t){if(e=e.clone(),"other"==n.id||"latest"==n.id){var a=e.get("brandId");e.set("channelId",a)}else e.set("channelId",n.get("channelId")),e.set("mainSectionId",n.get("mainSectionId"));if(e.set("crossChannel",n.get("crossChannel")),0===t&&"latest"!==n.get("type")){n.set("firstArticle",e.attributes);var s=e.attributes.images;s&&0===s.length&&n.set("placeholderImage",!0)}else i.push(e.attributes)}),this.set("articles",i)}});return s}),define("app/collections/channelCollection",["backbone","app/models/Channel","application","config"],function(e,t,n,i){var a=e.Collection.extend({model:t,url:n.config.apiRoot+"/channels",pollingStateActive:!1,initialize:function(e){_.bindAll(this),this.swedishChannelIds=[],this.fetchConfig=e},parse:function(t){return this.latestBooks=t.meta.latestBooks,this.marketingMessages=new e.Collection(t.marketingMessages),this.latestDashboardArticleIds=t.latestDashboardArticleIds,this.fromOtherChannelsArticleIds=t.fromOtherChannelsArticleIds,t.items},getChannels:function(t){var n=this,i=new e.Collection(_.map(t,function(e){return n.get(e)}).filter(function(e){return void 0!=e}));return i.deferred=this.deferred,i},getBrandChannels:function(){var t=_.filter(this.models,function(e){return"brand"==e.get("type")});return new e.Collection(t)},startPolling:function(e){this.pollingTimerId=window.setInterval(function(){this.fetch({data:this.fetchConfig})}.bind(this),e),this.resetPollingStopTimer(),this.pollingStateActive=!0},stopPolling:function(){window.clearInterval(this.pollingTimerId),this.pollingStateActive=!1},resetPollingStopTimer:function(){window.clearTimeout(this.pollingStopTimerId),this.pollingStopTimerId=window.setTimeout(this.stopPolling.bind(this),n.config.channelsRefreshTimeout)},keepPollingActive:function(){this.pollingStateActive?this.resetPollingStopTimer():this.startPolling(n.config.channelsRefreshInterval)},resetHighlight:function(){this.forEach(function(e){e.set("highlight",!1)})},getDatums:function(){var e=this.map(function(e){return{id:e.id,value:e.get("title"),mainSectionId:e.get("mainSectionId"),shortDescription:e.get("shortDescription"),crossChannel:"cross"===e.get("type"),abbreviation:e.get("abbreviation")}});return e},setSponsors:function(e){var t=this;this.deferred.done(function(){_.each(t.models,function(t){var n=t.isNewsChannel()?e.getSponsor(t.id):!1;n&&(t.set("sponsoredBy",n.sponsoredBy),t.set("sponsorShortName",n.sponsorShortName),t.set("sponsorId",n.sponsorId))})})},isSwedishChannel:function(e){return _.contains(this.swedishChannelIds,e)}}),s={};i.openMagazine||(s.t=(new Date).getTime()),i.channelId&&(s.channelIds=i.channelId);var r=new a(s);return r.deferred=r.fetch({data:s}),r.deferred.done(function(){var e=r.filter(function(e){return"sv"===e.get("region")}),t=_.map(e,function(e){return e.id});r.swedishChannelIds=t}),r.keepPollingActive(),r}),define("app/device",[],function(){var e=null,t=navigator.userAgent.match(/CPU.*OS ([\d]+)_([\d]+)(_([\d]+))? like Mac OS X/);t&&t.length>2&&(e={major:Number(t[1]||"0"),minor:Number(t[2]||"0"),patch:Number(t[4]||"0")});var n=navigator.userAgent.match(/10_\d_\d.*Version.8.\d/i)?!0:!1;return{iOS:navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,iPad:navigator.userAgent.match(/iPad/g)?!0:!1,iOS7iPad:navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i),iOSModern:e&&e.major>=8||n,iOS70iPad:navigator.userAgent.match(/iPad;.*CPU.*OS 7_0_\d/i),standalone:"standalone"in navigator&&navigator.standalone&&/iphone|ipod|ipad/gi.test(navigator.platform),cssPrefix:navigator.userAgent.indexOf("afari")>0?"-webkit-":"",android:navigator.userAgent.match(/(Android|android)/g)}}),define("app/analytics/track",["jquery","underscore","application","environment"],function(e,t,n){var i={initialize:function(e){this.providers=e.providers,this.trackEvents=e.trackEvents,this._bindTrackLinks(),this.providers.forEach(function(e){e.provider.initialize(e.providerOptions)})},pageView:function(e){var t=e||{};t.channelId=n.location.get("currentChannelId"),this.providers.forEach(function(e){e.provider.pageView(t)})},event:function(e){this.providers.forEach(function(t){t.provider.event(e)})},_bindTrackLinks:function(){this.trackEvents.forEach(function(t){e(document).on(t.event,t.selector,function(e){var n=t.handler.call(this,e);this.providers.forEach(function(e){e.provider.link(n)})}.bind(this))}.bind(this))}};return i}),define("controller",["config","backbone.marionette","application","app/analytics/track","app/collections/channelCollection"],function(e,t,n,i,a){var s=t.Controller.extend({initialize:function(){this.listenTo(n.location,"change",this.updateUrl.bind(this))},article:function(t,i){n.location.reset({currentPageId:"article",currentChannelId:e.channelId,currentArticleId:i,temporary:!0}),n.commands.execute("article",{channelId:e.channelId,articleId:i})},sectionArticle:function(t,i){n.location.reset({currentPageId:"article",currentChannelId:e.channelId,currentSectionId:t,currentArticleId:i,temporary:!0}),n.commands.execute("article",{channelId:e.channelId,sectionId:t,articleId:i})},slugArticle:function(t,i,a){n.location.reset({currentPageId:"article",currentChannelId:e.channelId,currentSectionId:t,articleSlug:i,currentArticleId:a}),n.commands.execute("article",{channelId:e.channelId,sectionId:t,articleId:a})},subsectionArticle:function(t,i,a,s){n.location.reset({currentPageId:"article",currentChannelId:e.channelId,currentSectionId:t,currentSubsectionId:i,articleSlug:a,currentArticleId:s}),n.commands.execute("article",{channelId:e.channelId,sectionId:i,articleSlug:a,articleId:s})},dailyIssueArticle:function(t,i,a,s,r){n.location.reset({currentPageId:"article",currentChannelId:e.channelId,currentSectionId:i,articleSlug:s,currentDailyIssueId:a,currentArticleId:r}),n.commands.execute("article",{channelId:e.channelId,sectionId:i,dailyIssueId:a,articleId:r})},channelLatestMagazine:function(){var t=!0;this.channel(e.channelId,t)},channel:function(t,i){var s=a.get(t),r=null;s&&(r=s.get("mainSectionId"));var o=i;n.location.reset({currentPageId:"channel",currentChannelId:e.channelId,currentSectionId:r}),n.commands.execute("channel",{channelId:e.channelId,sectionId:r,openMagazine:o})},home:function(){var t=a.get(e.channelId),i=null;t&&(i=t.get("mainSectionId")),n.location.reset({currentPageId:"channel",currentChannelId:e.channelId,currentSectionId:i}),n.commands.execute("channel",{channelId:e.channelId,sectionId:i})},channelSection:function(t,i){n.location.reset({currentPageId:"channel",currentChannelId:e.channelId,currentSectionId:t}),n.commands.execute("channel",{channelId:e.channelId,sectionId:t,scrollToArticleId:i})},updateUrl:function(){var e="",t=n.location.get("currentSectionId"),a=n.location.get("currentSubsectionId"),s=n.location.get("currentArticleId"),r=n.location.get("currentPageId"),o=n.location.get("articleSlug");switch(r){case"article":e=(t?"/"+t:"")+(a?"/"+a:"")+(o?"/"+o:"")+"/"+s;break;case"channel":e="uutiset"===t?"":t?"/"+t:""}n.location.isCurrentReplacement()?(history.replaceState({},"replaced URL",e),n.location.replaceDone()):this.router.navigate(e),"article"!=r&&i.pageView()}});return s}),define("router",["backbone","backbone.marionette","controller"],function(e,t,n){var i=new n,a=t.AppRouter.extend({controller:i,appRoutes:{"":"home",home:"home","home/":"home",":sectionId":"channelSection",":sectionId/":"channelSection",":sectionId/:articleId":"sectionArticle",":sectionId/:articleId/":"sectionArticle",":sectionId/:subsectionId/:articleSlug/:articleId":"subsectionArticle",":sectionId/:articleSlug/:articleId":"slugArticle",":sectionId/:articleSlug/:articleId/":"slugArticle"},start:function(){e.history.start({pushState:!0})}}),s=new a;return i.router=s,s}),function(){var e={};(function(e,t){e.VERSION="1.0.0-rc.3",e.COMPILER_REVISION=2,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.0-rc.3"},e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw Error("Could not find property '"+e+"'")});var n=Object.prototype.toString,i="[object Function]";e.registerHelper("blockHelperMissing",function(t,a){var s=a.inverse||function(){},r=a.fn,o=n.call(t);return o===i&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?s(this):"[object Array]"===o?t.length>0?e.helpers.each(t,a):s(this):r(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(t>=e.logger.level){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,n){var i,a=n.fn,s=n.inverse,r=0,o="";if(n.data&&(i=e.createFrame(n.data)),t&&"object"==typeof t)if(t instanceof Array)for(var l=t.length;l>r;r++)i&&(i.index=r),o+=a(t[r],{data:i});else for(var c in t)t.hasOwnProperty(c)&&(i&&(i.key=c),o+=a(t[c],{data:i}),r++);return 0===r&&(o=s(this)),o}),e.registerHelper("if",function(t,a){var s=n.call(t);return s===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?a.inverse(this):a.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})})(e);var t=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(e,t,n,i,a,s){var r=s.length-1;switch(a){case 1:return s[r-1];case 2:this.$=new i.ProgramNode([],s[r]);break;case 3:this.$=new i.ProgramNode(s[r-2],s[r]);break;case 4:this.$=new i.ProgramNode(s[r-1],[]);break;case 5:this.$=new i.ProgramNode(s[r]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[s[r]];break;case 9:s[r-1].push(s[r]),this.$=s[r-1];break;case 10:this.$=new i.BlockNode(s[r-2],s[r-1].inverse,s[r-1],s[r]);break;case 11:this.$=new i.BlockNode(s[r-2],s[r-1],s[r-1].inverse,s[r]);break;case 12:this.$=s[r];break;case 13:this.$=s[r];break;case 14:this.$=new i.ContentNode(s[r]);break;case 15:this.$=new i.CommentNode(s[r]);break;case 16:this.$=new i.MustacheNode(s[r-1][0],s[r-1][1]);break;case 17:this.$=new i.MustacheNode(s[r-1][0],s[r-1][1]);break;case 18:this.$=s[r-1];break;case 19:this.$=new i.MustacheNode(s[r-1][0],s[r-1][1]);break;case 20:this.$=new i.MustacheNode(s[r-1][0],s[r-1][1],!0);break;case 21:this.$=new i.PartialNode(s[r-1]);break;case 22:this.$=new i.PartialNode(s[r-2],s[r-1]);break;case 23:break;case 24:this.$=[[s[r-2]].concat(s[r-1]),s[r]];break;case 25:this.$=[[s[r-1]].concat(s[r]),null];break;case 26:this.$=[[s[r-1]],s[r]];break;case 27:this.$=[[s[r]],null];break;case 28:this.$=[[new i.DataNode(s[r])],null];break;case 29:s[r-1].push(s[r]),this.$=s[r-1];break;case 30:this.$=[s[r]];break;case 31:this.$=s[r];break;case 32:this.$=new i.StringNode(s[r]);break;case 33:this.$=new i.IntegerNode(s[r]);break;case 34:this.$=new i.BooleanNode(s[r]);break;case 35:this.$=new i.DataNode(s[r]);break;case 36:this.$=new i.HashNode(s[r]);break;case 37:s[r-1].push(s[r]),this.$=s[r-1];break;case 38:this.$=[s[r]];break;case 39:this.$=[s[r-2],s[r]];break;case 40:this.$=[s[r-2],new i.StringNode(s[r])];
break;case 41:this.$=[s[r-2],new i.IntegerNode(s[r])];break;case 42:this.$=[s[r-2],new i.BooleanNode(s[r])];break;case 43:this.$=[s[r-2],new i.DataNode(s[r])];break;case 44:this.$=new i.PartialNameNode(s[r]);break;case 45:this.$=new i.IdNode(s[r]);break;case 46:s[r-2].push(s[r]),this.$=s[r-2];break;case 47:this.$=[s[r]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(e){throw Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],a=[null],s=[],r=this.table,o="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,m,f,g,v,y,_,b,w,M={};;){if(f=i[i.length-1],this.defaultActions[f]?g=this.defaultActions[f]:((null===p||p===void 0)&&(p=t()),g=r[f]&&r[f][p]),g===void 0||!g.length||!g[0]){var k="";if(!d){w=[];for(y in r[f])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(g[0]){case 1:i.push(p),a.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),p=null,m?(p=m,m=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,d>0&&d--);break;case 2:if(_=this.productions_[g[1]][1],M.$=a[a.length-_],M._$={first_line:s[s.length-(_||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(_||1)].first_column,last_column:s[s.length-1].last_column},h&&(M._$.range=[s[s.length-(_||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(M,o,c,l,this.yy,g[1],a,s),v!==void 0)return v;_&&(i=i.slice(0,2*-1*_),a=a.slice(0,-1*_),s=s.slice(0,-1*_)),i.push(this.productions_[g[1]][0]),a.push(M.$),s.push(M._$),b=r[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return 20>e.length&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,a;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;s.length>r&&(n=this._input.match(this.rules[s[r]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=r,this.options.flex));r++);return t?(a=t[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e!==void 0?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 4:return this.begin("par"),24;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 23;case 11:this.popState(),this.begin("com");break;case 12:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 13:return 22;case 14:return 36;case 15:return 35;case 16:return 35;case 17:return 39;case 18:break;case 19:return this.popState(),18;case 20:return this.popState(),18;case 21:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),30;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),30;case 23:return t.yytext=t.yytext.substr(1),28;case 24:return 32;case 25:return 32;case 26:return 31;case 27:return 35;case 28:return t.yytext=t.yytext.substr(1,t.yyleng-2),35;case 29:return"INVALID";case 30:break;case 31:return this.popState(),37;case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},par:{rules:[30,31],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();e.Parser=t,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},function(){e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],a=this.params=e.slice(1),s=this.eligibleHelper=i.isSimple;this.isHelper=s&&(a.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,i,a){var s=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};s(t.id,a),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID",this.original=t.join(".");for(var n=[],i=0,a=0,s=t.length;s>a;a++){var r=t[a];if(".."===r||"."===r||"this"===r){if(n.length>0)throw new e.Exception("Invalid path: "+this.original);".."===r?i++:this.isScoped=!0}else n.push(r)}this.parts=n,this.string=n.join("."),this.depth=i,this.isSimple=1===t.length&&!this.isScoped&&0===i,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e,this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e}}();var n=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;n.length>t;t++)this[n[t]]=e[n[t]]},e.Exception.prototype=Error(),e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return""+this.string},function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,i=/[&<>"'`]/,a=function(e){return t[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?""+t:null==t||t===!1?"":i.test(t)?t.replace(n,a):t},isEmpty:function(e){return e||0===e?"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1:!0}}}(),e.Compiler=function(){},e.JavaScriptCompiler=function(){},function(t,n){t.prototype={compiler:t,disassemble:function(){for(var e,t,n,i=this.opcodes,a=[],s=0,r=i.length;r>s;s++)if(e=i[s],"DECLARE"===e.opcode)a.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;e.args.length>o;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);a.push(e.opcode+" "+t.join(" "))}return a.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],a=e.opcodes[n];if(i.opcode!==a.opcode||i.args.length!==a.args.length)return!1;for(var s=0;i.args.length>s;s++)if(i.args[s]!==a.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,a=n.length;a>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===a,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var a=0,s=n.depths.list.length;s>a;a++)t=n.depths.list[a],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var a=this.classifyMustache(t);"helper"===a?this.helperMustache(t,n,i):"simple"===a?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var a=0,s=i.length;s>a;a++)t=i[a],n=t[1],this.options.stringParams?this.opcode("pushStringParam",n.stringModeValue,n.type):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var i=e.id,a=i.parts[0],s=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",a,s)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),a=e.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+a);this.opcode("invokeHelper",i.length,a)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var a=e.id.parts[0];i.knownHelpers[a]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}};var i=function(e){this.value=e};n.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":n.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,i,a){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var s,r=t.opcodes;for(this.i=0,o=r.length;o>this.i;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(a)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var i in this.context.aliases)this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var a=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)a.push("depth"+this.environment.depths.list[s]);var o=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];o="this.compilerInfo = ["+l+",'"+c+"'];\n"+o}if(t)return a.push(o),Function.apply(this,a);var d="function "+(this.name||"")+"("+a.join(",")+") {\n  "+o+"}";return e.log(e.logger.DEBUG,d+"\n\n"),d},mergeSource:function(){for(var e,t="",n=0,i=this.source.length;i>n;n++){var a=this.source[n];a.appendToBuffer?e=e?e+"\n    + "+a.content:a.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=a+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.push(this.nameLookup("data",e,"data"))},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&this.register("hashTypes","{}")},pushHash:function(){this.hash={values:[],types:[]}},popHash:function(){var e=this.hash;this.hash=void 0,this.options.stringParams&&this.register("hashTypes","{"+e.types.join(",")+"}"),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0);this.push(n.name),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),a=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.source.push("if ("+s+" = "+i+") { "+s+" = "+s+".call("+n.callParams+"); }"),this.source.push("else { "+s+" = "+a+"; "+s+" = typeof "+s+" === functionType ? "+s+".apply(depth0) : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n=this.popStack();this.options.stringParams&&(t=this.popStack(),this.popStack());var i=this.hash;t&&i.types.push("'"+e+"': "+t),i.values.push("'"+e+"': ("+n+")")},compiler:n,compileChildren:function(e,t){for(var n,i,a=e.children,s=0,r=a.length;r>s;s++){n=a[s],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,a=[n.index,n.name,"data"],s=0,r=i.length;r>s;s++)t=i[s],1===t?a.push("depth0"):a.push("depth"+(t-1));return 0===i.length?"self.program("+a.join(", ")+")":(a.shift(),"self.programWithDepth("+a.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new i(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof i)t=s.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(r)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var o=e.call(this,t);return a?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+o+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+o+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var a=e[t];a instanceof i?this.compileStack.push(a):this.pushStack(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof i?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof i?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t,n){var i=[];this.setupParams(e,i,n);var a=this.nameLookup("helpers",t,"helper");return{params:i,name:a,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t,n){var i,a,s,r=[],o=[],l=[];r.push("hash:"+this.popStack()),a=this.popStack(),s=this.popStack(),(s||a)&&(s||(this.context.aliases.self="this",s="self.noop"),a||(this.context.aliases.self="this",a="self.noop"),r.push("inverse:"+a),r.push("fn:"+s));for(var c=0;e>c;c++)i=this.popStack(),t.push(i),this.options.stringParams&&(l.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+o.join(",")+"]"),r.push("types:["+l.join(",")+"]"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",n?(this.register("options",r),t.push("options")):t.push(r),t.join(", ")}};for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=n.RESERVED_WORDS={},r=0,o=a.length;o>r;r++)s[a[r]]=!0;n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(i,a){if(!i||"string"!=typeof i&&i.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+i);a=a||{},"data"in a||(a.data=!0);var s=e.parse(i),r=(new t).compile(s,a);return(new n).compile(r,a)},e.compile=function(i,a){function s(){var s=e.parse(i),r=(new t).compile(s,a),o=(new n).compile(r,a,void 0,!0);return e.template(o)}if(!i||"string"!=typeof i&&i.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);a=a||{},"data"in a||(a.data=!0);var r;return function(e,t){return r||(r=s()),r.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var a=this.programs[t];return i?e.VM.program(n,i):a?a:a=this.programs[t]=e.VM.program(n)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,a){a=a||{};var s=t.call(n,e,i,a.helpers,a.partials,a.data),r=n.compilerInfo||[],o=r[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(l>o){var c=e.REVISION_CHANGES[l],d=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+d+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+")."}return s}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(i,a){return a=a||{},e.apply(this,[i,a.data||t].concat(n))}},program:function(e,t){return function(n,i){return i=i||{},e(n,i.data||t)}},noop:function(){return""},invokePartial:function(t,n,i,a,s,r){var o={helpers:a,partials:s,data:r};
if(void 0===t)throw new e.Exception("The partial "+n+" could not be found");if(t instanceof Function)return t(i,o);if(e.compile)return s[n]=e.compile(t,{data:void 0!==r}),s[n](i,o);throw new e.Exception("The partial "+n+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(e.Compiler,e.JavaScriptCompiler),define("Handlebars",[],function(){return e})}(),define("i18nprecompile",["Handlebars","./underscore"],function(e,t){function n(i,a,s){return s=s||{},a=a||{},i&&"program"===i.type&&i.statements&&(t(i.statements).forEach(function(t,r){var o="<!-- i18n error -->";if("mustache"==t.type&&t.id&&"$"==t.id.original){if(t.params.length&&t.params[0].string){var l=t.params[0].string;o=a[l]||(s.originalKeyFallback?l:o)}i.statements[r]=new e.AST.ContentNode(o)}else t.program&&(t.program=n(t.program,a,s))}),i.inverse&&n(i.inverse,a,s)),i}return function(t,i,a){a=a||{};var s,r;return s=e.parse(t),i!==!1&&(s=n(s,i,a)),r=(new e.Compiler).compile(s,a),(new e.JavaScriptCompiler).compile(r,a)}}),function(window){var JSON=window.JSON||{};(function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,a,s,r,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,n=0;s>n;n+=1)r[n]=str(n,l)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,a}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,l),a&&r.push(quote(i)+(gap?": ":":")+a));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a=str(i,l),a&&r.push(quote(i)+(gap?": ":":")+a));return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(e,t,a)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})})(),define("json2",[],function(){return JSON})}.call(this,this),define("hbs",["Handlebars","underscore","i18nprecompile","json2"],function(e,t,n,i){var a,s,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=function(){throw Error("Environment unsupported.")},l=[],c="w+",d="hbs",u="@hbs",h="/styles/",p="/demo-build/styles/",m="template/helpers/",f="templates/i18n/",g="screen.build.css";e.registerHelper("$",function(){}),"undefined"!=typeof window&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)?(s=function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return arguments[0]===!0?new XDomainRequest:new XMLHttpRequest;for(t=0;3>t;t++){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}if(!e)throw Error("getXhr(): XMLHttpRequest not available");return e},getIEVersion=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e},o=function(e,t){var n=!1;if(0!=e.indexOf("http"))n=!1;else{var i="https"===e.substr(0,5)?8:7,a="https"===window.location.href.substr(0,5)?8:7,r=e.substr(i).split("/").shift(),o=getIEVersion();n=r!=window.location.href.substr(a).split("/").shift()&&o>=7}if(n){var l=s(!0);l.open("GET",e),l.onload=function(){t(l.responseText)},l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){},setTimeout(function(){l.send()},0)}else{var c=s();c.open("GET",e,!0),c.onreadystatechange=function(){4===c.readyState&&t(c.responseText)},c.send(null)}}):"undefined"!=typeof process&&process.versions&&process.versions.node?(a=require.nodeRequire("fs"),o=function(e,t){var n=a.readFileSync(e,"utf8")||"";n=n.replace(/^\uFEFF/,""),t(n)}):"undefined"!=typeof java&&java.io!==void 0&&(o=function(e,t){for(var n,i=new java.io.File(e),a=new java.io.FileReader(i),s=new java.io.BufferedReader(a),r="";null!==(n=s.readLine());)r+=new String(n)+"\n";s.close(),t(r)});var v={},y=function(e,t){v[e]?t(v[e]):o(e,function(n){v[e]=n,t.call(this,n)})},_=[],b={};return{get:function(){return e},write:function(e,t,n){if(t+u in l){var i=l[t+u];n.asModule(e+"!"+t,i)}},version:"0.5.0",load:function(s,r,v,w){function M(e,n){return t(e).forEach(function(e){e&&e.type&&"partial"===e.type&&n.push(e.partialName.name),e&&e.program&&e.program.statements&&M(e.program.statements,n),e&&e.program&&e.program.inverse&&e.program.inverse.statements&&M(e.program.inverse.statements,n)}),n}function k(e){var n=[];return e&&e.statements&&(n=M(e.statements,[])),t(n).unique()}function L(e){var t,n,a;if(e&&e.statements&&(t=e.statements[0],t&&"comment"===t.type))try{return n=t.comment.replace(RegExp("^[\\s]+|[\\s]+$","g"),""),a=i.parse(n),n}catch(s){return'{ "description" : "'+t.comment+'" }'}return"{}"}function T(e){if(!e)return[];var t,n=[e[0]],i=e[0];for(t=1;e.length>t;++t)e.hasOwnProperty(t)&&(i+="."+e[t],n.push(i));return n}function x(n,i,a,s){a=a?a+".":"";var r="";return t(n).forEach(function(n){var o,l,c;if(n&&n.type&&"mustache"===n.type){if(!n.params||!n.params.length){o=T(n.id.parts);for(l in o)o[l]&&(r=o[l]||r,i.push(a+o[l]));i.push(a+n.id.string)}var d=["this",".","..","./..","../..","../../.."];n.params&&e.helpers[n.id.string]===void 0&&t(n.params).forEach(function(l){(t(d).contains(l.original)||l instanceof e.AST.StringNode||l instanceof e.AST.IntegerNode||l instanceof e.AST.BooleanNode)&&s.push(n.id.string),o=T(l.parts);for(var c in o)o[c]&&(r=o[c]||r,s.push(n.id.string),i.push(a+o[c]))})}n&&n.mustache&&x([n.mustache],i,a+r,s),n&&n.program&&n.program.statements&&(c=x([n.mustache],[],"",s)[0]||"",n.program.inverse&&n.program.inverse.statements&&x(n.program.inverse.statements,i,a+r+(c?a+r?"."+c:c:""),s),x(n.program.statements,i,a+r+(c?a+r?"."+c:c:""),s))}),i}function S(e){var n=[],i=[];e&&e.statements&&(n=x(e.statements,[],void 0,i));var a=["helperMissing","blockHelperMissing","each","if","unless","with"];return{vars:t(n).chain().unique().map(function(e){return""===e?".":e.length&&"."===e[e.length-1]?e.substr(0,e.length-1)+"[]":e}).value(),helpers:t(i).chain().unique().map(function(e){return t(a).contains(e)?void 0:e}).compact().value()}}function C(e){for(var t=e.split("/"),n=0;t.length>n;n++)".."==t[n]&&(delete t[n-1],delete t[n]);return t.join("/").replace(/\/\/+/g,"/")}function I(d){o(N,function(o){var u,f,y,M,T,x=e.parse(o),I=k(x),N=L(x),H=S(x),j=H.vars,P=H.helpers||[],R="",z="",V="",O=[],F=s.substr(0,s.lastIndexOf("/")+1);if(require.config.hbs=require.config.hbs||{},require.config.hbs._partials=require.config.hbs._partials||{},"{}"!==N)try{y=i.parse(N)}catch(B){console.log("couldn't parse meta for %s",W)}for(var $ in I)if(I.hasOwnProperty($)&&"string"==typeof I[$]){var W,q=I[$];W=q.match(/^(\.|\/)+/)?C(F+q):C(E+q),require.config.hbs._partials[W]=require.config.hbs._partials[W]||[],require.config.hbs._partials[W].references=require.config.hbs._partials[W].references||[],require.config.hbs._partials[W].references.push(q),require.config.hbs._loadedDeps=require.config.hbs._loadedDeps||{},O[$]="hbs!"+W}if(u=O.join("', '"),P=P.concat(y&&y.helpers?y.helpers:[]),f=A?"":function(){var e,t=[],n=w.hbs&&w.hbs.helperPathCallback?w.hbs.helperPathCallback:function(e){return(w.hbs&&w.hbs.helperDirectory?w.hbs.helperDirectory:m)+e};for(e=0;P.length>e;e++)t[e]="'"+n(P[e],W)+"'";return t}().join(","),f&&(f=","+f),y)try{y.styles&&(_=t.union(_,y.styles),require.isBrowser&&!w.isBuild?(M=document.head||document.getElementsByTagName("head")[0],t(y.styles).forEach(function(e){b[e]||(T=document.createElement("link"),T.href=w.baseUrl+h+e+".css",T.media="all",T.rel="stylesheet",T.type="text/css",M.appendChild(T),b[e]=T)})):w.isBuild&&function(){var e=require.nodeRequire("fs"),n=t(y.styles).map(function(e){return b[e]?"":(b[e]=!0,"@import url("+e+".css);\n")}).join("\n");e.open(__dirname+p+g,c,"0666",function(t,i){e.writeSync(i,n,null,encoding="utf8"),e.close(i)}),c="a"}())}catch(B){console.log("error injecting styles")}w.isBuild||w.serverRender||(R="<!-- START - "+s+" -->",z="<!-- END - "+s+" -->",V="t.meta = "+N+";\n"+"t.helpers = "+i.stringify(P)+";\n"+"t.deps = "+i.stringify(O)+";\n"+"t.vars = "+i.stringify(j)+";\n");var U=Y?!1:t.extend(d,w.localeMapping),J=w.hbs||{},G=t.extend(J.compileOptions||{},{originalKeyFallback:J.originalKeyFallback}),K=n(o,U,G),X=w.isBuild?"":"'"+s+"',";u&&(u=", '"+u+"'");var Z=[];require.config.hbs._partials[s]&&(Z=require.config.hbs._partials[s].references),o="/* START_TEMPLATE */\ndefine("+X+"['hbs','Handlebars'"+u+f+"], function( hbs, Handlebars ){ \n"+"var t = Handlebars.template("+K+");\n";for(var $=0;Z.length>$;$++)o+="Handlebars.registerPartial('"+Z[$]+"', t);\n";o+=V+"return t;\n"+"});\n"+"/* END_TEMPLATE */\n",w.isBuild&&(l[D]=o),w.isBuild||(o+="\r\n//@ sourceURL="+W),w.isBuild?(v.fromText(s,o),r([s],function(e){v(e)})):require(O,function(){v.fromText(o),r([s],function(e){v(e)})}),w.removeCombined&&a.unlinkSync(W)})}var D=s+u;w.hbs=w.hbs||{};var Y=!(1==w.hbs.i18n),A=0==w.hbs.helpers,E="";w.hbs.partialsUrl&&(E=w.hbs.partialsUrl,E.match(/\/$/)||(E+="/"));var N,H=w.hbs&&w.hbs.templateExtension===!1;if(N=H?r.toUrl(s):r.toUrl(s+"."+(w.hbs&&w.hbs.templateExtension?w.hbs.templateExtension:d)),Y)I(!1);else{var j=(w.hbs&&w.hbs.i18nDirectory?w.hbs.i18nDirectory:f)+(w.locale||"en_us")+".json";try{y(r.toUrl(j),function(e){I(i.parse(e))})}catch(P){if(w.hbs)throw P;console.warn("hbs: Error reading "+j+", disabling i18n. Ignore this if you're using jam, otherwise check your i18n configuration.\n"),w.hbs={i18n:!1,helpers:!0},I(!1)}}}}}),define("hbs!open-magazine/templates/simpleBaseLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i="";return i+='<div id="article-menu-region"></div>\n<div id="content">\n    <div id="content-region"></div>\n</div>\n<div id="right-menu-region"></div> \n<div id="channel-navigation-region"></div>\n<div id="image-viewer-region"></div>\n'});return n}),define("hbs!app/templates/articles/articlePageLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div id="articleCarouselRegion"></div>'});return n}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){function e(){return Ea.apply(null,arguments)}function t(e){Ea=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;e.length>n;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=l()),e._pf}function d(e){if(null==e._isValid){var t=c(e);e._isValid=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=o(0/0);return null!=e?r(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var n,i,a;if(t._isAMomentObject!==void 0&&(e._isAMomentObject=t._isAMomentObject),t._i!==void 0&&(e._i=t._i),t._f!==void 0&&(e._f=t._f),t._l!==void 0&&(e._l=t._l),t._strict!==void 0&&(e._strict=t._strict),t._tzm!==void 0&&(e._tzm=t._tzm),t._isUTC!==void 0&&(e._isUTC=t._isUTC),t._offset!==void 0&&(e._offset=t._offset),t._pf!==void 0&&(e._pf=c(t)),t._locale!==void 0&&(e._locale=t._locale),Ha.length>0)for(n in Ha)i=Ha[n],a=t[i],a!==void 0&&(e[i]=a);return e}function p(t){h(this,t),this._d=new Date(+t._d),ja===!1&&(ja=!0,e.updateOffset(this),ja=!1)}function m(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function f(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function g(e,t,n){var i,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&f(e[i])!==f(t[i]))&&r++;return r+s}function v(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function _(e){for(var t,n,i,a,s=0;e.length>s;){for(a=y(e[s]).split("-"),t=a.length,n=y(e[s+1]),n=n?n.split("-"):null;t>0;){if(i=b(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&g(a,n,!0)>=t-1)break;t--}s++}return null}function b(e){var t=null;if(!Pa[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Na._abbr,require("./locale/"+e),w(t)}catch(n){}return Pa[e]}function w(e,t){var n;return e&&(n=t===void 0?k(e):M(e,t),n&&(Na=n)),Na._abbr}function M(e,t){return null!==t?(t.abbr=e,Pa[e]||(Pa[e]=new v),Pa[e].set(t),w(e),Pa[e]):(delete Pa[e],null)}function k(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Na;if(!n(e)){if(t=b(e))return t;e=[e]}return _(e)}function L(e,t){var n=e.toLowerCase();Ra[n]=Ra[n+"s"]=Ra[t]=e}function T(e){return"string"==typeof e?Ra[e]||Ra[e.toLowerCase()]:void 0}function x(e){var t,n,i={};for(n in e)s(e,n)&&(t=T(n),t&&(i[t]=e[n]));return i}function S(t,n){return function(i){return null!=i?(I(this,t,i),e.updateOffset(this,n),this):C(this,t)}}function C(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function I(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function D(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function Y(e,t,n){for(var i=""+Math.abs(e),a=e>=0;t>i.length;)i="0"+i;return(a?n?"+":"":"-")+i}function A(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Fa[e]=a),t&&(Fa[t[0]]=function(){return Y(a.apply(this,arguments),t[1],t[2])}),n&&(Fa[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function E(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,i=e.match(za);for(t=0,n=i.length;n>t;t++)i[t]=Fa[i[t]]?Fa[i[t]]:E(i[t]);return function(a){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(a,e):i[t];return s}}function H(e,t){return e.isValid()?(t=j(t,e.localeData()),Oa[t]||(Oa[t]=N(t)),Oa[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Va.lastIndex=0;i>=0&&Va.test(e);)e=e.replace(Va,n),Va.lastIndex=0,i-=1;return e}function P(e,t,n){is[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function R(e,t){return s(is,e)?is[e](t._strict,t._locale):RegExp(z(e))}function z(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=f(e)}),n=0;e.length>n;n++)as[e[n]]=i}function O(e,t){V(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function F(e,t,n){null!=t&&s(as,e)&&as[e](t,n._a,n,e)}function B(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function $(e){return this._months[e.month()]}function W(e){return this._monthsShort[e.month()]}function q(e,t,n){var i,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function U(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),B(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function J(t){return null!=t?(U(this,t),e.updateOffset(this,!0),this):C(this,"Month")}function G(){return B(this.year(),this.month())}function K(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=0>n[rs]||n[rs]>11?rs:1>n[os]||n[os]>B(n[ss],n[rs])?os:0>n[ls]||n[ls]>24||24===n[ls]&&(0!==n[cs]||0!==n[ds]||0!==n[us])?ls:0>n[cs]||n[cs]>59?cs:0>n[ds]||n[ds]>59?ds:0>n[us]||n[us]>999?us:-1,c(e)._overflowDayOfYear&&(ss>t||t>os)&&(t=os),c(e).overflow=t),e}function X(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Z(e,t){var n=!0,i=e+"\n"+Error().stack;return r(function(){return n&&(X(i),n=!1),t.apply(this,arguments)},t)}function Q(e,t){ms[e]||(X(t),ms[e]=!0)}function et(e){var t,n,i=e._i,a=fs.exec(i);if(a){for(c(e).iso=!0,t=0,n=gs.length;n>t;t++)if(gs[t][1].exec(i)){e._f=gs[t][0]+(a[6]||" ");break}for(t=0,n=vs.length;n>t;t++)if(vs[t][1].exec(i)){e._f+=vs[t][0];break}i.match(es)&&(e._f+="Z"),_t(e)}else e._isValid=!1}function tt(t){var n=ys.exec(t._i);return null!==n?(t._d=new Date(+n[1]),void 0):(et(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)),void 0)}function nt(e,t,n,i,a,s,r){var o=new Date(e,t,n,i,a,s,r);return 1970>e&&o.setFullYear(e),o}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function at(e){return st(e)?366:365}function st(e){return 0===e%4&&0!==e%100||0===e%400}function rt(){return st(this.year())}function ot(e,t,n){var i,a=n-t,s=n-e.day();return s>a&&(s-=7),a-7>s&&(s+=7),i=xt(e).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e){return ot(e,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function dt(){return this._week.doy}function ut(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ht(e){var t=ot(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function pt(e,t,n,i,a){var s,r,o=it(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,s=a-o+(o>i?7:0)-(a>o?7:0),r=7*(t-1)+(n-a)+s+1,{year:r>0?e:e-1,dayOfYear:r>0?r:at(e-1)+r}}function mt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ft(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(e){var t,n,i,a,s=[];if(!e._d){for(i=gt(e),e._w&&null==e._a[os]&&null==e._a[rs]&&yt(e),e._dayOfYear&&(a=ft(e._a[ss],i[ss]),e._dayOfYear>at(a)&&(c(e)._overflowDayOfYear=!0),n=it(a,0,e._dayOfYear),e._a[rs]=n.getUTCMonth(),e._a[os]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ls]&&0===e._a[cs]&&0===e._a[ds]&&0===e._a[us]&&(e._nextDay=!0,e._a[ls]=0),e._d=(e._useUTC?it:nt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ls]=24)}}function yt(e){var t,n,i,a,s,r,o;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,r=4,n=ft(t.GG,e._a[ss],ot(xt(),1,4).year),i=ft(t.W,1),a=ft(t.E,1)):(s=e._locale._week.dow,r=e._locale._week.doy,n=ft(t.gg,e._a[ss],ot(xt(),s,r).year),i=ft(t.w,1),null!=t.d?(a=t.d,s>a&&++i):a=null!=t.e?t.e+s:s),o=pt(n,i,a,r,s),e._a[ss]=o.year,e._dayOfYear=o.dayOfYear}function _t(t){if(t._f===e.ISO_8601)return et(t),void 0;t._a=[],c(t).empty=!0;var n,i,a,s,r,o=""+t._i,l=o.length,d=0;for(a=j(t._f,t._locale).match(za)||[],n=0;a.length>n;n++)s=a[n],i=(o.match(R(s,t))||[])[0],i&&(r=o.substr(0,o.indexOf(i)),r.length>0&&c(t).unusedInput.push(r),o=o.slice(o.indexOf(i)+i.length),d+=i.length),Fa[s]?(i?c(t).empty=!1:c(t).unusedTokens.push(s),F(s,i,t)):t._strict&&!i&&c(t).unusedTokens.push(s);c(t).charsLeftOver=l-d,o.length>0&&c(t).unusedInput.push(o),c(t).bigHour===!0&&12>=t._a[ls]&&t._a[ls]>0&&(c(t).bigHour=void 0),t._a[ls]=bt(t._locale,t._a[ls],t._meridiem),vt(t),K(t)}function bt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function wt(e){var t,n,i,a,s;if(0===e._f.length)return c(e).invalidFormat=!0,e._d=new Date(0/0),void 0;for(a=0;e._f.length>a;a++)s=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],_t(t),d(t)&&(s+=c(t).charsLeftOver,s+=10*c(t).unusedTokens.length,c(t).score=s,(null==i||i>s)&&(i=s,n=t));r(e,n||t)}function Mt(e){if(!e._d){var t=x(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],vt(e)}}function kt(e){var t,a=e._i,s=e._f;return e._locale=e._locale||k(e._l),null===a||void 0===s&&""===a?u({nullInput:!0}):("string"==typeof a&&(e._i=a=e._locale.preparse(a)),m(a)?new p(K(a)):(n(s)?wt(e):s?_t(e):i(a)?e._d=a:Lt(e),t=new p(K(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Lt(t){var s=t._i;void 0===s?t._d=new Date:i(s)?t._d=new Date(+s):"string"==typeof s?tt(t):n(s)?(t._a=a(s.slice(0),function(e){return parseInt(e,10)}),vt(t)):"object"==typeof s?Mt(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function Tt(e,t,n,i,a){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=e,s._f=t,s._strict=i,kt(s)}function xt(e,t,n,i){return Tt(e,t,n,i,!1)}function St(e,t){var i,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return xt();for(i=t[0],a=1;t.length>a;++a)t[a][e](i)&&(i=t[a]);return i}function Ct(){var e=[].slice.call(arguments,0);return St("isBefore",e)}function It(){var e=[].slice.call(arguments,0);return St("isAfter",e)}function Dt(e){var t=x(e),n=t.year||0,i=t.quarter||0,a=t.month||0,s=t.week||0,r=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*o,this._days=+r+7*s,this._months=+a+3*i+12*n,this._data={},this._locale=k(),this._bubble()}function Yt(e){return e instanceof Dt}function At(e,t){A(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)})}function Et(e){var t=(e||"").match(es)||[],n=t[t.length-1]||[],i=(n+"").match(ks)||["-",0,0],a=+(60*i[1])+f(i[2]);return"+"===i[0]?a:-a}function Nt(t,n){var a,s;return n._isUTC?(a=n.clone(),s=(m(t)||i(t)?+t:+xt(t))-+a,a._d.setTime(+a._d+s),e.updateOffset(a,!1),a):xt(t).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(t,n){var i,a=this._offset||0;return null!=t?("string"==typeof t&&(t=Et(t)),16>Math.abs(t)&&(t=60*t),!this._isUTC&&n&&(i=Ht(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?Zt(this,Ut(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Ht(this)}function Pt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Rt(e){return this.utcOffset(0,e)}function zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this}function Vt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Et(this._i)),this}function Ot(e){return e=e?xt(e).utcOffset():0,0===(this.utcOffset()-e)%60}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(this._a){var e=this._isUTC?o(this._a):xt(this._a);return this.isValid()&&g(this._a,e.toArray())>0}return!1}function $t(){return!this._isUTC}function Wt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Ut(e,t){var n,i,a,r=e,o=null;return Yt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(o=Ls.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:f(o[os])*n,h:f(o[ls])*n,m:f(o[cs])*n,s:f(o[ds])*n,ms:f(o[us])*n}):(o=Ts.exec(e))?(n="-"===o[1]?-1:1,r={y:Jt(o[2],n),M:Jt(o[3],n),d:Jt(o[4],n),h:Jt(o[5],n),m:Jt(o[6],n),s:Jt(o[7],n),w:Jt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=Kt(xt(r.from),xt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),i=new Dt(r),Yt(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return t=Nt(t,e),e.isBefore(t)?n=Gt(e,t):(n=Gt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Xt(e,t){return function(n,i){var a,s;return null===i||isNaN(+i)||(Q(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,a=Ut(n,i),Zt(this,a,e),this}}function Zt(t,n,i,a){var s=n._milliseconds,r=n._days,o=n._months;a=null==a?!0:a,s&&t._d.setTime(+t._d+s*i),r&&I(t,"Date",C(t,"Date")+r*i),o&&U(t,C(t,"Month")+o*i),a&&e.updateOffset(t,r||o)}function Qt(e){var t=e||xt(),n=Nt(t,this).startOf("day"),i=this.diff(n,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,xt(t)))}function en(){return new p(this)}function tn(e,t){var n;return t=T(t!==void 0?t:"millisecond"),"millisecond"===t?(e=m(e)?e:xt(e),+this>+e):(n=m(e)?+e:+xt(e),+this.clone().startOf(t)>n)}function nn(e,t){var n;return t=T(t!==void 0?t:"millisecond"),"millisecond"===t?(e=m(e)?e:xt(e),+e>+this):(n=m(e)?+e:+xt(e),n>+this.clone().endOf(t))}function an(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function sn(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=m(e)?e:xt(e),+this===+e):(n=+xt(e),n>=+this.clone().startOf(t)&&+this.clone().endOf(t)>=n)}function rn(e){return 0>e?Math.ceil(e):Math.floor(e)}function on(e,t,n){var i,a,s=Nt(e,this),r=6e4*(s.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(a=ln(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(i=this-s,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-r)/864e5:"week"===t?(i-r)/6048e5:i),n?a:rn(a)}function ln(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(a,"months");return 0>t-s?(n=e.clone().add(a-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(a+1,"months"),i=(t-s)/(n-s)),-(a+i)}function cn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dn(){var e=this.clone().utc();return e.year()>0&&9999>=e.year()?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function un(t){var n=H(this,t||e.defaultFormat);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.from(xt(),e)}function mn(e,t){return this.isValid()?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fn(e){return this.to(xt(),e)}function gn(e){var t;return void 0===e?this._locale._abbr:(t=k(e),null!=t&&(this._locale=t),this)}function vn(){return this._locale}function yn(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function bn(){return+this._d-6e4*(this._offset||0)}function wn(){return Math.floor(+this/1e3)}function Mn(){return this._offset?new Date(+this):this._d}function kn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ln(){return d(this)}function Tn(){return r({},c(this))}function xn(){return c(this).overflow}function Sn(e,t){A(0,[e,e.length],0,t)}function Cn(e,t,n){return ot(xt([e,11,31+t-n]),t,n).week}function In(e){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Dn(e){var t=ot(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Yn(){return Cn(this.year(),1,4)}function An(){var e=this.localeData()._week;return Cn(this.year(),e.dow,e.doy)}function En(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Hn(e){return this._weekdays[e.day()]}function jn(e){return this._weekdaysShort[e.day()]}function Pn(e){return this._weekdaysMin[e.day()]}function Rn(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=xt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function zn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nn(e,this.localeData()),this.add(e-t,"d")):t}function Vn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function On(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Fn(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Bn(e,t){return t._meridiemParse}function $n(e){return"p"===(e+"").toLowerCase().charAt(0)}function Wn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function qn(e){A(0,[e,3],0,"millisecond")}function Un(){return this._isUTC?"UTC":""}function Jn(){return this._isUTC?"Coordinated Universal Time":""
}function Gn(e){return xt(1e3*e)}function Kn(){return xt.apply(null,arguments).parseZone()}function Xn(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function Zn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Qn(){return this._invalidDate}function ei(e){return this._ordinal.replace("%d",e)}function ti(e){return e}function ni(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)}function ii(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ai(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function si(e,t,n,i){var a=k(),s=o().set(i,t);return a[n](s,e)}function ri(e,t,n,i,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return si(e,t,n,a);var s,r=[];for(s=0;i>s;s++)r[s]=si(e,s,n,a);return r}function oi(e,t){return ri(e,t,"months",12,"month")}function li(e,t){return ri(e,t,"monthsShort",12,"month")}function ci(e,t){return ri(e,t,"weekdays",7,"day")}function di(e,t){return ri(e,t,"weekdaysShort",7,"day")}function ui(e,t){return ri(e,t,"weekdaysMin",7,"day")}function hi(){var e=this._data;return this._milliseconds=Us(this._milliseconds),this._days=Us(this._days),this._months=Us(this._months),e.milliseconds=Us(e.milliseconds),e.seconds=Us(e.seconds),e.minutes=Us(e.minutes),e.hours=Us(e.hours),e.months=Us(e.months),e.years=Us(e.years),this}function pi(e,t,n,i){var a=Ut(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function mi(e,t){return pi(this,e,t,1)}function fi(e,t){return pi(this,e,t,-1)}function gi(){var e,t,n,i=this._milliseconds,a=this._days,s=this._months,r=this._data,o=0;return r.milliseconds=i%1e3,e=rn(i/1e3),r.seconds=e%60,t=rn(e/60),r.minutes=t%60,n=rn(t/60),r.hours=n%24,a+=rn(n/24),o=rn(vi(a)),a-=rn(yi(o)),s+=rn(a/30),a%=30,o+=rn(s/12),s%=12,r.days=a,r.months=s,r.years=o,this}function vi(e){return 400*e/146097}function yi(e){return 146097*e/400}function _i(e){var t,n,i=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+12*vi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yi(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw Error("Unknown unit "+e)}}function bi(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*f(this._months/12)}function wi(e){return function(){return this.as(e)}}function Mi(e){return e=T(e),this[e+"s"]()}function ki(e){return function(){return this._data[e]}}function Li(){return rn(this.days()/7)}function Ti(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function xi(e,t,n){var i=Ut(e).abs(),a=cr(i.as("s")),s=cr(i.as("m")),r=cr(i.as("h")),o=cr(i.as("d")),l=cr(i.as("M")),c=cr(i.as("y")),d=dr.s>a&&["s",a]||1===s&&["m"]||dr.m>s&&["mm",s]||1===r&&["h"]||dr.h>r&&["hh",r]||1===o&&["d"]||dr.d>o&&["dd",o]||1===l&&["M"]||dr.M>l&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,Ti.apply(null,d)}function Si(e,t){return void 0===dr[e]?!1:void 0===t?dr[e]:(dr[e]=t,!0)}function Ci(e){var t=this.localeData(),n=xi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ii(){var e=ur(this.years()),t=ur(this.months()),n=ur(this.days()),i=ur(this.hours()),a=ur(this.minutes()),s=ur(this.seconds()+this.milliseconds()/1e3),r=this.asSeconds();return r?(0>r?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||s?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"}function Di(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function Yi(e,t,n){var i={mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+Di(i[n],+e)}function Ai(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function Ei(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}function Ni(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+Pi(i[n],e)}function Hi(e){switch(ji(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function ji(e){return e>9?ji(e%10):e}function Pi(e,t){return 2===t?Ri(e):e}function Ri(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}function zi(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function Vi(e){return e>1&&5>e&&1!==~~(e/10)}function Oi(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?a+(Vi(e)?"minuty":"minut"):a+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(Vi(e)?"hodiny":"hodin"):a+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?a+(Vi(e)?"dny":"dn"):a+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?a+(Vi(e)?"msce":"msc"):a+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?a+(Vi(e)?"roky":"let"):a+"lety"}}function Fi(e,t,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function Bi(e,t,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function $i(e,t,n,i){var a={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?a[n][2]?a[n][2]:a[n][1]:i?a[n][0]:a[n][1]}function Wi(e,t,n,i){var a="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":a=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":a=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":a=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":a=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":a=i?"vuoden":"vuotta"}return a=qi(e,i)+" "+a}function qi(e,t){return 10>e?t?Nr[e]:Er[e]:e}function Ui(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function Ji(e,t,n,i){var a=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return a+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return a+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return a+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return a+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return a+(i||t?" v":" ve")}return""}function Gi(e){return(e?"":"[mlt] ")+"["+zr[this.day()]+"] LT[-kor]"}function Ki(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function Xi(e){var t="___________".split("_");return t[e.month()]}function Zi(e){var t="______".split("_");return t[e.day()]}function Qi(e){return 11===e%100?!0:1===e%10?!1:!0}function ea(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return t?"mnta":"mntu";case"mm":return Qi(e)?a+(t||i?"mntur":"mntum"):t?a+"mnta":a+"mntu";case"hh":return Qi(e)?a+(t||i?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return t?"dagur":i?"dag":"degi";case"dd":return Qi(e)?t?a+"dagar":a+(i?"daga":"dgum"):t?a+"dagur":a+(i?"dag":"degi");case"M":return t?"mnuur":i?"mnu":"mnui";case"MM":return Qi(e)?t?a+"mnuir":a+(i?"mnui":"mnuum"):t?a+"mnuur":a+(i?"mnu":"mnui");case"y":return t||i?"r":"ri";case"yy":return Qi(e)?a+(t||i?"r":"rum"):a+(t||i?"r":"ri")}}function ta(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function na(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/(|)/.test(t)?"accusative":"nominative";return n[i][e.day()]}function ia(e,t,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function aa(e){var t=e.substr(0,e.indexOf(" "));return ra(t)?"a "+e:"an "+e}function sa(e){var t=e.substr(0,e.indexOf(" "));return ra(t)?"viru "+e:"virun "+e}function ra(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,n=e/10;return 0===t?ra(n):ra(t)}if(1e4>e){for(;e>=10;)e/=10;return ra(e)}return e/=1e3,ra(e)}function oa(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function la(e,t,n,i){return t?da(n)[0]:i?da(n)[1]:da(n)[2]}function ca(e){return 0===e%10||e>10&&20>e}function da(e){return Vr[e].split("_")}function ua(e,t,n,i){var a=e+" ";return 1===e?a+la(e,t,n[0],i):t?a+(ca(e)?da(n)[1]:da(n)[0]):i?a+da(n)[1]:a+(ca(e)?da(n)[1]:da(n)[2])}function ha(e,t){var n=-1===t.indexOf("dddd HH:mm"),i=Or[e.day()];return n?i:i.substring(0,i.length-2)+""}function pa(e,t,n){return n?1===t%10&&11!==t?e[2]:e[3]:1===t%10&&11!==t?e[0]:e[1]}function ma(e,t,n){return e+" "+pa(Fr[n],e,t)}function fa(e,t,n){return pa(Fr[n],e,t)}function ga(e,t){return t?"daas sekundes":"dam sekundm"}function va(e){return 5>e%10&&e%10>1&&1!==~~(e/10)%10}function ya(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minut";case"mm":return i+(va(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(va(e)?"godziny":"godzin");case"MM":return i+(va(e)?"miesice":"miesicy");case"yy":return i+(va(e)?"lata":"lat")}}function _a(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";return(e%100>=20||e>=100&&0===e%100)&&(a=" de "),e+a+i[n]}function ba(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function wa(e,t,n){var i={mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":e+" "+ba(i[n],+e)}function Ma(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function ka(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function La(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}function Ta(e){return e>1&&5>e}function xa(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?a+(Ta(e)?"minty":"mint"):a+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(Ta(e)?"hodiny":"hodn"):a+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?a+(Ta(e)?"dni":"dn"):a+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?a+(Ta(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?a+(Ta(e)?"roky":"rokov"):a+"rokmi"}}function Sa(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return a+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":5>e?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return a+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":5>e?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return a+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return a+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":5>e?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return a+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":5>e?t||i?"leta":"leti":t||i?"let":"leti"}}function Ca(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function Ia(e,t,n){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+Ca(i[n],+e)}function Da(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function Ya(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},i=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function Aa(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var Ea,Na,Ha=e.momentProperties=[],ja=!1,Pa={},Ra={},za=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Va=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Oa={},Fa={},Ba=/\d/,$a=/\d\d/,Wa=/\d{3}/,qa=/\d{4}/,Ua=/[+-]?\d{6}/,Ja=/\d\d?/,Ga=/\d{1,3}/,Ka=/\d{1,4}/,Xa=/[+-]?\d{1,6}/,Za=/\d+/,Qa=/[+-]?\d+/,es=/Z|[+-]\d\d:?\d\d/gi,ts=/[+-]?\d+(\.\d{1,3})?/,ns=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,is={},as={},ss=0,rs=1,os=2,ls=3,cs=4,ds=5,us=6;A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),P("M",Ja),P("MM",Ja,$a),P("MMM",ns),P("MMMM",ns),V(["M","MM"],function(e,t){t[rs]=f(e)-1}),V(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[rs]=a:c(n).invalidMonth=e});var hs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ps="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ms={};e.suppressDeprecationWarnings=!1;var fs=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vs=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ys=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=Z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),L("year","y"),P("Y",Qa),P("YY",Ja,$a),P("YYYY",Ka,qa),P("YYYYY",Xa,Ua),P("YYYYYY",Xa,Ua),V(["YYYY","YYYYY","YYYYYY"],ss),V("YY",function(t,n){n[ss]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return f(e)+(f(e)>68?1900:2e3)};var _s=S("FullYear",!1);A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),P("w",Ja),P("ww",Ja,$a),P("W",Ja),P("WW",Ja,$a),O(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=f(e)});var bs={dow:0,doy:6};A("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),P("DDD",Ga),P("DDDD",Wa),V(["DDD","DDDD"],function(e,t,n){n._dayOfYear=f(e)}),e.ISO_8601=function(){};var ws=Z("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=xt.apply(null,arguments);return this>e?this:e}),Ms=Z("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=xt.apply(null,arguments);return e>this?this:e});At("Z",":"),At("ZZ",""),P("Z",es),P("ZZ",es),V(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(e)});var ks=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ls=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ts=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ut.fn=Dt.prototype;var xs=Xt(1,"add"),Ss=Xt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cs=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Sn("gggg","weekYear"),Sn("ggggg","weekYear"),Sn("GGGG","isoWeekYear"),Sn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),P("G",Qa),P("g",Qa),P("GG",Ja,$a),P("gg",Ja,$a),P("GGGG",Ka,qa),P("gggg",Ka,qa),P("GGGGG",Xa,Ua),P("ggggg",Xa,Ua),O(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=f(e)}),O(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),A("Q",0,0,"quarter"),L("quarter","Q"),P("Q",Ba),V("Q",function(e,t){t[rs]=3*(f(e)-1)}),A("D",["DD",2],"Do","date"),L("date","D"),P("D",Ja),P("DD",Ja,$a),P("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),V(["D","DD"],os),V("Do",function(e,t){t[os]=f(e.match(Ja)[0],10)});var Is=S("Date",!0);A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),P("d",Ja),P("e",Ja),P("E",Ja),P("dd",ns),P("ddd",ns),P("dddd",ns),O(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:c(n).invalidWeekday=e}),O(["d","e","E"],function(e,t,n,i){t[i]=f(e)});var Ds="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ys="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),As="Su_Mo_Tu_We_Th_Fr_Sa".split("_");A("H",["HH",2],0,"hour"),A("h",["hh",2],0,function(){return this.hours()%12||12}),Fn("a",!0),Fn("A",!1),L("hour","h"),P("a",Bn),P("A",Bn),P("H",Ja),P("h",Ja),P("HH",Ja,$a),P("hh",Ja,$a),V(["H","HH"],ls),V(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),V(["h","hh"],function(e,t,n){t[ls]=f(e),c(n).bigHour=!0});var Es=/[ap]\.?m?\.?/i,Ns=S("Hours",!0);A("m",["mm",2],0,"minute"),L("minute","m"),P("m",Ja),P("mm",Ja,$a),V(["m","mm"],cs);var Hs=S("Minutes",!1);A("s",["ss",2],0,"second"),L("second","s"),P("s",Ja),P("ss",Ja,$a),V(["s","ss"],ds);var js=S("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),qn("SSS"),qn("SSSS"),L("millisecond","ms"),P("S",Ga,Ba),P("SS",Ga,$a),P("SSS",Ga,Wa),P("SSSS",Za),V(["S","SS","SSS","SSSS"],function(e,t){t[us]=f(1e3*("0."+e))});var Ps=S("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Rs=p.prototype;Rs.add=xs,Rs.calendar=Qt,Rs.clone=en,Rs.diff=on,Rs.endOf=_n,Rs.format=un,Rs.from=hn,Rs.fromNow=pn,Rs.to=mn,Rs.toNow=fn,Rs.get=D,Rs.invalidAt=xn,Rs.isAfter=tn,Rs.isBefore=nn,Rs.isBetween=an,Rs.isSame=sn,Rs.isValid=Ln,Rs.lang=Cs,Rs.locale=gn,Rs.localeData=vn,Rs.max=Ms,Rs.min=ws,Rs.parsingFlags=Tn,Rs.set=D,Rs.startOf=yn,Rs.subtract=Ss,Rs.toArray=kn,Rs.toDate=Mn,Rs.toISOString=dn,Rs.toJSON=dn,Rs.toString=cn,Rs.unix=wn,Rs.valueOf=bn,Rs.year=_s,Rs.isLeapYear=rt,Rs.weekYear=In,Rs.isoWeekYear=Dn,Rs.quarter=Rs.quarters=En,Rs.month=J,Rs.daysInMonth=G,Rs.week=Rs.weeks=ut,Rs.isoWeek=Rs.isoWeeks=ht,Rs.weeksInYear=An,Rs.isoWeeksInYear=Yn,Rs.date=Is,Rs.day=Rs.days=zn,Rs.weekday=Vn,Rs.isoWeekday=On,Rs.dayOfYear=mt,Rs.hour=Rs.hours=Ns,Rs.minute=Rs.minutes=Hs,Rs.second=Rs.seconds=js,Rs.millisecond=Rs.milliseconds=Ps,Rs.utcOffset=jt,Rs.utc=Rt,Rs.local=zt,Rs.parseZone=Vt,Rs.hasAlignedHourOffset=Ot,Rs.isDST=Ft,Rs.isDSTShifted=Bt,Rs.isLocal=$t,Rs.isUtcOffset=Wt,Rs.isUtc=qt,Rs.isUTC=qt,Rs.zoneAbbr=Un,Rs.zoneName=Jn,Rs.dates=Z("dates accessor is deprecated. Use date instead.",Is),Rs.months=Z("months accessor is deprecated. Use month instead",J),Rs.years=Z("years accessor is deprecated. Use year instead",_s),Rs.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pt);var zs=Rs,Vs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Os={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Fs="Invalid date",Bs="%d",$s=/\d{1,2}/,Ws={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qs=v.prototype;qs._calendar=Vs,qs.calendar=Xn,qs._longDateFormat=Os,qs.longDateFormat=Zn,qs._invalidDate=Fs,qs.invalidDate=Qn,qs._ordinal=Bs,qs.ordinal=ei,qs._ordinalParse=$s,qs.preparse=ti,qs.postformat=ti,qs._relativeTime=Ws,qs.relativeTime=ni,qs.pastFuture=ii,qs.set=ai,qs.months=$,qs._months=hs,qs.monthsShort=W,qs._monthsShort=ps,qs.monthsParse=q,qs.week=lt,qs._week=bs,qs.firstDayOfYear=dt,qs.firstDayOfWeek=ct,qs.weekdays=Hn,qs._weekdays=Ds,qs.weekdaysMin=Pn,qs._weekdaysMin=As,qs.weekdaysShort=jn,qs._weekdaysShort=Ys,qs.weekdaysParse=Rn,qs.isPM=$n,qs._meridiemParse=Es,qs.meridiem=Wn,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===f(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=Z("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",k);var Us=Math.abs,Js=wi("ms"),Gs=wi("s"),Ks=wi("m"),Xs=wi("h"),Zs=wi("d"),Qs=wi("w"),er=wi("M"),tr=wi("y"),nr=ki("milliseconds"),ir=ki("seconds"),ar=ki("minutes"),sr=ki("hours"),rr=ki("days"),or=ki("months"),lr=ki("years"),cr=Math.round,dr={s:45,m:45,h:22,d:26,M:11},ur=Math.abs,hr=Dt.prototype;hr.abs=hi,hr.add=mi,hr.subtract=fi,hr.as=_i,hr.asMilliseconds=Js,hr.asSeconds=Gs,hr.asMinutes=Ks,hr.asHours=Xs,hr.asDays=Zs,hr.asWeeks=Qs,hr.asMonths=er,hr.asYears=tr,hr.valueOf=bi,hr._bubble=gi,hr.get=Mi,hr.milliseconds=nr,hr.seconds=ir,hr.minutes=ar,hr.hours=sr,hr.days=rr,hr.weeks=Li,hr.months=or,hr.years=lr,hr.humanize=Ci,hr.toISOString=Ii,hr.toString=Ii,hr.toJSON=Ii,hr.locale=gn,hr.localeData=vn,hr.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ii),hr.lang=Cs,A("X",0,0,"unix"),A("x",0,0,"valueOf"),P("x",Qa),P("X",ts),V("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),V("x",function(e,t,n){n._d=new Date(f(e))}),e.version="2.10.3",t(xt),e.fn=zs,e.min=Ct,e.max=It,e.utc=o,e.unix=Gn,e.months=oi,e.isDate=i,e.locale=w,e.invalid=u,e.duration=Ut,e.isMoment=m,e.weekdays=ci,e.parseZone=Kn,e.localeData=k,e.isDuration=Yt,e.monthsShort=li,e.weekdaysMin=ui,e.defineLocale=M,e.weekdaysShort=di,e.normalizeUnits=T,e.relativeTimeThreshold=Si;var pr=e;pr.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),pr.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var mr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},fr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return fr[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return mr[e]}).replace(/,/g,"")},week:{dow:6,doy:12}}),pr.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var gr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},yr=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},_r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},br=function(e){return function(t,n){var i=yr(t),a=_r[e][yr(t)];return 2===i&&(a=a[n?0:1]),a.replace(/%d/i,t)}},wr=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];pr.defineLocale("ar",{months:wr,monthsShort:wr,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e
},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:br("s"),m:br("m"),mm:br("m"),h:br("h"),hh:br("h"),d:br("d"),dd:br("d"),M:br("M"),MM:br("M"),y:br("y"),yy:br("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[]/g,function(e){return vr[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return gr[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});var Mr={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};pr.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e){return 4>e?"gec":12>e?"shr":17>e?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var t=e%10,n=e%100-t,i=e>=100?100:null;return e+(Mr[t]||Mr[n]||Mr[i])},week:{dow:1,doy:7}}),pr.defineLocale("be",{months:Ai,monthsShort:"___________".split("_"),weekdays:Ei,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Yi,mm:Yi,h:Yi,hh:Yi,d:"",dd:Yi,M:"",MM:Yi,y:"",yy:Yi},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return 2!==e%10&&3!==e%10||12===e%100||13===e%100?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}}),pr.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&20>n?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});var kr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Lr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Lr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return kr[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}});var Tr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},xr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return xr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Tr[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}}),pr.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:Ni,h:"un eur",hh:"%d eur",d:"un devezh",dd:Ni,M:"ur miz",MM:Ni,y:"ur bloaz",yy:Hi},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}}),pr.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:zi,mm:zi,h:zi,hh:zi,d:"dan",dd:zi,M:"mjesec",MM:zi,y:"godinu",yy:zi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),pr.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}});var Sr="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),Cr="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");pr.defineLocale("cs",{months:Sr,monthsShort:Cr,monthsParse:function(e,t){var n,i=[];for(n=0;12>n;n++)i[n]=RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(Sr,Cr),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:Oi,m:Oi,mm:Oi,h:Oi,hh:Oi,d:Oi,dd:Oi,M:Oi,MM:Oi,y:Oi,yy:Oi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),pr.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=i[t]),e+n},week:{dow:1,doy:4}}),pr.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Fi,mm:"%d Minuten",h:Fi,hh:"%d Stunden",d:Fi,dd:Fi,M:Fi,MM:Fi,y:Fi,yy:Fi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Bi,mm:"%d Minuten",h:Bi,hh:"%d Stunden",d:Bi,dd:Bi,M:Bi,MM:Bi,y:Bi,yy:Bi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",1===i%12?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),pr.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}}),pr.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),pr.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}}),pr.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var Ir="Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),Dr="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_");pr.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?Dr[e.month()]:Ir[e.month()]},weekdays:"Domingo_Lunes_Martes_Mircoles_Jueves_Viernes_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mi._Jue._Vie._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),pr.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:$i,m:$i,mm:$i,h:$i,hh:$i,d:$i,dd:"%d peva",M:$i,MM:$i,y:$i,yy:$i},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Yr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ar={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e){return 12>e?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return Ar[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Yr[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var Er="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),Nr=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Er[7],Er[8],Er[9]];pr.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Wi,m:Wi,mm:Wi,h:Wi,hh:Wi,d:Wi,dd:Wi,M:Wi,MM:Wi,y:Wi,yy:Wi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}}),pr.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}});var Hr="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),jr="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");pr.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?jr[e.month()]:Hr[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")
},week:{dow:1,doy:4}}),pr.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}}),pr.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":0===e%10&&10!==e?e+" ":e+" "}}});var Pr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Rr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Rr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Pr[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}}),pr.defineLocale("hr",{months:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Ui,mm:Ui,h:Ui,hh:Ui,d:"dan",dd:Ui,M:"mjesec",MM:Ui,y:"godinu",yy:Ui},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var zr="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");pr.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Gi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Gi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Ji,m:Ji,mm:Ji,h:Ji,hh:Ji,d:Ji,dd:Ji,M:Ji,MM:Ji,y:Ji,yy:Ji},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),pr.defineLocale("hy-am",{months:Ki,monthsShort:Xi,weekdays:Zi,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}}),pr.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),pr.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:ea,m:ea,mm:ea,h:"klukkustund",hh:ea,d:ea,dd:ea,M:ea,MM:ea,y:ea,yy:ea},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),pr.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),pr.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e){return 11>e?"enjing":15>e?"siyang":19>e?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),pr.defineLocale("ka",{months:ta,monthsShort:"___________".split("_"),weekdays:na,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":20>e||100>=e&&0===e%20||0===e%100?"-"+e:e+"-"},week:{dow:1,doy:7}}),pr.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),pr.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""}}),pr.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:aa,past:sa,s:"e puer Sekonnen",m:ia,mm:"%d Minutten",h:ia,hh:"%d Stonnen",d:ia,dd:"%d Deeg",M:ia,MM:"%d Mint",y:ia,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Vr={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},Or="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_");pr.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:ha,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:oa,m:la,mm:ua,h:la,hh:ua,d:la,dd:ua,M:la,MM:ua,y:la,yy:ua},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var Fr={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};pr.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:ga,m:fa,mm:ma,h:fa,hh:ma,d:fa,dd:ma,M:fa,MM:ma,y:fa,yy:ma},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Br={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,n){var i=Br.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+Br.correctGrammaticalCase(e,i)}};pr.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Br.translate,mm:Br.translate,h:Br.translate,hh:Br.translate,d:"dan",dd:Br.translate,M:"mjesec",MM:Br.translate,y:"godinu",yy:Br.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),pr.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&20>n?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}}),pr.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(e){return/^( ||)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?" ":20>e?"":""}});var $r={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Wr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Wr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return $r[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}}),pr.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});var qr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ur={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Ur[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return qr[e]})},week:{dow:1,doy:4}}),pr.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Jr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Gr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};pr.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[]/g,function(e){return Gr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Jr[e]})},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?3>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e){return 3>e?"":10>e?"":15>e?"":18>e?"":20>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});var Kr="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Xr="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");pr.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?Xr[e.month()]:Kr[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),pr.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Zr="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),Qr="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");pr.defineLocale("pl",{months:function(e,t){return""===t?"("+Qr[e.month()]+"|"+Zr[e.month()]+")":/D MMMM/.test(t)?Qr[e.month()]:Zr[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:ya,mm:ya,h:ya,hh:ya,d:"1 dzie",dd:"%d dni",M:"miesic",MM:ya,y:"rok",yy:ya},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"
},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"}),pr.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),pr.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:_a,h:"o or",hh:_a,d:"o zi",dd:_a,M:"o lun",MM:_a,y:"un an",yy:_a},week:{dow:1,doy:7}}),pr.defineLocale("ru",{months:Ma,monthsShort:ka,weekdays:La,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:wa,mm:wa,h:"",hh:wa,d:"",dd:wa,M:"",MM:wa,y:"",yy:wa},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}}),pr.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, LT",LLLL:"YYYY MMMM D [] dddd, LTS"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}});var eo="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),to="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");pr.defineLocale("sk",{months:eo,monthsShort:to,monthsParse:function(e,t){var n,i=[];for(n=0;12>n;n++)i[n]=RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(eo,to),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:xa,m:xa,mm:xa,h:xa,hh:xa,d:xa,dd:xa,M:xa,MM:xa,y:xa,yy:xa},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),pr.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:Sa,m:Sa,mm:Sa,h:Sa,hh:Sa,d:Sa,dd:Sa,M:Sa,MM:Sa,y:Sa,yy:Sa},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),pr.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var no={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,n){var i=no.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+no.correctGrammaticalCase(e,i)}};pr.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:no.translate,mm:no.translate,h:no.translate,hh:no.translate,d:"",dd:no.translate,M:"",MM:no.translate,y:"",yy:no.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var io={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,t,n){var i=io.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+io.correctGrammaticalCase(e,i)}};pr.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:io.translate,mm:io.translate,h:io.translate,hh:io.translate,d:"dan",dd:io.translate,M:"mesec",MM:io.translate,y:"godinu",yy:io.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),pr.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":3===t?"e":"e";return e+n},week:{dow:1,doy:4}}),pr.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(e){return e+""},meridiemParse:/|||||/,meridiem:function(e){return 2>e?" ":6>e?" ":10>e?" ":14>e?" ":18>e?" ":22>e?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?2>e?e:e+12:""===t||""===t?e:""===t?e>=10?e:e+12:e+12},week:{dow:0,doy:6}}),pr.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),pr.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var ao={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};pr.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var t=e%10,n=e%100-t,i=e>=100?100:null;return e+(ao[t]||ao[n]||ao[i])},week:{dow:1,doy:7}}),pr.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),pr.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),pr.defineLocale("uk",{months:Da,monthsShort:"___________".split("_"),weekdays:Ya,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:Aa("[ "),nextDay:Aa("[ "),lastDay:Aa("[ "),nextWeek:Aa("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Aa("[] dddd [").call(this);case 1:case 2:case 4:return Aa("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Ia,mm:Ia,h:"",hh:Ia,d:"",dd:Ia,M:"",MM:Ia,y:"",yy:Ia},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}}),pr.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),pr.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),pr.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"":900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var e,t;return e=pr().startOf("week"),t=this.unix()-e.unix()>=604800?"[]":"[]",0===this.minutes()?t+"dddAh":t+"dddAhmm"},lastWeek:function(){var e,t;return e=pr().startOf("week"),t=this.unix()<e.unix()?"[]":"[]",0===this.minutes()?t+"dddAh":t+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),pr.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t){var n=100*e+t;return 900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}});var so=pr;return so}),define("app/models/User",["config","backbone","underscore","moment","app/collections/channelCollection","application"],function(e,t,n,i,a,s){var r=t.Model.extend({url:s.config.apiRoot+"/user",processSubscriptions:function(){var t=this.get("subscriptions");t&&t.length>0&&n.each(t,function(t){var n=this.getDaysRemainingInSubscription(t);t.expiresIn=n,t.isExpiring=e.subscriptionRenewalAlertDays>=n&&n>=0,t.expiresToday=0===n}.bind(this))},subscribedChannelIds:function(){return n.pluck(this.get("subscriptions"),"channelId")},hasRightsTo:function(e){var t=this.subscribedChannelIds();return n.contains(t,"lehtitimantti")||n.contains(t,"turbotimantti")||n.contains(t,"lehtiturbo")||n.contains(t,e)},isLehtiTimanttiUser:function(){return n.contains(this.subscribedChannelIds(),"lehtitimantti")},isTurboTimanttiUser:function(){return n.contains(this.subscribedChannelIds(),"turbotimantti")},isKirjaTimanttiUser:function(){return n.contains(this.subscribedChannelIds(),"kirjaturbo")},subscribesTo:function(e){return this.isLehtiTimanttiUser()||this.isTurboTimanttiUser()||n.contains(this.subscribedChannelIds(),e)},subscribesToSection:function(e,t){if("books"===e)return!0;var i=t.premium.type||"NONE";if("NONE"===i)return!0;if("DEFAULT"===i)return this.hasRightsTo(e);if("PRODUCT"===i){var a=this.get("accessRights");return n.contains(a,t.premium.productNumber)}},getSubscription:function(e){var t=this.get("subscriptions"),i=n.find(t,function(t){return t.channelId===e});return i},getSponsor:function(e){var t=o.getSubscription(e);return t&&t.sponsoredBy?{sponsoredBy:t.sponsoredBy,sponsorShortName:t.sponsorShortName,sponsorId:t.sponsorId}:void 0},hasFavorited:function(e){return n.contains(this.getFavorites(),e)},addToFavorites:function(e){var t=this.getFavorites();t=n.union(t,e),this.saveFavorites(t)},getFavorites:function(){var e=this.get("favorites"),t=this.get("externalChannelIds");return n.each(t,function(t){n.contains(e,t)||e.push(t)}),e},hasBookmarked:function(e){for(var t=n.map(this.getBookmarks(),function(e){return n.pick(e,"articleURI")}),i=0;t.length>i;i++)if(t[i].articleURI===e)return!0;return!1},getBookmarks:function(){return this.get("bookmarks")},addToBookmarks:function(e){var t=n.clone(this.getBookmarks());t.unshift({articleURI:e}),this.saveBookmarks(t)},removeFromBookmarks:function(e){var t=n.filter(this.getBookmarks(),function(t){return t.articleURI!==e});this.saveBookmarks(t)},saveBookmarks:function(e){this.set("bookmarks",e),this.set("saveBookmarks",!0),this.save(),this.set("saveBookmarks",!1)},saveLanguage:function(e){this.set("language",e),this.set("saveLanguage",!0),this.save(),this.set("saveLanguage",!1)},refreshSubscriptions:function(){var e=new $.Deferred;return $.ajax({url:this.url+"/refreshSubscriptions"}).done(function(t){e.resolve(t)}),e},saveViewedMarketingMessages:function(){this.set("saveViewedMarketingMessages",!0),this.save(),this.set("saveViewedMarketingMessages",!1)},saveContentFilter:function(e){e?this.set("contentFilter","no-filter"):this.set("contentFilter","fi"),this.set("saveContentFilter",!0),this.save(null,{dataType:"text",wait:!0,success:function(){s.commands.execute("reloadChannelsAndRefreshView")}}),this.set("saveContentFilter",!1)},markMessageAsRead:function(e){var t=this.get("viewedMarketingMessages");t.push(e);var n=a.marketingMessages.get(e);n&&n.set("isRead",!0),this.set("viewedMarketingMessages",null,{silent:!0}),this.set("viewedMarketingMessages",t),s.commands.execute("updateMarketingAlert")},getUnViewedMarketingMessageIds:function(){if(e.oneArticleAccess)return[];var t=this.getAllMarketingMessages(),i=t.pluck("id"),a=this.get("viewedMarketingMessages");return n.difference(i,a)},getAllMarketingMessages:function(){var e=a.marketingMessages,t=this.get("marketingMessages");return e.add(t),e.sortBy(function(e){return e.get("published")}),e},getDaysRemainingInSubscription:function(e){var t=-1;if(e.subscriptionEnds){var n=new Date,a=i([n.getFullYear(),n.getMonth(),n.getDate()]),s=i(e.subscriptionEnds);t=s.diff(a,"days")}return t},getSubscriptionsEndingInDays:function(e){var t=[],i=this.get("subscriptions");return n.each(i,function(n){var i=this.getDaysRemainingInSubscription(n);e>i&&i>=0&&t.push({title:n.title,endsIn:i})}.bind(this)),t},channelSubscriptionDaysRemaining:function(e){var t=-1;if(this.subscribesTo(e)){var i=this.get("subscriptions"),a=n.find(i,function(t){return t.channelId===e});a&&(t=this.getDaysRemainingInSubscription(a))}return t},isContinuousSubscription:function(e){if(this.subscribesTo(e)){var t=this.get("subscriptions"),i=n.find(t,function(t){return t.channelId===e});if(i||(i=n.find(t,function(e){return"turbotimantti"===e.channelId})),i&&null===i.subscriptionEnds)return!0}return!1},delayedSave:n.debounce(function(e){e.save()}.bind(this),1500),saveFavorites:function(e){this.set("favorites",e),this.delayedSave(this),s.commands.execute("refreshCurrentView")}}),o=new r;return void 0===e.subscriptionNotRequired||e.subscriptionNotRequired===!1?(o.deferred=o.fetch(),o.deferred.done(function(){o.processSubscriptions()}),o.deferred.error(function(){console.log("User is most likely not defined. Ignore if open-magazine"),o.deferred={}})):o.deferred={},o}),define("app/utils/utilities",["app/models/User","app/collections/channelCollection","moment","language"],function(e,t,n,i){n.locale("en-latest-news-sub-headlines",{calendar:{lastDay:"["+i.yesterday+"]",sameDay:"[]",nextDay:"[]",lastWeek:"["+i["this.week"]+"]",nextWeek:"[]",sameElse:"["+i.older+"]"}});var a=function(e){if(n.locale("en-latest-news-sub-headlines"),isNaN(e))return"";var t=n(e);return t.calendar()},s=function(e,n){var i=t.get(e),a=i?i.isIssue(n):!1;return a?i.getIssue(n):null},r=function(e){e.find("[data-image-src]").each(function(e,t){var n=$(t),i=n.attr("data-image-src"),a=n.attr("src");i&&""!==i&&(void 0!==a&&a!==!1?n.attr("src",i):n.css("background-image",i),n.attr("data-image-src",null))})},o=function(){return{"940x188":3433,"600x300":554,"570x160":5575,"300x250":170,"1x1":16}},l=function(e){return $("<div/>").html(e).text()},c=function c(e,t,n,i){var a=new Date;a.setTime(a.getTime()+1e3*60*60*24*n);var s="expires="+a.toUTCString(),r=e+"="+t+"; "+s;void 0!==i&&(r=r+"; path="+i),document.cookie=r},d=function d(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;n.length>i;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}},u=function(e){return e+="",e.charAt(0).toUpperCase()+e.substring(1)},h=function(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="/_,:;",n="aaaaaaeeeeeiiiiooooouuuunc------",i=0,a=t.length;a>i;i++)e=e.replace(RegExp(t.charAt(i),"g"),n.charAt(i));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},p=function(e,t,n){var i="",a=t;return e&&t&&n&&(i="/editor/"+e+"/"+n,a=a.replace(t,"<a href='/editor/"+e+"/"+n+"'><span class='author-name'>"+t+"</span></a>")),a};return{getIssue:s,lazyLoadImages:r,getDateSubHeadline:a,htmlDecode:l,getAddSizeIds:o,getCookie:d,setCookie:c,capitalizeFirstLetter:u,slugify:h,editorLink:p}}),define("app/models/Article",["backbone","app/utils/utilities","app/models/User"],function(e,t,n){var i=e.Model.extend({initialize:function(){this.get("title")&&this.set("articleSlug",t.slugify(this.get("title"))),this.setLocked()
},setLocked:function(){if(!n)return this.set("locked",!0),void 0;this.get("premium")||this.set("locked",!1);var e=_.find(this.get("channels"),function(e){return n.hasRightsTo(e)});e&&this.set("locked",!1)}});return i}),define("app/collections/ArticleCollection",["backbone","underscore","moment","app/models/Article"],function(e,t,n,i){var a=e.Collection.extend({model:i,initialize:function(){},getRangeOfArticles:function(e,t){var n=this.models.slice(e,t);return this.toCollection(n)},getArticlesStartingFrom:function(e){var n=t.rest(this.models,e);return this.toCollection(n)},getRemainingArticlesInHalves:function(e,t){var n=this.getArticlesStartingFrom(e),i=n.length/2;return t?this.toCollection(n.first(i)):this.toCollection(n.rest(i))},getArticlesById:function(e){var n=this,i=t.map(e,function(e){return n.get(e)});return i=t.filter(i,function(e){return void 0!==e})},getGroupedArticlesByDay:function(){var e=this.models,i=t.chain(t.sortBy(e,function(e){return-e.attributes.published})).groupBy(function(e){return n(e.attributes.published).format("YYYY MM DD")}).map(function(e,t){return{day:t,articles:e}}).value();return i},toCollection:function(t){return new e.Collection(t)}});return a}),define("template/helpers/join",["Handlebars"],function(e){var t=function(e){var t=Array.prototype.slice.call(arguments,1);return t=t.filter(function(e){return"string"==typeof e}),t.join(e)};return e.registerHelper("join",t),t}),define("template/helpers/t",["Handlebars","language"],function(e,t){var n=function(e){var n=t[e];return n?n:e.replace(/\./g," ")};return e.registerHelper("t",n),n}),define("template/helpers/picture",["Handlebars","underscore"],function(e,t){var n=function(e,n,i,a){var s;if(e&&e.length?s=t.first(e):e&&(s=e),s&&s.variations){s.url;var r=isNaN(n)||""==n?$(window).width():n,o=isNaN(i)||""==i?$(window).height():i,l={url:s.url,width:s.width,height:s.height},c=[];t.each(s.variations,function(e){e.height>=o&&e.width>=r&&(c[c.length]=e)}),c.length>0&&(l=t.last(c));var d={originalUrl:s.url,orientation:s.orientation,embedId:s.embedId,url:l.url,width:l.width,height:l.height,caption:s.caption,credit:s.credit};this.image=d}return a.fn(this)};return e.registerHelper("picture",n),n}),define("template/helpers/image",["Handlebars","underscore"],function(e,t){var n=function(e,n){if(e){var i;i="string"!=typeof e?t.first(e).url:e;var a="url("+i+")";return"<span class='"+n+"' style='background-image:data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw==;'"+" data-image-src='"+a+"'>"+"</span>"}return""};return e.registerHelper("image",n),n}),define("hbs!app/templates/articles/articleItemView",["hbs","Handlebars","template/helpers/join","template/helpers/t","template/helpers/picture","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i,a,s="";return s+='\n    <div class="top3-article-container">\n        <div class="top3-article-wrap">\n            <div class="top3-article-header static">',a={hash:{}},t=n.t,i=t?t.call(e,"Top.news",a):j.call(e,"t","Top.news",a),(i||0===i)&&(s+=i),s+='</div>\n            <div id="top3-article-region" class="top3-article-region"></div>\n        </div>\n    </div>\n'}function r(e,t){var i,a="";return a+='\n    <div class="next-prev-navi ',i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(4,o,t)}),(i||0===i)&&(a+=i),a+=" ",i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(7,c,t)}),(i||0===i)&&(a+=i),a+='">\n        <nav>\n            \n            ',i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(10,u,t)}),(i||0===i)&&(a+=i),a+="\n\n            ",i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(30,L,t)}),(i||0===i)&&(a+=i),a+="\n        </nav>\n    </div>\n"}function o(e,t){var i;return i=n.unless.call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(5,l,t)}),i||0===i?i:""}function l(){return"only-next"}function c(e,t){var i;return i=n.unless.call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(8,d,t)}),i||0===i?i:""}function d(){return"only-prev"}function u(e,t){var i,a,s,r="";return r+="\n                ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:P.program(18,g,t),fn:P.program(11,h,t)}),(i||0===i)&&(r+=i),r+='\n                <div class="direction">',s={hash:{}},i=n.t,a=i?i.call(e,"Next",s):j.call(e,"t","Next",s),(a||0===a)&&(r+=a),r+="</div>\n                ",a=n["if"].call(e,(i=e.nextArticle,i=null==i||i===!1?i:i.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:P.program(28,k,t),fn:P.program(25,w,t)}),(a||0===a)&&(r+=a),r+="\n                <h3>",i=e.nextArticle,i=null==i||i===!1?i:i.title,a=typeof i===z?i.apply(e):i,(a||0===a)&&(r+=a),r+='</h3>\n                <p class="description hide-mobile">'+R((i=e.nextArticle,i=null==i||i===!1?i:i.channelIngress,typeof i===z?i.apply(e):i))+"</p>\n            </a>\n            "}function h(e,t){var i,a="";return a+="\n                <a ",i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(12,p,t)}),(i||0===i)&&(a+=i),a+='\n                   class="article-to-article ',i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(14,m,t)}),(i||0===i)&&(a+=i),a+='">\n                '}function p(e){var t,i,a="";return a+='href="/',i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i)))+'"'}function m(){return"next "}function f(){return"hide-mobile"}function g(e,t){var i,a="";return a+="\n                    ",i=n["if"].call(e,e.isDailyNews,{hash:{},inverse:P.program(22,_,t),fn:P.program(19,v,t)}),(i||0===i)&&(a+=i),a+="\n                "}function v(e,t){var i,a="";return a+="\n                    <a ",i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(20,y,t)}),(i||0===i)&&(a+=i),a+='\n                       class="article-to-article ',i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(14,m,t)}),(i||0===i)&&(a+=i),a+='">\n                    '}function y(e){var t,i,a="";return a+='href="/article/',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),a+=R(t)+"/paivan-uutiset/",i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i)))+'"'}function _(e,t){var i,a="";return a+="\n                    <a ",i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.noop,fn:P.program(23,b,t)}),(i||0===i)&&(a+=i),a+='\n                       class="article-to-article ',i=n["if"].call(e,e.nextArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(14,m,t)}),(i||0===i)&&(a+=i),a+='">\n                    '}function b(e){var t,i,a="";return a+='href="/article/',i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.channelId,e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.channelId,e.sectionId,(t=e.nextArticle,null==t||t===!1?t:t.articleSlug),(t=e.nextArticle,null==t||t===!1?t:t.id),i)))+'"'}function w(e,t){var i,a,s,r="";return r+="\n                    ",s={hash:{},inverse:P.noop,fn:P.program(26,M,t)},i=n.picture,a=i?i.call(e,(i=e.nextArticle,null==i||i===!1?i:i.images),150,150,s):j.call(e,"picture",(i=e.nextArticle,null==i||i===!1?i:i.images),150,150,s),(a||0===a)&&(r+=a),r+="\n                "}function M(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"navigation-thumbnail hide-mobile",a):j.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"navigation-thumbnail hide-mobile",a),(i||0===i)&&(s+=i),s+="\n                    "}function k(e){var t,i="";return i+='\n                    <div class="navigation-thumbnail thumbnail placeholder hide-mobile">\n                        <div class="placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===z?t.apply(e):t),i+=R(t)+'"></div>\n                    </div>\n                '}function L(e,t){var i,a,s,r="";return r+="\n                ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:P.program(36,C,t),fn:P.program(31,T,t)}),(i||0===i)&&(r+=i),r+='\n                <div class="direction">',s={hash:{}},i=n.t,a=i?i.call(e,"Prev",s):j.call(e,"t","Prev",s),(a||0===a)&&(r+=a),r+="</div>\n                ",a=n["if"].call(e,(i=e.prevArticle,i=null==i||i===!1?i:i.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:P.program(28,k,t),fn:P.program(43,E,t)}),(a||0===a)&&(r+=a),r+="\n                <h3>",i=e.prevArticle,i=null==i||i===!1?i:i.title,a=typeof i===z?i.apply(e):i,(a||0===a)&&(r+=a),r+='</h3>\n                <p class="description hide-mobile">'+R((i=e.prevArticle,i=null==i||i===!1?i:i.channelIngress,typeof i===z?i.apply(e):i))+"</p>\n            </a>\n            "}function T(e,t){var i,a="";return a+="\n                <a ",i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(32,x,t)}),(i||0===i)&&(a+=i),a+='\n                   class="article-to-article ',i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(34,S,t)}),(i||0===i)&&(a+=i),a+='">\n                '}function x(e){var t,i,a="";return a+='href="/',i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i)))+'"'}function S(){return"prev "}function C(e,t){var i,a="";return a+="\n                    ",i=n["if"].call(e,e.isDailyNews,{hash:{},inverse:P.program(40,Y,t),fn:P.program(37,I,t)}),(i||0===i)&&(a+=i),a+="\n                "}function I(e,t){var i,a="";return a+="\n                    <a ",i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(38,D,t)}),(i||0===i)&&(a+=i),a+='\n                       class="article-to-article ',i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(34,S,t)}),(i||0===i)&&(a+=i),a+='">\n                    '}function D(e){var t,i,a="";return a+='href="/article/',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),a+=R(t)+"/paivan-uutiset/",i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i)))+'"'}function Y(e,t){var i,a="";return a+="\n                    <a ",i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.noop,fn:P.program(41,A,t)}),(i||0===i)&&(a+=i),a+='\n                       class="article-to-article ',i=n["if"].call(e,e.prevArticle,{hash:{},inverse:P.program(16,f,t),fn:P.program(34,S,t)}),(i||0===i)&&(a+=i),a+='">\n                    '}function A(e){var t,i,a="";return a+='href="/article/',i={hash:{}},a+=R((t=n.join,t?t.call(e,"/",e.channelId,e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i):j.call(e,"join","/",e.channelId,e.sectionId,(t=e.prevArticle,null==t||t===!1?t:t.articleSlug),(t=e.prevArticle,null==t||t===!1?t:t.id),i)))+'"'}function E(e,t){var i,a,s,r="";return r+="\n                    ",s={hash:{},inverse:P.noop,fn:P.program(26,M,t)},i=n.picture,a=i?i.call(e,(i=e.prevArticle,null==i||i===!1?i:i.images),150,150,s):j.call(e,"picture",(i=e.prevArticle,null==i||i===!1?i:i.images),150,150,s),(a||0===a)&&(r+=a),r+="\n                "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var N,H="",j=n.helperMissing,P=this,R=this.escapeExpression,z="function";return H+='<div id="article-body-region" class="article-body-region"></div>\n\n',N=n["if"].call(t,t.showTop3,{hash:{},inverse:P.program(3,r,a),fn:P.program(1,s,a)}),(N||0===N)&&(H+=N),H});return n}),define("template/helpers/unreadMessages",["Handlebars","app/models/User"],function(e,t){var n=function(){var e="",n=t.getUnViewedMarketingMessageIds();return n.length&&(e="<span class='unread'>"+n.length+"</span>"),e};e.registerHelper("unreadMessages",n)}),define("template/helpers/hasRightsTo",["Handlebars","app/models/User","app/collections/channelCollection"],function(e,t,n){var i=function(e,i){var a="",s=n.get(e),r=!t.get("sweden"),o=s?s.get("region"):"";return a+=t.hasRightsTo(e)||r&&"sv"==o?i.fn(this):i.inverse(this)};e.registerHelper("hasRightsTo",i)}),define("template/helpers/isFavorited",["Handlebars","app/models/User"],function(e,t){var n=function(e,n){var i="";return i+=t.hasFavorited(e)?n.fn(this):n.inverse(this)};e.registerHelper("isFavorited",n)}),define("hbs!app/templates/common/brandHeaderView",["hbs","Handlebars","template/helpers/unreadMessages","template/helpers/t","template/helpers/hasRightsTo","template/helpers/isFavorited"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+="\n\n\n\n\n\n    ",i=n["if"].call(e,e.useTextHeader,{hash:{},inverse:P.program(15,m,t),fn:P.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n\n    ",i=n["if"].call(e,e.showChannelTools,{hash:{},inverse:P.noop,fn:P.program(20,v,t)}),(i||0===i)&&(a+=i),a+="\n\n"}function r(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.bookChannelPage,{hash:{},inverse:P.program(6,c,t),fn:P.program(3,o,t)}),(i||0===i)&&(a+=i),a+='\n            <h1 class="center-me-vertical channel-title">\n                ',i=n["if"].call(e,e.channelTitle,{hash:{},inverse:P.program(13,p,t),fn:P.program(11,h,t)}),(i||0===i)&&(a+=i),a+="\n            </h1>\n        </a>\n    "}function o(e,t){var i,a,s,r="";return r+='\n            <a href="/books" class="cross-ch-logo-link ',i=n["if"].call(e,e.externalLink,{hash:{},inverse:P.noop,fn:P.program(4,l,t)}),(i||0===i)&&(r+=i),r+='" title="',s={hash:{}},i=n.t,a=i?i.call(e,"Books",s):R.call(e,"t","Books",s),(a||0===a)&&(r+=a),r+='"\n               data-track="brand header" data-target-channel="books">\n        '}function l(){return"external-link"}function c(e,t){var i,a="";return a+='\n            <a href="',(i=n.mainSectionId)?i=i.call(e,{hash:{}}):(i=e.mainSectionId,i=typeof i===z?i.apply(e):i),a+=V(i)+'" class="cross-ch-logo-link ',i=n["if"].call(e,e.externalLink,{hash:{},inverse:P.noop,fn:P.program(4,l,t)}),(i||0===i)&&(a+=i),a+='" data-track="brand header"\n               title="',i=n["if"].call(e,e.channelTitle,{hash:{},inverse:P.program(9,u,t),fn:P.program(7,d,t)}),(i||0===i)&&(a+=i),a+='" data-target-channel="',(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),a+=V(i)+'">\n        '}function d(e){var t;return(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===z?t.apply(e):t),V(t)}function u(e){var t;return(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===z?t.apply(e):t),V(t)}function h(e){var t,i="";return i+="\n                    ",(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===z?t.apply(e):t),i+=V(t)+"\n                "}function p(e){var t,i="";return i+="\n                    ",(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===z?t.apply(e):t),i+=V(t)+"\n                "}function m(e,t){var i,a="";return a+='\n            <a href="',(i=n.channelLink)?i=i.call(e,{hash:{}}):(i=e.channelLink,i=typeof i===z?i.apply(e):i),a+=V(i)+'" title="',(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===z?i.apply(e):i),a+=V(i)+'"\n               class="',i=n["if"].call(e,e.externalLink,{hash:{},inverse:P.noop,fn:P.program(4,l,t)}),(i||0===i)&&(a+=i),a+=" icon-logo-",(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),a+=V(i)+" brand-logo ",i=n["if"].call(e,e.subscriptionExpiresIn,{hash:{},inverse:P.noop,fn:P.program(16,f,t)}),(i||0===i)&&(a+=i),a+='"\n               data-track="brand header" data-target-channel="',(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),a+=V(i)+'"></a>\n        ',i=n["if"].call(e,e.subscriptionExpiresIn,{hash:{},inverse:P.noop,fn:P.program(18,g,t)}),(i||0===i)&&(a+=i),a+="\n    "}function f(){return"hide-mobile"}function g(e){var t,i="";return i+='\n        \n                <a href="',(t=n.channelLink)?t=t.call(e,{hash:{}}):(t=e.channelLink,t=typeof t===z?t.apply(e):t),i+=V(t)+'" class="channel-icon icon-brand-icon-',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),i+=V(t)+'" data-track="brand header"\n                   data-target-channel="',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),i+=V(t)+'"></a>\n        '}function v(e,t){var i,a="";return a+="\n\n    \n        ",i=n["if"].call(e,e.subscriptionExpiresIn,{hash:{},inverse:P.noop,fn:P.program(21,y,t)}),(i||0===i)&&(a+=i),a+="\n\n        ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:P.program(28,M,t),fn:P.program(26,w,t)}),(i||0===i)&&(a+=i),a+="\n\n        ",i=n["if"].call(e,e.headerSocialMedia,{hash:{},inverse:P.noop,fn:P.program(35,S,t)}),(i||0===i)&&(a+=i),a+="\n\n        ",i=n.unless.call(e,e.favoritesLocked,{hash:{},inverse:P.noop,fn:P.program(38,I,t)}),(i||0===i)&&(a+=i),a+="\n\n    "}function y(e,t){var i,a,s,r="";return r+='\n                <a class="subscription-ends-bubble click-to-buy" href="/buy/',(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),r+=V(i)+'">\n                    ',i=n["if"].call(e,e.expiresToday,{hash:{},inverse:P.program(24,b,t),fn:P.program(22,_,t)}),(i||0===i)&&(r+=i),r+='\n                    <span class="continue-subscription">',s={hash:{}},i=n.t,a=i?i.call(e,"Continue.subscription",s):R.call(e,"t","Continue.subscription",s),(a||0===a)&&(r+=a),r+="</span>\n                </a>\n        "}function _(e){var t,i,a,s="";return s+='\n                        <span class="subscription-expires">',a={hash:{}},t=n.t,i=t?t.call(e,"Your.subscription.ends.today",a):R.call(e,"t","Your.subscription.ends.today",a),(i||0===i)&&(s+=i),s+="</span>\n                    "}function b(e){var t,i,a,s="";return s+='\n                        <span class="subscription-expires">',a={hash:{}},t=n.t,i=t?t.call(e,"Your.subscription.ends.in",a):R.call(e,"t","Your.subscription.ends.in",a),(i||0===i)&&(s+=i),s+=" ",(i=n.subscriptionExpiresIn)?i=i.call(e,{hash:{}}):(i=e.subscriptionExpiresIn,i=typeof i===z?i.apply(e):i),s+=V(i)+" ",a={hash:{}},t=n.t,i=t?t.call(e,"after.days",a):R.call(e,"t","after.days",a),(i||0===i)&&(s+=i),s+="\n                            .</span>\n                    "}function w(e){var t,i,a,s="";return s+='\n                <a class="brand-button ',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),s+=V(t)+'-gradient branded-login-button" href="http://',(t=n.summaHost)?t=t.call(e,{hash:{}}):(t=e.summaHost,t=typeof t===z?t.apply(e):t),s+=V(t)+'/login"\n                   title="',a={hash:{}},t=n.t,i=t?t.call(e,"log.in",a):R.call(e,"t","log.in",a),(i||0===i)&&(s+=i),s+='">\n                    ',a={hash:{}},t=n.t,i=t?t.call(e,"Log.in.short",a):R.call(e,"t","Log.in.short",a),(i||0===i)&&(s+=i),s+="\n                </a>\n        "}function M(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:P.program(31,L,t),fn:P.program(29,k,t)},i=n.hasRightsTo,a=i?i.call(e,e.channelId,s):R.call(e,"hasRightsTo",e.channelId,s),(a||0===a)&&(r+=a),r+="\n        "}function k(){return"\n            "}function L(e,t){var i,a="";return a+="\n                ",i=n["if"].call(e,e.isNotMPC,{hash:{},inverse:P.noop,fn:P.program(32,T,t)}),(i||0===i)&&(a+=i),a+="\n            "}function T(e,t){var i,a,s,r="";return r+='\n                    <a class="brand-button ',(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),r+=V(i)+"-gradient subscribe-button click-to-buy ",i=n["if"].call(e,e.purchasesLocked,{hash:{},inverse:P.noop,fn:P.program(33,x,t)}),(i||0===i)&&(r+=i),r+='"\n                       href="/buy/',(i=n.channelId)?i=i.call(e,{hash:{}}):(i=e.channelId,i=typeof i===z?i.apply(e):i),r+=V(i)+'" title="',s={hash:{}},i=n.t,a=i?i.call(e,"Subscribe.channel",s):R.call(e,"t","Subscribe.channel",s),(a||0===a)&&(r+=a),r+='">\n                        <span class="icon-subscribe-lock-white"></span>\n                        <span class="subscribe-button-text">\n                            ',s={hash:{}},i=n.t,a=i?i.call(e,"Subscribe.channel",s):R.call(e,"t","Subscribe.channel",s),(a||0===a)&&(r+=a),r+="\n                        </span>\n                    </a>\n                "}function x(){return"purchases-locked"}function S(e,t){var i,a="";return a+='\n                <div class="social-media-link-container">\n\n                    ',i=n.each.call(e,e.headerSocialMedia,{hash:{},inverse:P.noop,fn:P.program(36,C,t)}),(i||0===i)&&(a+=i),a+="\n\n                </div>\n        "}function C(e){var t,i,a="";return a+='\n                        <a href="'+V((t=e.link,typeof t===z?t.apply(e):t))+'" class="'+V((t=e["class"],typeof t===z?t.apply(e):t))+'" title="',i={hash:{}},a+=V((t=n.t,t?t.call(e,e.title,i):R.call(e,"t",e.title,i)))+'"> </a>\n                    '}function I(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:P.program(41,Y,t),fn:P.program(39,D,t)},i=n.isFavorited,a=i?i.call(e,e.channelId,s):R.call(e,"isFavorited",e.channelId,s),(a||0===a)&&(r+=a),r+="\n        "}function D(){var e="";return e+="\n            \n            "}function Y(e){var t,i="";return i+='\n                    <div class="icon-favorite-star-unchecked favorite-toggle" data-channel="',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===z?t.apply(e):t),i+=V(t)+'"></div>\n            '}function A(e){var t,i,a,s="";return s+='\n\n\n\n        <a class="icon-logo-text-summa brand-logo hide-mobile"></a>\n\n        <nav class="dashboard-tabs">\n            <a class="selected favorites" data-toggle="dashboard-grid">',a={hash:{}},t=n.t,i=t?t.call(e,"Favorites",a):R.call(e,"t","Favorites",a),(i||0===i)&&(s+=i),s+='</a><a class="latest"\n                                                                                                 data-toggle="dashboard-latest-news">',a={hash:{}},t=n.t,i=t?t.call(e,"Latest",a):R.call(e,"t","Latest",a),(i||0===i)&&(s+=i),s+='</a>\n            <span class="stretch"></span>\n        </nav>\n\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var E,N,H,j="",P=this,R=n.helperMissing,z="function",V=this.escapeExpression;return j+='<a class="channel-menu-toggle icon-header-logo-summa" href="#" data-track="channel menu toggle">\n    ',H={hash:{}},E=n.unreadMessages,N=E?E.call(t,"",H):R.call(t,"unreadMessages","",H),(N||0===N)&&(j+=N),j+="\n</a>\n\n",N=n.unless.call(t,t.dashboard,{hash:{},inverse:P.program(43,A,a),fn:P.program(1,s,a)}),(N||0===N)&&(j+=N),j+="\n\n\n"});return n}),define("app/utils/NoClickDelay",["environment","app/device"],function(e,t){function n(n){if(n.length){this.element=n[0];var i=navigator.userAgent.toLowerCase().indexOf("chrome")>0;!window.Touch||e.desktop||i||t.iOSModern||this.element.addEventListener("touchstart",this,!1)}}return n.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e)}},onTouchStart:function(e){e.preventDefault(),this.moved=!1,this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)},onTouchMove:function(){this.moved=!0},onTouchEnd:function(e){if(this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),!this.moved){var t=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);3===t.nodeType&&(t=t.parentNode);var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),t.dispatchEvent(n)}}},n}),define("app/utils/contentRules",["app/models/User"],function(e){var t=function(){return 0==e.get("sweden")&&!e.get("anonymous")},n=function(){return 0==e.get("sweden")},i=function(){return 0==e.get("sweden")},a=function(){return e.get("sweden")?"se":""},s=function(){return e.get("anonymous")},r=function(){return e.get("anonymous")},o=function(){return e.get("anonymous")},l=function(){return e.get("anonymous")},c=function(){return e.get("anonymous")},d=function(){return!e.get("anonymous")};return{showBookChannel:t,showTurboTimanttiAd:n,showContentToggle:i,getSearchRegion:a,settingsDisabled:s,favoritesLocked:r,hideBrandChannels:o,hideCrossChannels:l,purchasesLocked:c,showOtherChannelsBox:d}}),define("app/views/purchase/purchase",["application","app/collections/channelCollection","app/utils/contentRules"],function(e,t,n){return{buyClick:function(i){if(n.purchasesLocked())return!1;if(localStorage.purchaseReturn=window.location.href,i&&i.chosenBookId)e.commands.execute("openPurchaseOverlay",{chosenBookId:i.chosenBookId});else{var a=t.get(i),s=a?a.get("region"):"";"fi"!=s&&a?"sv"==s&&e.commands.execute("performSwedenPurchase",a):e.commands.execute("openPurchaseOverlay",{chosenChannelId:i})}return!1},showLogin:function(t){e.commands.execute("openLoginToolTip",t)}}}),define("app/views/common/BrandHeaderView",["config","backbone.marionette","application","environment","hbs!app/templates/common/brandHeaderView","app/models/User","app/utils/NoClickDelay","template/helpers/t","app/views/purchase/purchase","app/device","app/utils/contentRules"],function(e,t,n,i,a,s,r,o,l,c,d){var u="dashboard-subscription-bubble-shown",h=t.ItemView.extend({template:a,className:function(){var e=this.model||new Backbone.Model,t=e.get("dashboard")?"dashboard":"",n=e.get("channelId")?e.get("channelId"):"";return"brand-header-view "+n+" "+t},initialize:function(){var t=this.model||new Backbone.Model,i="";if(i=n.openMagazinePath?n.openMagazinePath:"/channel/"+t.get("channelId"),t.set("channelLink",i),t.set("isNotMPC","pc"!==t.get("channelId")),n.openMagazinePath&&t.set("openMagazinePath",n.openMagazinePath),(void 0==e.subscriptionNotRequired||0==e.subscriptionNotRequired)&&void 0!=e.channelId){var a=s.channelSubscriptionDaysRemaining(this.model.id);a>=0&&e.subscriptionRenewalAlertDays>=a&&(this.model.set("subscriptionExpiresIn",""+a),0===a&&this.subscriptionsBubbleShownToday()&&this.model.set("expiresToday",!0))}n.commands.addHandler("performSwedenPurchase",this.performSwedenPurchase.bind(this))},templateHelpers:function(){var t=this.options.bookChannelPage,i=n.location.get("currentPageId");this.model.get("type");var a=t||this.model.get("useAbbreviation"),s=c.iOS70iPad,r={};return e.headerSocialMediaLinks&&void 0!=e.headerSocialMediaLinks[this.model.get("channelId")]&&(r=e.headerSocialMediaLinks[this.model.get("channelId")]),{openMagazine:1==e.openMagazine,bookChannelPage:t,headerSocialMedia:r,showChannelTools:!("channel"!==i&&"article"!==i||e.oneArticleAccess||this.model.get("error")),useTextHeader:a,externalLink:s,summaHost:e.summaHost,purchasesLocked:d.purchasesLocked(),favoritesLocked:d.favoritesLocked()}},events:{"click .channel-menu-toggle":"channelmenuToggle","click .favorite-toggle":"addToFavorites","click .dashboard-tabs a":"mobileViewToggle","click .click-to-buy":function(e){return e.preventDefault(),l.buyClick(this.model.id)}},subscriptionsBubbleShownToday:function(){var e=(new Date).toLocaleDateString(),t=localStorage.getItem(u);return localStorage.setItem(u,e),t!==e},addToFavorites:function(e){s.addToFavorites(this.model.get("id")),this.render(),e.preventDefault()},mobileViewToggle:function(e){$(e.target).hasClass("selected")||($(".dashboard-tabs a").removeClass("selected"),$("#dashboard-channels").children().addClass("mobile-hidden"),$(e.target).addClass("selected"),$("#dashboard-channels ."+$(e.target).data("toggle")).removeClass("mobile-hidden"))},channelmenuToggle:function(e){n.commands.execute("toggleMenu","leftMenu"),e.preventDefault()},onShow:function(){new r(this.$el)},performSwedenPurchase:function(t){var a=e.swedenCampaigns,r=t.get("channelId"),o=a?a[r]:null;if(i.storeOpen&&o&&s.get("sweden")){var l;void 0!==localStorage.purchaseReturn?(l=localStorage.purchaseReturn,l=l.split("?")[0],l=l.replace("#","")):l=e.swedenShop.returnUrl;var c={sku:o,email:s.get("email"),return_url:l+"?shopSuccess="+r,error_url:l+"?shopError=1",cancel_url:l},d="true";$.ajax(n.config.apiRoot+"/hash/"+d,{type:"POST",data:JSON.stringify(c),dataType:"json",contentType:"application/json",processData:!0}).done(function(t){var n=e.swedenShop.url;c.hash=t.hash;var i=document.createElement("form");i.action=n,i.method="POST",i.style.display="none";for(var a in c){var s=document.createElement("input");s.name=a,s.value=c[a],i.appendChild(s)}this.el.appendChild(i),i.submit()}.bind(this))}}});return h}),define("template/helpers/articleDate",["Handlebars","environment"],function(e,t){var n=function(e){var n="";if(e&&!isNaN(e)){var i=new Date(e),a=i.getMonth()+1;n=t.summaSweden?i.getFullYear()+"."+a+"."+i.getDate():i.getDate()+"."+a+"."+i.getFullYear()}return n};return e.registerHelper("articleDate",n),n}),define("template/helpers/timeStamp",["Handlebars"],function(e){var t=function(e){var t=new Date(e);t.getMonth()+1;var n=t.getHours();10>n&&(n="0"+n);var i=t.getMinutes();10>i&&(i="0"+i);var a=n+":"+i;return a};return e.registerHelper("timeStamp",t),t}),define("template/helpers/isUpdated",["Handlebars","template/helpers/articleDate","template/helpers/timeStamp"],function(e,t,n){var i=function(e,i,a){var s="",r=12e5;return i-e>r&&(t(i),n(i),s=a.fn(this)),s};e.registerHelper("isUpdated",i)}),define("template/helpers/fullDateTime",["Handlebars","template/helpers/articleDate","template/helpers/timeStamp"],function(e,t,n){"use strict";var i=function(e){var i="";if(e){var a=t(e),s=n(e);i+=a+" "+s}return i};e.registerHelper("fullDateTime",i)}),define("template/helpers/isLessThan",["Handlebars"],function(e){var t=function(e,t,n){var i="";return t>e&&(i=n.fn(this)),i};e.registerHelper("isLessThan",t)}),define("template/helpers/chooseImageAt",["Handlebars"],function(e){var t=function(e,t,n){var i="";if(e.length>t){var a=e[t];a.url;var s=$(window).width(),r={url:a.url,width:a.width,height:a.height};s>=768?a.variations.large&&(r=a.variations.large):s>=540?a.variations.medium&&(r=a.variations.medium):a.variations.small&&(r=a.variations.small);var o={originalUrl:a.url,orientation:a.orientation,embedId:a.embedId,url:r.url,width:r.width,height:r.height,caption:a.caption,credit:a.credit};this.image=o,i=n.fn(this)}return i};e.registerHelper("chooseImageAt",t)}),define("hbs!app/templates/articles/articleBodyView",["hbs","Handlebars","template/helpers/isUpdated","template/helpers/fullDateTime","template/helpers/t","template/helpers/isLessThan","template/helpers/chooseImageAt"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t;return(t=n.ingress)?t=t.call(e,{hash:{}}):(t=e.ingress,t=typeof t===L?t.apply(e):t),t||0===t?t:""}function r(){return" edited"}function o(e,t){var i,a="";return a+="\n\n            ",i=n["if"].call(e,e.author,{hash:{},inverse:T.noop,fn:T.program(6,l,t)}),(i||0===i)&&(a+=i),a+="\n        "}function l(e){var t,i="";return i+="\n                ",(t=n.authorLink)?t=t.call(e,{hash:{}}):(t=e.authorLink,t=typeof t===L?t.apply(e):t),(t||0===t)&&(i+=t),i+="\n            "}function c(e,t){var i,a,s,r="";return r+="\n            ",i=n["if"].call(e,e.author,{hash:{},inverse:T.noop,fn:T.program(9,d,t)}),(i||0===i)&&(r+=i),r+='\n            <span class="dates">\n            ',s={hash:{}},i=n.fullDateTime,a=i?i.call(e,e.published,s):x.call(e,"fullDateTime",e.published,s),(a||0===a)&&(r+=a),r+="\n                ",s={hash:{},inverse:T.noop,fn:T.program(11,u,t)},i=n.isUpdated,a=i?i.call(e,e.published,e.edited,s):x.call(e,"isUpdated",e.published,e.edited,s),(a||0===a)&&(r+=a),r+="\n            </span>\n        "
}function d(e){var t,i="";return i+="\n                ",(t=n.authorLink)?t=t.call(e,{hash:{}}):(t=e.authorLink,t=typeof t===L?t.apply(e):t),(t||0===t)&&(i+=t),i+=" <span class='hide-mobile'>&ndash;</span>\n            "}function u(e){var t,i,a,s="";return s+='\n                    <span class="art-updated"> ',a={hash:{}},t=n.t,i=t?t.call(e,"Updated",a):x.call(e,"t","Updated",a),(i||0===i)&&(s+=i),s+="</span> ",a={hash:{}},t=n.fullDateTime,i=t?t.call(e,e.edited,a):x.call(e,"fullDateTime",e.edited,a),(i||0===i)&&(s+=i),s+="\n                "}function h(){return"icon-bookmark-on"}function p(){return"icon-bookmark-off"}function m(e,t){var i,a,s,r="";return r+='\n    <div class="image '+S((i=e.images,i=null==i||i===!1?i:i[0],i=null==i||i===!1?i:i.orientation,typeof i===L?i.apply(e):i))+" ",s={hash:{},inverse:T.noop,fn:T.program(18,f,t)},i=n.isLessThan,a=i?i.call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.width),300,s):x.call(e,"isLessThan",(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.width),300,s),(a||0===a)&&(r+=a),r+='">\n        ',a=n["if"].call(e,e.showSlideshowIndicator,{hash:{},inverse:T.noop,fn:T.program(20,g,t)}),(a||0===a)&&(r+=a),r+="\n        ",s={hash:{},inverse:T.noop,fn:T.program(22,v,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):x.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(r+=a),r+='\n        <span class="caption">'+S((i=e.images,i=null==i||i===!1?i:i[0],i=null==i||i===!1?i:i.caption,typeof i===L?i.apply(e):i))+" ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.credit),{hash:{},inverse:T.noop,fn:T.program(24,y,t)}),(a||0===a)&&(r+=a),r+="</span>\n    </div>\n"}function f(){return"narrow-image"}function g(e){var t,i="";return i+='\n            <span class="slideshow-indicator icon-imagegallery">',(t=n.imageCount)?t=t.call(e,{hash:{}}):(t=e.imageCount,t=typeof t===L?t.apply(e):t),i+=S(t)+"</span>\n        "}function v(e){var t,n="";return n+='\n            <img src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw==" data-image-src="'+S((t=e.image,t=null==t||t===!1?t:t.url,typeof t===L?t.apply(e):t))+'"\n                 alt="'+S((t=e.image,t=null==t||t===!1?t:t.caption,typeof t===L?t.apply(e):t))+'" data-embed-id="'+S((t=e.image,t=null==t||t===!1?t:t.embedId,typeof t===L?t.apply(e):t))+'" data-original="'+S((t=e.image,t=null==t||t===!1?t:t.originalUrl,typeof t===L?t.apply(e):t))+'"\n                 data-width="'+S((t=e.image,t=null==t||t===!1?t:t.width,typeof t===L?t.apply(e):t))+'" data-height="'+S((t=e.image,t=null==t||t===!1?t:t.height,typeof t===L?t.apply(e):t))+'" data-credit="'+S((t=e.image,t=null==t||t===!1?t:t.credit,typeof t===L?t.apply(e):t))+'"/>\n        '}function y(e){var t,i,a,s="";return a={hash:{}},t=n.t,i=t?t.call(e,"Image",a):x.call(e,"t","Image",a),(i||0===i)&&(s+=i),s+=": "+S((t=e.images,t=null==t||t===!1?t:t[0],t=null==t||t===!1?t:t.credit,typeof t===L?t.apply(e):t))}function _(e){var t,i,a,s="";return s+='\n    <div class="related-article-container ',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===L?t.apply(e):t),s+=S(t)+'">\n        <h1>',a={hash:{}},t=n.t,i=t?t.call(e,"Related.articles",a):x.call(e,"t","Related.articles",a),(i||0===i)&&(s+=i),s+='</h1>\n\n        <div class="related-articles-region"></div>\n    </div>\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var b,w,M,k="",L="function",T=this,x=n.helperMissing,S=this.escapeExpression;return k+='<div class="article-header-container">\n    <div class="kicker-region"></div>\n    <h1 class="article-title">',(b=n.title)?b=b.call(t,{hash:{}}):(b=t.title,b=typeof b===L?b.apply(t):b),(b||0===b)&&(k+=b),k+='</h1>\n</div>\n\n<p class="ingress static">',b=n["if"].call(t,t.hasOwnIngress,{hash:{},inverse:T.noop,fn:T.program(1,s,a)}),(b||0===b)&&(k+=b),k+='</p>\n\n<div class="tooltip-login-bookmark-region"></div>\n\n<div class="art-bar-container ',(b=n.brandId)?b=b.call(t,{hash:{}}):(b=t.brandId,b=typeof b===L?b.apply(t):b),k+=S(b)+'">\n\n    <div class="art-date',M={hash:{},inverse:T.noop,fn:T.program(3,r,a)},b=n.isUpdated,w=b?b.call(t,t.published,t.edited,M):x.call(t,"isUpdated",t.published,t.edited,M),(w||0===w)&&(k+=w),k+='">\n        <span class="',(w=n.brandId)?w=w.call(t,{hash:{}}):(w=t.brandId,w=typeof w===L?w.apply(t):w),k+=S(w)+"-icon icon-brand-icon-",(w=n.brandId)?w=w.call(t,{hash:{}}):(w=t.brandId,w=typeof w===L?w.apply(t):w),k+=S(w)+' ch-brand-icon"></span>\n        ',w=n["if"].call(t,t.isIssue,{hash:{},inverse:T.program(8,c,a),fn:T.program(5,o,a)}),(w||0===w)&&(k+=w),k+='\n    </div>\n\n    <div class="art-toolbar',M={hash:{},inverse:T.noop,fn:T.program(3,r,a)},b=n.isUpdated,w=b?b.call(t,t.published,t.edited,M):x.call(t,"isUpdated",t.published,t.edited,M),(w||0===w)&&(k+=w),k+='">\n        <span class="art-toolbar-item bookmark">\n            <span class="icon icon-bookmark ',w=n["if"].call(t,t.bookmarked,{hash:{},inverse:T.program(15,p,a),fn:T.program(13,h,a)}),(w||0===w)&&(k+=w),k+='"\n                  title="',M={hash:{}},b=n.t,w=b?b.call(t,"Bookmark",M):x.call(t,"t","Bookmark",M),(w||0===w)&&(k+=w),k+='"></span>\n            <span class="text">',M={hash:{}},b=n.t,w=b?b.call(t,"Bookmark",M):x.call(t,"t","Bookmark",M),(w||0===w)&&(k+=w),k+='</span>\n        </span>\n        <span class="art-toolbar-item top-share">\n            <span class="icon share icon-share" title="',M={hash:{}},b=n.t,w=b?b.call(t,"Share.page",M):x.call(t,"t","Share.page",M),(w||0===w)&&(k+=w),k+='"></span>\n            <span class="text">',M={hash:{}},b=n.t,w=b?b.call(t,"Share",M):x.call(t,"t","Share",M),(w||0===w)&&(k+=w),k+='</span>\n        </span>\n    </div>\n\n</div>\n\n<div class="table-data-region ',(w=n.brandId)?w=w.call(t,{hash:{}}):(w=t.brandId,w=typeof w===L?w.apply(t):w),k+=S(w)+'"></div>\n\n',w=n["if"].call(t,(b=t.images,b=null==b||b===!1?b:b[0],null==b||b===!1?b:b.url),{hash:{},inverse:T.noop,fn:T.program(17,m,a)}),(w||0===w)&&(k+=w),k+='\n\n<div class="body cf ',(w=n.brandId)?w=w.call(t,{hash:{}}):(w=t.brandId,w=typeof w===L?w.apply(t):w),k+=S(w)+'">\n    ',(w=n.body)?w=w.call(t,{hash:{}}):(w=t.body,w=typeof w===L?w.apply(t):w),(w||0===w)&&(k+=w),k+='\n    <div class="clear"></div>\n    <div id="buy-content-region"></div>\n</div>\n\n<div class="share-container cf">\n    <span class="art-bottom-item bottom-share">\n        <span class="icon share icon-share" title="',M={hash:{}},b=n.t,w=b?b.call(t,"Share.page",M):x.call(t,"t","Share.page",M),(w||0===w)&&(k+=w),k+='"></span>\n        <span class="text">',M={hash:{}},b=n.t,w=b?b.call(t,"Share",M):x.call(t,"t","Share",M),(w||0===w)&&(k+=w),k+='</span>\n    </span>\n</div>\n\n<div class="muut-region ',(w=n.brandId)?w=w.call(t,{hash:{}}):(w=t.brandId,w=typeof w===L?w.apply(t):w),k+=S(w)+'"></div>\n\n',w=n["if"].call(t,t.relatedArticles,{hash:{},inverse:T.noop,fn:T.program(26,_,a)}),(w||0===w)&&(k+=w),k+="\n"});return n}),define("hbs!app/templates/articles/articleBodyImage",["hbs","Handlebars","template/helpers/chooseImageAt"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,n="";return n+="\n    <img src='data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw==' data-image-src=\""+u((t=e.image,t=null==t||t===!1?t:t.url,typeof t===d?t.apply(e):t))+"\"\n         class='article-embed-image "+u((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===d?t.apply(e):t))+"' data-embed-id='"+u((t=e.image,t=null==t||t===!1?t:t.embedId,typeof t===d?t.apply(e):t))+"' data-original=\""+u((t=e.image,t=null==t||t===!1?t:t.originalUrl,typeof t===d?t.apply(e):t))+"\"\n         data-width='"+u((t=e.image,t=null==t||t===!1?t:t.width,typeof t===d?t.apply(e):t))+"' data-height='"+u((t=e.image,t=null==t||t===!1?t:t.height,typeof t===d?t.apply(e):t))+"' alt='"+u((t=e.image,t=null==t||t===!1?t:t.caption,typeof t===d?t.apply(e):t))+"' data-credit='"+u((t=e.image,t=null==t||t===!1?t:t.credit,typeof t===d?t.apply(e):t))+"'/>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o,l,c="",d="function",u=this.escapeExpression,h=this,p=n.helperMissing;return l={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=n.chooseImageAt,o=r?r.call(t,t.images,t.index,l):p.call(t,"chooseImageAt",t.images,t.index,l),(o||0===o)&&(c+=o),c+="\n"});return n}),define("app/views/articles/CommonArticleBody",["backbone","backbone.marionette","hbs!app/templates/articles/articleBodyImage"],function(e,t,n){var i=t.ItemView.extend({template:n}),a=t.Layout.extend({processBodyImages:function(){var t=this.model.get("images");t&&t.length>1&&_.each(t,function(n,a){if(a>=1){var s=new e.Model({images:t,index:a}),r=new i({model:s}).render(),o=this.$el.find("div#embed-image-"+n.embedId);if(o){o.addClass(s.get("images")[a].orientation);var l=o.next("p");l.length>0&&null==l[0].getAttribute("class")&&o.append(r.$el.html())}}}.bind(this))},triggerLeiki:function(){$("#leiki_summa").remove(),this.$el.find("#buy-content-region").before("<div id='leiki_summa'></div>");var e,t=this.model.get("channelId"),n=this.model.get("sectionId"),i=this.model.id,a="http://"+document.location.host+"/"+t+"/"+n+"/"+i,s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="http://kiwi17.leiki.com/talentum/mwidget?wname=summa"+(a!==void 0&&""!=a?"&cid="+encodeURIComponent(a):"")+"&first="+(e!==void 0?e:"undefined")+"&ts="+(new Date).getTime();var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(s,r),e="no"},triggerTwitter:function(){if($("[src*='//platform.twitter.com']").length)try{twttr.widgets.load()}catch(e){console.warn("Twitter embed failed: "+e.message)}else{var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.class="twitter-script",t.src="//platform.twitter.com/widgets.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}});return a}),define("hbs!app/templates/articles/relatedArticleBodyView",["hbs","Handlebars","template/helpers/chooseImageAt"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,o="";return o+="\n    ",s={hash:{},inverse:h.noop,fn:h.program(2,r,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):p.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(o+=a),o+="\n"}function r(e){var t,n="";return n+='\n        <div class="image '+u((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===d?t.apply(e):t))+' teaser-image">\n            <img src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw==" data-image-src="'+u((t=e.image,t=null==t||t===!1?t:t.url,typeof t===d?t.apply(e):t))+'"\n                 alt="'+u((t=e.image,t=null==t||t===!1?t:t.caption,typeof t===d?t.apply(e):t))+'" data-original="'+u((t=e.image,t=null==t||t===!1?t:t.originalUrl,typeof t===d?t.apply(e):t))+'" data-width="'+u((t=e.image,t=null==t||t===!1?t:t.width,typeof t===d?t.apply(e):t))+'" data-height="'+u((t=e.image,t=null==t||t===!1?t:t.height,typeof t===d?t.apply(e):t))+'"\n                 data-credit="'+u((t=e.image,t=null==t||t===!1?t:t.credit,typeof t===d?t.apply(e):t))+'"/>\n            <span class="caption">'+u((t=e.image,t=null==t||t===!1?t:t.caption,typeof t===d?t.apply(e):t))+"</span>\n        </div>\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l,c="",d="function",u=this.escapeExpression,h=this,p=n.helperMissing;return c+='<h4>\n    <div class="toggle-related icon-arrow-up"></div>',(o=n.title)?o=o.call(t,{hash:{}}):(o=t.title,o=typeof o===d?o.apply(t):o),(o||0===o)&&(c+=o),c+="</h4>\n\n",l=n["if"].call(t,(o=t.images,o=null==o||o===!1?o:o[0],null==o||o===!1?o:o.url),{hash:{},inverse:h.noop,fn:h.program(1,s,a)}),(l||0===l)&&(c+=l),c+='\n\n<div class="body cf">\n    ',(l=n.body)?l=l.call(t,{hash:{}}):(l=t.body,l=typeof l===d?l.apply(t):l),(l||0===l)&&(c+=l),c+="\n</div>\n"});return n}),define("app/views/articles/RelatedArticleView",["config","app/views/articles/CommonArticleBody","hbs!app/templates/articles/relatedArticleBodyView"],function(e,t,n){var i=t.extend({template:n,className:function(){var e="";return-1===this.model.get("body").indexOf("<p>")&&(e="only-image"),"related-article related-closed "+e},attributes:{"data-track":"toggle related article"},events:{click:"toggleRelated"},toggleRelated:function(){e.oneArticleAccess||this.$el.toggleClass("related-closed")},onRender:function(){this.processBodyImages()}});return i}),define("hbs!app/templates/articles/relatedArticleItemView",["hbs","Handlebars","template/helpers/fullDateTime"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=n.helperMissing;return r+='<a href="',(i=n.link)?i=i.call(t,{hash:{}}):(i=t.link,i=typeof i===o?i.apply(t):i),(i||0===i)&&(r+=i),r+='">\n    <span class="title">',(i=n.title)?i=i.call(t,{hash:{}}):(i=t.title,i=typeof i===o?i.apply(t):i),(i||0===i)&&(r+=i),r+='</span>\n    <span class="updated">',s={hash:{}},i=n.fullDateTime,a=i?i.call(t,t.edited,s):l.call(t,"fullDateTime",t.edited,s),(a||0===a)&&(r+=a),r+="</span>\n</a>"});return n}),define("app/views/articles/RelatedArticlesListView",["config","backbone.marionette","hbs!app/templates/articles/relatedArticleItemView"],function(e,t,n){var i=t.ItemView.extend({tagName:"div",className:"related-article-item",template:n}),a=t.CollectionView.extend({itemView:i});return a}),define("hbs!app/templates/purchase/startPurchaseView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<a data-track="purchase" class="purchase-action icon-arrow-right-noshadow click-to-buy">\n    <h4 class="icon-subscribe-lock-magenta">',(i=n.copy)?i=i.call(t,{hash:{}}):(i=t.copy,i=typeof i===s?i.apply(t):i),a+=r(i)+"</h4>\n</a>\n\n\n\n\n\n"});return n}),define("hbs!app/templates/purchase/articleTeaserView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,l="";return l+="\n    ",i=n["if"].call(e,e.fullTeaser,{hash:{},inverse:h.noop,fn:h.program(2,r,t)}),(i||0===i)&&(l+=i),l+="\n\n    ",i=n.unless.call(e,e.fullTeaser,{hash:{},inverse:h.noop,fn:h.program(4,o,t)}),(i||0===i)&&(l+=i),l+='\n\n    <p class="teaser-login"><a href="/welcome/select-product" class="pink-button external-link">',s={hash:{}},i=n.t,a=i?i.call(e,"Try.one.month.for.free",s):u.call(e,"t","Try.one.month.for.free",s),(a||0===a)&&(l+=a),l+='</a> <span\n            class="teaser-login-text">',s={hash:{}},i=n.t,a=i?i.call(e,"If.you.already.have.credentials",s):u.call(e,"t","If.you.already.have.credentials",s),(a||0===a)&&(l+=a),l+=', <a href="/login" class="external-link">',s={hash:{}},i=n.t,a=i?i.call(e,"log.in",s):u.call(e,"t","log.in",s),(a||0===a)&&(l+=a),l+="</a></span>\n    </p>\n\n"}function r(e){var t,i,a,s="";return s+='\n        <h4 class="icon-subscribe-lock-magenta magenta-lock">\n            ',a={hash:{}},t=n.t,i=t?t.call(e,"Did.you.like.what.you.read",a):u.call(e,"t","Did.you.like.what.you.read",a),(i||0===i)&&(s+=i),s+="\n        </h4>\n        <p>\n            ",a={hash:{}},t=n.t,i=t?t.call(e,"Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a):u.call(e,"t","Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a),(i||0===i)&&(s+=i),s+="\n        </p>\n    "}function o(e){var t,i,a,s="";return s+='\n        <h4 class="icon-subscribe-lock-magenta magenta-lock">\n            ',a={hash:{}},t=n.t,i=t?t.call(e,"Article.continues.still",a):u.call(e,"t","Article.continues.still",a),(i||0===i)&&(s+=i),s+="\n        </h4>\n        <p>\n            ",a={hash:{}},t=n.t,i=t?t.call(e,"Do.you.want.to.read.complete.article",a):u.call(e,"t","Do.you.want.to.read.complete.article",a),(i||0===i)&&(s+=i),s+=" ",a={hash:{}},t=n.t,i=t?t.call(e,"Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a):u.call(e,"t","Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a),(i||0===i)&&(s+=i),s+="\n        </p>\n    "}function l(e){var t,i,a,s="";return s+='\n    <h4 class="icon-subscribe-lock-magenta magenta-lock">\n        ',a={hash:{}},t=n.t,i=t?t.call(e,"Did.you.like.what.you.read",a):u.call(e,"t","Did.you.like.what.you.read",a),(i||0===i)&&(s+=i),s+="\n    </h4>\n    <p>\n        ",a={hash:{}},t=n.t,i=t?t.call(e,"Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a):u.call(e,"t","Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything",a),(i||0===i)&&(s+=i),s+='\n    </p>\n    <p class="teaser-login">\n        <a href="',(i=n.purchaseLink)?i=i.call(e,{hash:{}}):(i=e.purchaseLink,i=typeof i===p?i.apply(e):i),s+=m(i)+'" class="pink-button external-link">',a={hash:{}},t=n.t,i=t?t.call(e,"Register.here",a):u.call(e,"t","Register.here",a),(i||0===i)&&(s+=i),s+='</a>\n        <span class="teaser-login-text">',a={hash:{}},t=n.t,i=t?t.call(e,"If.you.already.have.credentials",a):u.call(e,"t","If.you.already.have.credentials",a),(i||0===i)&&(s+=i),s+=', <a href="/login"\n                                                                                      class="external-link">',a={hash:{}},t=n.t,i=t?t.call(e,"log.in",a):u.call(e,"t","log.in",a),(i||0===i)&&(s+=i),s+='</a></span><br/>\n        <span class="teaser-login-text">',a={hash:{}},t=n.t,i=t?t.call(e,"Do.you.have.subscription.but.no.account",a):u.call(e,"t","Do.you.have.subscription.but.no.account",a),(i||0===i)&&(s+=i),s+=', <a href="/skapakonto"\n                                                                                              class="external-link">',a={hash:{}},t=n.t,i=t?t.call(e,"Register.yourself.here",a):u.call(e,"t","Register.yourself.here",a),(i||0===i)&&(s+=i),s+="</a></span>\n    </p>\n\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d="",u=n.helperMissing,h=this,p="function",m=this.escapeExpression;return c=n.unless.call(t,t.summaSweden,{hash:{},inverse:h.noop,fn:h.program(1,s,a)}),(c||0===c)&&(d+=c),d+="\n",c=n["if"].call(t,t.summaSweden,{hash:{},inverse:h.noop,fn:h.program(6,l,a)}),(c||0===c)&&(d+=c),d});return n}),define("app/views/purchase/StartPurchaseView",["application","config","environment","app/views/purchase/purchase","backbone.marionette","hbs!app/templates/purchase/startPurchaseView","hbs!app/templates/purchase/articleTeaserView","language"],function(e,t,n,i,a,s,r,o){var l=a.ItemView.extend({initialize:function(){this.model.set("summaSweden",n.summaSweden);var t=e.location.get("currentChannelId"),i=o["Purchase.link."+t];i&&0!=i.length||(i="http://www.prenservice.se/"),this.model.set("purchaseLink",i),this.options.teaser?(this.template=r,this.el.classList.add("teaser-notice")):(this.el.classList.add("locked-article-notice"),this.template=s)},events:{"click .purchase-action":function(e){return 1!=t.openMagazine?this.model.get("book")?i.buyClick({chosenBookId:this.model.id}):i.buyClick(this.model.get("channelId")):(i.showLogin(e),void 0)}}});return l}),window.Qbrick=function(e){var t="http://publisher.qbrick.com",n=function(){if(!(this instanceof n))return new n;var e=this,t=[],i=function(){for(var e=t.splice(0,t.length),n=0;e.length>n;++n)e[n]()},a=function(){setTimeout(i,1)};e.schedule=function(e){t.push(e),1===t.length&&a()}},i=function(e,t){if(!(this instanceof i))return new i(e,t);var a=this;t=t||{},e=e||new n,a.addEventListener=function(e,n){if("string"!=typeof e)throw new TypeError('Argument "type" must be a string.');if("function"!=typeof n)throw new TypeError('Argument "listener" must be a function.');t[e]=t[e]||[],t[e].push(n)},a.removeEventListener=function(e,n){var i,a;if("string"!=typeof e)throw new TypeError('Argument "type" must be a string.');if(t[e]!==void 0){for(i=-1,a=0;t[e].length>a;++a)(t[e][a]+"").replace(/\s+/g,"").trim()===(n+"").replace(/\s+/g,"").trim()&&(i=a);i>-1&&t[e].splice(i,1)}},a.createRouter=function(n){var i=function(e,t){var n=t[e]||[];return t.$parent!==void 0&&(n=n.concat(i(e,t.$parent))),n},a=function(e){return function(){for(var n=i(e.type,t),a=0;n.length>a;++a)n[a].call(e.target||this,e)}};return{dispatchEvent:function(t,i){var s,r={};1===arguments.length&&(i=t,t=i.type);for(s in i)i.hasOwnProperty(s)&&(r[s]=i);r.type=t,r.target=n,r.timeStamp=(new Date).getTime(),e.schedule(a(r))}}},a.createScope=function(){return new i(e,{$parent:t})}},a=new i;return e.context=function(e,t){var n=0,i=window;for(e=e.split(t||"."),n=0;e.length>n;++n)i[e[n]]||(i[e[n]]={}),i=i[e[n]];return i},e.require=function(t){return e.context(t)},e.Utils=function(t){return t.createFunctionFromLambda=function(){var t={};return function(n){var i,a,s,r;if("string"!=typeof n)throw new TypeError("Syntax error, lambda expression must be of type string.");if(i=t[n],"function"!=typeof i){a=n.match(/(.*)\s*=>\s*(.*)/),a.splice(0,1),s=a.pop(),r=[],e.Utils.exists(s)&&(r=e.Utils.normalize(a.pop()).replace(/,|\(|\)/g,"").split(" ")),s=(/\s*return\s+/.test(s)?"":"return ")+s+";",r.push(s);try{i=t[n]=Function.apply({},r)}catch(o){throw"Syntax error in lambda expression: "+n}}return i}}(),t.asFunction=function(e){return"string"==typeof e&&(e=t.createFunctionFromLambda(e)),e},t.delay=function(e,n,i,a){var s=this;return this.counter=a||this.counter||0,t.asFunction(n).call({},i)?(200>this.counter&&setTimeout(function(){++s.counter,t.delay.call(s,e,n,i)},50),void 0):e.call(this)},t.detectFlashSupport=function(){function e(){var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e.GetVariable("$version"),n=/([0-9]+),([0-9]+),([0-9]+),([0-9]+)/.exec(t);return{major:n[1],minor:n[2],release:n[3],build:n[4]}}function n(e){return("d"==e.charAt(0)||"r"==e.charAt(0))&&(e=e.substring(1)),e.indexOf("d")>-1&&(e=e.substring(0,e.indexOf("d"))),e}function i(){var e,t;if(void 0==typeof navigator.plugins||0==navigator.plugins.length||(e=navigator.plugins["Shockwave Flash"]||navigator.plugins["Shockwave Flash 2.0"],!e))return null;if(e.version)return t=/([0-9]+).([0-9]+).([0-9]+).([0-9]+)/.exec(e.version),{major:t[1],minor:t[2],release:t[3],build:t[4]};if(e.filename.match&&e.filename.toLowerCase().match(/lite/))return null;var t=e.description.split(" "),i=t[2].split(".")[0],a=t[2].split(".")[1],s=t[3];return""==s&&(s=t[4]),s=n(s),{major:i,minor:a,release:s}}var a=null;try{a=void 0==window.ActiveXObject?i():e()}catch(s){}return t.detectFlashSupport=function(){return a},t.detectFlashSupport()},t.detectVideoFormat=function(){var e,n=[],i=["mp4","ogg","webm"],a=document.createElement("video");if("function"==typeof a.canPlayType)for(e=0;i.length>e;e++)""!==a.canPlayType("video/"+i[e])&&n.push(i[e]);return t.detectVideoFormat=function(){return n.slice(0)},t.detectVideoFormat()},t.exists=function(e){return e!==void 0},t.loadScript=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.readyState?n.onreadystatechange=function(){("loaded"==n.readyState||"complete"==n.readyState)&&(n.onreadystatechange=null,null!=t&&t())}:null!=t&&(n.onload=t),document.getElementsByTagName("head")[0].appendChild(n)},t.normalize=function(e){return t.exists(e)?e.replace(/^\s*|\s(?=\s)|\s*$/g,""):null},t}(e.context("Qbrick.Utils")),e.Net=function(e){return e.getQueryString=function(){function t(){r=decodeURIComponent(r),s?i[s]=r:i[r]=null,r=""}for(var n=window.location.search.substring(1),i={},a=-1,s=null,r="";++a<n.length;)switch(n.charAt(a)){case"&":t();break;case"=":s=r,r="";break;case"+":r+=" ";break;default:r+=n.charAt(a)}return r&&t(),e.getQueryString=function(){return i},e.getQueryString()},e}(e.context("Qbrick.Net")),e.Widgets=function(n){return n.Events=n.Events||{},n.Widget=function(i,s,r,o){var l,c,d,u;return this instanceof n.Widget?(l=this,c=[],l.eventHandlers=[],d=a.createScope(),l._base=null,l.element=s,l.environment=r,l.parameters=o,l.widgetId=i,u=function(){var n,a=(e.Net.getQueryString(),t+"/EmbedHandler.ashx?embedId="+i);l.environment.flashVersion&&(a+="&flash="+r.flashVersion.major),r.videoFormat&&r.videoFormat.length>0&&(a+="&types="+r.videoFormat.join(","));for(n in o)a+="&"+n+"="+encodeURIComponent(o[n].value);e.Utils.loadScript(a)},l._activate=function(t,n){var i=function(){for(var t=c.shift();t;)e.Utils.asFunction(t.action).apply({},[l,l.widgetId].concat(t.args)),t=c.shift()},a=function(){for(var e=(t||l).eventHandlers||[],n=e.shift();n;)l.on.apply(l,[n.event,n.handler].concat(n.args)),n=e.shift()};n!==void 0?(n=n||l._initializedLambda,e.Utils.delay(function(){l.initialized=!0},n,l,1),e.Utils.delay(i,n,l,1),e.Utils.delay(a,n,l,1)):(i(),a(),l.initialized=!0),delete l._activate,delete l._setup},l._setup=function(e){e(d.createRouter(l)),delete l._setup},l.destroy=function(){return e.Publisher.destroy(l.widgetId,!0),null},l.initialize=function(e){return l.initialized&&(l._base=null,l.initialized=!1),u(),e&&c.push({action:e,args:Array.prototype.slice.call(arguments,1)}),l},l.on=function(e,t){for(var n=[],i=2;arguments.length>i;i++)n.push(arguments[i]);return e&&t&&l.eventHandlers.push({args:n,event:e,handler:t}),l},l.addEventListener=d.addEventListener,l.removeEventListener=d.removeEventListener,void 0):new n.Widget(i,s,r,o)},n}(e.context("Qbrick.Widgets")),e.Publisher=function(){var t={videoFormat:e.Utils.detectVideoFormat(),flashVersion:e.Utils.detectFlashSupport()},n=function(){if(!(this instanceof n))return new n;var t=this;t.firstOrDefault=function(n){var i;n=e.Utils.asFunction(n);for(i in t)if(t.hasOwnProperty(i)&&"object"==typeof t[i]&&n.call(t,t[i],i))return t[i];return null},t.where=function(n){var i,a={length:0};n=e.Utils.asFunction(n);for(i in t)t.hasOwnProperty(i)&&"object"==typeof t[i]&&n.call(t,t[i],i)&&(a[i]=t[i],++a.length);return a},t.length=0},i=new n,s=function(n,a,s){var r=a.widgetid?a.widgetid.value:"qbrick_professional_qbrick"+(i.length+1);return i.hasOwnProperty(r)?null:(n.setAttribute(s+"widgetid",r),i[r]=new e.Widgets.Widget(r,n,t,a),i.length++,a.init&&"false"==""+a.init.value||i[r].initialize(),i[r])},r=function(t,n){var a,r;if(e.Utils.exists(n.mid)||e.Utils.exists(n.mcid)||e.Utils.exists(n.ccid)||e.Utils.exists(n.url)){var o="",l="",c="data-qbrick-",d=document.createElement("div"),u={};for(a in n)n.hasOwnProperty(a)&&(o=a.toLowerCase(),l=n[a],u[o]={key:o,value:l},d.setAttribute(c+o,l));return t.appendChild(d),r=s(d,u,c),null===r&&t.removeChild(d),r}return i},o=function(e,t){if(1===arguments.length&&(t=e,e=null),"string"==typeof e)return i[e]&&(i[e].element.innerHTML="","boolean"==typeof t&&t&&i[e].element.parentNode.removeChild(i[e].element),delete i[e],i.length--),this;for(e in i)i.hasOwnProperty(e)&&"string"==typeof i[e]&&o(e,t);return this},l=function(e,t){var n,i,a,s,r={};for(r.length=0,n=0,i=e.attributes.length;i>n;n++)a=e.attributes[n],-1!=a.name.indexOf(t)&&(a.value instanceof Function||(s=a.name.substring(t.length).toLowerCase(),r[s]={key:s,value:a.value},r.length++));return r},c=function(e,t){var n,i,a,s,r,o,l={};for(l.length=0,n=RegExp("^("+t+")([A-Z0-9]{1,})-([A-Z0-9]{1,})$","i"),i=""!=e.className?new String(e.className).split(" "):[],a=0,s=i.length;s>a;a++)r=n.exec(i[a]),r&&r.length>=2&&(r[3]instanceof Function||(o=r[2].toLowerCase(),l[o]={key:o,value:r[3]},l.length++));return l},d=function(e,t){var n,a,r,o,d;for(e=e||"*",t=t||"data-qbrick-",n=document.getElementsByTagName(e),a=0,r=n.length;r>a;a++)o=n[a],d=l(o,t),(0!=d.length||(d=c(o,t),0!=d.length))&&(delete d.length,s(o,d,t));return i},u=function(t){if("string"==typeof t){var n=e.Publisher.widgets(t);return n instanceof e.Widgets.Widget?n.initialize():n}return o(t,!1),d("div","data-qbrick-")};return("boolean"!=typeof e.initializePublisher||e.initializePublisher)&&d("div","data-qbrick-"),{create:r,destroy:o,addEventListener:a.addEventListener,removeEventListener:a.removeEventListener,flashVersion:function(){return t.flashVersion},getWidget:function(e){return this.widgets(e)},initialize:u,isFlashEnabled:function(){return null!=t.flashVersion},widgets:function(t){return e.Utils.exists(t)?i.hasOwnProperty(t)?i[t]:null:i}}}(),e.publisher=e.Publisher,e.Professional=e.Professional||{},e.Professional.Events=e.Professional.Events||{},e}(window.Qbrick||{}),window.Arkena=window.Qbrick,define("qbrick",function(e){return function(){var t;return t||e.Qbrick}}(this)),define("hbs!app/templates/video/kalturaVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div id="',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="video-kaltura" style="',(i=n.sizeStyles)?i=i.call(t,{hash:{}}):(i=t.sizeStyles,i=typeof i===s?i.apply(t):i),a+=r(i)+'"></div>\n',(i=n.body)?i=i.call(t,{hash:{}}):(i=t.body,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+="\n"});return n}),define("hbs!app/templates/video/youtubeVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <div class="youtube-container">\n        <div class="ratio-maintainer"></div>\n        <div class="video-youtube">\n            <iframe src="',(t=n.videoSource)?t=t.call(e,{hash:{}}):(t=e.videoSource,t=typeof t===o?t.apply(e):t),i+=l(t)+'?html5=1" frameborder="0" allowfullscreen width="',(t=n.width)?t=t.call(e,{hash:{}}):(t=e.width,t=typeof t===o?t.apply(e):t),i+=l(t)+'"/>\n        </div>\n    </div>\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="function",l=this.escapeExpression,c=this;return r=n["if"].call(t,t.videoSource,{hash:{},inverse:c.noop,fn:c.program(1,s,a)}),r||0===r?r:""});return n}),define("hbs!app/templates/video/vimeoVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="vimeo-container">\n    <div class="ratio-maintainer"></div>\n    <div class="video-vimeo">\n        <iframe src="',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===s?i.apply(t):i),a+=r(i)+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n    </div>\n</div>\n'});return n}),define("hbs!app/templates/video/qBrickVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div data-qbrick-mcid="',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="qbrick-video" data-qbrick-width="',(i=n.width)?i=i.call(t,{hash:{}}):(i=t.width,i=typeof i===s?i.apply(t):i),a+=r(i)+'" data-qbrick-height="',(i=n.height)?i=i.call(t,{hash:{}}):(i=t.height,i=typeof i===s?i.apply(t):i),a+=r(i)+'"></div>'});return n}),define("hbs!app/templates/video/shootItLiveVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="shootitlive-embed" data="single=',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===s?i.apply(t):i),a+=r(i)+"\"></div>\n\n<script>\n    (function() {\n        var d = document, b = d.body, s = d.createElement('script');\n        s.src = '//s3-eu-west-1.amazonaws.com/shootitlive/shootitlive.load.v1.1.talentum.js';\n        b.insertBefore(s, b.firstChild);\n    }())\n</script>"});return n}),define("hbs!app/templates/video/youplayVideo",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <script async defer src="',(t=n.body)?t=t.call(e,{hash:{}}):(t=e.body,t=typeof t===o?t.apply(e):t),i+=l(t)+'"></script>\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="function",l=this.escapeExpression,c=this;return r=n["if"].call(t,t.body,{hash:{},inverse:c.noop,fn:c.program(1,s,a)}),r||0===r?r:""});return n}),define("app/views/video/VideoView",["underscore","backbone.marionette","qbrick","hbs!app/templates/video/kalturaVideo","hbs!app/templates/video/youtubeVideo","hbs!app/templates/video/vimeoVideo","hbs!app/templates/video/qBrickVideo","hbs!app/templates/video/shootItLiveVideo","hbs!app/templates/video/youplayVideo"],function(e,t,n,i,a,s,r,o,l){var c=t.ItemView.extend({initialize:function(){var t=this.options.source;
this.template="Kaltura"===t?i:"Youtube"===t?a:"Qbrick"===t?r:"Vimeo"===t?s:"SiL"==t?o:"Youplay"==t?l:e.template("")},className:"video-container",templateHelpers:function(){var e=this.model.get("body");return!e&&this.model.get("id").match(/https:\/\/www\.youtube\.com\/\S+/g)&&(e=this.model.get("id")),{videoSource:e}},getHeightWhenWidth:function(e){var t=16/9,n=Math.round(e/t);return n},onBeforeRender:function(){var e=this.options.parentWidth,t=this.getHeightWhenWidth(e);this.model.set("width",e),this.model.set("height",t)},initVideo:function(){"Qbrick"===this.options.source&&n.publisher.initialize()}});return c}),define("app/collections/SortableCollection",["backbone"],function(e){var t=e.Collection.extend({reverseComparator:!1,comparator:function(e){return e.get(this.sortKey)},normalComparator:function(e){return e.get(this.sortKey)},reverseSortBy:function(e){return function(t,n){var i=e(t),a=e(n);return void 0===i?-1:void 0===a?1:a>i?1:i>a?-1:0}},setReverseSort:function(){this.comparator=this.reverseSortBy(this.normalComparator.bind(this)),this.reverseComparator=!0},setNormalSort:function(){this.comparator=this.normalComparator.bind(this),this.reverseComparator=!1},setSortColumn:function(e){this.sortKey==e?(this.setReverseSort(),this.resetSortColumn=!0):(this.sortKey=e,this.setNormalSort())},sortByColumn:function(e){this.resetSortColumn=!1,this.setSortColumn(e),this.sort()},onSort:function(){this.resetSortColumn&&(this.sortKey="",this.resetSortColumn=!1)}});return t}),define("app/collections/TableDataCollection",["backbone","app/collections/SortableCollection","application"],function(e,t,n){var i=t.extend({initialize:function(e,t){this.url=n.config.apiRoot+"/table/"+t.id,this.sortKey=t.sortKey||"1",this.listenTo(this,"sort",this.onSort.bind(this)),this.reverseComparator=t.reverseComparator,this.reverseComparator&&this.setReverseSort()},parse:function(t,n){return this.columnNames=new e.Model({columnNames:t.columnNames,id:n.id}),t.values}});return i}),define("template/helpers/ifAreSame",["Handlebars"],function(e){var t=function(e,t,n){var i="";return i+=e===t?n.fn(this):n.inverse(this)};e.registerHelper("ifAreSame",t)}),define("hbs!app/templates/common/tabledata/tableDataView",["hbs","Handlebars","template/helpers/ifAreSame","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+='\n                <thead>\n                <tr>\n                    <td class="col-duplicate-name"><a></a></td>\n                    ',i=n.each.call(e,e.columnNames,{hash:{},inverse:f.noop,fn:f.programWithDepth(r,t,e),data:t}),(i||0===i)&&(a+=i),a+='\n                </tr>\n                <tr class="indicator-row">\n                    <td class="col-duplicate-name"><a></a></td>\n                    ',i=n.each.call(e,e.columnNames,{hash:{},inverse:f.noop,fn:f.programWithDepth(l,t,e),data:t}),(i||0===i)&&(a+=i),a+="\n                </tr>\n                </thead>\n            "}function r(e,t,i){var a,s,r,l="";return l+='\n                        <td class="col-'+m((a=t.index,typeof a===p?a.apply(e):a))+' sort" data-col-index="'+m((a=t.index,typeof a===p?a.apply(e):a))+'"><a\n                                class="sort link-col-'+m((a=t.index,typeof a===p?a.apply(e):a))+" ",r={hash:{},inverse:f.noop,fn:f.program(3,o,t),data:t},a=n.ifAreSame,s=a?a.call(e,t.index,i.selectedColumn,r):g.call(e,"ifAreSame",t.index,i.selectedColumn,r),(s||0===s)&&(l+=s),l+='"\n                                data-col-index="'+m((a=t.index,typeof a===p?a.apply(e):a))+'" onclick="">'+m(typeof e===p?e.apply(e):e)+"</a></td>\n                    "}function o(){return"current"}function l(e,t,i){var a,s,r,l="";return l+='\n                        <td class="col-'+m((a=t.index,typeof a===p?a.apply(e):a))+" indicator ",r={hash:{},inverse:f.noop,fn:f.program(3,o,t),data:t},a=n.ifAreSame,s=a?a.call(e,t.index,i.selectedColumn,r):g.call(e,"ifAreSame",t.index,i.selectedColumn,r),(s||0===s)&&(l+=s),l+='"></td>\n                    '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var c,d,u,h="",p="function",m=this.escapeExpression,f=this,g=n.helperMissing;return h+='<div class="table-search">\n    <a class="icon-close-small reset-search"></a>\n    <input type="text" class="search-box icon-input-search" value="',(c=n.activeSearch)?c=c.call(t,{hash:{},data:a}):(c=t.activeSearch,c=typeof c===p?c.apply(t):c),h+=m(c)+'"/>\n\n    <div class="clear"></div>\n</div>\n<div class="table-data-scroll">\n    <div class="table-container">\n        <table class="data-table corporate-ranking">\n            ',c=n["if"].call(t,t.columnNames,{hash:{},inverse:f.noop,fn:f.program(1,s,a),data:a}),(c||0===c)&&(h+=c),h+='\n        </table>\n        <div class="data-table-bottom-border"></div>\n    </div>\n</div>\n<div class="table-navi">\n    <a class="grey-button show-prev">',u={hash:{},data:a},c=n.t,d=c?c.call(t,"Show.prev",u):g.call(t,"t","Show.prev",u),(d||0===d)&&(h+=d),h+='</a>\n    <a class="grey-button show-next">',u={hash:{},data:a},c=n.t,d=c?c.call(t,"Show.next",u):g.call(t,"t","Show.next",u),(d||0===d)&&(h+=d),h+="</a>\n</div>\n\n"});return n}),define("template/helpers/isNumber",["Handlebars"],function(e){var t=function(e,t){var n="";return n+=e&&/^[\d\-.,\s]+$/.test(""+e)?t.fn(this):t.inverse(this)};e.registerHelper("isNumber",t)}),define("template/helpers/tableValue",["Handlebars"],function(e){var t=function(e){var t="";if(e&&e!=window)if("number"==typeof e||e instanceof Number){var n=(""+e).split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,"&nbsp;"),t=n.join(".")}else t=e;return t};e.registerHelper("tableValue",t)}),define("hbs!app/templates/common/tabledata/tableDataItem",["hbs","Handlebars","template/helpers/ifAreSame","template/helpers/isNumber","template/helpers/tableValue"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,c="";return c+="\n    ",s={hash:{},inverse:g.noop,fn:g.program(2,r,t),data:t},i=n.ifAreSame,a=i?i.call(e,e,"loading",s):v.call(e,"ifAreSame",e,"loading",s),(a||0===a)&&(c+=a),c+="\n    ",s={hash:{},inverse:g.program(6,l,t),fn:g.program(4,o,t),data:t},i=n.ifAreSame,a=i?i.call(e,t.key,"duplicate-name",s):v.call(e,"ifAreSame",t.key,"duplicate-name",s),(a||0===a)&&(c+=a),c+="\n"}function r(){return'\n        <td>\n            <div class="spinner"></div>\n        </td>\n    '}function o(){return"\n    "}function l(e,t){var i,a,s,r="";return r+='\n        <td class="col-'+f((i=t.key,typeof i===m?i.apply(e):i))+" ",s={hash:{},inverse:g.program(9,d,t),fn:g.program(7,c,t),data:t},i=n.isNumber,a=i?i.call(e,e,s):v.call(e,"isNumber",e,s),(a||0===a)&&(r+=a),r+='"><span>',s={hash:{},data:t},i=n.tableValue,a=i?i.call(e,e,s):v.call(e,"tableValue",e,s),(a||0===a)&&(r+=a),s={hash:{},inverse:g.noop,fn:g.program(11,u,t),data:t},i=n.ifAreSame,a=i?i.call(e,t.key,"1",s):v.call(e,"ifAreSame",t.key,"1",s),(a||0===a)&&(r+=a),r+="</span></td>\n    "}function c(){var e="";return e}function d(){return"text"}function u(){return"\n            ."}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var h,p="",m="function",f=this.escapeExpression,g=this,v=n.helperMissing;return p+='<td class="col-duplicate-name"><span>',(h=n["duplicate-name"])?h=h.call(t,{hash:{},data:a}):(h=t["duplicate-name"],h=typeof h===m?h.apply(t):h),p+=f(h)+"</span></td>\n",h=n.each.call(t,t,{hash:{},inverse:g.noop,fn:g.program(1,s,a),data:a}),(h||0===h)&&(p+=h),p+="\n"});return n}),define("hbs!app/templates/common/tabledata/emptyRow",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return r+='<td class="col-duplicate-name"><span>&nbsp;</span></td>\n<td class="col-0"></td>\n<td class="col-1"><span>&nbsp;</span></td>\n<td class="col-2"><span>',s={hash:{}},i=n.t,a=i?i.call(t,"No.results",s):o.call(t,"t","No.results",s),(a||0===a)&&(r+=a),r+='</span></td>\n<td class="col-3"><span>&nbsp;</span></td>\n<td class="col-4"><span>&nbsp;</span></td>\n<td class="col-5"><span>&nbsp;</span></td>\n<td class="col-6"><span>&nbsp;</span></td>\n<td class="col-7"><span>&nbsp;</span></td>\n<td class="col-8"><span>&nbsp;</span></td>\n<td class="col-9"><span>&nbsp;</span></td>\n<td class="col-10"><span>&nbsp;</span></td>\n<td class="col-11"><span>&nbsp;</span></td>\n<td class="col-12"><span>&nbsp;</span></td>\n'});return n}),define("app/views/common/tabledata/TableDataView",["backbone.marionette","backbone","app/collections/TableDataCollection","hbs!app/templates/common/tabledata/tableDataView","hbs!app/templates/common/tabledata/tableDataItem","hbs!app/templates/common/tabledata/emptyRow","language"],function(e,t,n,i,a,s,r){var o=20,l=e.ItemView.extend({template:a,className:function(){return"show-row-"+this.model.get("0")},tagName:"tr",events:{"click .col-2":"toggleLine"},toggleLine:function(){this.$el.parent("tbody").toggleClass("show-hidden")},templateHelpers:function(){var e=this.model.get("2");return{"duplicate-name":e}}}),c=e.ItemView.extend({tagName:"tr",template:s}),d=e.CompositeView.extend({template:i,itemView:l,emptyView:c,itemViewContainer:".data-table",className:"table-data-view no-navi",initialize:function(){this.collection=new n([new t.Model([r["Loading.content"]])],{id:this.options.id}),this.listenTo(this.collection,"sort",function(){this.collection.trigger("reset")}.bind(this)),this.selectedColumn=1;var e=new n([],{id:this.options.id});e.deferred=e.fetch(),e.deferred.done(function(){this.model=e.columnNames,this.separateDisplayModels(e),this.showRows(this.displayModelCollection.models,this.displayModelCollection.reverseComparator);var t=this.displayModelCollection.models.length,n=Math.ceil(t/o);this.items.set({count:t,pages:n}),this.render()}.bind(this)),this.debouncedFilter=_.debounce(this.filterCollection,250).bind(this),this.debouncedSort=_.debounce(this.sortCollection,50).bind(this),this.items=new t.Model({count:0,currentPage:0}),this.listenTo(this.items,"change",this.toggleNavigation.bind(this))},events:{"click td.sort,a.sort":"debouncedSort","keyup .search-box":"debouncedFilter","click .show-next":"showNext","click .show-prev":"showPrev","click .reset-search":"resetSearch"},resetSearch:function(){this.el.classList.remove("show-reset"),this.$el.find(".search-box").val(""),this.activeSearch=null,this.showRows(this.displayModelCollection.models,this.displayModelCollection.reverseComparator)},templateHelpers:function(){var e=this.selectedColumn,t=this.activeSearch||"";return{activeSearch:t,selectedColumn:e}},appendHtml:function(e,t,n){var i=this.getItemViewContainer(e);0==n&&(this.header||(this.header=this.$el.find(".data-table thead").detach()),i.find("tbody").remove());var a=$("<tbody></tbody>");if(a.append(t.el),this.hiddenModels){var s=this.hiddenModels.filter(function(e){return t.model.get("2")&&e.get("2")==t.model.get("2")});s=_.sortBy(s,function(e){return e?-1*e.get("3"):void 0}),_.each(s,function(e){var t=e.clone();t.set("2",t.get("3"));var n=new l({model:t}).render();a.append(n.el)})}i.append(a),n==this.collection.length-1&&i.prepend(this.header)},separateDisplayModels:function(e){this.displayModelCollection=new n(e.filter(function(e){return 0!==e.get("0")}),{id:this.options.id}),this.hiddenModels=new t.Collection(e.filter(function(e){return 0===e.get("0")})),e=null},toggleNavigation:function(){var e=this.items.get("pages"),t=this.items.get("currentPage");1>=e?this.$el.addClass("no-navi"):(this.$el.removeClass("no-navi"),0==t?this.$el.addClass("no-prev"):this.$el.removeClass("no-prev"),t==e-1?this.$el.addClass("no-next"):this.$el.removeClass("no-next"))},sortCollection:function(e){this.items.set("currentPage",0);var t=$(e.target).attr("data-col-index");this.collection.setSortColumn(t),this.selectedColumn=parseInt(t,10),this.activeSearch&&""!=this.activeSearch?(this.searchResults.sortByColumn(t),this.showRows(this.searchResults.models,this.searchResults.reverseComparator)):(this.displayModelCollection.sortByColumn(t),this.showRows(this.displayModelCollection.models,this.displayModelCollection.reverseComparator)),this.render()},filterCollection:function(){this.items.set("currentPage",0);var e=this.$el.find(".search-box").val().toLowerCase();this.activeSearch=e,e.length>=1?(this.el.classList.add("show-reset"),this.searchResults=new n(this.displayModelCollection.filter(function(t){return(""+t.get("2")).toLowerCase().indexOf(e)>=0}),{id:this.options.id,reverseComparator:this.collection.reverseComparator,sortKey:this.collection.sortKey}),this.showRows(this.searchResults.models,this.searchResults.reverseComparator)):0==e.length&&this.resetSearch()},showRows:function(e,t){var n=Math.ceil(e.length/o);this.items.set({count:e.length,pages:n}),this.currentModels=e,t!==this.collection.reverseComparator&&(this.collection.reverseComparator?this.collection.setNormalSort():this.collection.setReverseSort()),""==this.collection.sortKey&&(this.collection.sortKey=this.selectedColumn);var i=this.items.get("currentPage"),a=0===i?0:i*o,s=a+o;s>this.items.get("count")&&(s=this.items.get("count"));var r=e.slice(a,s);this.collection.reset(r)},showNext:function(){var e=this.items.get("currentPage"),t=this.items.get("pages");t-1>e&&(e++,this.items.set("currentPage",e),this.showRows(this.currentModels,this.collection.reverseComparator))},showPrev:function(){var e=this.items.get("currentPage");e>0&&(e--,this.items.set("currentPage",e),this.showRows(this.currentModels,this.collection.reverseComparator))}});return d}),define("hbs!app/templates/common/share/shareStrip",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<a href="https://www.facebook.com/sharer/sharer.php?u=',(i=n.url)?i=i.call(t,{hash:{}}):(i=t.url,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="icon-share-fb share-button" target="_blank">&nbsp;</a>\n\n<a href="https://twitter.com/intent/tweet?text=',(i=n.urlEncodedTitle)?i=i.call(t,{hash:{}}):(i=t.urlEncodedTitle,i=typeof i===s?i.apply(t):i),a+=r(i)+"&url=",(i=n.url)?i=i.call(t,{hash:{}}):(i=t.url,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="icon-share-tw share-button" target="_blank">\n    &nbsp;</a>\n\n<a href="http://www.linkedin.com/shareArticle?mini=true&url=',(i=n.url)?i=i.call(t,{hash:{}}):(i=t.url,i=typeof i===s?i.apply(t):i),a+=r(i)+"&title=",(i=n.urlEncodedTitle)?i=i.call(t,{hash:{}}):(i=t.urlEncodedTitle,i=typeof i===s?i.apply(t):i),a+=r(i)+"&summary=",(i=n.urlEncodededIngress)?i=i.call(t,{hash:{}}):(i=t.urlEncodededIngress,i=typeof i===s?i.apply(t):i),a+=r(i)+"&source=",(i=n.urlEncodedBrand)?i=i.call(t,{hash:{}}):(i=t.urlEncodedBrand,i=typeof i===s?i.apply(t):i),a+=r(i)+'"\n   class="icon-share-lnkd share-button" target="_blank">&nbsp;</a>\n\n<a href="mailto:?subject=',(i=n.urlEncodedTitle)?i=i.call(t,{hash:{}}):(i=t.urlEncodedTitle,i=typeof i===s?i.apply(t):i),a+=r(i)+"&amp;body=",(i=n.urlEncodedTitle)?i=i.call(t,{hash:{}}):(i=t.urlEncodedTitle,i=typeof i===s?i.apply(t):i),a+=r(i)+"%0A",(i=n.url)?i=i.call(t,{hash:{}}):(i=t.url,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="icon-share-email share-button"\n   class="icon-share-email">&nbsp;</a>\n\n'});return n}),define("app/views/common/share/ShareStrip",["backbone.marionette","application","hbs!app/templates/common/share/shareStrip","app/utils/utilities"],function(e,t,n,i){var a=e.ItemView.extend({template:n,className:"share-button-container",events:{"click ":function(){this.close()}},templateHelpers:function(){var e=this;return{url:function(){var e=window.location.href;return encodeURIComponent(e)},urlEncodedTitle:function(){return encodeURIComponent(i.htmlDecode(e.model.get("title")))},urlEncodedIngress:function(){var t=e.model.get("ingress")||e.model.get("shortDescription");return encodeURIComponent(i.htmlDecode(t))},urlEncodedBrand:function(){return encodeURIComponent(i.htmlDecode(e.model.get("brandName")))}}}});return a}),define("app/views/common/share/shareToggle",["app/views/common/share/ShareStrip"],function(e){return{toggleTopShareStrip:function(e){this.toggleShareStrip(e,!0)},toggleBottomShareStrip:function(e){this.toggleShareStrip(e,!1)},closeShareStrip:function(){this.topShareRegion&&!this.topShareRegion.isClosed&&(this.topShareRegion.close(),this.topShareRegion.isClosed=!0),this.bottomShareRegion&&!this.bottomShareRegion.isClosed&&(this.bottomShareRegion.close(),this.bottomShareRegion.isClosed=!0)},toggleShareStrip:function(t,n){var i=n?this.topShareRegion:this.bottomShareRegion;i.isClosed||!i.$el?(i.show(new e({model:this.model})),this.$el.addClass("share-open"),i.isClosed=!1,t.preventDefault(),t.stopPropagation()):(i.close(),i.isClosed=!0,this.$el.removeClass("share-open"))}}}),define("hbs!app/templates/comments/muutComments",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=this.escapeExpression,c=n.helperMissing;return r+='<div>\n    <a id="muut-',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===o?i.apply(t):i),r+=l(i)+'">',s={hash:{}},i=n.t,a=i?i.call(t,"Comments",s):c.call(t,"t","Comments",s),(a||0===a)&&(r+=a),r+="</a>\n</div>"});return n}),define("app/views/comments/CommentsView",["config","environment","underscore","backbone.marionette","hbs!app/templates/comments/muutComments"],function(e,t,n,i,a){var s=i.ItemView.extend({initialize:function(){this.template=a},className:function(){return"comments-container"+(e.muutAnonymous?" muut-anonymous":"")},onRender:function(){var n=e.muut.comments,i="summa-fi";t.summaSweden&&(i="summa-se");var a=n.muutUrl+"/"+i+"/"+this.model.get("channelId")+"/"+this.model.get("materialId");muut()!==void 0&&muut().destroy(),this.$el.find("#muut-"+this.model.id).muut({url:a,title:this.model.get("title"),upload:!1,api:n.muutApi})}});return s}),define("hbs!app/templates/common/kickerView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+="\n        ",i=n.unless.call(e,e.issue,{hash:{},inverse:_.noop,fn:_.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n    "}function r(e,t){var i,a="";return a+="\n            ",i=n["if"].call(e,e.isLocked,{hash:{},inverse:_.noop,fn:_.program(3,o,t)}),(i||0===i)&&(a+=i),a+="\n        "}function o(){return'<span class="icon-type-paycontent locked"></span>'}function l(e,t){var i,a="";return a+='\n        <span class="issue-text ',(i=n.brandId)?i=i.call(e,{hash:{}}):(i=e.brandId,i=typeof i===w?i.apply(e):i),a+=M(i)+'">\n            ',i=n["if"].call(e,e.isLocked,{hash:{},inverse:_.noop,fn:_.program(6,c,t)}),(i||0===i)&&(a+=i),a+="\n            ",i=n["if"].call(e,e.isDailyNews,{hash:{},inverse:_.program(10,u,t),fn:_.program(8,d,t)}),(i||0===i)&&(a+=i),a+="\n        </span>\n    "}function c(){return'<span class="icon-locked-white"></span>'}function d(e){var t,i,a,s="";return s+="\n                ",a={hash:{}},t=n.t,i=t?t.call(e,"Daily.issue",a):b.call(e,"t","Daily.issue",a),(i||0===i)&&(s+=i),s+=" | ",(i=n.issueDate)?i=i.call(e,{hash:{}}):(i=e.issueDate,i=typeof i===w?i.apply(e):i),s+=M(i)+"\n            "}function u(e){var t,i,a,s="";return s+="\n                ",a={hash:{}},t=n.t,i=t?t.call(e,"Magazine",a):b.call(e,"t","Magazine",a),(i||0===i)&&(s+=i),s+=" ",a={hash:{}},t=n.t,i=t?t.call(e,"issue",a):b.call(e,"t","issue",a),(i||0===i)&&(s+=i),s+=" "+M((t=e.issue,t=null==t||t===!1?t:t.name,typeof t===w?t.apply(e):t))+"\n            "}function h(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.isConference,{hash:{},inverse:_.program(15,m,t),fn:_.program(13,p,t)}),(i||0===i)&&(a+=i),a+="\n    "}function p(e){var t,i="";return i+="\n            ",(t=n.conferenceName)?t=t.call(e,{hash:{}}):(t=e.conferenceName,t=typeof t===w?t.apply(e):t),(t||0===t)&&(i+=t),i+="\n        "}function m(e,t){var i,a="";return a+="\n            ",i=n["if"].call(e,e.isSummaOnly,{hash:{},inverse:_.noop,fn:_.program(16,f,t)}),(i||0===i)&&(a+=i),a+="\n        "}function f(e,t){var i,a,s,r="";return r+='\n                <span class="media">\n                ',i=n["if"].call(e,e.isLocked,{hash:{},inverse:_.noop,fn:_.program(6,c,t)}),(i||0===i)&&(r+=i),r+="\n                    <span>",s={hash:{}},i=n.t,a=i?i.call(e,"Only.in.summa",s):b.call(e,"t","Only.in.summa",s),(a||0===a)&&(r+=a),r+="</span>\n            </span>\n            "}function g(e){var t,i="";return i+="\n        ",(t=n.kicker)?t=t.call(e,{hash:{}}):(t=e.kicker,t=typeof t===w?t.apply(e):t),i+=M(t)+"\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var v,y="",_=this,b=n.helperMissing,w="function",M=this.escapeExpression;return y+='<div class="kicker article-lock">\n    ',v=n.unless.call(t,t.isSummaOnly,{hash:{},inverse:_.noop,fn:_.program(1,s,a)}),(v||0===v)&&(y+=v),y+="\n    ",v=n["if"].call(t,t.isIssue,{hash:{},inverse:_.program(12,h,a),fn:_.program(5,l,a)}),(v||0===v)&&(y+=v),y+="\n    ",v=n.unless.call(t,t.isConference,{hash:{},inverse:_.noop,fn:_.program(18,g,a)}),(v||0===v)&&(y+=v),y+="\n</div>"});return n}),define("hbs!app/templates/common/kickerViewSimple",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="simple-kicker ',(i=n.channelId)?i=i.call(t,{hash:{}}):(i=t.channelId,i=typeof i===s?i.apply(t):i),a+=r(i)+'">\n    ',(i=n.kicker)?i=i.call(t,{hash:{}}):(i=t.kicker,i=typeof i===s?i.apply(t):i),a+=r(i)+"\n</div>"});return n}),define("app/views/common/KickerView",["backbone.marionette","app/utils/utilities","template/helpers/t","moment","hbs!app/templates/common/kickerView","hbs!app/templates/common/kickerViewSimple"],function(e,t,n,i,a,s){var r=e.Layout.extend({tagName:"div",template:a,initialize:function(e){var t=e.useSimpleKicker;t===!0&&(this.template=s)},templateHelpers:function(){var e=this.model.get("sectionId"),a=this.model.get("kicker"),s=t.getIssue(this.model.get("channelId"),e),r=this.model.get("brandId"),o=s,l=!1,c=s?s.name:"",d=this.model.get("conference")?!0:!1,u=this.model.get("conference")?this.model.get("conference").get("headline"):"",h="online_paid"==this.model.get("media"),p=this.model.get("locked");if("paivan-lehti"===this.model.get("sectionId")){l=!0,o=!0;var m,f=n("Daily.weekdays").split(" "),g=i(this.model.get("published"));m=0===g.weekday()?f[6].substr(0,2):f[g.weekday()-1].substr(0,2);var v=g.format("D.M."),y=m+" "+v}return{kicker:a,issue:s,brandId:r,isIssue:o,issueName:c,issueDate:y||"",isDailyNews:l||!1,isConference:d||!1,conferenceName:u,isSummaOnly:h,isLocked:p}}});return r}),define("hbs!app/templates/common/tooltipLogin",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="popup-tooltip tooltip-login">\n    <h4> ',(i=n.popupTitle)?i=i.call(t,{hash:{}}):(i=t.popupTitle,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+=" </h4>\n\n    <div> ",(i=n.tryFreeText)?i=i.call(t,{hash:{}}):(i=t.tryFreeText,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+=' </div>\n    <a class="grey-button ',(i=n.brandId)?i=i.call(t,{hash:{}}):(i=t.brandId,i=typeof i===s?i.apply(t):i),a+=r(i)+'-gradient" href="',(i=n.tryMonthFreeLink)?i=i.call(t,{hash:{}}):(i=t.tryMonthFreeLink,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+='">  ',(i=n.tryMonthFreeText)?i=i.call(t,{hash:{}}):(i=t.tryMonthFreeText,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+=" </a>\n</div>"});return n}),define("app/views/common/ButtonTooltipView",["underscore","config","backbone","backbone.marionette","hbs!app/templates/common/tooltipLogin"],function(e,t,n,i,a){return i.ItemView.extend({template:a,feedbackEvent:$.extend({},n.Events),initialize:function(){}})}),function(){function e(e,o){e=e||"",o=o||{};for(var l in t)t.hasOwnProperty(l)&&(o.autoFix&&(o["fix_"+l]=!0),o.fix=o.fix||o["fix_"+l]);var c=[],d=function(t){e+=t},u=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s>]/i,startTag:/^</,chars:/^[^<]/},p={comment:function(){var t=e.indexOf("-->");return t>=0?{content:e.substr(4,t),length:t+3}:void 0},endTag:function(){var t=e.match(i);return t?{tagName:t[1],length:t[0].length}:void 0},atomicTag:function(){var t=p.startTag();if(t){var n=e.slice(t.length);if(n.match(RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var i=n.match(RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(i)return{tagName:t.tagName,attrs:t.attrs,content:i[1],length:i[0].length+t.length}}}},startTag:function(){var t=e.match(n);if(t){var i={};return t[2].replace(a,function(e,t){var n=arguments[2]||arguments[3]||arguments[4]||s.test(t)&&t||null;i[t]=n}),{tagName:t[1],attrs:i,unary:!!t[3],length:t[0].length}}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},m=function(){for(var t in h)if(h[t].test(e)){r&&console.log("suspected "+t);var n=p[t]();return n?(r&&console.log("parsed "+t,n),n.type=n.type||t,n.text=e.substr(0,n.length),e=e.slice(n.length),n):null}},f=function(e){for(var t;t=m();)if(e[t.type]&&e[t.type](t)===!1)return},g=function(){var t=e;return e="",t},v=function(){return e};return o.fix&&function(){var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,n=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,i=[];i.last=function(){return this[this.length-1]},i.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},i.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1};var a=function(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary),e},s=m,r=function(){var t=e,n=a(s());return e=t,n},l=function(){var e=i.pop();u("</"+e.tagName+">")},c={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(u("<TBODY>"),h()):o.fix_selfClose&&n.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?l():(u("</"+e.tagName+">"),h()):e.unary||i.push(e)},endTag:function(e){var t=i.last();t?o.fix_tagSoup&&!i.lastTagNameEq(e.tagName)?l():i.pop():o.fix_tagSoup&&d()}},d=function(){s(),h()},h=function(){var e=r();e&&c[e.type]&&c[e.type](e)};m=function(){return h(),a(s())}}(),{append:d,readToken:m,readTokens:f,clear:g,rest:v,stack:c}}var t=function(){var e,t={},n=this.document.createElement("div");return e="<P><I></P></I>",n.innerHTML=e,t.tagSoup=n.innerHTML!==e,n.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===n.childNodes.length,t}(),n=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,a=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,s=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,r=!1;e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"<--"+e.content+"-->"},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return console.log(e),t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t="<"+e.tagName;for(var n in e.attrs){var i=e.attrs[n];t+=" "+n+'="'+(i?i.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return t+(e.unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t={};for(var n in e){var i=e[n];t[n]=i&&i.replace(/(^|[^\\])"/g,'$1\\"')}return t};for(var o in t)e.browserHasFlaw=e.browserHasFlaw||!t[o]&&o;this.htmlParser=e}(),function(){function e(){}function t(e){return"function"==typeof e}function n(e,t,n){var i,a=e&&e.length||0;for(i=0;a>i;i++)t.call(n,e[i],i)}function i(e,t,n){var i;for(i in e)e.hasOwnProperty(i)&&t.call(n,i,e[i])}function a(e,t){return i(t,function(t,n){e[t]=n}),e}function s(e,t){return e=e||{},i(t,function(t,n){null==e[t]&&(e[t]=n)}),e}function r(e){try{return d.call(e)}catch(t){var i=[];return n(e,function(e){i.push(e)}),i}}function o(e){return/^script$/i.test(e.tagName)}var l=this;if(!l.postscribe){var c=!1,d=Array.prototype.slice,u=function(){function e(e,t,n){var i=d+t;if(2===arguments.length){var a=e.getAttribute(i);return null==a?a:a+""}null!=n&&""!==n?e.setAttribute(i,n):e.removeAttribute(i)}function s(t,n){var i=t.ownerDocument;a(this,{root:t,options:n,win:i.defaultView||i.parentWindow,doc:i,parser:l.htmlParser("",{autoFix:!0}),actuals:[t],proxyHistory:"",proxyRoot:i.createElement(t.nodeName),scriptStack:[],writeQueue:[]}),e(this.proxyRoot,"proxyof",0)}var d="data-ps-";return s.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var e;!this.deferredRemote&&this.writeQueue.length;)e=this.writeQueue.shift(),t(e)?this.callFunction(e):this.writeImpl(e)},s.prototype.callFunction=function(e){var t={type:"function",value:e.name||""+e};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},s.prototype.writeImpl=function(e){this.parser.append(e);for(var t,n=[];(t=this.parser.readToken())&&!o(t);)n.push(t);this.writeStaticTokens(n),t&&this.handleScriptToken(t)},s.prototype.writeStaticTokens=function(e){var t=this.buildChunk(e);if(t.actual)return t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,c&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),c&&(t.actualInnerHTML=this.root.innerHTML),t},s.prototype.buildChunk=function(e){var t=this.actuals.length,i=[],a=[],s=[];return n(e,function(e){if(i.push(e.text),e.attrs){if(!/^noscript$/i.test(e.tagName)){var n=t++;a.push(e.text.replace(/(\/?>)/," "+d+"id="+n+" $1")),"ps-script"!==e.attrs.id&&s.push("atomicTag"===e.type?"":"<"+e.tagName+" "+d+"proxyof="+n+(e.unary?"/>":">"))}}else a.push(e.text),s.push("endTag"===e.type?e.text:"")}),{tokens:e,raw:i.join(""),actual:a.join(""),proxy:s.join("")}},s.prototype.walkChunk=function(){for(var t,n=[this.proxyRoot];null!=(t=n.shift());){var i=1===t.nodeType,a=i&&e(t,"proxyof");if(!a){i&&(this.actuals[e(t,"id")]=t,e(t,"id",null));var s=t.parentNode&&e(t.parentNode,"proxyof");s&&this.actuals[s].appendChild(t)}n.unshift.apply(n,r(t.childNodes))}},s.prototype.handleScriptToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e);var n=this;this.writeScriptToken(e,function(){n.onScriptDone(e)})},s.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},s.prototype.onScriptDone=function(e){return e!==this.scriptStack[0]?(this.options.error({message:"Bad script nesting or script finished twice"}),void 0):(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null),void 0)},s.prototype.writeScriptToken=function(e,t){var n=this.buildScript(e);e.src&&(n.src=e.src,this.scriptLoadHandler(n,t));try{this.insertScript(n),e.src||t()}catch(i){this.options.error(i),t()}},s.prototype.buildScript=function(e){var t=this.doc.createElement(e.tagName);return i(e.attrs,function(e,n){t.setAttribute(e,n)}),e.content&&(t.text=e.content),t},s.prototype.insertScript=function(e){this.writeImpl('<span id="ps-script"/>');var t=this.doc.getElementById("ps-script");t.parentNode.replaceChild(e,t)},s.prototype.scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null,t()}var i=this.options.error;a(e,{onload:function(){n()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()},onerror:function(){i({message:"remote script failed "+e.src}),n()}})},s}(),h=function(){function n(){var e=d.shift();e&&(e.stream=i.apply(null,e))}function i(t,i,s){function l(e){e=s.beforeWrite(e),h.write(e),s.afterWrite(e)}h=new u(t,s),h.id=c++,h.name=s.name||h.id,o.streams[h.name]=h;var d=t.ownerDocument,p={write:d.write,writeln:d.writeln};a(d,{write:function(){return l(r(arguments).join(""))},writeln:function(){return l(r(arguments).join("")+"\n")}});var m=h.win.onerror||e;
return h.win.onerror=function(e,t,n){s.error({msg:e+" - "+t+":"+n}),m.apply(h.win,arguments)},h.write(i,function(){a(d,p),h.win.onerror=m,s.done(),h=null,n()}),h}function o(i,a,r){t(r)&&(r={done:r}),r=s(r,{done:e,error:function(e){throw e},beforeWrite:function(e){return e},afterWrite:e}),i=/^#/.test(i)?l.document.getElementById(i.substr(1)):i.jquery?i[0]:i;var o=[i,a,r];return i.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=e}},d.push(o),h||n(),i.postscribe}var c=0,d=[],h=null;return a(o,{streams:{},queue:d,WriteStream:u})}();l.postscribe=h}}(),void 0==window.adgroupid&&(window.adgroupid=Math.round(1e3*Math.random()));var ADTECH=ADTECH||{};ADTECH.loadAd=function(e,t){var n=document.getElementById(e);n&&(n.innerHTML="",postscribe(n,'<script type="text/javascript" src="'+t+'"></script>'))},define("adtech",function(e){return function(){var t;return t||e.ADTECH}}(this)),define("app/models/AdModel",["backbone"],function(e){var t=e.Model.extend({defaults:{itemType:"ad",name:"320x250",adClass:"box-ad"}});return t}),define("hbs!app/templates/common/adView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="clear"></div>\n<div id="',(i=n.placementId)?i=i.call(t,{hash:{}}):(i=t.placementId,i=typeof i===s?i.apply(t):i),a+=r(i)+'" class="ad"></div>\n<div class="clear"></div>\n'});return n}),define("app/views/common/AdItemView",["backbone.marionette","hbs!app/templates/common/adView"],function(e,t){var n=e.ItemView.extend({template:t});return n}),define("hbs!app/templates/common/overlayMessage",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=this.escapeExpression,c=n.helperMissing;return r+='<div class="icon-caption-close close"></div>\n<div class="overlay-message-content">\n    <h1>',(i=n.title)?i=i.call(t,{hash:{}}):(i=t.title,i=typeof i===o?i.apply(t):i),r+=l(i)+"</h1>\n\n    <p>\n        ",(i=n.paragraph)?i=i.call(t,{hash:{}}):(i=t.paragraph,i=typeof i===o?i.apply(t):i),r+=l(i)+'\n    </p>\n\n    <a href="',(i=n.summaHost)?i=i.call(t,{hash:{}}):(i=t.summaHost,i=typeof i===o?i.apply(t):i),(i||0===i)&&(r+=i),r+='/welcome/select-product" class="try-for-free-link external-link green-button">\n        ',s={hash:{}},i=n.t,a=i?i.call(t,"Try.one.month.for.free",s):c.call(t,"t","Try.one.month.for.free",s),(a||0===a)&&(r+=a),r+="\n    </a>\n\n    <p>\n        ",s={hash:{}},i=n.t,a=i?i.call(t,"If.you.already.have.credentials",s):c.call(t,"t","If.you.already.have.credentials",s),(a||0===a)&&(r+=a),r+=',\n        <a href="',(a=n.summaHost)?a=a.call(t,{hash:{}}):(a=t.summaHost,a=typeof a===o?a.apply(t):a),(a||0===a)&&(r+=a),r+='/login" class="external-link">',s={hash:{}},i=n.t,a=i?i.call(t,"log.in",s):c.call(t,"t","log.in",s),(a||0===a)&&(r+=a),r+="</a>\n    </p>\n</div>"});return n}),define("app/views/common/OverlayMessage",["environment","config","app/views/purchase/purchase","backbone.marionette","hbs!app/templates/common/overlayMessage"],function(e,t,n,i,a){var s=i.ItemView.extend({initialize:function(){this.model.set("summaSweden",e.summaSweden)},template:a,templateHelpers:function(){return{summaHost:t.summaHost}},className:"overlay-message",events:{click:function(){this.close()},"click .register-here":function(e){document.location=$(e.target).attr("href")}}});return s}),define("app/views/articles/ArticleBodyView",["moment","config","underscore","backbone","backbone.marionette","application","app/collections/channelCollection","hbs!app/templates/articles/articleBodyView","app/views/articles/RelatedArticleView","app/views/articles/RelatedArticlesListView","app/views/purchase/StartPurchaseView","app/views/purchase/purchase","app/views/video/VideoView","app/views/articles/CommonArticleBody","app/utils/utilities","template/helpers/t","app/views/common/tabledata/TableDataView","app/views/common/share/shareToggle","app/views/comments/CommentsView","app/models/User","app/views/common/KickerView","app/views/common/ButtonTooltipView","adtech","app/models/AdModel","app/views/common/AdItemView","app/views/common/OverlayMessage"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m,f,g,v,y,_,b,w,M,k,L,T){var x=p.extend({template:o,articleURI:"",className:function(){return-1===this.model.get("body").indexOf("<p")?"article-body no-paragraphs":"article-body"},regions:{buyContentRegion:"#buy-content-region",topShareRegion:".top-share .icon-share",bottomShareRegion:".bottom-share .icon-share",tableDataRegion:".table-data-region",commentsRegion:".muut-region",relatedArticlesRegion:".related-articles-region",kickerRegion:".kicker-region",popupRegion:".tooltip-login-bookmark-region",imageViewerRegion:"#image-viewer-region"},events:{"click img":"openImageCarousel","click .top-share":"toggleTopShareStrip","click .bookmark":"toggleBookmark","click .bottom-share":"toggleBottomShareStrip","touchstart table":function(e){e.stopPropagation()},"touchmove table":function(e){e.stopPropagation()},click:"closeShareStrip"},initialize:function(){this.model.get("author");var e=this.model.get("brandId"),n=this.model.get("sectionId"),i=this.model.get("dailyIssueId"),a=this.model.get("conference"),s=this.model.get("id"),o="/article/";o+=e?e+"/":"",o+=n?n+"/":"",o+=i?i+"/":"",o+=a?a.get("id")+"/":"",o+=s,this.articleURI=o,t.channelId||(this.model.set("bookmarked",_.hasBookmarked(this.articleURI)),this.listenTo(_,"change:bookmarks",this.setBookmarked.bind(this))),this.model.get("conference")&&(this.ads=this.model.get("conference").get("ads")),this.channel=r.get(this.model.get("channelId"))},setBookmarked:function(){_.hasBookmarked(this.articleURI)?(this.model.set("bookmarked",!0),this.$el.find(".icon-bookmark").addClass("icon-bookmark-on").removeClass("icon-bookmark-off")):(this.model.set("bookmarked",!1),this.$el.find(".icon-bookmark").addClass("icon-bookmark-off").removeClass("icon-bookmark-on"))},templateHelpers:function(){var t=this.model.get("sectionId"),i=m.getIssue(this.model.get("channelId"),t),a=i,s=!1,r=i?i.name:"",o=this.model.get("author"),l=this.model.get("editor"),c=this.model.get("brandId");l&&(o=m.editorLink(c,this.model.get("author"),l.slug));var d=this.model.get("images").length;n.each(this.model.get("relations")||[],function(e){d+=e.relatedArticle.images.length}.bind(this));var u="online_paid"==this.model.get("media");if("paivan-lehti"===this.model.get("sectionId")){s=!0,a=!0;var h,p=f("Daily.weekdays").split(" "),g=e(this.model.get("published"));h=0===g.weekday()?p[6].substr(0,2):p[g.weekday()-1].substr(0,2);var v=g.format("D.M."),y=h+" "+v}return{isIssue:a,issueName:r,issueDate:y||"",isDailyNews:s||!1,imageCount:d,showSlideshowIndicator:d>1,isSummaOnly:u,authorLink:o,authorLinkHideMobile:l}},openImage:function(e){var t=e.currentTarget.src,n=e.currentTarget.alt,a=e.currentTarget.getAttribute("data-credit"),r=e.currentTarget.getAttribute("data-width"),o=e.currentTarget.getAttribute("data-height"),l=e.currentTarget.getAttribute("data-original");s.commands.execute("openImageViewer",new i.Model({url:t,originalUrl:l,caption:n,credit:a,width:r,height:o}))},openImageCarousel:function(e){var t=$(e.target).attr("data-original"),a=this.model.get("images"),r=this.model.get("relations");if(r.length){var o=[];n.each(r,function(e){o=o.concat(e.relatedArticle.images)}),a=a.concat(o)}this.model.get("locked")&&(a=[n.first(a)]);var l=new i.Collection(a);l.initialImageUrl=t,s.commands.execute("openImageCarousel",l)},onRender:function(){this.kickerRegion.show(new b({model:this.model})),(t.oneArticleAccess||this.model.get("locked"))&&this.model.set("copy",f("Subscribe.to.channel.to.read.the.full.article")),t.oneArticleAccess?this.buyContentRegion.show(new d({model:this.model,teaser:!0})):this.model.get("locked")&&this.buyContentRegion.show(new d({model:this.model})),this.processBodyImages(),n.each(this.$el.find("div.embed-image"),function(e){var t=$(e);0===t.find("img").length&&(n.each(t.nextAll("h2"),function(e){var t=$(e);t.remove()}.bind(this)),t.remove())}.bind(this));var e=this.model.get("relations");e&&e.length>0&&n.each(e,function(e){var t=new i.Model(e.relatedArticle),n=this.$el.find(".embedded-article-"+e.embedId);if(1===n.length){var a=new l({model:t}).render();this.$el.find("p:last").next(".embedded-article-"+e.embedId).length>0&&a.toggleRelated(),n.append(a.el)}}.bind(this));var a=this.model.get("relatedArticles");if(a&&a.length>0){var s=new c({collection:new i.Collection(a)});this.relatedArticlesRegion.show(s)}this.$el.find("img").attr("data-track","article image"),this.renderTables(),this.$el.find(".related-article-container").clone().addClass("inline").insertBefore(this.$el.find(".body").first())},renderAds:function(){if(this.ads&&!t.oneArticleAccess){var e=this.ads["300x250"],n=this.ads["600x300"],i=this.ads["570x160"];if(this.shownAds=this.shownAds||[],3!=this.shownAds.length){var a="placement_"+e+"_"+this.model.get("id"),s=new L({model:new k({placementId:a}),className:"article-box-ad"}).render().$el;if(s.insertBefore(this.$el.find(".body p:first")),this.shownAds.push({size:"300x250",placementId:a}),$(window).width()>=640&&n&&i){var r="placement_"+n+"_"+this.model.get("id"),o=new L({model:new k({placementId:r}),className:"article-banner-ad"}).render().$el,l=this.$el.find(".body h3:last");0==l.length&&(l=this.$el.find(".body p:not(.body article p)"),l=[l[parseInt(l.length/2,10)]]),l.length>0&&(o.insertBefore($(l)),this.shownAds.push({size:"600x300",placementId:r}));var c="placement_"+i+"_"+this.model.get("id"),d=new L({model:new k({placementId:c}),className:"article-banner-ad"}).render().$el,u=this.$el.find(".body p:not(.body article p)");u&&u.length>0&&d.insertAfter($(u[u.length-1])),this.shownAds.push({size:"570x160",placementId:c})}this.loadAds()}}},renderTables:function(){var e=this.model.get("externalTable");e&&""!==e&&(this.$el.addClass("table-article"),this.tableDataRegion.show(new g({id:e})))},renderVideos:function(){var e=this.model.get("videos");if(e&&e.length>0&&!this.videosRendered){var t=window.innerWidth>540?600:280;n.each(e,function(e){var n=this.$el.find("span.embedded-video[data-embedid="+e.embedId+"]"),a=new h({model:new i.Model(e),source:e.source,parentWidth:t}).render();"Kaltura"==e.source?n.parent().after(a.$el):n.after(a.$el),a.initVideo()}.bind(this)),this.videosRendered=!0}},renderComments:function(){!t.commentsEnabled||t.oneArticleAccess||this.model.get("locked")||require(["//cdn.muut.com/1/moot."+t.muutLang+".min.js"],function(){this.commentsRegion&&this.commentsRegion.show(new y({model:this.model}))}.bind(this))},loadAds:function(){var e=this.channel.get("adNetworkId"),t=m.getAddSizeIds();n.each(this.shownAds,function(i){var a=t[i.size],s=i.placementId,r=n.chain(s.split("_")).take(2).last().value();try{M.loadAd(s,"http://adserver.adtech.de/addyn|3.0|"+e+"|"+r+"|0|"+a+"|ADTECH;loc=100;target=_blank;alias=;grp="+window.adgroupid+";misc="+(new Date).getTime())}catch(o){console.warn("AdTech fail: "+o.message)}})},toggleBookmark:function(){t.openMagazine?s.commands.execute("showOverlayMessage",new T({model:new i.Model({title:f("Register.to.save.bookmark"),paragraph:f("Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything"),buttonType:"tryOneMonth"})})):this.model.get("bookmarked")?(_.removeFromBookmarks(this.articleURI),this.model.set("bookmarked",!1),this.$el.find(".icon-bookmark").addClass("icon-bookmark-off").removeClass("icon-bookmark-on")):(_.addToBookmarks(this.articleURI),this.model.set("bookmarked",!0),this.$el.find(".icon-bookmark").addClass("icon-bookmark-on").removeClass("icon-bookmark-off"))}});return x=x.extend(v)}),define("template/helpers/articleLink",["Handlebars","application"],function(e,t){var n=function(e,n){var i="",a=e||"";return this.link?(i+="<a href='"+this.link+"' class='"+a+"' data-track='article link' target='_blank'>",i+=n.fn(this)+"</a>"):t.openMagazinePath?(i+="<a href='"+t.openMagazinePath,i+=this.sectionId?this.sectionId+"/":"",i+=this.dailyIssueId&&"paivan-lehti"===this.sectionId?this.dailyIssueId+"/":"",i+=this.articleSlug?this.articleSlug+"/":"",i+=this.id+"' data-track='article link' id='article-"+this.id+"' class='"+a+"'"+" name='article-"+this.id+"' data-source='"+this.channelTitle+">"+this.sectionId+"'>",i+=n.fn(this)+"</a>"):(i+="<a href='/article/",i+=this.channelId+"/",i+=this.sectionId?this.sectionId+"/":"",i+=this.dailyIssueId&&"paivan-lehti"===this.sectionId?this.dailyIssueId+"/":"",i+=this.conferenceId?this.conferenceId+"/":"",i+=this.articleSlug?this.articleSlug+"/":"",i+=this.id+"' data-track='article link' id='article-"+this.id+"' class='"+a+"'"+" name='article-"+this.id+"' data-source='"+this.channelTitle+">"+this.sectionId+"'>",i+=n.fn(this)+"</a>"),i};e.registerHelper("articleLink",n)}),define("hbs!app/templates/articles/top3ArticleItemView",["hbs","Handlebars","template/helpers/articleLink","template/helpers/picture","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s="";return s+='\n    <h3 class="title">',(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===m?i.apply(e):i),(i||0===i)&&(s+=i),s+='</h3>\n    <p class="description">\n        <span class="ingress">',(i=n.ingress)?i=i.call(e,{hash:{}}):(i=e.ingress,i=typeof i===m?i.apply(e):i),(i||0===i)&&(s+=i),s+="</span>\n        ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:p.program(5,l,t),fn:p.program(2,r,t)}),(a||0===a)&&(s+=a),s+="\n    </p>\n"}function r(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:p.noop,fn:p.program(3,o,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):h.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n        "}function o(e){var t,i,a;return a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"ingress-image",a):h.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"ingress-image",a),i||0===i?i:""}function l(e){var t,i="";return i+='\n            <span class="ingress-image placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===m?t.apply(e):t),i+=f(t)+' greyscale"></span>\n        '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d,u,h=n.helperMissing,p=this,m="function",f=this.escapeExpression;return u={hash:{},inverse:p.noop,fn:p.program(1,s,a)},c=n.articleLink,d=c?c.call(t,"",u):h.call(t,"articleLink","",u),d||0===d?d:""});return n}),define("hbs!app/templates/common/simpleLoadingView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="spinner">'});return n}),define("app/views/common/ModuleContentLoadingView",["backbone.marionette","hbs!app/templates/common/simpleLoadingView"],function(e,t){var n=e.ItemView.extend({template:t});return n}),define("app/views/articles/Top3ArticleView",["config","backbone.marionette","application","hbs!app/templates/articles/top3ArticleItemView","app/views/common/ModuleContentLoadingView"],function(e,t,n,i,a){var s=t.ItemView.extend({tagName:"article",className:"top3-article col",template:i,events:{click:"jumpToArticle"},jumpToArticle:function(t){if(!e.oneArticleAccess){var i=$(t.target);i.is("[href]")||(i=i.parents("a"));var a=i.attr("name");a=a.replace("article-","");var s=i.attr("href");if(a)return 539>window.innerWidth&&$("html").removeClass("article-menu-open"),n.latestClickSource=this.model.get("brandName")+" > right menu",n.commands.execute("jumpToArticle",{articleId:a,url:s}),!1}}}),r=t.CollectionView.extend({itemView:s,emptyView:a,initialize:function(){this.collection.invoke("set",{channelId:this.options.channelId,sectionId:this.options.newsSectionId,isDailyNews:!1})}});return r}),define("template/helpers/sectionName",["Handlebars","language"],function(e,t){var n=function(e,n){var i;if(!n||e&&""!==e){var a=t[e];i=a?a:e}else i=t.Issues;return i};return e.registerHelper("sectionName",n),n}),define("hbs!app/templates/common/sectionNavigation",["hbs","Handlebars","template/helpers/t","template/helpers/sectionName","template/helpers/ifAreSame"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(){return'\n        <a class="section-link refresh-content icon-reload"></a>\n    '}function r(){return'\n        <a class="section-link article-menu-toggle-placeholder un-menuable"></a>\n    '}function o(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:T.program(8,c,t),fn:T.programWithDepth(l,t,e),data:t}),(i||0===i)&&(a+=i),a+="\n    "}function l(e,t,i){var a,s,r="";return r+='\n            <a href="'+L((a=i.openMagazinePath,typeof a===k?a.apply(e):a)),(s=n.currentSectionId)?s=s.call(e,{hash:{},data:t}):(s=e.currentSectionId,s=typeof s===k?s.apply(e):s),r+=L(s)+'"\n               class="alternate-menu-button section-link icon-arrow-left un-menuable">',(s=n.currentSectionName)?s=s.call(e,{hash:{},data:t}):(s=e.currentSectionName,s=typeof s===k?s.apply(e):s),r+=L(s)+"</a>\n        "}function c(e,t){var i,a="";return a+='\n            <a href="',(i=n.page)?i=i.call(e,{hash:{},data:t}):(i=e.page,i=typeof i===k?i.apply(e):i),a+=L(i)+"/",(i=n.channelId)?i=i.call(e,{hash:{},data:t}):(i=e.channelId,i=typeof i===k?i.apply(e):i),a+=L(i)+"/",(i=n.currentSectionId)?i=i.call(e,{hash:{},data:t}):(i=e.currentSectionId,i=typeof i===k?i.apply(e):i),a+=L(i)+'"\n               class="alternate-menu-button section-link icon-arrow-left un-menuable">',(i=n.currentSectionName)?i=i.call(e,{hash:{},data:t}):(i=e.currentSectionName,i=typeof i===k?i.apply(e):i),a+=L(i)+"</a>\n        "}function d(e,t){var i,a="";return a+='\n        <a class="alternate-menu-button mobile-section-menu-button section-link ',i=n["if"].call(e,e.hasManySections,{hash:{},inverse:T.noop,fn:T.program(11,u,t),data:t}),(i||0===i)&&(a+=i),a+=' un-menuable">',(i=n.currentSectionName)?i=i.call(e,{hash:{},data:t}):(i=e.currentSectionName,i=typeof i===k?i.apply(e):i),a+=L(i)+"</a>\n    "}function u(){return"icon-arrow-down"}function h(e,t){var i,a="";return a+="\n        ",i=n.each.call(e,e.sections,{hash:{},inverse:T.noop,fn:T.programWithDepth(p,t,e),data:t}),(i||0===i)&&(a+=i),a+="\n    "}function p(e,t,i){var a,s,r,o="";return o+='\n            <a href="'+L((a=i.openMagazinePath,typeof a===k?a.apply(e):a)),(s=n.id)?s=s.call(e,{hash:{},data:t}):(s=e.id,s=typeof s===k?s.apply(e):s),o+=L(s)+'" data-channel="'+L((a=i.id,typeof a===k?a.apply(e):a))+'" data-section="',(s=n.id)?s=s.call(e,{hash:{},data:t}):(s=e.id,s=typeof s===k?s.apply(e):s),o+=L(s)+'" title="',r={hash:{},data:t},a=n.sectionName,s=a?a.call(e,e.name,e.magazineSection,r):x.call(e,"sectionName",e.name,e.magazineSection,r),(s||0===s)&&(o+=s),o+='"\n               class="section-link link-'+L((a=t.index,typeof a===k?a.apply(e):a))+" ",r={hash:{},inverse:T.noop,fn:T.program(15,m,t),data:t},a=n.ifAreSame,s=a?a.call(e,i.currentSectionId,e.id,r):x.call(e,"ifAreSame",i.currentSectionId,e.id,r),(s||0===s)&&(o+=s),o+='">\n                ',r={hash:{},data:t},a=n.sectionName,s=a?a.call(e,e.name,e.magazineSection,r):x.call(e,"sectionName",e.name,e.magazineSection,r),(s||0===s)&&(o+=s),o+="\n            </a>\n        "}function m(){return"active"}function f(e,t){var i,a="";return a+="\n        ",i=n.each.call(e,e.sections,{hash:{},inverse:T.noop,fn:T.programWithDepth(g,t,e),data:t}),(i||0===i)&&(a+=i),a+="\n    "}function g(e,t,i){var a,s,r,o="";return o+='\n            <a href="'+L((a=i.page,typeof a===k?a.apply(e):a))+"/"+L((a=i.id,typeof a===k?a.apply(e):a))+"/",(s=n.id)?s=s.call(e,{hash:{},data:t}):(s=e.id,s=typeof s===k?s.apply(e):s),o+=L(s)+'" data-channel="'+L((a=i.id,typeof a===k?a.apply(e):a))+'" data-section="',(s=n.id)?s=s.call(e,{hash:{},data:t}):(s=e.id,s=typeof s===k?s.apply(e):s),o+=L(s)+'" title="',r={hash:{},data:t},a=n.sectionName,s=a?a.call(e,e.name,e.magazineSection,r):x.call(e,"sectionName",e.name,e.magazineSection,r),(s||0===s)&&(o+=s),o+='"\n               class="section-link link-'+L((a=t.index,typeof a===k?a.apply(e):a))+" ",r={hash:{},inverse:T.noop,fn:T.program(15,m,t),data:t},a=n.ifAreSame,s=a?a.call(e,i.currentSectionId,e.id,r):x.call(e,"ifAreSame",i.currentSectionId,e.id,r),(s||0===s)&&(o+=s),o+='">\n                ',r={hash:{},data:t},a=n.sectionName,s=a?a.call(e,e.name,e.magazineSection,r):x.call(e,"sectionName",e.name,e.magazineSection,r),(s||0===s)&&(o+=s),o+="\n            </a>\n        "}function v(e,t){var i,a,s,r="";return r+='\n    <div class="new-content-available">\n        <a class="icon-close-small close-new-content-notification"></a>\n        ',s={hash:{},data:t},i=n.t,a=i?i.call(e,"New.content.available",s):x.call(e,"t","New.content.available",s),(a||0===a)&&(r+=a),r+="\n    </div>\n"}function y(){return'\n    <div class="article-menu-region"></div>\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var _,b,w,M="",k="function",L=this.escapeExpression,T=this,x=n.helperMissing;return M+='<div class="brand-header-region"></div>\n<nav class="section-menu secs-',(_=n.sectionCount)?_=_.call(t,{hash:{},data:a}):(_=t.sectionCount,_=typeof _===k?_.apply(t):_),M+=L(_)+" ",(_=n.channelId)?_=_.call(t,{hash:{},data:a}):(_=t.channelId,_=typeof _===k?_.apply(t):_),M+=L(_)+'">\n    ',_=n["if"].call(t,t.showRefreshButton,{hash:{},inverse:T.noop,fn:T.program(1,s,a),data:a}),(_||0===_)&&(M+=_),M+="\n    ",_=n["if"].call(t,t.showArticleMenuToggle,{hash:{},inverse:T.noop,fn:T.program(3,r,a),data:a}),(_||0===_)&&(M+=_),M+="\n    ",_=n["if"].call(t,t.showHeadlineSection,{hash:{},inverse:T.noop,fn:T.program(5,o,a),data:a}),(_||0===_)&&(M+=_),M+="\n    ",_=n["if"].call(t,t.showMobileSectionMenuButton,{hash:{},inverse:T.noop,fn:T.program(10,d,a),data:a}),(_||0===_)&&(M+=_),M+='\n    <a class="section-link menu-button icon-arrow-down un-menuable hide-mobile">\n        <span class="menu-button-text">',w={hash:{},data:a},_=n.t,b=_?_.call(t,"More",w):x.call(t,"t","More",w),(b||0===b)&&(M+=b),M+="</span>\n    </a>\n\n\n    ",b=n["if"].call(t,t.openMagazinePath,{hash:{},inverse:T.noop,fn:T.program(13,h,a),data:a}),(b||0===b)&&(M+=b),M+="\n    ",b=n.unless.call(t,t.openMagazinePath,{hash:{},inverse:T.noop,fn:T.program(17,f,a),data:a}),(b||0===b)&&(M+=b),M+="\n\n</nav>\n",b=n["if"].call(t,t.showRefreshButton,{hash:{},inverse:T.noop,fn:T.program(20,v,a),data:a}),(b||0===b)&&(M+=b),M+="\n",b=n["if"].call(t,t.showArticleMenuToggle,{hash:{},inverse:T.noop,fn:T.program(22,y,a),data:a}),(b||0===b)&&(M+=b),M});return n}),define("template/helpers/currentSection",["Handlebars","application"],function(e,t){var n=function(){var e="",n=t.location.get("currentSectionId");return e+=n};e.registerHelper("currentSection",n)}),define("template/helpers/isIssue",["Handlebars","app/utils/utilities"],function(e,t){var n=function(e,n,i){var a=t.getIssue(e,n);return a?i.fn(this):i.inverse(this)};e.registerHelper("isIssue",n)}),define("hbs!app/templates/articles/articleMenuItemView",["hbs","Handlebars","template/helpers/currentSection","template/helpers/isIssue"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+="\n    ",i=n["if"].call(e,e.isDailyNews,{hash:{},inverse:x.program(4,o,t),fn:x.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n"}function r(e){var t,i,a,s="";return s+='\n        <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===k?t.apply(e):t),s+=L(t),a={hash:{}},t=n.currentSection,i=t?t.call(e,"",a):T.call(e,"currentSection","",a),(i||0===i)&&(s+=i),s+="/",(i=n.dailyIssueId)?i=i.call(e,{hash:{}}):(i=e.dailyIssueId,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.articleSlug)?i=i.call(e,{hash:{}}):(i=e.articleSlug,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'" data-article-id="',(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'"\n           data-source="',(i=n.brandName)?i=i.call(e,{hash:{}}):(i=e.brandName,i=typeof i===k?i.apply(e):i),s+=L(i)+' > right menu" data-track="article link">\n    '}function o(e){var t,i,a,s="";return s+='\n        <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===k?t.apply(e):t),s+=L(t),a={hash:{}},t=n.currentSection,i=t?t.call(e,"",a):T.call(e,"currentSection","",a),(i||0===i)&&(s+=i),s+="/",(i=n.articleSlug)?i=i.call(e,{hash:{}}):(i=e.articleSlug,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'" data-article-id="',(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'"\n           data-source="',(i=n.brandName)?i=i.call(e,{hash:{}}):(i=e.brandName,i=typeof i===k?i.apply(e):i),s+=L(i)+' > right menu" data-track="article link">\n    '}function l(e,t){var i,a="";return a+="\n    ",i=n["if"].call(e,e.isDailyNews,{hash:{},inverse:x.program(9,d,t),fn:x.program(7,c,t)}),(i||0===i)&&(a+=i),a+="\n"}function c(e){var t,i,a,s="";return s+='\n        <a href="/article/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===k?t.apply(e):t),s+=L(t)+"/",a={hash:{}},t=n.currentSection,i=t?t.call(e,"",a):T.call(e,"currentSection","",a),(i||0===i)&&(s+=i),s+="/",(i=n.dailyIssueId)?i=i.call(e,{hash:{}}):(i=e.dailyIssueId,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.articleSlug)?i=i.call(e,{hash:{}}):(i=e.articleSlug,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'" data-article-id="',(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'"\n           data-source="',(i=n.brandName)?i=i.call(e,{hash:{}}):(i=e.brandName,i=typeof i===k?i.apply(e):i),s+=L(i)+' > right menu" data-track="article link">\n    '}function d(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.conferenceId,{hash:{},inverse:x.program(12,h,t),fn:x.program(10,u,t)}),(i||0===i)&&(a+=i),a+="\n    "}function u(e){var t,i,a,s="";return s+='\n            <a href="/article/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===k?t.apply(e):t),s+=L(t)+"/",a={hash:{}},t=n.currentSection,i=t?t.call(e,"",a):T.call(e,"currentSection","",a),(i||0===i)&&(s+=i),s+="/",(i=n.conferenceId)?i=i.call(e,{hash:{}}):(i=e.conferenceId,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.articleSlug)?i=i.call(e,{hash:{}}):(i=e.articleSlug,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'" data-article-id="',(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'"\n               data-source="',(i=n.brandName)?i=i.call(e,{hash:{}}):(i=e.brandName,i=typeof i===k?i.apply(e):i),s+=L(i)+' > right menu" data-track="article link">\n        '}function h(e){var t,i,a,s="";return s+='\n            <a href="/article/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===k?t.apply(e):t),s+=L(t)+"/",a={hash:{}},t=n.currentSection,i=t?t.call(e,"",a):T.call(e,"currentSection","",a),(i||0===i)&&(s+=i),s+="/",(i=n.articleSlug)?i=i.call(e,{hash:{}}):(i=e.articleSlug,i=typeof i===k?i.apply(e):i),s+=L(i)+"/",(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'" data-article-id="',(i=n.id)?i=i.call(e,{hash:{}}):(i=e.id,i=typeof i===k?i.apply(e):i),s+=L(i)+'"\n               data-source="',(i=n.brandName)?i=i.call(e,{hash:{}}):(i=e.brandName,i=typeof i===k?i.apply(e):i),s+=L(i)+' > right menu" data-track="article link">\n        '}function p(e,t){var i,a="";return a+='\n        <span class="page-number ',i=n["if"].call(e,e.locked,{hash:{},inverse:x.noop,fn:x.program(15,m,t)}),(i||0===i)&&(a+=i),a+='">',(i=n.pageNumber)?i=i.call(e,{hash:{}}):(i=e.pageNumber,i=typeof i===k?i.apply(e):i),a+=L(i)+"</span>\n"}function m(){return"icon-type-paycontent"}function f(e,t){var i,a="";return a+="\n    ",i=n["if"].call(e,e.locked,{hash:{},inverse:x.noop,fn:x.program(18,g,t)}),(i||0===i)&&(a+=i),a+="\n"}function g(){return'<span class="icon-type-paycontent menu-lock"></span>'}function v(){return"page-number-space"}function y(){return" lock-space"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var _,b,w,M="",k="function",L=this.escapeExpression,T=n.helperMissing,x=this;return _=n["if"].call(t,t.openMagazinePath,{hash:{},inverse:x.program(6,l,a),fn:x.program(1,s,a)}),(_||0===_)&&(M+=_),M+='\n    <p class="kicker">',(_=n.kicker)?_=_.call(t,{hash:{}}):(_=t.kicker,_=typeof _===k?_.apply(t):_),M+=L(_)+"</p>\n",w={hash:{},inverse:x.program(17,f,a),fn:x.program(14,p,a)},_=n.isIssue,b=_?_.call(t,t.brandId,t.sectionId,w):T.call(t,"isIssue",t.brandId,t.sectionId,w),(b||0===b)&&(M+=b),M+='\n    <h4 class="',w={hash:{},inverse:x.noop,fn:x.program(20,v,a)},_=n.isIssue,b=_?_.call(t,t.brandId,t.sectionId,w):T.call(t,"isIssue",t.brandId,t.sectionId,w),(b||0===b)&&(M+=b),b=n["if"].call(t,t.locked,{hash:{},inverse:x.noop,fn:x.program(22,y,a)}),(b||0===b)&&(M+=b),M+='">\n        ',(b=n.title)?b=b.call(t,{hash:{}}):(b=t.title,b=typeof b===k?b.apply(t):b),(b||0===b)&&(M+=b),M+="\n    </h4>\n</a>"});return n}),define("app/views/articles/ArticleMenuView",["config","backbone.marionette","hbs!app/templates/articles/articleMenuItemView","app/views/common/ModuleContentLoadingView","application"],function(e,t,n,i,a){var s="currentMenuArticle",r="selected-menu-article",o=t.ItemView.extend({template:n,tagName:"article",initialize:function(){this.options.isDailyNews&&(this.model.set("isDailyNews",this.options.isDailyNews),this.model.set("dailyIssueId",this.options.dailyIssueId)),a.openMagazinePath&&this.model.set("openMagazinePath",a.openMagazinePath),this.model.get("conference")&&this.model.set("conferenceId",this.model.get("conference").get("id"))},className:function(){var e=this.model.get(s)?r:"";return e},events:{click:"jumpToArticle"},modelEvents:{change:"modelUpdated"},modelUpdated:function(){this.model.get(s)?this.$el.addClass(r):this.$el.removeClass(r)},jumpToArticle:function(t){if(!e.oneArticleAccess){var n=$(t.target);n.is("[href]")||(n=n.parents("a"));var i=n.attr("data-article-id"),s=n.attr("href");if(i)return 539>window.innerWidth&&$("html").removeClass("article-menu-open"),a.latestClickSource=this.model.get("brandName")+" > right menu",a.commands.execute("jumpToArticle",{articleId:i,url:s}),!1}}}),l=t.CollectionView.extend({className:"article-menu",emptyView:i,itemView:o,initialize:function(){this.setCurrentArticle(),this.scrollMenuToCurrentArticle=_.debounce(this.scrollToCurrentArticle,200),this.listenTo(a.location,"change:currentArticleId",this.changeCurrentArticle.bind(this)),window.innerWidth>540&&"1"!=localStorage.getItem("article-menu-closed")&&$("html").addClass("article-menu-open")},itemViewOptions:function(){return{isDailyNews:this.options.isDailyNews||!1,dailyIssueId:this.options.dailyIssueId||null}},onShow:function(){this.scrollMenuToCurrentArticle()},setCurrentArticle:function(){var e=this.collection.find(function(e){return e.get(s)});e&&e.set(s,!1);var t=a.location.get("currentArticleId"),n=this.collection.get(t);n&&n.set(s,!0)},changeCurrentArticle:function(){this.setCurrentArticle(),this.scrollToCurrentArticle()},appendHtml:function(e,t){"interstitial"===t.model.get("type")||e.$el.append(t.el)},scrollToCurrentArticle:function(){try{var e=$(".article-menu article."+r);if(e.length>0){var t=e.position().top,n=$(".article-menu-region"),i=n.scrollTop(),a=i+t;n.animate({scrollTop:a},500)}}catch(s){console.warn("Problem scrolling magazine menu")}}});return l}),define("app/views/viewMixins/scrollMixin",["app/device"],function(e){var t="fixed";return{onScroll:function(e){e.scrolled?this.stickToTop(e.scrolled):this.stickToTop(window.scrollY)},stickToTop:function(t){var n=this.maxScroll||0,i=e.cssPrefix||"";t*=-1,n>t&&(t=n),this.el.style[i+"transform"]="translateY("+t+"px)"},cssFixed:function(e){e>=this.maxScroll?this.container?(this.setWidth(this.container),this.container.classList.add(t)):(this.setWidth(this.el),this.el.classList.add(t)):this.container?(this.autoWidth(this.container),this.container.classList.remove(t)):(this.autoWidth(this.container),this.el.classList.add(t))
},setWidth:function(e){this.widthSet||(this.widthSet=e.style.width,e.style.width=e.clientWidth+"px")},autoWidth:function(e){e.style.width=null,this.widthSet=!1},onResize:function(){var e=this.container||this.el;this.autoWidth(e),this.cssFixed(-1)}}}),define("app/views/common/SectionNavigation",["config","backbone.marionette","underscore","application","app/models/User","hbs!app/templates/common/sectionNavigation","app/views/articles/ArticleMenuView","app/views/common/BrandHeaderView","app/utils/NoClickDelay","template/helpers/t","template/helpers/sectionName","app/views/viewMixins/scrollMixin"],function(e,t,n,i,a,s,r,o,l,c,d,u){var h="new-content-instruction-shown",p="new-content-instruction",m="new-content",f=t.Layout.extend({template:s,className:function(){return"channel-menu-container hide-menu-button "+this.model.id},tagName:"nav",regions:{brandHeaderRegion:".brand-header-region",articleMenuRegion:".article-menu-region"},events:{"click .menu-button":"toggleMenu","click .mobile-section-menu-button":"toggleMenu","click .section-link":"changeSection","click .article-menu-toggle":"toggleArticleMenu","click .new-content-available":"closeNewContentNotification","click .refresh-content":"refreshContent"},initialize:function(){var e=this;this.filterPremiumSections(),this.cssPrefix=navigator.userAgent.indexOf("afari")>0?"-webkit-":"",e.resizeHandler=n.debounce(e.handleResize.bind(this),1e3,!0),e.menuButtonToggler=n.debounce(e.toggleMenuButton.bind(this),250),e.articleMenuResizer=e.setMenuBottom.bind(this),$(window).on("resize orientationchange",e.resizeHandler),$(window).on("resize orientationchange",e.menuButtonToggler),$(window).on("resize orientationchange",e.articleMenuResizer),this.isBookHeader="books"===this.model.id,this.isEditor="editor"===this.options.editor,i.openMagazinePath&&this.model.set("openMagazinePath",i.openMagazinePath)},onClose:function(){var e=this;$(window).off("resize orientationchange",e.resizeHandler),$(window).off("resize orientationchange",e.menuButtonToggler),$(window).off("resize orientationchange",e.articleMenuResizer),$("html").removeClass("article-menu-open")},onRender:function(){if(this.menuButton=this.$el.find(".menu-button"),this.collection||this.isBookHeader||this.isEditor){var e;e=this.isBookHeader?this.options:{model:this.model},this.brandHeaderRegion.show(new o(e))}if(this.collection){var t=this.model.getCurrentSection(),n=t&&"paivan-lehti"===t.id;this.articleMenuRegion.show(new r({collection:this.collection,isDailyNews:n,dailyIssueId:i.location.get("currentDailyIssueId")}));var a=this.$el.find(".article-menu-region");if(a.before('<a class="section-link article-menu-toggle"></a>'),a.before('<h3 class="article-menu-header">'+c("Contents")+"</h3>"),n){var s=this.model.get("channelId");a.before('<div class="article-menu-header brand-menu-logo icon-brand-logo-'+s+'-daily"></div>').parent().addClass("issue-brand-logo")}this.setMenuBottom()}},onShow:function(){this.parent=this.$el.parent(),this.headerHeight=-1*$(".brand-header-view").height(),this.maxScroll=this.headerHeight,new l(this.menuButton)},getSection:function(e){return n.find(this.model.get("sections"),function(t){return t.id===e})},templateHelpers:function(){var e=480>window.innerWidth&&this.sectionCount()>3?"":"hide-menu-button",t=this.isBookHeader?"":"/channel",n=i.location.get("currentChannelId"),a=n===this.model.id?i.location.getCurrentSectionId():this.model.get("mainSectionId"),s=this.getSection(a);!s&&a&&a.match(/\d+-\d+/)&&(s={name:null,magazineSection:!0});var r=s?d(s.name,s.magazineSection):"",o=i.location.get("isDailyNews");this.isBookHeader?(a=this.model.get("currentSectionId"),a?(s=this.getSection(a),s&&(r=s.name)):(a="",r=c("Own.books"))):o?a="paivan-lehti":this.model.isIssue(a)&&(a="magazines");var l=i.location,u=this.collection||l.isBookDetailPage(),p=l.isChannelPage()||l.isBookCategoryPage()||l.isBooksChannelPage(),m=!this.collection&&this.model.showRefreshButton(a),f=m&&!localStorage.getItem(h);return{currentSectionId:a,currentSectionName:r,sectionCount:this.sectionCount(),hasManySections:this.sectionCount()>1,hideMenuButtonClass:e,showArticleMenuToggle:this.collection,showHeadlineSection:u,showRefreshButton:m,showNewContentInstruction:f,showMobileSectionMenuButton:p,page:t}},refreshContent:function(){this.updateContent&&(this.updateContent(),this.closeNewContentNotification(),this.hideRefreshButton(),this.model.articlesUpdated=new $.Deferred,this.model.articlesUpdated.done(function(){this.showRefreshButton()}.bind(this)))},hideRefreshButton:function(){this.$el.removeClass(m)},showRefreshButton:function(){this.$el.addClass(m),localStorage.getItem(h)||this.$el.addClass(p)},closeNewContentNotification:function(){this.$el.removeClass(p),localStorage.setItem(h,!0)},setMenuBottom:function(){var e=-1*window.innerHeight;this.articleMenuRegion.$el&&this.articleMenuRegion.$el.css("bottom",e+"px")},toggleArticleMenu:function(){$("html").toggleClass("article-menu-open"),$("html").hasClass("article-menu-open")?localStorage.setItem("article-menu-closed","0"):localStorage.setItem("article-menu-closed","1")},changeSection:function(e){var t=$(e.target),n=t.attr("data-channel"),a=t.attr("data-section");if(n&&a)try{return this.closeMenu(),i.commands.execute("changeSection",{channelId:n,sectionId:a}),!1}catch(s){return!0}},sectionCount:function(){var e=this.model.get("sections");return e?e.length:0},handleResize:function(){this.closeMenu()},closeMenu:function(){this.$el.parent().removeClass("menu-open"),$("html").removeClass("channel-menu-open")},toggleMenu:function(){var e=this.parent.is(".menu-open");return e&&(this.parent.removeClass("menu-open"),$("html").removeClass("channel-menu-open")),this.putLinksToMenu(this.findIndexOfFirstOverflowedLink()),e||(this.parent.addClass("menu-open"),$("html").addClass("channel-menu-open")),event.stopPropagation(),event.preventDefault(),!1},findIndexOfFirstOverflowedLink:function(){this.$el.find(".in-menu").removeClass("in-menu");var e,t,n=this.$el.find(".section-link");return n.each(function(n,i){var a=$(i),s=a.offset().top;e||0===s||(e=s),e&&0!==s&&s!==e&&!t&&(t=n)}),t},toggleMenuButton:function(){var e=this.findIndexOfFirstOverflowedLink(),t=this.$el.find(".section-link.active");e&&t.index()>=e-1?(this.menuButton.text(t.text()),this.menuButton.addClass("menu-active")):(this.menuButton.text(c("More")),this.menuButton.removeClass("menu-active")),e?e===this.sectionCount()?(this.$el.addClass("hide-menu-button"),this.findIndexOfFirstOverflowedLink()&&this.$el.removeClass("hide-menu-button")):this.$el.removeClass("hide-menu-button"):this.$el.addClass("hide-menu-button")},putLinksToMenu:function(e){if(e){e++;var t=this.$el.find(".section-link:not(.un-menuable):nth-child(n+"+e+")");t.addClass("in-menu")}},onSelected:function(){var e=this;setTimeout(function(){e.toggleMenuButton()},500)},filterPremiumSections:function(){var e=this.model.get("sections"),t=this.model.get("channelId"),i=n.filter(e,function(e){return a.subscribesToSection(t,e)});this.model.set("sections",i)}});return f=f.extend(u)}),define("app/views/articles/ArticleItemView",["config","backbone.marionette","app/collections/channelCollection","hbs!app/templates/articles/articleItemView","app/views/common/BrandHeaderView","app/views/articles/ArticleBodyView","app/views/articles/Top3ArticleView","app/views/common/SectionNavigation","application","app/utils/utilities","app/analytics/track"],function(e,t,n,i,a,s,r,o,l,c,d){var u=t.Layout.extend({initialize:function(){this.listenTo(this.model,"change:showImages",this.showImages.bind(this)),this.channel=n.get(this.model.get("channelId")),$("body").addClass("print-friendly"),l.openMagazinePath&&this.model.set("openMagazinePath",l.openMagazinePath),""!==window.location.hash&&(window.location.hash=""),this.readyToRender=new $.Deferred,this.doneRendering=!1},template:i,tagName:"article",readyToRender:null,doneRendering:!1,regions:{channelNaviRegion:".channel-navigation",top3ArticleRegion:"#top3-article-region",articleBodyRegion:"#article-body-region"},events:{"click .article-to-article.next":"next","click .article-to-article.prev":"prev"},templateHelpers:function(){var e=l.location.get("currentSectionId"),t=this.channel.isIssue(e)||this.channel.isIssueSection(e),n="paivan-lehti"===this.model.get("sectionId"),i="conferences"===this.model.get("sectionId");return{showTop3:!t&&!n&&!i,isDailyNews:n}},next:function(){return e.oneArticleAccess?void 0:(l.latestClickSource="browse",l.commands.execute("next",!0),!1)},prev:function(){return e.oneArticleAccess?void 0:(l.latestClickSource="browse",l.commands.execute("prev",!0),!1)},onRender:function(){this.readyToRender.done(function(){if(!this.doneRendering){this.articleBodyView=new s({model:this.model});var e=new r({collection:new Backbone.Collection,channelId:this.channel.get("id"),newsSectionId:this.channel.get("mainSectionId")});this.top3ArticleRegion.show(e);var t=this.channel.getTop4Articles();t.deferred.done(function(){var e=t.filter(function(e){return e.get("id")!==this.model.get("id")}.bind(this));e=_.take(e,3);var n=new r({collection:new Backbone.Collection(e),channelId:this.channel.get("id"),newsSectionId:this.channel.get("mainSectionId")});this.top3ArticleRegion.show(n)}.bind(this)),this.articleBodyRegion.show(this.articleBodyView),this.$el.find("img").error(function(){$(this).parent(".image, .embed-image").hide()}),this.model.set("newArticle",!1),this.doneRendering=!0}}.bind(this))},onSelected:function(){this.readyToRender.resolve(),document.title=c.htmlDecode(this.model.get("title")+"  "+e.siteDisplayName),l.commands.execute("preloadNeighbors"),this.model.get("skipLocationUpdate")||l.location.set({currentChannelId:this.model.get("channelId"),articleSlug:this.model.get("articleSlug"),currentArticleId:this.model.get("id"),replacement:l.location.isCurrentTemporary()});var t=this.model.get("nextArticle");t&&"interstitial"===t.type&&l.commands.execute("initInterstitial",{articleId:t.id,next:!0}),t&&t.article&&t.article.set("showImages",(new Date).getTime());var n=this.model.get("prevArticle");n&&"interstitial"===n.type&&l.commands.execute("initInterstitial",{articleId:n.id,next:!1}),n&&n.article&&n.article.set("showImages",(new Date).getTime()),this.articleBodyView.renderVideos(),this.articleBodyView.triggerLeiki(),this.articleBodyView.renderComments(),this.model.get("skipAdRendering")||this.articleBodyView.renderAds(),this.model.get("hasTweet")&&this.articleBodyView.triggerTwitter(),d.pageView(),this.showImages()},onClose:function(){$("body").removeClass("print-friendly")},showImages:function(){c.lazyLoadImages(this.$el)}});return u}),define("hbs!app/templates/common/interstitialAd",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing,l="function",c=this.escapeExpression;return r+='<div class="ad-navi">\n    <a class="article-to-article prev icon-arrow-left ad-prev">',s={hash:{}},i=n.t,a=i?i.call(t,"Prev",s):o.call(t,"t","Prev",s),(a||0===a)&&(r+=a),r+='</a> <a\n        class="ad-next article-to-article next icon-arrow-right">',s={hash:{}},i=n.t,a=i?i.call(t,"Next",s):o.call(t,"t","Next",s),(a||0===a)&&(r+=a),r+='</a>\n\n    <div class="clear"></div>\n</div>\n\n<div id="placement_',(a=n.fullPageAdId)?a=a.call(t,{hash:{}}):(a=t.fullPageAdId,a=typeof a===l?a.apply(t):a),r+=c(a)+'" class="interstitial">AD</div>\n\n<div class="ad-navi">\n    <a class="article-to-article prev icon-arrow-left ad-prev">',s={hash:{}},i=n.t,a=i?i.call(t,"Prev",s):o.call(t,"t","Prev",s),(a||0===a)&&(r+=a),r+='</a> <a\n        class="ad-next article-to-article next icon-arrow-right">',s={hash:{}},i=n.t,a=i?i.call(t,"Next",s):o.call(t,"t","Next",s),(a||0===a)&&(r+=a),r+='</a>\n\n    <div class="clear"></div>\n</div>\n\n'});return n}),function(e){function t(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","target"),t}function n(t,n){if(t){var i=this.data("attr-old-value");if(n.attributeName.indexOf("style")>=0){i.style||(i.style={});var a=n.attributeName.split(".");n.attributeName=a[0],n.oldValue=i.style[a[1]],n.newValue=a[1]+":"+this.prop("style")[e.camelCase(a[1])],i.style[a[1]]=n.newValue}else n.oldValue=i[n.attributeName],n.newValue=this.attr(n.attributeName),i[n.attributeName]=n.newValue;this.data("attr-old-value",i)}}var i=window.MutationObserver||window.WebKitMutationObserver;e.fn.attrchange=function(a){var s={trackValues:!1,callback:e.noop};if("function"==typeof a?s.callback=a:e.extend(s,a),s.trackValues&&e(this).each(function(t,n){for(var i,a={},t=0,s=n.attributes,r=s.length;r>t;t++)i=s.item(t),a[i.nodeName]=i.value;e(this).data("attr-old-value",a)}),i){var r={subtree:!1,attributes:!0,attributeOldValue:s.trackValues},o=new i(function(t){t.forEach(function(t){var n=t.target;s.trackValues&&(t.newValue=e(n).attr(t.attributeName)),s.callback.call(n,t)})});return this.each(function(){o.observe(this,r)})}return t()?this.on("DOMAttrModified",function(e){e.originalEvent&&(e=e.originalEvent),e.attributeName=e.attrName,e.oldValue=e.prevValue,s.callback.call(this,e)}):"onpropertychange"in document.body?this.on("propertychange",function(t){t.attributeName=window.event.propertyName,n.call(e(this),s.trackValues,t),s.callback.call(this,t)}):this}}(jQuery),define("attrchange",function(){}),define("app/views/common/InterstitialAd",["underscore","backbone.marionette","hbs!app/templates/common/interstitialAd","adtech","application","attrchange","environment"],function(e,t,n,i,a,s,r){var o;r.desktop&&(o={instant:!0});var l=function(){a.commands.execute("next",o)},c=function(){a.commands.execute("prev",o)},d=function(e){"next"===e.data?l():"prev"===e.data&&c()},u=t.Layout.extend({template:n,tagName:"article",className:"interstitial-ad",initialize:function(){window.addEventListener("message",d,!1)},onClose:function(){window.removeEventListener("message",d,!1)},regions:{},events:{"click .ad-next":"next","click .ad-prev":"prev"},next:function(){l()},prev:function(){c()},monitorAdStatus:function(e){var t=this,n=setInterval(function(){var i=$("#"+e);if(0===i.length){var a=t.$el.find(".interstitial");a.attr("style",""),a.html(""),t.adsInitiated=!1,clearInterval(n)}},1e3)},waitForAdHolder:function(e){var t=this,n=setInterval(function(){var i=$("#"+e);i.length&&(clearInterval(n),t.loadAd.resolve())},500)},initAd:function(e){var t=this;t.nextArticle=e;var n=this.model.get("fullPageAdId"),a="placement_"+n,s=$("#"+a);if(t.monitorAdStatus(a),this.loadAd=new $.Deferred,s.length>0?this.loadAd.resolve():this.waitForAdHolder(a),t.adsInitiated)s.attr("style","");else{var r=0;try{this.loadAd.done(function(){i.loadAd(a,"http://adserver.adtech.de/addyn|3.0|360.0|"+n+"|0|"+r+"|ADTECH;loc=100;target=_blank;alias=;grp="+window.adgroupid+";misc="+(new Date).getTime()),this.styleListenerAdded||(s.attrchange({trackValues:!0,callback:function(e){"style"===e.attributeName&&""!==s.attr("style")&&(t.nextArticle?t.next():t.prev())}}),this.styleListenerAdded=!0),t.adsInitiated=!0})}catch(o){console.warn("Failed to load full page ad")}}}});return u}),define("collectioncarouselview",["backbone.marionette","juissi.swipe","jquery"],function(e,t,n){return e.CollectionView.extend({pagination:null,juissiInitialized:null,currentModel:null,isLocked:!1,initialize:function(){window.jp&&(window.jp.options.fullScreen=!0),this.juissiInitialized=new n.Deferred},onClose:function(){this.pagination&&n(window).off("resize orientationchange",this.pagination.__orientationChanged),n("body").css("overflow","auto")},appendHtml:function(e,t,n){this.juissiInitialized.done(function(){this.pagination.elementExists(n,0)?this.pagination.updateElement({x:n,y:0},t.el):this.pagination.setElement({x:n,y:0},t.el),this.pagination.alignElements(),this.indicateCurrent()}.bind(this))},gotoModel:function(e){if(this.pagination){var t=this.collection.indexOf(e);-1!==t?t===this.pagination.getCurrentCoords().x?this.currentItemView().triggerMethod("selected"):this.pagination.scroll(t,0,{instant:!0}):console.warn("model not found in carousel collection")}else console.warn("Pagination not initialized")},gotoNext:function(e){var t=e?{instant:!0}:{};this.pagination.scrollRight(t)},gotoPrev:function(e){var t=e?{instant:!0}:{};this.pagination.scrollLeft(t)},getItemView:function(e){if(void 0!==this.itemView)return this.itemView;if(void 0!==this.options.itemViewOptions){var t=this.options.itemViewOptions,n=e.get(t.attributeName);return t.itemViews[n]}},currentItemView:function(){var e=this.collection.at(this.pagination.getCurrentCoords().x);return this.children.findByModel(e)},getPage:function(e){return this.children.findByIndex(e)},getCurrentPage:function(){return this.pagination.getCurrentCoords().x},defaultJuissiOptions:{scrollable:!0,scrollableOptions:{scrollbars:!0,nativeScrollIfPossible:!0,kineticSpeed:300},fullScreen:!0,autoRevertScroll:!0,loopHorizontal:!0,desktopVersion:!0,disableMouseGestures:!0},onDomRefresh:function(){if(null===this.pagination){var e=this.onScroll?this.onScroll.bind(this):null,n=this.juissiOptions||this.defaultJuissiOptions;n.scrollSpy=e,n.summaDesktop=this.options.desktop,n.initialPage=this.options.initialModel?this.collection.indexOf(this.options.initialModel)+".0":"0.0",this.pagination=new t.Explore(this.el,n);var i=this;this.pagination.triggers.onPageChange=function(){return i.onPageChange.apply(i,arguments)},this.juissiInitialized.resolve(),window.jp=this.pagination}},onScroll:function(e){this.currentItemView()&&this.currentItemView().triggerMethod("scroll",e)},onPageChange:function(){var e=this.currentItemView();e&&this.currentItemView().triggerMethod("selected"),this.indicateCurrent()},lock:function(){this.pagination.lockEvents(function(){})},unlock:function(){this.pagination.unlockEvents()},indicateCurrent:function(){var e=this.pagination.element.getElementsByClassName("current")[0];e&&e.classList.remove("current"),this.pagination.getCurrentPage()&&this.pagination.getCurrentPage().classList.add("current")}})}),define("app/views/articles/ArticleCarouselView",["backbone","backbone.marionette","app/collections/ArticleCollection","app/views/articles/ArticleItemView","app/views/common/InterstitialAd","collectioncarouselview","application"],function(e,t,n,i,a,s,r){var o=s.extend({itemView:i,id:"articleCarouselView",className:"article-carousel",initialize:function(){s.prototype.initialize.apply(this,arguments),this.setNextPrevHandlers(),r.commands.addHandler("setArticleKeyboardNavigation",this.setNextPrevHandlers.bind(this)),r.commands.addHandler("initInterstitial",this.initInterstitial.bind(this)),r.commands.addHandler("preloadNeighbors",this.preloadNeighbours.bind(this)),r.commands.addHandler("removeInterstitial",this.removeView.bind(this)),r.reqres.addHandler("getArticleCollection",this.getArticleCollection.bind(this)),r.reqres.addHandler("getCurrentArticle",this.getCurrentArticle.bind(this))},buildItemView:function(e,t,n){var i=_.extend({model:e},n);if(this.setNextAndPrevArticleInfo(e),"interstitial"===e.get("type"))return new a(i);i.model.set("channelId",this.model.get("id")),i.model.set("mainSectionId",this.model.get("mainSectionId")),i.model.set("sectionId",this.options.sectionId),i.model.set("skipAdRendering",this.options.skipAdRendering),i.model.set("skipLocationUpdate",this.options.skipLocationUpdate),i.model.set("channelTitle",this.model.get("title")),i.model.set("crossChannel",this.model.get("crossChannel"));var s=_.findWhere(this.model.get("issues"),{id:this.options.sectionId});return s&&i.model.set("issue",s),new t(i)},getArticleCollection:function(){return this.collection},getCurrentArticle:function(){return this.currentItemView().model},setNextPrevHandlers:function(){r.commands.addHandler("next",s.prototype.gotoNext.bind(this)),r.commands.addHandler("prev",s.prototype.gotoPrev.bind(this))},onUnlock:function(){r.commands.execute("closeMenusIfNarrow")},onPageChange:function(){s.prototype.onPageChange.apply(this,arguments)},preloadNeighbours:function(){var e=this.getCurrentPage(),t=this.getPage(e+1),n=this.getPage(e-1);void 0!==t&&void 0!==t.readyToRender&&t.readyToRender.resolve(),void 0!==n&&void 0!==n.readyToRender&&n.readyToRender.resolve()},setNextAndPrevArticleInfo:function(e){var t,n,i,a,s,r,o=this.collection.indexOf(e),l=o+1,c=o-1;if(this.collection.length>l){var d=this.collection.at(l);d&&"interstitial"===d.get("type")&&(s=d.id,d=this.collection.at(l+1),i="interstitial"),t=d?d.pick("id","title","type","images","channelIngress"):{},d&&(t.article=d),i&&(t.id=s,t.type=i)}if(c>=0){var u=this.collection.at(c);u&&"interstitial"===u.get("type")&&(r=u.id,u=this.collection.at(c-1),a="interstitial"),n=u?u.pick("id","title","type","images","channelIngress"):{},u&&(n.article=u),a&&(n.id=r,n.type="interstitial")}e.set("nextArticle",t),e.set("prevArticle",n)},initInterstitial:function(e){var t=this.collection.get(e.articleId);if(t){var n=this.children.findByModel(t);n&&"interstitial"===n.model.get("type")&&n.initAd(e.next)}},removeView:function(e){var t=this.collection.indexOf(e),n=this.currentItemView().model.id;this.pagination.removeElement({x:t,y:0}),this.collection.remove(e),e.get("nextArticle").id===n&&this.gotoPrev({instant:!0}),this.render()},onScroll:function(e){this.scrollProxy&&this.scrollProxy(e)}});return o}),define("hbs!app/templates/common/loadingContentView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return r+='<div class="spinner"></div>\n<div class="loading-text">\n    ',s={hash:{}},i=n.t,a=i?i.call(t,"Loading.content",s):o.call(t,"t","Loading.content",s),(a||0===a)&&(r+=a),r+='\n</div>\n<div class="problem" style="opacity: 0;">\n    <div class="icon-error"></div>\n    <div class="problem-text">',s={hash:{}},i=n.t,a=i?i.call(t,"Service.is.not.responding",s):o.call(t,"t","Service.is.not.responding",s),(a||0===a)&&(r+=a),r+='</div>\n    <a class="retry green-button">\n        <span class="icon-reload"></span>\n        ',s={hash:{}},i=n.t,a=i?i.call(t,"Retry",s):o.call(t,"t","Retry",s),(a||0===a)&&(r+=a),r+="\n    </a>\n</div>\n"});return n}),define("app/views/common/LoadingContentView",["backbone.marionette","hbs!app/templates/common/loadingContentView","config","template/helpers/t"],function(e,t,n,i){var a=e.ItemView.extend({template:t,className:"loading-content",events:{"click .retry":"reload"},onShow:function(){this.options.delayed||this.startTimer()},onClose:function(){clearTimeout(this.timer)},reload:function(){location.reload()},startTimer:function(){var e=this;this.timer=setTimeout(function(){navigator.onLine||e.$el.find(".problem-text").text(i("No.internet.connection")),e.$el.addClass("show")},n.retryTimeout)}});return a}),define("app/views/articles/ArticlePageLayout",["config","environment","backbone","underscore","application","backbone.marionette","hbs!app/templates/articles/articlePageLayout","app/views/articles/ArticleCarouselView","app/views/common/SectionNavigation","app/collections/channelCollection","app/views/common/LoadingContentView","router"],function(e,t,n,i,a,s,r,o,l,c,d,u){var h=s.Layout.extend({template:r,regions:{articleCarouselRegion:"#articleCarouselRegion"},articleCarousel:null,carouselReady:null,articleReady:null,scrollTo:0,currentArticle:0,initialize:function(){this.shown=new $.Deferred,a.commands.addHandler("jumpToArticle",this.jumpToArticle.bind(this))},onRender:function(){window.scrollTo(0,0),this.el.scrollTop=0,$("html").is(".ipad.ios7")&&$(window).on("scroll",this.fixScroll)},onShow:function(){this.articleCarouselRegion.show(new d),this.shown.resolve()},fixScroll:function(){$(window).scrollTop(0)},templateHelpers:function(){var e=this.channel.id;return{channelId:e}},openArticle:function(t){this.carouselReady=new $.Deferred,this.articleReady=new $.Deferred;var n=t.channelId,i=t.sectionId,s=t.articleId;this.channel=c.get(n),this.checkContextInArticleId=null;var r;if(e.oneArticleAccess)r=this.channel.getSectionArticleIds(i),r.unshift(s),this.checkContextInArticleId=s;else if(this.channel.isIssue(i))this.channel.issueCollection||this.channel.getIssues(),this.channel.issueCollection.deferred.done(function(){var e=this.channel.issueCollection.get(i);if(e){var t=e.get("articleIds");this.getArticles(t,n,i,s),this.isIssue=!0}}.bind(this));else if("paivan-lehti"===i){var o=a.location.get("currentDailyIssueId");o&&(r=this.channel.getDailyIssueArticleIds(a.location.get("currentDailyIssueId"))),r||u.navigate("/article/"+n+"/"+s,{trigger:!0})}else if("conferences"===i){var l=a.location.get("conferenceId"),d=this.channel.getConference(l),h=this;d.content.done(function(){h.getArticles(d.get("articleIds"),n,i,s)})}else r=this.channel.getSectionArticleIds(i);r&&this.getArticles(r,n,i,s)},getArticles:function(e,t,s,r){var o=null;if(this.channel.usesFrontPageTemplate(s)){var c=this.channel.get("breakingNewsArticles");c.length>0&&(e=c.concat(e),o={breaking:c.join(",")})}i.contains(e,r)||(e=[r].concat(e),e.unshift(r),this.checkContextInArticleId=r),this.currentArticle=r;var d={ids:[r],propertySetId:"full"};this.channel.isIssue(s)&&(d.sortBy="pageNumber");var u=a.reqres.request("getArticles",d);this.createArticle(u,t,s,r,this.articleReady),$.when(this.articleReady,this.shown).then(function(){var i=this.articleCarousel.options.articleId;if(!this.articleCarousel.collection.chain().pluck("id").contains(i).value())return a.commands.execute("error"),this.articleCarousel=null,void 0;this.articleCarouselRegion.show(this.articleCarousel);var c=this.articleCarousel.collection.get(i);this.articleCarousel.gotoModel(c);var d=new l({model:this.channel,collection:new n.Collection});a.commands.execute("showArticleMenu",d);var u={ids:e,propertySetId:"full",requestParameters:o};this.channel.isIssue(s)&&(u.sortBy="pageNumber");var h=a.reqres.request("getArticles",u);this.createArticleCarousel(h,t,s,r,this.carouselReady),this.displayArticleCarouselWhenReady()}.bind(this))},createArticle:function(e,t,n,i,s){e.deferred.done(function(){var t=!0,r=a.location.get("conferenceId");if(r){var l=this.channel.getConference(r);e.invoke("set",{conference:l})}if(this.checkContextInArticleId){var c=e.get(this.checkContextInArticleId);this.articleIsInWrongContext(c,this.channel)&&(t=!1,u.navigate("/article/"+c.get("brandId")+"/"+this.channel.get("mainSectionId")+"/"+this.checkContextInArticleId,{trigger:!0}))}t&&(this.articleCarousel=new o({model:this.channel,collection:e,sectionId:n,skipAdRendering:!0,skipLocationUpdate:!0,articleId:i,initialModel:e.get(i)}),s.resolve())}.bind(this))},createArticleCarousel:function(i,s,r,l,c){i.deferred.done(function(){var s=!0,d=a.location.get("conferenceId");if(d){var h=this.channel.getConference(d);i.invoke("set",{conference:h})}if(!e.oneArticleAccess&&i.length>3){var p=this.channel.get("fullPageAdId");!t.disableInterstitials&&p&&p.length&&i.add(new n.Model({type:"interstitial",id:"interstitial-1",fullPageAdId:p}),{at:2})}if(this.checkContextInArticleId){var m=i.get(this.checkContextInArticleId);this.articleIsInWrongContext(m,this.channel)&&(s=!1,u.navigate("/article/"+m.get("brandId")+"/"+this.channel.get("mainSectionId")+"/"+this.checkContextInArticleId,{trigger:!0}))}if(e.oneArticleAccess){var f=i.get(l);this.allArticles=i,i=new n.Collection(f)}s&&(this.articleCarousel=new o({model:this.channel,collection:i,sectionId:r,articleId:l,initialModel:i.get(l)}),c.resolve())}.bind(this))},displayArticleCarouselWhenReady:function(){$.when(this.carouselReady,this.shown).then(function(){this.scrollTo=window.pageYOffset;var t=this.articleCarousel.options.articleId;if(!this.articleCarousel.collection.chain().pluck("id").contains(t).value())return a.commands.execute("error"),this.articleCarousel=null,void 0;var n=this.articleCarousel.collection.get(t),i=new l({model:this.channel,collection:e.oneArticleAccess?this.allArticles:this.articleCarousel.getArticleCollection()});this.articleCarouselRegion.close(),this.articleCarouselRegion.show(this.articleCarousel),this.articleCarousel.gotoModel(n),this.articleCarousel.scrollProxy=i.onScroll.bind(i),window.scrollTo(0,this.scrollTo),a.commands.execute("showArticleMenu",i)}.bind(this))},jumpToArticle:function(e){var t=this.articleCarousel.collection.get(e.articleId);t?this.articleCarousel.gotoModel(t):n.history.loadUrl(e.url)},articleIsInWrongContext:function(e,t){var n=!1;if(e){var a=t.get("type");"brand"===a?e.get("brandId")!==t.id&&(n=!0):i.contains(e.get("channels"),t.id)||(n=!0)}return n},onClose:function(){this.shown=new $.Deferred,$("html").is(".ipad.ios7")&&$(window).off("scroll",this.fixScroll),a.commands.execute("closeArticleMenu")},lock:function(){this.articleCarousel&&this.articleCarousel.lock()},unlock:function(){this.articleCarousel&&this.articleCarousel.unlock()}});return h}),define("hbs!app/templates/channels/grids/fluidLeftFixedRightColumnArticles",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="keep-in-line">\n    <div class="fluid-left-column"></div>\n    <div class="fixed-right-column"></div>\n</div>\n<div class="shadow-divider"></div>\n'});return n}),define("template/helpers/verboseTime",["Handlebars","moment","language","environment"],function(e,t,n,i){var a="D.M.YYYY";i.summaSweden&&(a="YYYY.M.D"),t.locale("en-long-format",{calendar:{lastDay:"["+n.yesterday+"] HH:mm",sameDay:"HH:mm",nextDay:a,lastWeek:a,nextWeek:a,sameElse:a},relativeTime:{future:"",past:"%s "+n.ago,s:"s",m:"1 "+n.minute,mm:"%d "+n.minutes,h:n.hour,hh:"%d "+n.hours,d:n.day,dd:"%d "+n.days,M:n.month,MM:"%d "+n.months,y:n.year,yy:"%d "+n.years}});var s=t(),r=function(e){return s.format("yyyyMMD")===e.format("yyyyMMD")},o=function(e,i){t.locale("en-long-format");var a,s="",o=(new Date).getTime(),l=!1,c="";if(!isNaN(e)&&!isNaN(i)){i-e>6e4&&o>i?(a=i,c=n.Updated+" ",l=!0):(a=e,c="");var d=t(a);s=r(d)?d.fromNow():d.calendar()}return l&&(s=s.toLowerCase()),s||(s=""),c+s};e.registerHelper("verboseTime",o)}),define("hbs!app/templates/channels/articleView",["hbs","Handlebars","template/helpers/articleLink","template/helpers/chooseImageAt","template/helpers/picture","template/helpers/image","template/helpers/verboseTime"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s="";return s+="\n    ",i=n["if"].call(e,e.useBigImage,{hash:{},inverse:Y.noop,fn:Y.program(2,r,t)}),(i||0===i)&&(s+=i),s+='\n    <div class="kicker-region"></div>\n    ',i=n["if"].call(e,e.kicker,{hash:{},inverse:Y.noop,fn:Y.program(6,c,t)}),(i||0===i)&&(s+=i),s+="\n    ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:Y.noop,fn:Y.program(9,u,t)}),(i||0===i)&&(s+=i),s+="\n    ",i=n["if"].call(e,e.useBigImage,{hash:{},inverse:Y.program(18,y,t),fn:Y.program(14,f,t)}),(i||0===i)&&(s+=i),s+='\n    <p class="description">\n        ',a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:Y.noop,fn:Y.program(20,_,t)}),(a||0===a)&&(s+=a),s+="\n        ",(a=n.ingress)?a=a.call(e,{hash:{}}):(a=e.ingress,a=typeof a===I?a.apply(e):a),(a||0===a)&&(s+=a),s+="\n    </p>\n    ",a=n["if"].call(e,e.showFooterAndTime,{hash:{},inverse:Y.noop,fn:Y.program(27,L,t)}),(a||0===a)&&(s+=a),s+="\n"}function r(e,t){var i,a,s="";return s+="\n        ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:Y.noop,fn:Y.program(3,o,t)}),(a||0===a)&&(s+=a),s+="\n    "}function o(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:Y.noop,fn:Y.program(4,l,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):A.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(r+=a),r+="\n        \n        "}function l(e){var t,n="";return n+='\n                <div class="ch-image-container '+D((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===I?t.apply(e):t))+'">\n                    <img class="'+D((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===I?t.apply(e):t))+' ch-image cf"\n                         src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw=="\n                         data-image-src="'+D((t=e.image,t=null==t||t===!1?t:t.url,typeof t===I?t.apply(e):t))+'"/>\n                </div>\n            '
}function c(e,t){var i;return i=n.unless.call(e,e.bigImage,{hash:{},inverse:Y.noop,fn:Y.program(7,d,t)}),i||0===i?i:""}function d(){return'\n        <div class="clear"></div>'}function u(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.renderLargeThumbnail,{hash:{},inverse:Y.noop,fn:Y.program(10,h,t)}),(i||0===i)&&(a+=i),a+="\n    "}function h(e,t){var i,a,s="";return s+="\n            ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:Y.noop,fn:Y.program(11,p,t)}),(a||0===a)&&(s+=a),s+="\n        "}function p(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:Y.noop,fn:Y.program(12,m,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):A.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            \n            "}function m(e){var t,i,a,s="";return s+="\n                    ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a):A.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                "}function f(e,t){var i,a="";return a+='\n        <h1 class="title">',i=n.unless.call(e,e.kicker,{hash:{},inverse:Y.noop,fn:Y.program(15,g,t)}),(i||0===i)&&(a+=i),a+=" ",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===I?i.apply(e):i),(i||0===i)&&(a+=i),a+="\n        </h1>\n    "}function g(e,t){var i;return i=n["if"].call(e,e.locked,{hash:{},inverse:Y.noop,fn:Y.program(16,v,t)}),i||0===i?i:""}function v(){return'<span class="icon-type-paycontent locked"></span>'}function y(e,t){var i,a="";return a+='\n        <h2 class="title">',i=n.unless.call(e,e.kicker,{hash:{},inverse:Y.noop,fn:Y.program(15,g,t)}),(i||0===i)&&(a+=i),a+=" ",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===I?i.apply(e):i),(i||0===i)&&(a+=i),a+="\n        </h2>\n    "}function _(e,t){var i,a="";return a+="\n            ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:Y.noop,fn:Y.program(21,b,t)}),(i||0===i)&&(a+=i),a+="\n        \n        "}function b(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:Y.noop,fn:Y.program(22,w,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):A.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            "}function w(e,t){var i,a="";return a+="\n                    ",i=n["if"].call(e,e.alwaysShowSmallThumbnail,{hash:{},inverse:Y.program(25,k,t),fn:Y.program(23,M,t)}),(i||0===i)&&(a+=i),a+="\n                "}function M(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb show-always",a):A.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb show-always",a),(i||0===i)&&(s+=i),s+="\n                    "}function k(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a):A.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                    "}function L(e){var t,i,a,s="";return s+='\n        <p class="timestamp cf">\n            <span class="icon-brand-icon-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===I?t.apply(e):t),s+=D(t)+" ",(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===I?t.apply(e):t),s+=D(t)+'-icon ch-brand-icon"></span>',a={hash:{}},t=n.verboseTime,i=t?t.call(e,e.published,e.edited,a):A.call(e,"verboseTime",e.published,e.edited,a),(i||0===i)&&(s+=i),s+="\n        </p>\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var T,x,S,C="",I="function",D=this.escapeExpression,Y=this,A=n.helperMissing;return S={hash:{},inverse:Y.noop,fn:Y.program(1,s,a)},T=n.articleLink,x=T?T.call(t,"",S):A.call(t,"articleLink","",S),(x||0===x)&&(C+=x),C+="\n"});return n}),define("template/helpers/shortVerboseTime",["Handlebars","moment","language"],function(e,t,n){var i=t(),a=function(e){return i.format("yyyyMMD")===e.format("yyyyMMD")},s=function(e){var n=t(i);return n.subtract("days",1),n.format("yyyyMMD")===e.format("yyyyMMD")},r=function(e){var i="";if((new Date).getTime(),!isNaN(e)){var r=t(e);i=a(r)?r.format("HH:mm"):s(r)?"<span class='yesterday'>"+n.yesterday+"</span> "+r.format("HH:mm"):r.format("D.M.")}return i};e.registerHelper("shortVerboseTime",r)}),define("template/helpers/formatDate",["Handlebars","moment"],function(e,t){var n=function(e,n){var i="";if(e&&!isNaN(e)&&null!=n){var a=t(e);i=a.format(n)}return i};return e.registerHelper("formatDate",n),n}),define("hbs!app/templates/channels/smallArticleView",["hbs","Handlebars","template/helpers/shortVerboseTime","template/helpers/formatDate"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <a href="',(t=n.link)?t=t.call(e,{hash:{}}):(t=e.link,t=typeof t===m?t.apply(e):t),i+=f(t)+'" data-track="article link" data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===m?t.apply(e):t),i+=f(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===m?t.apply(e):t),i+=f(t)+'" target="_blank">\n'}function r(e,t){var i,a="";return a+="\n    ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:g.program(6,l,t),fn:g.program(4,o,t)}),(i||0===i)&&(a+=i),a+="\n"}function o(e){var t,i="";return i+='\n        <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===m?t.apply(e):t),i+=f(t),(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===m?t.apply(e):t),i+=f(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===m?t.apply(e):t),i+=f(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===m?t.apply(e):t),i+=f(t)+'" data-track="article link"\n           data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===m?t.apply(e):t),i+=f(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===m?t.apply(e):t),i+=f(t)+'">\n    '}function l(e){var t,i="";return i+='\n        <a href="/article/',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===m?t.apply(e):t),i+=f(t)+"/",(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===m?t.apply(e):t),i+=f(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===m?t.apply(e):t),i+=f(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===m?t.apply(e):t),i+=f(t)+'" data-track="article link"\n           data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===m?t.apply(e):t),i+=f(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===m?t.apply(e):t),i+=f(t)+'">\n    '}function c(){return"new-article"}function d(e){var t,i,a,s="";return s+="\n            ",a={hash:{}},t=n.formatDate,i=t?t.call(e,e.published,"D.M.",a):v.call(e,"formatDate",e.published,"D.M.",a),(i||0===i)&&(s+=i),s+="\n        "}function u(e){var t,i,a,s="";return s+="\n            ",a={hash:{}},t=n.shortVerboseTime,i=t?t.call(e,e.published,a):v.call(e,"shortVerboseTime",e.published,a),(i||0===i)&&(s+=i),s+="\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var h,p="",m="function",f=this.escapeExpression,g=this,v=n.helperMissing;return h=n["if"].call(t,t.link,{hash:{},inverse:g.program(3,r,a),fn:g.program(1,s,a)}),(h||0===h)&&(p+=h),p+='\n    <div class="timestamp ',h=n["if"].call(t,t.newArticle,{hash:{},inverse:g.noop,fn:g.program(8,c,a)}),(h||0===h)&&(p+=h),p+='">\n        ',h=n["if"].call(t,t.isDailyIssueArticle,{hash:{},inverse:g.program(12,u,a),fn:g.program(10,d,a)}),(h||0===h)&&(p+=h),p+='\n    </div>\n    <h4 class="">',(h=n.title)?h=h.call(t,{hash:{}}):(h=t.title,h=typeof h===m?h.apply(t):h),(h||0===h)&&(p+=h),p+='</h4>\n    <div class="clear"></div>\n</a>'});return n}),define("hbs!app/templates/channels/mediumArticleTemplate",["hbs","Handlebars","template/helpers/articleLink","template/helpers/chooseImageAt","template/helpers/picture","template/helpers/image","template/helpers/verboseTime"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,o="";return o+="\n    ",i=n["if"].call(e,e.useBigImage,{hash:{},inverse:D.noop,fn:D.program(2,r,t)}),(i||0===i)&&(o+=i),o+='\n    <div class="kicker-region"></div>\n    ',i=n["if"].call(e,e.kicker,{hash:{},inverse:D.noop,fn:D.program(6,c,t)}),(i||0===i)&&(o+=i),o+="\n    ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:D.noop,fn:D.program(9,u,t)}),(i||0===i)&&(o+=i),o+="\n    ",i=n["if"].call(e,e.useBigImage,{hash:{},inverse:D.program(18,y,t),fn:D.program(14,f,t)}),(i||0===i)&&(o+=i),o+='\n    <p class="description">\n        ',a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:D.noop,fn:D.program(20,_,t)}),(a||0===a)&&(o+=a),o+="\n        ",(a=n.ingress)?a=a.call(e,{hash:{}}):(a=e.ingress,a=typeof a===C?a.apply(e):a),(a||0===a)&&(o+=a),o+='\n    </p>\n    <!--<p class="timestamp cf">\n        <span class="icon-brand-icon-',(a=n.brandId)?a=a.call(e,{hash:{}}):(a=e.brandId,a=typeof a===C?a.apply(e):a),o+=I(a)+" ",(a=n.brandId)?a=a.call(e,{hash:{}}):(a=e.brandId,a=typeof a===C?a.apply(e):a),o+=I(a)+'-icon ch-brand-icon"></span>',s={hash:{}},i=n.verboseTime,a=i?i.call(e,e.published,e.edited,s):Y.call(e,"verboseTime",e.published,e.edited,s),(a||0===a)&&(o+=a),o+="\n    </p>-->\n"}function r(e,t){var i,a,s="";return s+="\n        ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:D.noop,fn:D.program(3,o,t)}),(a||0===a)&&(s+=a),s+="\n    "}function o(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:D.noop,fn:D.program(4,l,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):Y.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(r+=a),r+="\n        "}function l(e){var t,n="";return n+='\n                <div class="ch-image-container '+I((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===C?t.apply(e):t))+'">\n                    <img class="'+I((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===C?t.apply(e):t))+' ch-image cf"\n                         src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw=="\n                         data-image-src="'+I((t=e.image,t=null==t||t===!1?t:t.url,typeof t===C?t.apply(e):t))+'"/>\n                </div>\n            '}function c(e,t){var i;return i=n.unless.call(e,e.bigImage,{hash:{},inverse:D.noop,fn:D.program(7,d,t)}),i||0===i?i:""}function d(){return'\n        <div class="clear"></div>'}function u(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.renderLargeThumbnail,{hash:{},inverse:D.noop,fn:D.program(10,h,t)}),(i||0===i)&&(a+=i),a+="\n    "}function h(e,t){var i,a,s="";return s+="\n            ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:D.noop,fn:D.program(11,p,t)}),(a||0===a)&&(s+=a),s+="\n        "}function p(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:D.noop,fn:D.program(12,m,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):Y.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            "}function m(e){var t,i,a,s="";return s+="\n                    ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a):Y.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                "}function f(e,t){var i,a="";return a+='\n        <h1 class="title">',i=n.unless.call(e,e.kicker,{hash:{},inverse:D.noop,fn:D.program(15,g,t)}),(i||0===i)&&(a+=i),a+=" ",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===C?i.apply(e):i),(i||0===i)&&(a+=i),a+="\n        </h1>\n    "}function g(e,t){var i;return i=n["if"].call(e,e.locked,{hash:{},inverse:D.noop,fn:D.program(16,v,t)}),i||0===i?i:""}function v(){return'<span class="icon-type-paycontent locked"></span>'}function y(e,t){var i,a="";return a+='\n        <h2 class="title">',i=n.unless.call(e,e.kicker,{hash:{},inverse:D.noop,fn:D.program(15,g,t)}),(i||0===i)&&(a+=i),a+=" ",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===C?i.apply(e):i),(i||0===i)&&(a+=i),a+="\n        </h2>\n    "}function _(e,t){var i,a="";return a+="\n            ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:D.noop,fn:D.program(21,b,t)}),(i||0===i)&&(a+=i),a+="\n        "}function b(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:D.noop,fn:D.program(22,w,t)},i=n.picture,a=i?i.call(e,e.images,90,90,s):Y.call(e,"picture",e.images,90,90,s),(a||0===a)&&(r+=a),r+="\n            "}function w(e,t){var i,a="";return a+="\n                    ",i=n["if"].call(e,e.alwaysShowSmallThumbnail,{hash:{},inverse:D.program(25,k,t),fn:D.program(23,M,t)}),(i||0===i)&&(a+=i),a+="\n                "}function M(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb show-always",a):Y.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb show-always",a),(i||0===i)&&(s+=i),s+="\n                    "}function k(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a):Y.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var L,T,x,S="",C="function",I=this.escapeExpression,D=this,Y=n.helperMissing;return x={hash:{},inverse:D.noop,fn:D.program(1,s,a)},L=n.articleLink,T=L?L.call(t,"",x):Y.call(t,"articleLink","",x),(T||0===T)&&(S+=T),S+="\n"});return n}),define("hbs!app/templates/channels/dailyIssueArticleView",["hbs","Handlebars","template/helpers/articleLink","template/helpers/chooseImageAt","template/helpers/picture","template/helpers/image","template/helpers/formatDate"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,o="";return o+="\n    ",i=n["if"].call(e,e.useBigImage,{hash:{},inverse:I.noop,fn:I.program(2,r,t)}),(i||0===i)&&(o+=i),o+="\n    ",i=n["if"].call(e,e.kicker,{hash:{},inverse:I.noop,fn:I.program(8,d,t)}),(i||0===i)&&(o+=i),o+="\n    ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:I.noop,fn:I.program(11,h,t)}),(i||0===i)&&(o+=i),o+='\n    <h1 class="title">',i=n.unless.call(e,e.kicker,{hash:{},inverse:I.noop,fn:I.program(18,v,t)}),(i||0===i)&&(o+=i),o+=" ",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===S?i.apply(e):i),(i||0===i)&&(o+=i),o+='</h1>\n    <p class="description">\n        ',a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:I.program(25,M,t),fn:I.program(21,_,t)}),(a||0===a)&&(o+=a),o+="\n        ",(a=n.ingress)?a=a.call(e,{hash:{}}):(a=e.ingress,a=typeof a===S?a.apply(e):a),(a||0===a)&&(o+=a),o+='\n    </p>\n    <!--\n    <p class="timestamp cf">\n        <span class="icon-brand-icon-',(a=n.brandId)?a=a.call(e,{hash:{}}):(a=e.brandId,a=typeof a===S?a.apply(e):a),o+=C(a)+" ",(a=n.brandId)?a=a.call(e,{hash:{}}):(a=e.brandId,a=typeof a===S?a.apply(e):a),o+=C(a)+'-icon ch-brand-icon"></span>',s={hash:{}},i=n.formatDate,a=i?i.call(e,e.published,"D.M.",s):D.call(e,"formatDate",e.published,"D.M.",s),(a||0===a)&&(o+=a),o+="\n    </p>\n-->\n"}function r(e,t){var i,a,s="";return s+="\n        ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:I.program(6,c,t),fn:I.program(3,o,t)}),(a||0===a)&&(s+=a),s+="\n    "}function o(e,t){var i,a,s,r="";return r+="\n            ",s={hash:{},inverse:I.noop,fn:I.program(4,l,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):D.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(r+=a),r+="\n        "}function l(e){var t,n="";return n+='\n                <div class="ch-image-container daily-issue '+C((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===S?t.apply(e):t))+'">\n                    <img class="'+C((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===S?t.apply(e):t))+' ch-image cf"\n                         src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw=="\n                         data-image-src="'+C((t=e.image,t=null==t||t===!1?t:t.url,typeof t===S?t.apply(e):t))+'"/>\n\n                    <div class="kicker-region simple-kicker-container"></div>\n                </div>\n            '}function c(e){var t,i="";return i+='\n            <div class="ch-image-container daily-issue placeholder">\n                <span class="placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===S?t.apply(e):t),i+=C(t)+' greyscale"></span>\n\n                <div class="kicker-region simple-kicker-container"></div>\n            </div>\n        '}function d(e,t){var i;return i=n.unless.call(e,e.bigImage,{hash:{},inverse:I.noop,fn:I.program(9,u,t)}),i||0===i?i:""}function u(){return'\n        <div class="clear"></div>'}function h(e,t){var i,a="";return a+='\n        <div class="kicker-region simple-kicker-container"></div>\n        ',i=n["if"].call(e,e.renderLargeThumbnail,{hash:{},inverse:I.noop,fn:I.program(12,p,t)}),(i||0===i)&&(a+=i),a+="\n    "}function p(e,t){var i,a,s="";return s+="\n            ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:I.program(16,g,t),fn:I.program(13,m,t)}),(a||0===a)&&(s+=a),s+="\n        "}function m(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:I.noop,fn:I.program(14,f,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):D.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            "}function f(e){var t,i,a,s="";return s+="\n                    ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a):D.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail large-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                "}function g(e){var t,i="";return i+='\n                <span class="section-front-thumbnail thumbnail placeholder large-screen-thumb">\n                    <span class="placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===S?t.apply(e):t),i+=C(t)+' greyscale"></span>\n                </span>\n            '}function v(e,t){var i;return i=n["if"].call(e,e.locked,{hash:{},inverse:I.noop,fn:I.program(19,y,t)}),i||0===i?i:""}function y(){return'<span class="icon-type-paycontent locked"></span>'}function _(e,t){var i,a="";return a+="\n            ",i=n.unless.call(e,e.useBigImage,{hash:{},inverse:I.noop,fn:I.program(22,b,t)}),(i||0===i)&&(a+=i),a+="\n        "}function b(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:I.noop,fn:I.program(23,w,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):D.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            "}function w(e){var t,i,a,s="";return s+="\n                    ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a):D.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"section-front-thumbnail small-screen-thumb",a),(i||0===i)&&(s+=i),s+="\n                "}function M(e){var t,i="";return i+='\n            <span class="section-front-thumbnail thumbnail placeholder small-screen-thumb">\n                <span class="placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===S?t.apply(e):t),i+=C(t)+' greyscale"></span>\n            </span>\n        '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var k,L,T,x="",S="function",C=this.escapeExpression,I=this,D=n.helperMissing;return T={hash:{},inverse:I.noop,fn:I.program(1,s,a)},k=n.articleLink,L=k?k.call(t,"",T):D.call(t,"articleLink","",T),(L||0===L)&&(x+=L),x+="\n"});return n}),define("app/views/channels/ChannelArticleItemView",["backbone.marionette","app/views/common/KickerView","application","app/collections/channelCollection","hbs!app/templates/channels/articleView","hbs!app/templates/channels/smallArticleView","hbs!app/templates/channels/mediumArticleTemplate","hbs!app/templates/channels/dailyIssueArticleView"],function(e,t,n,i,a,s,r,o){var l=e.Layout.extend({tagName:"article",regions:{kickerRegion:".kicker-region"},initialize:function(){this.channelId=n.location.get("currentChannelId"),this.channelId&&(this.channel=i.get(this.channelId)),this.template=this.options.smallArticleTemplate?s:this.options.useMediumArticleTemplate?r:this.model.get("isDailyNews")?o:a,n.openMagazinePath&&this.model.set("openMagazinePath",n.openMagazinePath)},templateHelpers:function(){var e=this.options.topStories||this.options.renderLargeThumbnail,t=this.model.get("bigImage"),n="online_paid"===this.model.get("media");return{dailyIssueId:this.model.get("dailyIssueId"),latestNewsSectionId:this.options.latestNewsSectionId,renderLargeThumbnail:e,alwaysShowSmallThumbnail:this.options.alwaysShowSmallThumbnail,useBigImage:t,showFooterAndTime:!(this.channel?this.channel.get("isDailyNews"):!1),isSummaOnly:n}},className:function(){var e=this.model.get("bigImage"),t=this.options.amountClass||"";return e&&this.options.topStories?"channel-article cf big-image "+t:"channel-article cf "+t},onRender:function(){this.$el.find("img").error(function(){$(this).parent(".ch-image-container").hide()}),this.kickerRegion&&this.kickerRegion.show(new t({model:this.model,useSimpleKicker:!0}))}});return l}),define("app/views/channels/ChannelArticlesView",["backbone.marionette","app/views/channels/ChannelArticleItemView","app/views/common/AdItemView"],function(e,t,n){var i=e.CollectionView.extend({initialize:function(){this.itemViewOptions={topStories:this.options.topStories,topArticles:this.options.topArticles,useMediumArticleTemplate:this.options.useMediumArticleTemplate,smallArticleTemplate:this.options.smallArticleTemplate,latestNewsSectionId:this.options.latestNewsSectionId,renderLargeThumbnail:this.options.renderLargeThumbnail,alwaysShowSmallThumbnail:this.options.alwaysShowSmallThumbnail&&!this.options.renderLargeThumbnail}},itemView:t,getItemView:function(e){return"ad"===e.attributes.itemType?n:t},buildItemView:function(e,t,n){var i=_.extend({model:e},n);return i.model.set("dailyIssueId",this.model.get("dailyIssueId")),i.model.set("channelId",this.model.get("id")),i.model.set("channelTitle",this.model.get("title")),i.model.set("sectionId",this.model.get("sectionId")),new t(i)},className:"channel-articles cf",appendHtml:function(e,t){e.$el.append(t.el),"ad"!==t.model.get("itemType")&&this.options.appendDividers&&e.$el.append('<span class="ch-article-divider"></span>')}});return i}),define("app/views/channels/grids/FluidLeftFixedRightColumnLayout",["backbone","underscore","application","backbone.marionette","hbs!app/templates/channels/grids/fluidLeftFixedRightColumnArticles","app/views/channels/ChannelArticlesView"],function(e,t,n,i,a,s){var r=3,o=i.Layout.extend({className:function(){return"layout-block left-fluid-right-fixed"+(this.options.added?"":" initial-block")+(this.options.topArticles?" top-headlines":"")},template:a,regions:{leftColumn:".fluid-left-column",rightColumn:".fixed-right-column"},onRender:function(){var n=this;this.options.added&&t.delay(function(){n.$el.addClass("added-block")},1);var i=this.collection.length>r?this.collection.getRemainingArticlesInHalves(0,!0):this.collection;r>=this.collection.length&&(i=new e.Collection(i.filter(function(e){return"ad"!==e.get("itemType")}))),this.options.topArticles&&i.first().set("bigImage",!0),this.leftColumn.show(new s({model:this.model,collection:i})),this.collection.length>r&&this.rightColumn.show(new s({model:this.model,collection:this.collection.getRemainingArticlesInHalves(0,!1)}));var a=this.options.classNameForLeftCol,o=this.options.classNameForRightCol;void 0!=a&&this.leftColumn.$el.addClass(a),void 0!=o&&this.rightColumn.$el.addClass(o)}});return o}),define("app/views/channels/grids/EvenHeightArticlesView",["backbone","backbone.marionette","app/views/channels/ChannelArticlesView"],function(e,t,n){var i=n.extend({initialize:function(){this.options.appendDividers=!0},itemViewOptions:function(){var e=6>this.collection.length?"not-full":"";return{amountClass:e}},className:"even-height-articles cf"});return i}),define("hbs!app/templates/channels/end",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return r+='<div class="content-end">',s={hash:{}},i=n.t,a=i?i.call(t,"No.more.content.available",s):o.call(t,"t","No.more.content.available",s),(a||0===a)&&(r+=a),r+="</div>"});return n}),define("hbs!app/templates/channels/type/baseChannel",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return r+='<div id="blocks"></div>\n<div class="content-end">\n    <div class="spinner"></div>\n    <div class="no-more-content-text">\n        ',s={hash:{}},i=n.t,a=i?i.call(t,"No.more.content.available",s):o.call(t,"t","No.more.content.available",s),(a||0===a)&&(r+=a),r+="\n    </div>\n</div>"});return n}),define("app/views/channels/BaseChannel",["backbone","backbone.marionette","underscore","app/collections/ArticleCollection","hbs!app/templates/channels/end","hbs!app/templates/channels/type/baseChannel","app/models/AdModel"],function(e,t,n,i,a,s,r){var o=t.CompositeView.extend({template:s,itemViewContainer:"#blocks",latestVisibleArticle:0,numBlocks:0,itemView:t.ItemView,buildItemView:function(e){return e.get("view")},createBlock:function(e,t,a,s){var r={view:new e(n.extend({model:s&&s.model?s.model:this.options.channel,collection:new i(this.articlesCollection.getRangeOfArticles(t,a).models)},s))};return r},addBlock:function(e,t,n){this.latestVisibleArticle>=this.articlesCollection.length?this.el.classList.add("all-content-shown"):(this.collection.add(this.createBlock(e,this.latestVisibleArticle,Math.min(this.latestVisibleArticle+t,this.articlesCollection.length),n)),this.latestVisibleArticle=this.latestVisibleArticle+t,this.numBlocks++)},insertAdPlaces:function(e){var t=this.options.channel.get("ads");for(var n in e)if(n in t){var i=new r({placementId:"placement_"+t[n]});this.articlesCollection.add(i,{at:e[n]})}},onScrolledToEnd:function(){this.addOneBlock&&this.addOneBlock()}});return o}),define("app/views/channels/type/BasicChannel",["application","backbone","app/views/channels/grids/FluidLeftFixedRightColumnLayout","app/views/channels/grids/EvenHeightArticlesView","app/views/channels/BaseChannel"],function(e,t,n,i,a){var s=8,r=a.extend({initialize:function(){this.articlesCollection=this.options.articlesCollection.clone();var a={};this.articlesCollection.length>=3&&(a["300x250"]=6),this.articlesCollection.length>=12&&(a["1x1"]=13),this.insertAdPlaces(a),this.collection=new t.Collection,this.addBlock(n,7,{topArticles:!0}),this.addBlock(i,7),this.addBlock(n,s),this.options.scrollToArticleId&&this.options.channel.id===e.location.get("currentChannelId")&&this.addBlocksUntilArticleIsVisible(this.options.scrollToArticleId)},addBlocksUntilArticleIsVisible:function(t){var n=this.articlesCollection.get(t),i=this.articlesCollection.indexOf(n);if(i>=0){for(var a=!1;i>=this.latestVisibleArticle&&!a;){var s=this.latestVisibleArticle;this.addOneBlock(),this.latestVisibleArticle===s&&(a=!0)}e.commands.execute("scrollToArticle")}},addOneBlock:function(){0===this.numBlocks%2?this.addBlock(n,s,{added:!0}):this.addBlock(i,6,{added:!0})}});return r}),define("hbs!app/templates/channels/channelPageLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return a+='<div class="channel-header"></div>\n<div class="channel-navigation sections ',(i=n.channelId)?i=i.call(t,{hash:{}}):(i=t.channelId,i=typeof i===s?i.apply(t):i),a+=r(i)+'"></div>\n<div class="channel-articles-region ',(i=n.channelId)?i=i.call(t,{hash:{}}):(i=t.channelId,i=typeof i===s?i.apply(t):i),a+=r(i)+'"></div>\n'});return n}),define("open-magazine/views/channels/ChannelPageLayout",["underscore","config","application","backbone","backbone.marionette","hbs!app/templates/channels/channelPageLayout","app/models/Article","app/collections/ArticleCollection","app/views/common/BrandHeaderView","adtech","environment","app/collections/channelCollection","app/views/common/SectionNavigation","app/utils/utilities","app/views/common/LoadingContentView"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m){var f=15,g=a.Layout.extend({className:"channel-page-layout",adsCollection:new i.Collection,template:s,regions:{header:".channel-header",navi:".channel-navigation",articles:".channel-articles-region"},initialize:function(){this.layoutsInitialized=new $.Deferred,this.layoutsShowed=new $.Deferred,this.model||(this.model={}),this.model.getArticles=new $.Deferred,n.commands.addHandler("scrollToArticle",this.scrollToArticle.bind(this)),this.listenTo(this.model,"change:showImages",this.showImages.bind(this)),this.model.articlesUpdated.done(function(){this.navigation&&this.navigation.showRefreshButton()}.bind(this))},reRenderView:function(e){this.layoutsInitialized=new $.Deferred,this.layoutsShowed=new $.Deferred,e?this.render():this.getAndDisplayArticles(),this.triggerMethod("show"),this.triggerMethod("selected")},onRender:function(){var e=this,t=n.location.get("currentSectionId");t||(t=this.model.get("mainSectionId"));var i=n.location.get("currentChannelId")===this.model.id;console.log(n.location.get("currentChannelId")),i?(this.model.getArticles.resolve(),console.log(" on Render: is in Current Channel"),this.model.set("sectionId",t)):(console.log(" on Render: is not Current Channel"),this.model.set("sectionId",this.model.get("mainSectionId"))),this.header.show(new l({model:this.model})),this.navigation=new h({model:this.model}),this.navigation.updateContent=this.reRenderView.bind(this),this.navi.show(this.navigation),this.model.isIssueSection(this.model.get("sectionId"))?(console.log(" on Render: is in Issue Section"),this.displayIssueSection()):(this.model.getArticles.done(function(){console.log(" getArticles on Done: Getting and displaying Articles"),e.getAndDisplayArticles()}),console.log(" on Render: set on done listeners for getArticle"))},displayIssueSection:function(){console.log("displayIssueSection: Resolving and populating."),this.layoutsInitialized.resolve(),this.populateLayoutBlock()},getAndDisplayArticles:function(){console.log("getAndDisplayArticles: Getting and displaying articles.");var t=this.model.getLatestNewsArticleIds(f),i=this.model.get("breakingNewsArticles")||[],a=this.model.get("sectionId"),s=this.model.getSectionArticleIds(a),r=e.union(s,t,i),l=null;i.length>0&&(l={breaking:i.join(",")});var c=n.reqres.request("getArticles",{ids:r,propertySetId:"small",requestParameters:l});this.layoutsInitialized||(this.layoutsInitialized=new $.Deferred),this.layoutsShowed=new $.Deferred,c.deferred.done(function(){console.log("ArticleCollection: Complete loading, applying");var e,a;0===c.length&&n.commands.execute("error"),(t.length>0||i.length>0)&&(e=this.filterLatestNewsArticles(c,t),a=new o(c.getArticlesById(i)),c=new o(c.getArticlesById(s))),this.populateLayoutBlock(c,e,a),this.layoutsInitialized.resolve()}.bind(this))},filterLatestNewsArticles:function(t,n){var i=new o(t.getArticlesById(n)),a=this.model.get("newArticles");if(a){var s=i.getArticlesById(a);e.invoke(s,"set",{newArticle:!0}),this.model.set("newArticles",!1)}return i},populateLayoutBlock:function(e,t,n){this.layoutBlockCollectionView=new this.options.channelArticlesView({channel:this.model,articlesCollection:e,latestNewsCollection:t,breakingNewsCollection:n,scrollToArticleId:this.options.scrollToArticleId})
},onShow:function(){var e=this,t=new m({delayed:!0});e.articles.show(t),console.log("channelPageLayout onShow complete"),this.model.getArticles.done(function(){console.log("channelPageLayout get Article done"),t.startTimer()}),this.layoutsInitialized.done(function(){console.log("layoutsInitialized: Done via on Show"),this.articles.show(this.layoutBlockCollectionView),this.layoutsShowed.resolve(),this.options.scrollToArticleId&&this.scrollToArticle()}.bind(this))},scrollToArticle:e.debounce(function(){var e=$(".current #article-"+this.options.scrollToArticleId);if(e.length>0){var t=e.offset().top;if(d.desktop)window.scrollTo(0,t);else{var n=document.querySelector(".current");n&&(n.scrollTop=t)}}},300),onSelected:function(){console.log("On Selected Triggered"),this.layoutsShowed.done(function(){console.log("layoutsShowed: Done via on Selected"),this.loadArticlesInNextChannels(),document.title=this.model.get("title");var e=this.model.get("id"),t=this.model.get("sectionId");n.location.set("currentChannelId",e),n.location.set("currentSectionId",t),this.setupAds(e,t),this.showImages(),n.commands.execute("showChannelImages",this.model.get("next")),n.commands.execute("showChannelImages",this.model.get("prev")),this.navigation.triggerMethod("selected")}.bind(this))},loadArticlesInNextChannels:function(){console.log("Preparing to load next and previous channels.");var e=this.model.get("next");if(e){var t=u.get(e.id);t&&t.getArticles.resolve()}var n=this.model.get("prev");if(n){var i=u.get(n.id);i&&i.getArticles.resolve()}},setupAds:function(t,n){var i=u.get(t);if(i.isIssueSection(n)||i.isMainLatestNewsSection(n))return!1;var a=this.model.get("adNetworkId"),s=p.getAddSizeIds();e.each(this.model.get("ads"),function(e,t){var n=s[t];try{c.loadAd("placement_"+e,"http://adserver.adtech.de/addyn|3.0|"+a+"|"+e+"|0|"+n+"|ADTECH;loc=100;target=_blank;alias=;grp="+window.adgroupid+";misc="+(new Date).getTime())}catch(i){console.warn("AdTech fail: "+i.message)}})},showImages:function(){p.lazyLoadImages(this.$el)},onScroll:function(e){var t=100,n=e.elementHeight;isNaN(n)&&(n=document.body.clientHeight),t>n-e.viewport-e.scrolled&&this.scrolledToEnd&&this.scrolledToEnd()},scrolledToEnd:e.debounce(function(){this.layoutBlockCollectionView&&(this.layoutBlockCollectionView.triggerMethod("scrolledToEnd"),this.showImages())},300),lock:function(){console.log("implement channelPageLayout lock")},onClose:function(){$(".ad").html("")}});return g}),define("hbs!app/templates/channels/grids/subHeaderArticlesLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="sub-header-article-container">\n    <div class="top-three-split-articles"></div>\n    <div class="clear"></div>\n    <div class="sub-header-more-articles"></div>\n</div>\n<div class="banner-ad-region cf"></div>'});return n}),define("app/views/channels/grids/SubHeaderArticlesLayout",["backbone","underscore","backbone.marionette","app/models/AdModel","app/views/common/AdItemView","hbs!app/templates/channels/grids/subHeaderArticlesLayout","app/views/channels/ChannelArticlesView","app/views/channels/grids/EvenHeightArticlesView"],function(e,t,n,i,a,s,r,o){var l=3,c=n.Layout.extend({className:"sub-header-articles",template:s,regions:{topThree:".top-three-split-articles",moreArticles:".sub-header-more-articles",bannerAdRegion:".banner-ad-region"},initialize:function(){var e=this.model.get("ads");e&&e["1x1"]&&(this.bannerAd=e["1x1"])},onRender:function(){var e=this.collection.getRangeOfArticles(0,l),t=e.first();if(t&&t.set("bigImage",!0),this.topThree.show(new r({model:this.model,collection:e,topStories:!0})),t&&t.set("bigImage",!1),this.collection.length>l&&this.moreArticles.show(new o({model:this.model,collection:this.collection.getRangeOfArticles(l,this.collection.length),appendDividers:!0})),this.bannerAd){var n=new i({placementId:"placement_"+this.bannerAd});this.bannerAdRegion.show(new a({model:n}))}}});return c}),define("hbs!app/templates/channels/grids/topStoryArticlesLayout",["hbs","Handlebars","template/helpers/t","template/helpers/ifAreSame"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+="\n                ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:g.program(4,o,t),fn:g.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n            "}function r(e){var t,i,a,s="";return s+='\n                    <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===p?t.apply(e):t),s+=m(t),(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===p?t.apply(e):t),s+=m(t)+'"\n                       class="latest-news-link brand-text ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===p?t.apply(e):t),s+=m(t)+'-color">',a={hash:{}},t=n.t,i=t?t.call(e,"Show.all",a):f.call(e,"t","Show.all",a),(i||0===i)&&(s+=i),s+="</a>\n                "}function o(e){var t,i,a,s="";return s+='\n                    <a href="/channel/',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===p?t.apply(e):t),s+=m(t)+"/",(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===p?t.apply(e):t),s+=m(t)+'"\n                       class="latest-news-link brand-text ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===p?t.apply(e):t),s+=m(t)+'-color">',a={hash:{}},t=n.t,i=t?t.call(e,"Show.all",a):f.call(e,"t","Show.all",a),(i||0===i)&&(s+=i),s+="</a>\n                "}function l(e,t){var i,a="";return a+='\n            <div class="latest-news-link-container channel-article cf">\n                ',i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:g.program(4,o,t),fn:g.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n            </div>\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d,u,h="",p="function",m=this.escapeExpression,f=n.helperMissing,g=this;return h+='<div class="breaking-news-region"></div>\n<div class="column-articles">\n    <div class="top-stories-region left-channel-column"></div>\n    <div class="latest-news-region right-channel-column">\n        <div class="latest-issue-region"></div>\n        <h4 class="section-header latest-news-header ',(c=n.id)?c=c.call(t,{hash:{}}):(c=t.id,c=typeof c===p?c.apply(t):c),h+=m(c)+" ",(c=n.latestNewsHeaderClass)?c=c.call(t,{hash:{}}):(c=t.latestNewsHeaderClass,c=typeof c===p?c.apply(t):c),h+=m(c)+'">\n            ',u={hash:{}},c=n.t,d=c?c.call(t,"Latest",u):f.call(t,"t","Latest",u),(d||0===d)&&(h+=d),h+="\n            ",u={hash:{},inverse:g.noop,fn:g.program(1,s,a)},c=n.ifAreSame,d=c?c.call(t,t.buttonPosition,"top",u):f.call(t,"ifAreSame",t.buttonPosition,"top",u),(d||0===d)&&(h+=d),h+='\n        </h4>\n\n        <div class="latest-news-articles"></div>\n        ',u={hash:{},inverse:g.noop,fn:g.program(6,l,a)},c=n.ifAreSame,d=c?c.call(t,t.buttonPosition,"bottom",u):f.call(t,"ifAreSame",t.buttonPosition,"bottom",u),(d||0===d)&&(h+=d),h+='\n        <div class="box-ad-region"></div>\n    </div>\n</div>\n<div class="banner-ad-region"></div>\n'});return n}),define("hbs!app/templates/channels/grids/latestIssueView",["hbs","Handlebars","template/helpers/t","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,c="";return c+="\n    ",i=n["if"].call(e,e.sectionTitle,{hash:{},inverse:p.noop,fn:p.program(2,r,t)}),(i||0===i)&&(c+=i),c+='\n\n    <div class="latest-issue-data-container">\n        ',s={hash:{}},i=n.image,a=i?i.call(e,e.cover,"medium-cover-thumbnail",s):h.call(e,"image",e.cover,"medium-cover-thumbnail",s),(a||0===a)&&(c+=a),c+='\n\n        <div class="latest-issue-data">\n            <h4>',(a=n.title)?a=a.call(e,{hash:{}}):(a=e.title,a=typeof a===d?a.apply(e):a),c+=u(a)+" ",(a=n.name)?a=a.call(e,{hash:{}}):(a=e.name,a=typeof a===d?a.apply(e):a),c+=u(a)+" ",s={hash:{}},i=n.t,a=i?i.call(e,"has.been.published",s):h.call(e,"t","has.been.published",s),(a||0===a)&&(c+=a),c+="</h4>\n\n            <p>",s={hash:{}},i=n.t,a=i?i.call(e,"Read",s):h.call(e,"t","Read",s),(a||0===a)&&(c+=a),c+=" ",(a=n.title)?a=a.call(e,{hash:{}}):(a=e.title,a=typeof a===d?a.apply(e):a),c+=u(a)+" ",s={hash:{}},i=n.t,a=i?i.call(e,"anywhere",s):h.call(e,"t","anywhere",s),(a||0===a)&&(c+=a),c+=" ",s={hash:{}},i=n.t,a=i?i.call(e,"Reading.eMagazine.requires.an.existing.subscription",s):h.call(e,"t","Reading.eMagazine.requires.an.existing.subscription",s),(a||0===a)&&(c+=a),c+="</p>\n            ",a=n["if"].call(e,e.openMagazine,{hash:{},inverse:p.program(6,l,t),fn:p.program(4,o,t)}),(a||0===a)&&(c+=a),c+="\n        </div>\n    </div>\n"}function r(e){var t,i,a,s="";return s+='\n        <div class="',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'-gradient brand-gradient box-top-line"></div>\n        <div class="daily-issue-title">\n            <h2>',(t=n.sectionTitle)?t=t.call(e,{hash:{}}):(t=e.sectionTitle,t=typeof t===d?t.apply(e):t),s+=u(t)+' <a href="/channel/',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'/magazines" class="latest-news-link brand-text ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'-color">',a={hash:{}},t=n.t,i=t?t.call(e,"Show.all",a):h.call(e,"t","Show.all",a),(i||0===i)&&(s+=i),s+="</a>\n            </h2>\n        </div>\n    "}function o(e){var t,i,a,s="";return s+='\n                <a href="/magazines" class="brand-button ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'-gradient">\n                    ',a={hash:{}},t=n.t,i=t?t.call(e,"Read.latest.issue",a):h.call(e,"t","Read.latest.issue",a),(i||0===i)&&(s+=i),s+="\n                </a>\n            "}function l(e){var t,i,a,s="";return s+='\n                <a href="/channel/',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'/magazines" class="brand-button ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===d?t.apply(e):t),s+=u(t)+'-gradient ">\n                    ',a={hash:{}},t=n.t,i=t?t.call(e,"Read.latest.issue",a):h.call(e,"t","Read.latest.issue",a),(i||0===i)&&(s+=i),s+="\n                </a>\n            "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d="function",u=this.escapeExpression,h=n.helperMissing,p=this;return c=n["if"].call(t,t.cover,{hash:{},inverse:p.noop,fn:p.program(1,s,a)}),c||0===c?c:""});return n}),define("app/views/channels/grids/TopStoryArticlesLayout",["config","backbone","underscore","application","backbone.marionette","app/models/AdModel","app/views/common/AdItemView","hbs!app/templates/channels/grids/topStoryArticlesLayout","app/views/channels/ChannelArticlesView","hbs!app/templates/channels/grids/latestIssueView"],function(e,t,n,i,a,s,r,o,l,c){var d=a.ItemView.extend({initialize:function(){var i=this.model.get("issues"),a=this.model.pick("id","title"),s=i.length?n.pick(n.first(i),"name","cover","url"):{};this.model=new t.Model(n.extend(a,s)),this.model.set("openMagazine",1==e.openMagazine)},className:"latest-issue-cover big-gap cf",template:c}),u=["top","bottom"],h=a.Layout.extend({className:"top-story-articles",template:o,regions:{breakingNewsRegion:".breaking-news-region",latestIssueRegion:".latest-issue-region",topStoriesRegion:".top-stories-region",latestNewsRegion:".latest-news-articles",boxAdRegion:".box-ad-region",bannerAdRegion:".banner-ad-region"},initialize:function(){var e=this.model.get("ads");e&&e["300x250"]&&(this.boxAd=e["300x250"]),e&&e["1x1"]&&(this.bannerAd=e["1x1"]),i.openMagazinePath&&this.model.set("openMagazinePath",i.openMagazinePath)},templateHelpers:function(){var e=this.options.ViewAllButtonPosition;return e&&n.find(u,function(t){return t===e}.bind(this))||(e="top"),{buttonPosition:e}},onRender:function(){this.displayBreakingNews(),this.displayTopNews(),this.displayLatestNews(),this.displayLatestIssue(),this.displayAds()},displayBreakingNews:function(){var e=this.options.breakingNewsCollection;e&&e.length>0&&this.breakingNewsRegion.show(new l({model:this.model,collection:e}))},displayTopNews:function(){var e=this.collection,t=e.first();t&&t.set("bigImage",!0),this.topStoriesRegion.show(new l({model:this.model,collection:e,topStories:!0}))},displayLatestNews:function(){var e=this,t=this.options.latestNewsCollection,n=this.model.get("latestNewsSectionId");e.latestNewsRegion.show(new l({model:e.model,collection:t,smallArticleTemplate:!0,latestNewsSectionId:n}))},displayAds:function(){if(this.boxAd){var e=new s({placementId:"placement_"+this.boxAd});this.boxAdRegion.show(new r({model:e}))}if(this.bannerAd){var t=new s({placementId:"placement_"+this.bannerAd});this.bannerAdRegion.show(new r({model:t}))}},displayLatestIssue:function(){this.model.get("issues").length&&this.latestIssueRegion.show(new d({model:this.model}))}});return h}),define("app/views/channels/type/ArticleChannel",["backbone","backbone.marionette","app/views/channels/BaseChannel","app/views/channels/grids/SubHeaderArticlesLayout","app/views/channels/grids/TopStoryArticlesLayout","app/views/channels/grids/FluidLeftFixedRightColumnLayout","app/views/channels/grids/EvenHeightArticlesView"],function(e,t,n,i,a,s,r){var o=n.extend({className:"top-stories-channel channel-type",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.collection=new e.Collection,this.addBlock(a,4,{breakingNewsCollection:this.options.breakingNewsCollection,latestNewsCollection:this.options.latestNewsCollection}),this.addBlock(i,9),this.options.scrollToArticleId&&this.options.channel.id===app.location.get("currentChannelId")&&this.addBlocksUntilArticleIsVisible(this.options.scrollToArticleId)},onRender:function(){this.el.classList.add("no-infinite-scroll")},addBlocksUntilArticleIsVisible:function(e){var t=this.articlesCollection.get(e),n=this.articlesCollection.indexOf(t);if(n>=0){for(var i=!1;n>=this.latestVisibleArticle&&!i;){var a=this.latestVisibleArticle;this.addOneBlock(),this.latestVisibleArticle===a&&(i=!0)}app.commands.execute("scrollToArticle")}},addOneBlock:function(){this.addBlock(r,6,{added:!0})}});return o}),define("hbs!app/templates/channels/subHeaderView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="function",s=this.escapeExpression;return(i=n.subHeader)?i=i.call(t,{hash:{}}):(i=t.subHeader,i=typeof i===a?i.apply(t):i),s(i)});return n}),define("app/views/channels/SubHeaderView",["backbone","backbone.marionette","hbs!app/templates/channels/subHeaderView"],function(e,t,n){var i=t.ItemView.extend({className:function(){return"section-header section-divider "+this.model.get("channelId")},template:n,tagName:"h4"});return i}),define("app/views/channels/type/TopStoriesChannel",["backbone","backbone.marionette","app/views/channels/BaseChannel","app/views/channels/grids/SubHeaderArticlesLayout","app/views/channels/grids/TopStoryArticlesLayout","app/views/channels/SubHeaderView","template/helpers/t"],function(e,t,n,i,a,s,r){var o=n.extend({className:"top-stories-channel channel-type",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.collection=new e.Collection,this.addBlock(a,4,{breakingNewsCollection:this.options.breakingNewsCollection,latestNewsCollection:this.options.latestNewsCollection}),this.addBlock(s,0,{model:new e.Model({subHeader:r("From.the.magazine"),channelId:this.options.channel.id})}),this.addBlock(i,9),this.addBlock(s,0,{model:new e.Model({subHeader:r("In.the.web.now"),channelId:this.options.channel.id})}),this.addBlock(i,9)},onRender:function(){this.el.classList.add("no-infinite-scroll")}});return o}),define("hbs!app/templates/channels/type/magazineChannel",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="issue-carousel-region"></div>\n<div class="issue-article-region"></div>'});return n}),define("hbs!app/templates/channels/issue/issueArticle",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <a href="/',(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===c?t.apply(e):t),i+=d(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===c?t.apply(e):t),i+=d(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===c?t.apply(e):t),i+=d(t)+'" data-track="article link" data-source="',(t=n.brandName)?t=t.call(e,{hash:{}}):(t=e.brandName,t=typeof t===c?t.apply(e):t),i+=d(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===c?t.apply(e):t),i+=d(t)+'">\n        <span class="page-number">',(t=n.pageNumber)?t=t.call(e,{hash:{}}):(t=e.pageNumber,t=typeof t===c?t.apply(e):t),i+=d(t)+'</span>\n\n        <p class="kicker">',(t=n.kicker)?t=t.call(e,{hash:{}}):(t=e.kicker,t=typeof t===c?t.apply(e):t),i+=d(t)+"</p>\n\n        <h4>",(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===c?t.apply(e):t),i+=d(t)+"</h4>\n    </a>\n"}function r(e){var t,i="";return i+='\n    <a href="/article/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===c?t.apply(e):t),i+=d(t)+"/",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===c?t.apply(e):t),i+=d(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===c?t.apply(e):t),i+=d(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===c?t.apply(e):t),i+=d(t)+'" data-track="article link"\n       data-source="',(t=n.brandName)?t=t.call(e,{hash:{}}):(t=e.brandName,t=typeof t===c?t.apply(e):t),i+=d(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===c?t.apply(e):t),i+=d(t)+'">\n        <span class="page-number">',(t=n.pageNumber)?t=t.call(e,{hash:{}}):(t=e.pageNumber,t=typeof t===c?t.apply(e):t),i+=d(t)+'</span>\n\n        <p class="kicker">',(t=n.kicker)?t=t.call(e,{hash:{}}):(t=e.kicker,t=typeof t===c?t.apply(e):t),i+=d(t)+"</p>\n\n        <h4>",(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===c?t.apply(e):t),i+=d(t)+"</h4>\n    </a>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l="",c="function",d=this.escapeExpression,u=this;return o=n["if"].call(t,t.openMagazinePath,{hash:{},inverse:u.program(3,r,a),fn:u.program(1,s,a)}),(o||0===o)&&(l+=o),l+="\n"});return n}),define("hbs!app/templates/channels/issue/issueArticles",["hbs","Handlebars","template/helpers/hasRightsTo","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='href="/magazine/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===y?t.apply(e):t),i+=_(t)+"/",(t=n.url)?t=t.call(e,{hash:{}}):(t=e.url,t=typeof t===y?t.apply(e):t),i+=_(t)+'" target="_blank"'}function r(){return"external-link omniture"}function o(){return"click-to-buy"}function l(){return'\n                <span class="icon-type-paycontent-unlock lock-icon"></span>\n            '}function c(){return'\n                <span class="icon-type-paycontent lock-icon"></span>\n            '}function d(e){var t,i,a,s="";return s+='\n        <a href="/magazine/',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===y?t.apply(e):t),s+=_(t)+"/",(t=n.url)?t=t.call(e,{hash:{}}):(t=e.url,t=typeof t===y?t.apply(e):t),s+=_(t)+'" target="_blank" class="grey-button external-link omniture">',a={hash:{}},t=n.t,i=t?t.call(e,"Go.to.eMagazine",a):b.call(e,"t","Go.to.eMagazine",a),(i||0===i)&&(s+=i),s+="</a>\n    "}function u(e,t){var i,a,s,r="";return r+="\n        ",i=n["if"].call(e,e.openMagazine,{hash:{},inverse:w.noop,fn:w.program(14,h,t)}),(i||0===i)&&(r+=i),r+='\n        <a class="brand-button ',(i=n.brandId)?i=i.call(e,{hash:{}}):(i=e.brandId,i=typeof i===y?i.apply(e):i),r+=_(i)+'-gradient click-to-buy below-cover-button subscribe-button">\n            <span class="icon-subscribe-lock-white"></span>\n            ',s={hash:{}},i=n.t,a=i?i.call(e,"Subscribe.channel",s):b.call(e,"t","Subscribe.channel",s),(a||0===a)&&(r+=a),r+="\n        </a>\n    "}function h(){return'\n            <div class="tooltip-region"></div>\n        '}function p(e){var t,i="";return i+='\n        <div class="cover-stories ',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===y?t.apply(e):t),i+=_(t)+'"></div>\n    '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var m,f,g,v="",y="function",_=this.escapeExpression,b=n.helperMissing,w=this;return v+='<div class="first-column">\n    <a ',g={hash:{},inverse:w.noop,fn:w.program(1,s,a)},m=n.hasRightsTo,f=m?m.call(t,t.brandId,g):b.call(t,"hasRightsTo",t.brandId,g),(f||0===f)&&(v+=f),v+='\n                                                                    class="cover ',g={hash:{},inverse:w.program(5,o,a),fn:w.program(3,r,a)},m=n.hasRightsTo,f=m?m.call(t,t.brandId,g):b.call(t,"hasRightsTo",t.brandId,g),(f||0===f)&&(v+=f),v+='">\n        <div class="cover-container">\n            ',g={hash:{},inverse:w.program(9,c,a),fn:w.program(7,l,a)},m=n.hasRightsTo,f=m?m.call(t,t.brandId,g):b.call(t,"hasRightsTo",t.brandId,g),(f||0===f)&&(v+=f),v+='\n            <img src="',(f=n.largeCover)?f=f.call(t,{hash:{}}):(f=t.largeCover,f=typeof f===y?f.apply(t):f),v+=_(f)+'"/>\n        </div>\n    </a>\n    ',g={hash:{},inverse:w.program(13,u,a),fn:w.program(11,d,a)},m=n.hasRightsTo,f=m?m.call(t,t.brandId,g):b.call(t,"hasRightsTo",t.brandId,g),(f||0===f)&&(v+=f),v+="\n    ",f=n["if"].call(t,t.hasCoverStories,{hash:{},inverse:w.noop,fn:w.program(16,p,a)}),(f||0===f)&&(v+=f),v+='\n</div>\n\n<div class="issue-articles"></div>'});return n}),define("app/views/common/JuissiRibbonView",["underscore","backbone.marionette","application","juissi.swipe"],function(e,t,n,i){var a=t.CompositeView.extend({initialize:function(){var e=this;e.resizeHandler=e.resizeScroller.bind(this),$(window).on("resize orientationchange",e.resizeHandler)},events:{"click .scroll-forward":"scrollForward","click .scroll-backward":"scrollBackward"},onShow:function(){this.forward=this.$el.find(".scroll-forward"),this.backward=this.$el.find(".scroll-backward"),this.initJuissiGrid()},onClose:function(){var e=this;$(window).off("resize orientationchange",e.resizeHandler)},resizeScroller:function(){var t=this;e.debounce(t.setMaxScroll(),500),e.debounce(t.rePositionScroller(),500),e.debounce(t.checkNavi(),500)},checkNavi:function(e){var t=void 0!==e?e:this.scroller.position().left,n=this.canScroll();t!==this.maxScroll&&n?this.forward.removeClass("disabled"):this.forward.addClass("disabled"),0!==t&&n?this.backward.removeClass("disabled"):this.backward.addClass("disabled")},canScroll:function(){var e=$(this.scrollContainer).innerWidth();return this.scrollerWidth>e},scrollForward:function(){if(this.canScroll()){var e=this.scroller.position().left;e-this.scrollStep>=this.maxScroll?e-=this.scrollStep:e=this.maxScroll,this.juissiRibbon.scrollTo(e,0),this.checkNavi(e)}},scrollBackward:function(){if(this.canScroll()){var e=this.scroller.position().left;0>e+this.scrollStep?e+=this.scrollStep:e=0,this.juissiRibbon.scrollTo(e,0),this.checkNavi(e)}},setMaxScroll:function(){this.maxScroll=-1*(this.scrollerWidth-$(this.scrollContainer).innerWidth())},rePositionScroller:function(){var e=this.scroller.position().left;this.maxScroll>e&&this.juissiRibbon.scrollTo(this.maxScroll,0),this.canScroll()||this.juissiRibbon.scrollTo(0,0)},initJuissiGrid:function(){var e=this;this.scrollContainer=this.$el.find(this.scrollerContainerClass)[0],this.scroller=this.$el.find(this.scrollingElementClass);var t=this.$el.find(this.itemClass),n=t.outerWidth();this.scrollStep=2*n,this.scrollerWidth=n*t.length,this.scroller.width(this.scrollerWidth);var a=this.kineticSpeed||500;this.juissiRibbon=new i.Scrollable(this.scrollContainer,{horizontal:!0,kineticSpeed:a,adjustSizes:!1}),this.setMaxScroll(),this.juissiRibbon.triggers.onScroll=function(){e.checkNavi()},$(this.scrollContainer).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.checkNavi()}),this.juissiRibbon.bindGrid({x:t.toArray()}),e.checkNavi()}});return a}),define("hbs!app/templates/channels/issue/issueItemView",["hbs","Handlebars","template/helpers/image","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing,l="function",c=this.escapeExpression;return s={hash:{}},i=n.image,a=i?i.call(t,t.cover,"small-cover-thumbnail",s):o.call(t,"image",t.cover,"small-cover-thumbnail",s),(a||0===a)&&(r+=a),r+="\n<h5>",s={hash:{}},i=n.t,a=i?i.call(t,"issue",s):o.call(t,"t","issue",s),(a||0===a)&&(r+=a),r+=" ",(a=n.name)?a=a.call(t,{hash:{}}):(a=t.name,a=typeof a===l?a.apply(t):a),r+=c(a)+"</h5>\n\n"});return n}),define("hbs!app/templates/channels/issue/issueCarouselTemplate",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i,a,s="";return s+='\n            <option value="',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===l?t.apply(e):t),s+=c(t)+'">',a={hash:{}},t=n.t,i=t?t.call(e,"Magazine",a):d.call(e,"t","Magazine",a),(i||0===i)&&(s+=i),s+=" ",a={hash:{}},t=n.t,i=t?t.call(e,"issue",a):d.call(e,"t","issue",a),(i||0===i)&&(s+=i),s+=" ",(i=n.name)?i=i.call(e,{hash:{}}):(i=e.name,i=typeof i===l?i.apply(e):i),s+=c(i)+"</option>\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=n.helperMissing,u=this;return o+='<a class="scroll-backward disabled carousel-button prev hide-mobile"></a>\n<div class="issue-covers-scroller hide-mobile">\n    <div class="issue-covers"></div>\n</div>\n<a class="scroll-forward carousel-button next hide-mobile"></a>\n<form>\n    <select name="issue" class="issue-select">\n        ',r=n.each.call(t,t.issues,{hash:{},inverse:u.noop,fn:u.program(1,s,a)}),(r||0===r)&&(o+=r),o+="\n    </select>\n</form>"});return n}),define("app/views/channels/grids/MagazineIssueCarouselView",["underscore","backbone.marionette","config","application","juissi.swipe","app/views/common/JuissiRibbonView","hbs!app/templates/channels/issue/issueItemView","hbs!app/templates/channels/issue/issueCarouselTemplate","app/utils/utilities"],function(e,t,n,i,a,s,r,o,l){var c=t.ItemView.extend({template:r,tagName:"a",className:"issue-cover",modelEvents:{change:"toggleCurrent"},events:{click:"handleIssueClick"},toggleCurrent:function(){$(".issue-cover").removeClass("selected"),this.model.get("selected")&&this.$el.addClass("selected")},handleIssueClick:function(){this.showIssueArticles(),this.omnitureMagazineCoverTracking()},showIssueArticles:function(){n.oneArticleAccess||(i.commands.execute("displayMagazineIssueArticles",this.model.id),i.commands.execute("removeMagazineSelectedIssue",this.model.id),this.model.set("selected",!0))},omnitureMagazineCoverTracking:function(){i.vent.trigger("magazine:cover")}}),d=s.extend({template:o,itemViewContainer:".issue-covers",className:"issue-covers-carousel",itemView:c,scrollerContainerClass:".issue-covers-scroller",scrollingElementClass:".issue-covers",itemClass:".issue-cover",events:{"change .issue-select":"changeIssue"},initialize:function(){s.prototype.initialize.apply(this,arguments),this.events=e.extend({},s.prototype.events,this.events)},onBeforeRender:function(){this.model=new Backbone.Model({issues:this.collection.toJSON()}),i.commands.addHandler("removeMagazineSelectedIssue",this.removeSelectedIssue.bind(this))},onRender:function(){this.collection.first().set("selected",!0),l.lazyLoadImages(this.$el)},changeIssue:function(){var e=this.$el.find(".issue-select").val();i.commands.execute("displayMagazineIssueArticles",e),this.applySelectOnIssue(e)},applySelectOnIssue:function(e){this.removeSelectedIssue();var e=this.collection.get(e);e&&e.set("selected",!0)},removeSelectedIssue:function(){this.collection.invoke("set",{selected:!1})}});return d}),define("app/views/channels/type/MagazineChannel",["config","backbone","backbone.marionette","application","hbs!app/templates/channels/type/magazineChannel","hbs!app/templates/channels/issue/issueArticle","hbs!app/templates/channels/issue/issueArticles","app/collections/IssueCollection","app/views/channels/grids/MagazineIssueCarouselView","app/views/common/LoadingContentView","app/views/purchase/purchase"],function(e,t,n,i,a,s,r,o,l,c,d){var u=n.ItemView.extend({template:s,tagName:"article"}),h=n.CollectionView.extend({itemView:u}),p=n.CompositeView.extend({template:r,itemViewContainer:".issue-articles",itemView:u,className:"issue-content",events:{"click .click-to-buy, .subscribe-button":function(t){return e.openMagazine?(d.showLogin(),void 0):e.oneArticleAccess?void 0:(t.preventDefault(),d.buyClick(this.model.get("brandId")))},"click .omniture":"omnitureTracking"},omnitureTracking:function(){i.vent.trigger("magazine:pdf")},templateHelpers:function(){return{openMagazine:1==e.openMagazine,hasCoverStories:this.options.coverStories.length}},onRender:function(){if(this.options.coverStories.length){var e=new h({collection:this.options.coverStories}).render();this.$el.find(".cover-stories").append(e.$el.html()),this.$el.find(".issue-articles").addClass("break-column-before")}}}),m=n.Layout.extend({initialize:function(){this.model=new t.Model,i.commands.addHandler("displayMagazineIssueArticles",this.displayIssueArticles.bind(this))},regions:{issueCarouselRegion:".issue-carousel-region",issueArticleRegion:".issue-article-region"},template:a,onRender:function(){this.populateAndRenderIssues()},populateAndRenderIssues:function(){var e=this;this.channel=this.options.channel,this.channel.getIssues(),this.channel.issueCollection.deferred.done(function(){e.showIssues(),e.populateAndRenderIssueArticles()})},showIssues:function(){var e=new l({collection:this.channel.issueCollection});this.issueCarouselRegion.show(e)},displayIssueArticles:function(e){this.populateAndRenderIssueArticles(e)},populateAndRenderIssueArticles:function(e){var n=this;n.issueArticleRegion.show(new c);var a=e?n.channel.issueCollection.get(e):n.channel.issueCollection.first();a.set("brandId",this.channel.id);var s=i.reqres.request("getArticles",{ids:a.get("articleIds"),propertySetId:"small",sortBy:"pageNumber"});s.deferred.done(function(){i.openMagazinePath?(s.invoke("set",{sectionId:"magazines/"+a.id}),s.invoke("set",{openMagazinePath:i.openMagazinePath})):s.invoke("set",{sectionId:a.id});var e=a.get("coverStoryIds"),r=s.filter(function(t){return _.contains(e,t.id)}),o=new t.Collection(r),l=new p({model:a,coverStories:o,collection:s});n.issueArticleRegion.show(l)})}});return m}),define("hbs!app/templates/channels/external/ExternalMagazineBigCoverTemplate",["hbs","Handlebars","template/helpers/hasRightsTo"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <a href="/magazine/',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===u?t.apply(e):t),i+=h(t)+"/",(t=n.year)?t=t.call(e,{hash:{}}):(t=e.year,t=typeof t===u?t.apply(e):t),i+=h(t)+"/",(t=n.number)?t=t.call(e,{hash:{}}):(t=e.number,t=typeof t===u?t.apply(e):t),i+=h(t)+'" target="_blank" class="external-link omniture">\n        <img src="',(t=n.largeCover)?t=t.call(e,{hash:{}}):(t=e.largeCover,t=typeof t===u?t.apply(e):t),i+=h(t)+'" class="issue-large-cover-image"/>\n    </a>\n'}function r(e){var t,i="";return i+='\n    <a class="click-to-buy">\n        <img src="',(t=n.largeCover)?t=t.call(e,{hash:{}}):(t=e.largeCover,t=typeof t===u?t.apply(e):t),i+=h(t)+'" class="issue-large-cover-image"/>\n    </a>\n'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l,c,d="",u="function",h=this.escapeExpression,p=this,m=n.helperMissing;return c={hash:{},inverse:p.program(3,r,a),fn:p.program(1,s,a)},o=n.hasRightsTo,l=o?o.call(t,t.channelId,c):m.call(t,"hasRightsTo",t.channelId,c),(l||0===l)&&(d+=l),d+="\n"});return n}),define("hbs!app/templates/channels/external/ExternalMagazineButtonTemplate",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=this.escapeExpression,c=n.helperMissing;return r+='<a href="/magazine/',(i=n.channelId)?i=i.call(t,{hash:{}}):(i=t.channelId,i=typeof i===o?i.apply(t):i),r+=l(i)+"/",(i=n.year)?i=i.call(t,{hash:{}}):(i=t.year,i=typeof i===o?i.apply(t):i),r+=l(i)+"/",(i=n.number)?i=i.call(t,{hash:{}}):(i=t.number,i=typeof i===o?i.apply(t):i),r+=l(i)+'" target="_blank"\n   class="grey-button read-magazine-button external-link omniture">',s={hash:{}},i=n.t,a=i?i.call(t,"Go.to.eMagazine",s):c.call(t,"t","Go.to.eMagazine",s),(a||0===a)&&(r+=a),r+="</a>\n"
});return n}),define("hbs!app/templates/channels/external/ExternalMagazineRowTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="magazine-row-container">\n\n    <div class="magazine-row-right-container top">\n        <div class="magazine-name-region"></div>\n        <div class="magazine-description-region"></div>\n        <div class="read-magazine-button-region"></div>\n    </div>\n\n    <div class="magazine-row-right-container bottom">\n        <div class="magazine-cover-carousel-region"></div>\n    </div>\n\n    <div class="magazine-big-cover-region"></div>\n</div>'});return n}),define("hbs!app/templates/channels/external/ExternalMagazineIssueTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="magazine-gallery-region"></div>'});return n}),define("hbs!app/templates/channels/external/ExternalMagazineNameTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function",r=this.escapeExpression;return(i=n.magazineName)?i=i.call(t,{hash:{}}):(i=t.magazineName,i=typeof i===s?i.apply(t):i),a+=r(i)+" ",(i=n.name)?i=i.call(t,{hash:{}}):(i=t.name,i=typeof i===s?i.apply(t):i),a+=r(i)});return n}),define("hbs!app/templates/channels/external/ExternalMagazineTextTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="function",s=this.escapeExpression;return(i=n.magazineDescription)?i=i.call(t,{hash:{}}):(i=t.magazineDescription,i=typeof i===a?i.apply(t):i),s(i)});return n}),define("app/views/channels/type/ExternalMagazineChannel",["underscore","config","backbone","backbone.marionette","application","app/utils/utilities","juissi.swipe","app/views/common/JuissiRibbonView","app/views/purchase/purchase","hbs!app/templates/channels/issue/issueItemView","hbs!app/templates/channels/issue/issueCarouselTemplate","hbs!app/templates/channels/external/ExternalMagazineBigCoverTemplate","hbs!app/templates/channels/external/ExternalMagazineButtonTemplate","hbs!app/templates/channels/external/ExternalMagazineRowTemplate","hbs!app/templates/channels/external/ExternalMagazineIssueTemplate","hbs!app/templates/channels/external/ExternalMagazineNameTemplate","hbs!app/templates/channels/external/ExternalMagazineTextTemplate"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m,f,g){var v=i.ItemView.extend({tagName:"div",className:"big-cover-container",template:u}),y=i.ItemView.extend({tagName:"h2",template:f}),_=i.ItemView.extend({tagName:"p",className:"description",template:g}),b=i.ItemView.extend({tagName:"div",template:h}),w=i.ItemView.extend({template:c,tagName:"a",className:"issue-cover",events:{click:"smallCoverClicked"},initialize:function(e){this.eventDispatcher=e.eventDispatcher,this.listenTo(this.eventDispatcher,"issueSelectChanged",this.issueSelectChanged.bind(this))},smallCoverClicked:function(){this.eventDispatcher.trigger("smallCoverClicked",this.model),this.toggleCurrent()},toggleCurrent:function(){$(".issue-cover").removeClass("selected"),this.$el.addClass("selected")},issueSelectChanged:function(e){this.model.id===e&&this.toggleCurrent()}}),M=o.extend({template:d,itemViewContainer:".issue-covers",className:"issue-covers-carousel",itemView:w,scrollerContainerClass:".issue-covers-scroller",scrollingElementClass:".issue-covers",itemClass:".issue-cover",itemViewOptions:function(){return{options:this.options,eventDispatcher:this.eventDispatcher}},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.eventDispatcher=e.eventDispatcher},onBeforeRender:function(){this.model=new n.Model({issues:this.collection.toJSON()})},onRender:function(){var e=this;this.collection.first().set("selected",!0),s.lazyLoadImages(this.$el),this.$el.find(".issue-cover").first().addClass("selected"),this.$el.find(".issue-select").on("change",function(){var t=$(this).val();e.eventDispatcher.trigger("issueSelectChanged",t)}),this.listenTo(this.eventDispatcher,"smallCoverClicked",this.setSelectedIssue)},setSelectedIssue:function(e){var t=e.get("id");this.$el.find(".issue-select").val(t)}}),k=n.Marionette.Layout.extend({initialize:function(){this.eventDispatcher=e.extend({},n.Events),this.model.selectedIssue=this.model.get("issues")[0]},template:p,className:"magazine-row",regions:{magazineBigCoverRegion:".magazine-big-cover-region",magazineNameRegion:".magazine-name-region",magazineDescriptionRegion:".magazine-description-region",readMagazineButtonRegion:".read-magazine-button-region",magazineCoverCarouselRegion:".magazine-cover-carousel-region"},events:{"click .click-to-buy":function(e){return t.openMagazine?(l.showLogin(),void 0):t.oneArticleAccess?void 0:(e.preventDefault(),l.buyClick(this.model.get("issues")[0].get("channelId")))},"click .omniture":"omnitureTracking"},omnitureTracking:function(){a.vent.trigger("magazine:pdf")},onRender:function(){var e=new n.Collection(this.model.get("issues")),t=new M({collection:e,selectedIssue:this.selectedIssue,eventDispatcher:this.eventDispatcher});this.setSelectedIssue(this.model.selectedIssue),this.listenTo(this.eventDispatcher,"smallCoverClicked",this.setSelectedIssue),this.listenTo(this.eventDispatcher,"issueSelectChanged",this.findSelectedIssueFromModel),setTimeout(function(){this.magazineCoverCarouselRegion.show(t)}.bind(this),0)},findSelectedIssueFromModel:function(t){var n=e.find(this.model.get("issues"),function(e){return e.id===t});n&&this.setSelectedIssue(n)},setSelectedIssue:function(e){this.magazineBigCoverRegion.show(new v({model:e})),this.magazineNameRegion.show(new y({model:e})),this.magazineDescriptionRegion.show(new _({model:e})),this.readMagazineButtonRegion.show(new b({model:e}))}}),L=i.CollectionView.extend({itemView:k}),T=i.Layout.extend({template:m,regions:{magazineGalleryRegion:".magazine-gallery-region"},initialize:function(){this.model=new n.Model},onRender:function(){this.populateAndRenderMagazines()},populateAndRenderMagazines:function(){var t=this;this.channel=this.options.channel,this.channel.getIssues(),this.channel.issueCollection.deferred.done(function(){var i=this.channel.issueCollection.models,a=e.chain(i).groupBy(function(e){return e.get("magazineName")}).map(function(e){return e.length>0&&e[0].get("published")<e[e.length-1].get("published")&&(e=e.reverse()),{magazineName:e[0].get("magazineName"),issues:e}}).value();t.model.magazines=new n.Collection(a),t.showMagazines()}.bind(this))},showMagazines:function(){var e=new L({collection:this.model.magazines});this.magazineGalleryRegion.show(e)}});return T}),define("template/helpers/latestNewsTime",["Handlebars","moment","language","environment"],function(e,t,n,i){var a="D.M.YYYY";i.summaSweden&&(a="YYYY.M.D"),t.locale("en-short-format",{calendar:{lastDay:"dd HH:mm",sameDay:"HH:mm",nextDay:"D.M.",lastWeek:"dd HH:mm",nextWeek:"dd D.M.",sameElse:a},relativeTime:{future:"",past:"%s "+n.ago,s:"s",m:"1 "+n.minute,mm:"%d "+n.minutes,h:n.hour,hh:"%d "+n.hours,d:n.day,dd:"%d "+n.days,M:n.month,MM:"%d "+n.months,y:n.year,yy:"%d "+n.years},weekdaysMin:[n.Su,n.Mo,n.Tu,n.We,n.Th,n.Fr,n.Sa]});var s=t(),r=function(e){return 27e5>s.diff(e)},o=function(e){t.locale("en-short-format");var n="";if((new Date).getTime(),!isNaN(e)){var i=t(e);n=r(i)?i.fromNow():i.calendar()}return n||(n=""),n};e.registerHelper("latestNewsTime",o)}),define("hbs!app/templates/channels/grids/latestNewsArticleView",["hbs","Handlebars","template/helpers/latestNewsTime"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <a href="',(t=n.link)?t=t.call(e,{hash:{}}):(t=e.link,t=typeof t===v?t.apply(e):t),i+=y(t)+'" class="article" data-track="article link" data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===v?t.apply(e):t),i+=y(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===v?t.apply(e):t),i+=y(t)+'" target="_blank">\n'}function r(e,t){var i,a="";return a+="\n    ",i=n["if"].call(e,e.openMagazinePath,{hash:{},inverse:_.program(6,l,t),fn:_.program(4,o,t)}),(i||0===i)&&(a+=i),a+="\n"}function o(e){var t,i="";return i+='\n        <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===v?t.apply(e):t),i+=y(t),(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===v?t.apply(e):t),i+=y(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===v?t.apply(e):t),i+=y(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===v?t.apply(e):t),i+=y(t)+'" class="article" data-track="article link"\n           data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===v?t.apply(e):t),i+=y(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===v?t.apply(e):t),i+=y(t)+'">\n    '}function l(e){var t,i="";return i+='\n        <a href="/article/',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===v?t.apply(e):t),i+=y(t)+"/",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===v?t.apply(e):t),i+=y(t)+"/",(t=n.articleSlug)?t=t.call(e,{hash:{}}):(t=e.articleSlug,t=typeof t===v?t.apply(e):t),i+=y(t)+"/",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===v?t.apply(e):t),i+=y(t)+'" class="article" data-track="article link"\n           data-source="',(t=n.channelTitle)?t=t.call(e,{hash:{}}):(t=e.channelTitle,t=typeof t===v?t.apply(e):t),i+=y(t)+" > ",(t=n.sectionId)?t=t.call(e,{hash:{}}):(t=e.sectionId,t=typeof t===v?t.apply(e):t),i+=y(t)+'">\n    '}function c(){return"new-article"}function d(e){var t,i="";return i+='\n            <span class="',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===v?t.apply(e):t),i+=y(t)+"-icon icon-brand-icon-bw-",(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===v?t.apply(e):t),i+=y(t)+' brand-icon greyscale"></span>\n        '}function u(e){var t,n="";return n+='\n            <div class="small-square-thumbnail thumbnail" style="background-image: url(\''+y((t=e.images,t=null==t||t===!1?t:t[0],t=null==t||t===!1?t:t.variations,t=null==t||t===!1?t:t.thumbnail,t=null==t||t===!1?t:t.url,typeof t===v?t.apply(e):t))+"');\"></div>\n        "}function h(e){var t,i="";return i+='\n            <div class="small-square-thumbnail thumbnail placeholder">\n                <div class="placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===v?t.apply(e):t),i+=y(t)+' greyscale"></div>\n            </div>\n        '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var p,m,f,g="",v="function",y=this.escapeExpression,_=this,b=n.helperMissing;return p=n["if"].call(t,t.link,{hash:{},inverse:_.program(3,r,a),fn:_.program(1,s,a)}),(p||0===p)&&(g+=p),g+='\n    <div class="timestamp ',p=n["if"].call(t,t.newArticle,{hash:{},inverse:_.noop,fn:_.program(8,c,a)}),(p||0===p)&&(g+=p),g+='">\n        ',f={hash:{}},p=n.latestNewsTime,m=p?p.call(t,t.published,f):b.call(t,"latestNewsTime",t.published,f),(m||0===m)&&(g+=m),g+="\n        ",m=n["if"].call(t,t.crossChannel,{hash:{},inverse:_.noop,fn:_.program(10,d,a)}),(m||0===m)&&(g+=m),g+='\n    </div>\n    <div class="thumbnail-cell">\n        ',m=n["if"].call(t,(p=t.images,p=null==p||p===!1?p:p[0],null==p||p===!1?p:p.url),{hash:{},inverse:_.program(14,h,a),fn:_.program(12,u,a)}),(m||0===m)&&(g+=m),g+='\n    </div>\n    <div class="text">\n        <span class="kicker">',(m=n.kicker)?m=m.call(t,{hash:{}}):(m=t.kicker,m=typeof m===v?m.apply(t):m),g+=y(m)+"</span>\n\n        <h3>",(m=n.title)?m=m.call(t,{hash:{}}):(m=t.title,m=typeof m===v?m.apply(t):m),(m||0===m)&&(g+=m),g+="</h3>\n    </div>\n</a>\n"});return n}),define("app/views/channels/type/LatestNewsChannel",["backbone","backbone.marionette","application","app/views/channels/BaseChannel","hbs!app/templates/channels/grids/latestNewsArticleView","app/utils/utilities","language"],function(e,t,n,i,a,s,r){var o=15,l=t.ItemView.extend({template:a,tagName:"article",initialize:function(){n.openMagazinePath&&this.model.set("openMagazinePath",n.openMagazinePath)},className:function(){var e=this.model.get("locked")?" latest-locked":"";return"latest-article"+e},templateHelpers:function(){var e=this.options.channel;return{channelId:e.id,sectionId:e.getLatestNewsSection().id,channelTitle:e.get("title"),crossChannel:e.get("crossChannel")}}}),c=i.extend({itemView:l,className:"latest-news-channel",initialize:function(){this.allArticles=this.options.articlesCollection.models,this.collection=new e.Collection(this.allArticles.splice(0,o)),this.channel=this.options.channel,this.currentSubHeadline=""},itemViewOptions:function(){return{channel:this.channel}},buildItemView:function(e,t,n){var i=_.extend({model:e},n);return e.set("subHeadline",s.getDateSubHeadline(e.get("published"))),new t(i)},appendHtml:function(e,t){var n=t.model.get("subHeadline");if(this.currentSubHeadline!=n&&""!=n){var i=n===r.older?"oldest":"";e.$(e.itemViewContainer).append('<h4 class="section-header section-divider '+this.channel.id+" "+i+'">'+n+"</h4>"),this.currentSubHeadline=n}e.$(e.itemViewContainer).append(t.el)},addOneBlock:function(){o>=this.allArticles.length&&this.el.classList.add("all-content-shown"),this.collection.add(this.allArticles.splice(0,o))}});return c}),define("hbs!app/templates/channels/daily/dailyIssueHeaderTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a="",s="function";return a+='<div class="daily-news-header">\n    <div class="daily-news-logo icon-brand-logo-',(i=n.channelId)?i=i.call(t,{hash:{}}):(i=t.channelId,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+='-daily"></div>\n    <h3 class="daily-news-date">',(i=n.day)?i=i.call(t,{hash:{}}):(i=t.day,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+=" ",(i=n.date)?i=i.call(t,{hash:{}}):(i=t.date,i=typeof i===s?i.apply(t):i),(i||0===i)&&(a+=i),a+="</h3>\n</div>"});return n}),define("app/views/channels/daily/DailyIssueHeaderLayout",["backbone","underscore","backbone.marionette","hbs!app/templates/channels/daily/dailyIssueHeaderTemplate"],function(e,t,n,i){var a=n.Layout.extend({className:"daily-news-header-container",template:i,initialize:function(){this.model.attributes=t.extend(this.model.attributes,this.options)}});return a}),define("hbs!app/templates/channels/grids/dailyIssueColumnArticles",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="keep-in-line">\n    <div class="fluid-left-column"></div>\n</div>\n<div class="shadow-divider"></div>\n'});return n}),define("app/views/channels/daily/DailyIssueTopLayout",["backbone","underscore","application","backbone.marionette","hbs!app/templates/channels/grids/dailyIssueColumnArticles","app/views/channels/ChannelArticlesView","adtech","app/utils/utilities"],function(e,t,n,i,a,s,r,o){var l=i.Layout.extend({className:"layout-block left-fluid-right-fixed initial-block",template:a,regions:{leftColumn:".fluid-left-column"},onRender:function(){var e=this.collection.getRangeOfArticles(0,1);e.first().set("bigImage",!0),this.model.set("dailyIssueId",this.options.dailyIssueId),this.model.set("isDailyNews",this.options.isDailyNews),this.leftColumn.show(new s({model:this.model,collection:e,topStories:!0})),n.commands.addHandler("setupDailyIssueAds",this.setupAds.bind(this))},setupAds:function(){var e=o.getAddSizeIds(),n=this.model.get("adNetworkId");t.each(this.model.get("ads"),function(t,i){var a=e[i];try{r.loadAd("placement_"+t,"http://adserver.adtech.de/addyn|3.0|"+n+"|"+t+"|0|"+a+"|ADTECH;loc=100;target=_blank;alias=;grp="+window.adgroupid+";misc="+(new Date).getTime())}catch(s){console.warn("AdTech fail: "+s.message)}})}});return l}),define("app/views/channels/daily/DailyIssueArticleLayout",["underscore","backbone","backbone.marionette","application","app/views/channels/BaseChannel","app/views/channels/daily/DailyIssueHeaderLayout","app/views/channels/daily/DailyIssueTopLayout","app/views/channels/grids/EvenHeightArticlesView","app/views/channels/SubHeaderView","template/helpers/t","moment","app/utils/utilities"],function(e,t,n,i,a,s,r,o,l,c,d,u){var h=n.Layout.extend({template:e.template('<div class="cf"></div>')}),p=a.extend({className:"daily-news-channel channel-type",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.collection=new t.Collection;var e=c("Daily.weekdays").split(" "),n=d(this.options.issueTime),i=0!=n.weekday()?n.weekday()-1:6;this.addBlock(s,0,{day:e[i],date:n.format("D.M.YYYY")}),this.addBlock(r,1,{dailyIssueId:this.options.dailyIssueId,isDailyNews:!0});var a=this.articlesCollection.length-1;a>0&&this.addBlock(o,a,{dailyIssueId:this.options.dailyIssueId,isDailyNews:!0}),this.addBlock(h,0),this.addBlock(l,0,{model:new t.Model({subHeader:c("Daily.previous.issues"),channelId:this.options.channel.id})})},onRender:function(){this.el.classList.add("no-infinite-scroll"),u.lazyLoadImages(this.$el)}});return p}),define("app/views/channels/daily/JuissiDailyCarouselView",["underscore","backbone.marionette","application","juissi.swipe"],function(e,t,n,i){var a=t.CompositeView.extend({initialize:function(){},events:{"click .scroll-forward":"scrollForward","click .scroll-backward":"scrollBackward"},scrollForward:function(){this.juissiRibbon.scrollRight()},scrollBackward:function(){this.juissiRibbon.scrollLeft()},updateNavigationStyles:function(){this.forward=this.$el.find(".scroll-forward"),this.backward=this.$el.find(".scroll-backward");var e=this.juissiRibbon.getSize()-1,t=this.juissiRibbon.getCurrentCoords().x;this.forward.removeClass("disabled"),this.backward.removeClass("disabled"),t===e?this.forward.addClass("disabled"):0===t&&this.backward.addClass("disabled")},onShow:function(){this.forward=this.$el.find(".scroll-forward"),this.backward=this.$el.find(".scroll-backward"),this.initJuissi(),this.juissiRibbon.triggers.onPageChange=function(){this.updateNavigationStyles()}.bind(this)},onClose:function(){var e=this;$(window).off("resize orientationchange",e.resizeHandler)},initJuissi:function(){var e=this.kineticSpeed||500;this.scrollContainer=this.$el.find(this.scrollerContainerClass)[0],this.scroller=this.$el.find(this.scrollingElementClass);var t={horizontal:!0,kineticSpeed:e,adjustSizes:!1};this.juissiRibbon=new i.Explore(this.scrollContainer,this.juissiOptions||t);var n=this.juissiRibbon.getSize()-1;this.juissiRibbon.scroll(n,0,{instant:!0}),this.updateNavigationStyles()}});return a}),define("hbs!app/templates/channels/daily/dailyIssueItemView",["hbs","Handlebars","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(){return"grey"}function r(e){var t;return(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===u?t.apply(e):t),t||0===t?t:""}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l,c,d="",u="function",h=this,p=n.helperMissing,m=this.escapeExpression;return d+='<div class="small-cover-container ',(o=n.channelId)?o=o.call(t,{hash:{}}):(o=t.channelId,o=typeof o===u?o.apply(t):o),(o||0===o)&&(d+=o),d+='">\n    <div class="small-cover-wrap">\n        <div class="small-cover-logo-container">\n            <div class="small-cover-logo icon-brand-logo-',(o=n.channelId)?o=o.call(t,{hash:{}}):(o=t.channelId,o=typeof o===u?o.apply(t):o),(o||0===o)&&(d+=o),d+="-daily ",o=n.unless.call(t,t.cover,{hash:{},inverse:h.noop,fn:h.program(1,s,a)}),(o||0===o)&&(d+=o),d+='"></div>\n        </div>\n        <div class="small-square-thumbnail-static">\n            ',c={hash:{}},o=n.image,l=o?o.call(t,t.cover,"small-square-thumbnail-static",c):p.call(t,"image",t.cover,"small-square-thumbnail-static",c),(l||0===l)&&(d+=l),d+='\n        </div>\n        <div class="small-cover-date ',l=n["if"].call(t,t.cover,{hash:{},inverse:h.noop,fn:h.program(3,r,a)}),(l||0===l)&&(d+=l),d+='">',(l=n.day)?l=l.call(t,{hash:{}}):(l=t.day,l=typeof l===u?l.apply(t):l),d+=m(l)+" ",(l=n.date)?l=l.call(t,{hash:{}}):(l=t.date,l=typeof l===u?l.apply(t):l),d+=m(l)+"</div>\n    </div>\n</div>\n\n"});return n}),define("hbs!app/templates/channels/daily/dailyIssueCarouselTemplate",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n            <option value="',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===l?t.apply(e):t),i+=c(t)+'">',(t=n.day)?t=t.call(e,{hash:{}}):(t=e.day,t=typeof t===l?t.apply(e):t),i+=c(t)+" ",(t=n.date)?t=t.call(e,{hash:{}}):(t=e.date,t=typeof t===l?t.apply(e):t),i+=c(t)+"</option>\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=this;return o+='\n<div class="tt-gradient brand-gradient box-top-line"></div>\n<div class="issue-carousel-title">\n    <h2>AIEMMAT T&T PIVT</h2>\n</div>\n<a class="scroll-backward carousel-button prev hide-mobile"></a>\n\n<div class="issue-carousel-wrap hide-mobile"></div>\n\n<a class="scroll-forward carousel-button next hide-mobile"></a>\n<form>\n    <select name="issue" class="issue-select">\n        ',r=n.each.call(t,t.plainIssues,{hash:{},inverse:d.noop,fn:d.program(1,s,a)}),(r||0===r)&&(o+=r),o+="\n    </select>\n</form>"});return n}),define("hbs!app/templates/channels/daily/dailyIssueWeekGroup",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="issue-week-group"></div>'});return n}),define("app/views/channels/daily/DailyIssueCarouselView",["underscore","backbone.marionette","config","application","juissi.swipe","app/views/channels/daily/JuissiDailyCarouselView","hbs!app/templates/channels/daily/dailyIssueItemView","hbs!app/templates/channels/daily/dailyIssueCarouselTemplate","hbs!app/templates/channels/daily/dailyIssueWeekGroup","app/utils/utilities","moment","template/helpers/t"],function(e,t,n,i,a,s,r,o,l,c,d,u){var h=t.ItemView.extend({template:r,tagName:"a",className:"issue-cover",modelEvents:{change:"toggleCurrent"},events:{click:"showIssueArticles"},initialize:function(){var e=u("Daily.weekdays").split(" "),t=d(this.model.get("date"),"DD.MM.YYYY"),n=0!=t.weekday()?t.weekday()-1:6;this.model.set("day",e[n].substr(0,2)),this.model.set("date",t.format("D.M."))},toggleCurrent:function(){$(".issue-cover").removeClass("selected"),this.model.get("selected")&&this.$el.addClass("selected")},showIssueArticles:function(){null!==this.model.get("published")&&(n.oneArticleAccess||(i.commands.execute("displayDailyIssueArticles",this.model.id),i.commands.execute("removeDailySelectedIssue",this.model.id),this.model.set("selected",!0)))}}),p=t.CompositeView.extend({template:l,itemViewContainer:".issue-week-group",itemView:h,itemClass:".issue-cover",className:"issue-group-container",initialize:function(){this.collection=new Backbone.Collection(this.model.get("issues")),this.collection.invoke("set",{channelId:this.model.get("channelId")})}}),m=s.extend({juissiOptions:{typeExplore:!0,scrollable:!1,fullScreen:!1,horizontalMode:!0,loopHorizontal:!1,desktopVersion:!0,disableMouseGestures:!0},template:o,itemViewContainer:".issue-carousel-wrap",scrollerContainerClass:".issue-carousel-wrap",className:"issue-carousel",itemView:p,scrollingElementClass:".issue-group-container",itemClass:".issue-group-container",events:{"change .issue-select":"changeIssue"},initialize:function(){var t,n,a=this.collection.toJSON(),r=u("Daily.weekdays").split(" "),o=[];e.each(a,function(i){e.each(i.issues,function(e){(""+e.date).match(/\d+\.\d+\.\d+/g)||(t=d(e.date),n=0!=t.weekday()?t.weekday()-1:6,e.day=r[n],e.date=t.format("D.M.YYYY")),e.id&&o.push(e)})}),this.model.set("plainIssues",o.reverse()),this.collection.invoke("set",{channelId:this.model.get("channelId")}),this.collection.each(function(e){t=e.get("published")?d(e.get("published")):d(e.get("date")),n=0!=t.weekday()?t.weekday()-1:6,e.set("day",r[n]),e.set("date",t.format("D.M.YYYY"))}),i.commands.addHandler("removeDailySelectedIssue",this.removeSelectedIssue.bind(this)),s.prototype.initialize.apply(this,arguments),this.events=e.extend({},s.prototype.events,this.events)},onRender:function(){this.collection.first().set("selected",!0),c.lazyLoadImages(this.$el)},changeIssue:function(){var e=this.$el.find(".issue-select").val();i.commands.execute("displayDailyIssueArticles",e),this.applySelectOnIssue(e)},applySelectOnIssue:function(e){this.removeSelectedIssue();var e=this.collection.get(e);e&&e.set("selected",!0)},removeSelectedIssue:function(){this.collection.invoke("set",{selected:!1})}});return m}),define("hbs!app/templates/channels/type/dailyChannel",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="daily-channel">\n    <div class="daily-article-region"></div>\n    <div class="daily-carousel-region"></div>\n    <div class="latest-issue-region top-story-articles"></div>\n</div>'});return n}),define("app/views/channels/type/DailyIssueChannel",["backbone","backbone.marionette","application","app/views/channels/daily/DailyIssueArticleLayout","app/views/channels/daily/DailyIssueCarouselView","app/views/common/LoadingContentView","hbs!app/templates/channels/type/dailyChannel","hbs!app/templates/channels/grids/latestIssueView","app/views/channels/SubHeaderView","template/helpers/t","app/utils/utilities"],function(e,t,n,i,a,s,r,o){var l=t.ItemView.extend({initialize:function(){var t=this.collection.model.latestMagazine,n={name:t.get("name"),cover:t.get("cover")},i=this.collection.model.attributes,a={id:i.channelId,title:i.title},s={};s.sectionTitle="Uusin viikkolehti",this.model=new e.Model(_.extend(a,n,s))},className:"latest-issue-cover big-gap cf",template:o}),c=t.Layout.extend({regions:{carouselRegion:".daily-carousel-region",articleRegion:".daily-article-region",latestIssueRegion:".latest-issue-region"},template:r,initialize:function(t){if(this.model=t.channel,this.opts=this.options,this.groupedDailyIssues=this.model.get("groupedDailyIssues"),this.model.dailyIssuesByWeekCollection=new e.Collection(this.groupedDailyIssues),this.model.get("issues")&&(this.model.latestMagazine=new e.Model(_.first(this.model.get("issues")))),this.model.dailyIssuesByWeekCollection.length>0){var i=_.last(this.groupedDailyIssues).issues,a=_.chain(i).filter(function(e){return null!=e.published}).last().value();this.opts.issueTime=a.published}n.commands.addHandler("displayDailyIssueArticles",this.displayIssueArticles.bind(this))},onRender:function(){var e=this.model.dailyIssuesByWeekCollection;e.length>0&&(this.carouselRegion.show(new a({model:this.model,collection:e})),this.latestIssueRegion.show(new l({collection:this})),this.displayIssueArticles())},displayIssueArticles:function(e){this.articleRegion.show(new s);var t;if(e)t=_.chain(this.model.get("groupedDailyIssues")).map(function(e){return e.issues}).flatten().find(function(t){return t.id==e}).value();else{var a=_.last(this.model.get("groupedDailyIssues")).issues;t=_.chain(a).filter(function(e){return null!=e.published}).last().value()}t.channelId=this.model.get("channelId");var r=n.reqres.request("getArticles",{ids:t.articleIds,propertySetId:"small"});r.deferred.done(function(){r.invoke("set",{sectionId:this.options.sectionId,isDailyNews:!0}),this.opts.issueTime=t.published,this.opts.dailyIssueId=t.id,this.opts.articlesCollection=r,this.articleRegion.show(new i(this.opts))}.bind(this))}});return c}),define("hbs!app/templates/channels/type/forumChannel",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing,l="function",c=this.escapeExpression;return r+='<div class="forum-header">\n    <div class="toggle-tab">\n        <input name="option" type="radio" id="yleiset" class="hide" checked>\n        <label id="toggle-tab-yleiset" for="yleiset">Yleiset keskustelut</label>\n        <input name="option" type="radio" id="omat" class="hide">\n        <label id="toggle-tab-omat" for="omat">Omat keskustelut</label>\n    </div>\n\n    <div class="forum-search-box-container">\n        <input type="text" id="forum-search-box" class="search-box icon-input-search forum-search-box"\n               placeholder="',s={hash:{}},i=n.t,a=i?i.call(t,"Search.from.conversations",s):o.call(t,"t","Search.from.conversations",s),(a||0===a)&&(r+=a),r+='"\n               autocomplete="off" autocapitalize="off"/>\n    </div>\n</div>\n\n<div id="forum-region-',(a=n.id)?a=a.call(t,{hash:{}}):(a=t.id,a=typeof a===l?a.apply(t):a),r+=c(a)+'"></div>'});return n}),define("app/views/channels/type/ForumChannel",["underscore","backbone.marionette","application","app/views/common/LoadingContentView","config","hbs!app/templates/channels/type/forumChannel"],function(e,n,i,a,s,r){var o=n.ItemView.extend({template:r,events:{"click #toggle-tab-yleiset":"clickTabYleiset","click #toggle-tab-omat":"clickTabOmat","keyup #forum-search-box":"forumSearch"},className:function(){return"forum-container "+(s.muutAnonymous?" muut-anonymous":"")},initialize:function(){this.muutConfig=this.options.muutConfig},onRender:function(){var e=this.muutConfig,n=muut(),i=e.muutUrl;n!==void 0&&n.destroy(),this.$el.find("#forum-region-"+this.model.id).muut({url:i,title:t.Forum,upload:!1,api:e.muutApi})},clickTabYleiset:function(){$("#m-mainlinks .m-nav-all").click()},clickTabOmat:function(){$("#m-mainlinks .m-nav-feed").click()},forumSearch:function(){if(13===event.keyCode){var e=$("#forum-search-box"),t=$('#m-search input[name="q"]');t.val(e.val()),t.focus().trigger(jQuery.Event("keyup",{keyCode:13,which:13}))}}}),l=n.Layout.extend({regions:{forumRegion:".muut-region"},initialize:function(){this.channel=this.options.channel,this.forumConfig=s.muut.forums[this.channel.id],this.template=e.template('<div class="muut-region '+this.channel.id+'"></div>')},templateHelpers:function(){return{anonymous:s.muutAnonymous}},onRender:function(){this.forumRegion.show(new a({delayed:!0})),this.forumConfig&&require(["//cdn.muut.com/1/moot."+s.muutLang+".min.js"],function(){this.forumRegion.show(new o({model:this.channel,muutConfig:this.forumConfig}))}.bind(this))}});return l}),define("hbs!app/templates/channels/conference/conferenceItemView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n        <h2 class="conference-headline">',(t=n.headline)?t=t.call(e,{hash:{}}):(t=e.headline,t=typeof t===c?t.apply(e):t),i+=d(t)+"</h2>\n    "}function r(e){var t,i="";return i+='\n        <h3 class="conference-headline">',(t=n.headline)?t=t.call(e,{hash:{}}):(t=e.headline,t=typeof t===c?t.apply(e):t),i+=d(t)+"</h3>\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="conference-image-container">\n    <img src="',(o=n.imageUrl)?o=o.call(t,{hash:{}}):(o=t.imageUrl,o=typeof o===c?o.apply(t):o),l+=d(o)+'" class="ch-image"/>\n</div>\n\n<div class="conference-text-container">\n    ',o=n["if"].call(t,t.bigImage,{hash:{},inverse:u.program(3,r,a),fn:u.program(1,s,a)}),(o||0===o)&&(l+=o),l+='\n    <p class="conference-description">',(o=n.description)?o=o.call(t,{hash:{}}):(o=t.description,o=typeof o===c?o.apply(t):o),l+=d(o)+'</p>\n\n    <p class="conference-date start">\n        <i class="icon-calendar conference-small-icon"></i>\n        ',(o=n.startTime)?o=o.call(t,{hash:{}}):(o=t.startTime,o=typeof o===c?o.apply(t):o),l+=d(o)+'\n    </p>\n\n    <p class="conference-location">\n        <i class="icon-location conference-small-icon"></i>\n        ',(o=n.location)?o=o.call(t,{hash:{}}):(o=t.location,o=typeof o===c?o.apply(t):o),l+=d(o)+"\n    </p>\n</div>\n"});return n}),define("app/views/channels/conference/ConferenceItemView",["underscore","backbone","backbone.marionette","config","application","hbs!app/templates/channels/conference/conferenceItemView","app/utils/utilities","moment","template/helpers/t","app/views/common/share/shareToggle"],function(e,t,n,i,a,s,r,o,l,c){var d=n.ItemView.extend({template:s,tagName:"a",className:"conference",events:{"click .top-share":"toggleTopShareStrip"},regions:{topShareRegion:".top-share-region"},attributes:function(){var e=this.model.get("channelId"),t=this.model.get("id");
return{href:"/channel/"+e+"/conferences/"+t}},initialize:function(){var e="conference-image small-image";if(this.model.get("bigImage")&&(e="conference-image big-image"),this.model.set("imageClass",e),this.model.get("startDate")){var t=l("language.code"),n=o(this.model.get("startDate")).locale(t).format("DD. MMMM YYYY");this.model.set("startTime",n)}},onRender:function(){r.lazyLoadImages(this.$el)}});return d=d.extend(c)}),define("hbs!app/templates/channels/conference/otherConferencesCompositeView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <h4 class="section-header conference-group-title ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===l?t.apply(e):t),(t||0===t)&&(i+=t),i+='">',(t=n.groupTitle)?t=t.call(e,{hash:{}}):(t=e.groupTitle,t=typeof t===l?t.apply(e):t),i+=c(t)+"</h4>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=this;return r=n["if"].call(t,t.groupTitle,{hash:{},inverse:d.noop,fn:d.program(1,s,a)}),(r||0===r)&&(o+=r),o+='\n<div class="conferences"></div>\n'});return n}),define("app/views/channels/conference/OtherConferencesCompositeView",["underscore","backbone","backbone.marionette","config","application","hbs!app/templates/channels/conference/otherConferencesCompositeView","app/views/channels/conference/ConferenceItemView","app/utils/utilities","moment","template/helpers/t"],function(e,t,n,i,a,s,r,o,l,c){var d=n.CompositeView.extend({className:"past-conferences-group",template:s,itemView:r,itemViewContainer:".conferences",initialize:function(){this.model||(this.model=new t.Model);var e="";this.collection&&this.collection.size()>0&&(e=this.collection.first().get("channelId")),this.model.set("id",e)},templateHelpers:function(){var e=this.options.groupTitle;return{groupTitle:e?c("conference.others.title")+" "+e:""}}});return d}),define("hbs!app/templates/channels/type/conferenceChannel",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t="";return t+='\n            <div id="past-conferences-'+c(typeof e===l?e.apply(e):e)+'-region"></div>\n        '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=this;return o+='<div class="conference-channel">\n    <div class="top-upcoming-conference-region top-upcoming-conferences"></div>\n    <div class="banner-ad-region-1"></div>\n    <div class="other-upcoming-conferences-region other-upcoming-conferences"></div>\n    <div class="banner-ad-region-2"></div>\n    <div class="past-conferences">\n        ',r=n.each.call(t,t.conferenceGroups,{hash:{},inverse:d.noop,fn:d.program(1,s,a)}),(r||0===r)&&(o+=r),o+="\n    </div>\n</div>"});return n}),define("app/views/channels/type/ConferencesChannel",["underscore","backbone.marionette","application","app/views/channels/conference/ConferenceItemView","app/views/channels/conference/OtherConferencesCompositeView","app/views/common/LoadingContentView","hbs!app/templates/channels/type/conferenceChannel","app/models/AdModel","app/views/common/AdItemView","app/utils/utilities","adtech"],function(e,t,n,i,a,s,r,o,l,c,d){var u=t.Layout.extend({regions:{topUpcomingConferenceRegion:".top-upcoming-conference-region",otherUpcomingConferencesRegion:".other-upcoming-conferences-region",adRegion1:".banner-ad-region-1",adRegion2:".banner-ad-region-2"},template:r,initialize:function(){var t=this;this.opts=this.options,this.channel=this.options.channel;var n=e.find(t.channel.get("sections"),function(e){return e.id==t.channel.get("sectionId")});n&&n.ads&&(this.ads=n.ads)},onRender:function(){var e=this.channel.getTopConference();e.set("bigImage","true"),e&&this.topUpcomingConferenceRegion.show(new i({model:e}));var t=this.channel.getUpcomingConferences();t&&this.otherUpcomingConferencesRegion.show(new a({collection:t}));var n=this.channel.getPastConferences();if(n)for(var s=0;n.length>s;s++){var r=n[s].name,c="region"+r;this.addRegion(c,"#past-conferences-"+r+"-region"),this[c].show(new a({collection:n[s].conferences,groupTitle:r}))}var d="940x188";640>$(window).width()&&(d="570x160"),this.ads&&this.ads[d]&&(this.bannerAds=[{size:d,placementId:this.ads[d][0]},{size:d,placementId:this.ads[d][1]}],this.adRegion1.show(new l({model:new o({placementId:"placement_"+this.bannerAds[0].placementId})})),this.adRegion2.show(new l({model:new o({placementId:"placement_"+this.bannerAds[1].placementId})})))},onShow:function(){var t=this.channel.get("adNetworkId"),n=c.getAddSizeIds();e.each(this.bannerAds,function(e){var i=n[e.size],a=e.placementId;try{d.loadAd("placement_"+a,"http://adserver.adtech.de/addyn|3.0|"+t+"|"+a+"|0|"+i+"|ADTECH;loc=100;target=_blank;alias=;grp="+window.adgroupid+";misc="+(new Date).getTime())}catch(s){console.warn("AdTech fail: "+s.message)}})},templateHelpers:function(){var e=this.channel.getPastConferences(),t=[];if(e)for(var n=0;e.length>n;n++)t.push(e[n].name);return{conferenceGroups:t.reverse()}}});return u}),define("hbs!app/templates/channels/conference/conferenceDetailsItemView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=this.escapeExpression,c=n.helperMissing;return r+='<div class="conference-kicker simple-kicker">',(i=n.kicker)?i=i.call(t,{hash:{}}):(i=t.kicker,i=typeof i===o?i.apply(t):i),r+=l(i)+'</div>\n\n<div class="conference-text-container">\n    <h2 class="conference-headline">',(i=n.headline)?i=i.call(t,{hash:{}}):(i=t.headline,i=typeof i===o?i.apply(t):i),r+=l(i)+'</h2>\n\n    <p class="conference-description">',(i=n.description)?i=i.call(t,{hash:{}}):(i=t.description,i=typeof i===o?i.apply(t):i),r+=l(i)+'</p>\n\n    <table class="conference-info-table">\n        <tr class="conference-date">\n            <td class="conference-info-table-title">',(i=n.where)?i=i.call(t,{hash:{}}):(i=t.where,i=typeof i===o?i.apply(t):i),r+=l(i)+'</td>\n            <td class="conference-info-table-text">',(i=n.startTime)?i=i.call(t,{hash:{}}):(i=t.startTime,i=typeof i===o?i.apply(t):i),r+=l(i)+" - ",(i=n.endTime)?i=i.call(t,{hash:{}}):(i=t.endTime,i=typeof i===o?i.apply(t):i),r+=l(i)+'</td>\n        </tr>\n        <tr class="conference-location">\n            <td class="conference-info-table-title">',(i=n.when)?i=i.call(t,{hash:{}}):(i=t.when,i=typeof i===o?i.apply(t):i),r+=l(i)+'</td>\n            <td class="conference-info-table-text">',(i=n.location)?i=i.call(t,{hash:{}}):(i=t.location,i=typeof i===o?i.apply(t):i),r+=l(i)+'</td>\n        </tr>\n        <tr class="conference-more-info">\n            <td class="conference-info-table-title">',(i=n.more)?i=i.call(t,{hash:{}}):(i=t.more,i=typeof i===o?i.apply(t):i),r+=l(i)+'</td>\n            <td class="conference-info-table-text"><a href="',(i=n.infoLink)?i=i.call(t,{hash:{}}):(i=t.infoLink,i=typeof i===o?i.apply(t):i),r+=l(i)+'">',(i=n.infoLink)?i=i.call(t,{hash:{}}):(i=t.infoLink,i=typeof i===o?i.apply(t):i),r+=l(i)+'</a></td>\n            <!--TODO: Not sure if we can always assume this is a link-->\n        </tr>\n    </table>\n</div>\n\n<!--<div class="conference-article-bar art-bar-container">-->\n<!--<div class="art-toolbar">-->\n<!--<span class="top-share-region"></span>-->\n<!--<span class="art-toolbar-item top-share">-->\n<!--<span class="icon share icon-share" title="',s={hash:{}},i=n.t,a=i?i.call(t,"Share.page",s):c.call(t,"t","Share.page",s),(a||0===a)&&(r+=a),r+='"></span>-->\n<!--<span class="text">',s={hash:{}},i=n.t,a=i?i.call(t,"Share",s):c.call(t,"t","Share",s),(a||0===a)&&(r+=a),r+='</span>-->\n<!--</span>-->\n<!--</div>-->\n<!--</div>-->\n\n<div class="conference-image-container conference-image-details">\n    <img src="',(a=n.imageUrl)?a=a.call(t,{hash:{}}):(a=t.imageUrl,a=typeof a===o?a.apply(t):a),r+=l(a)+'" class="conference-embed-image ch-image"/>\n</div>'});return n}),define("app/views/channels/conference/ConferenceDetailsItemView",["underscore","backbone","backbone.marionette","config","application","hbs!app/templates/channels/conference/conferenceDetailsItemView","app/utils/utilities","moment","template/helpers/t"],function(e,t,n,i,a,s,r,o,l){var c=n.ItemView.extend({template:s,className:"conference-details",initialize:function(){if(this.model.get("startDate")){var e=l("language.code"),t=o(this.model.get("startDate")).locale(e).format("dddd D.M.YYYY, hh:mm");this.model.set("startTime",r.capitalizeFirstLetter(t))}if(this.model.get("endDate")){var e=l("language.code"),t=o(this.model.get("endDate")).locale(e).format("dddd D.M.YYYY, hh:mm");this.model.set("endTime",r.capitalizeFirstLetter(t))}this.model.set("brandId",this.model.get("channelId")),this.model.set("kicker",l(this.model.get("sectionId"))),this.model.set("where",l("conference.time.where")),this.model.set("when",l("conference.time.when")),this.model.set("more",l("conference.time.more"))},onRender:function(){r.lazyLoadImages(this.$el)}});return c}),define("hbs!app/templates/channels/conference/conferenceArticleItemView",["hbs","Handlebars","template/helpers/articleLink","template/helpers/picture","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s="";return s+=' <!-- CLASS PARAMETER NOT WORKING?! -->\n        <h4 class="title">',(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===f?i.apply(e):i),(i||0===i)&&(s+=i),s+='</h4>\n\n        <div class="description-container">\n            ',a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:m.program(5,l,t),fn:m.program(2,r,t)}),(a||0===a)&&(s+=a),s+='\n            <div class="description-text">',(a=n.ingress)?a=a.call(e,{hash:{}}):(a=e.ingress,a=typeof a===f?a.apply(e):a),(a||0===a)&&(s+=a),s+="</div>\n        </div>\n    "}function r(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:m.noop,fn:m.program(3,o,t)},i=n.picture,a=i?i.call(e,e.images,200,200,s):p.call(e,"picture",e.images,200,200,s),(a||0===a)&&(r+=a),r+="\n            "}function o(e){var t,i,a;return a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"conference-description-image",a):p.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"conference-description-image",a),i||0===i?i:""}function l(e){var t,i="";return i+='\n                <span class="conference-description-image placeholder-brand-icon icon-brand-icon-bw-',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===f?t.apply(e):t),i+=g(t)+' greyscale"></span>\n            '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d,u,h="",p=n.helperMissing,m=this,f="function",g=this.escapeExpression;return h+='<!-- remove this wrapper div if you can make the #articleLink take the class parameter -->\n<div class="conference-article-link">\n    ',u={hash:{},inverse:m.noop,fn:m.program(1,s,a)},c=n.articleLink,d=c?c.call(t,"conference-article-link",u):p.call(t,"articleLink","conference-article-link",u),(d||0===d)&&(h+=d),h+="\n</div>\n"});return n}),define("app/views/channels/conference/ConferenceArticlesView",["underscore","backbone","backbone.marionette","app/utils/utilities","hbs!app/templates/channels/conference/conferenceArticleItemView"],function(e,t,n,i,a){var s=n.ItemView.extend({template:a,tagName:"article",className:"conference-article",initialize:function(){},onRender:function(){i.lazyLoadImages(this.$el)}}),r=n.CollectionView.extend({className:"conference-articles",itemView:s,initialize:function(){this.collection.invoke("set",{channelId:this.options.channelId,sectionId:"conferences",conferenceId:this.options.conferenceId})}});return r}),define("hbs!app/templates/channels/conference/conferenceLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div id="conference-details-region"></div>\n<div id="conference-articles-region"></div>\n<div id="conference-tweets-region"></div>\n'});return n}),define("app/views/channels/conference/ConferenceLayout",["underscore","backbone.marionette","application","app/views/channels/conference/ConferenceDetailsItemView","app/views/channels/conference/ConferenceArticlesView","app/views/common/LoadingContentView","hbs!app/templates/channels/conference/conferenceLayout","app/models/Conference","app/collections/ArticleCollection"],function(e,t,n,i,a,s,r,o,l){var c=t.Layout.extend({className:"conference-channel",regions:{conferenceDetailsRegion:"#conference-details-region",conferenceArticlesRegion:"#conference-articles-region"},template:r,initialize:function(){this.conferenceDetailsRegion.show(new s),this.opts=this.options,this.channel=this.options.channel,this.model||(this.model=new Backbone.Model({})),this.model.set("id",this.channel.get("id")),this.conference=this.channel.getConference(this.options.conferenceId)},onRender:function(){var e=this;this.conference.articlesFetched.done(function(){var t=e.conference.get("articleIds"),n=new l(e.conference.articles.getArticlesById(t));e.conferenceDetailsRegion.show(new i({model:e.conference})),e.conferenceArticlesRegion.show(new a({collection:n,conferenceId:e.conference.get("id"),channelId:e.channel.get("id")}))})}});return c}),define("app/collections/AcquisitionsTableDataCollection",["backbone"],function(e){var t=e.Collection.extend({initialize:function(){this.url="/api/1.0/table/acquisitions"},parse:function(t){return this.columnNames=new e.Model({columnNames:t.columnNames[0]}),this.infoRowNames=new e.Model({infoRowNames:t.columnNames[1]}),t.meta&&t.meta.maxResults&&(this.maxResults=t.meta.maxResults),t.values}});return t}),define("hbs!app/templates/channels/corporate/tableDataView",["hbs","Handlebars","template/helpers/ifAreSame","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(){return"checked"}function r(){return"selected"}function o(e,t){var i,a="";return a+="\n                <thead>\n                <tr>\n                    ",i=n.each.call(e,e.columnNames,{hash:{},inverse:g.noop,fn:g.program(6,l,t),data:t}),(i||0===i)&&(a+=i),a+="\n                </tr>\n                </thead>\n            "}function l(e,t){var i,a,s,r="";return r+='\n                        <td class="col-'+m((i=t.index,typeof i===p?i.apply(e):i))+' col-head" data-col-index="'+m((i=t.index,typeof i===p?i.apply(e):i))+'"><a\n                                class="link-col-'+m((i=t.index,typeof i===p?i.apply(e):i))+' col-link">',s={hash:{},data:t},i=n.t,a=i?i.call(e,e,s):f.call(e,"t",e,s),(a||0===a)&&(r+=a),r+="</a></td>\n                    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var c,d,u,h="",p="function",m=this.escapeExpression,f=n.helperMissing,g=this;return h+='<div class="table-search">\n    <div class="toggle-tab" id="acquisition-type">\n        <input name="option" type="radio" class="hide" ',u={hash:{},inverse:g.noop,fn:g.program(1,s,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"e",u):f.call(t,"ifAreSame",t.acquisitionType,"e",u),(d||0===d)&&(h+=d),h+=' data-type="e" id="majority">\n        <label for="majority">',u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.majority",u):f.call(t,"t","Acquisition.type.majority",u)))+'</label>\n        <input name="option" type="radio" class="hide" ',u={hash:{},inverse:g.noop,fn:g.program(1,s,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"v",u):f.call(t,"ifAreSame",t.acquisitionType,"v",u),(d||0===d)&&(h+=d),h+=' data-type="v" id="minority">\n        <label for="minority">',u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.minority",u):f.call(t,"t","Acquisition.type.minority",u)))+'</label>\n        <input name="option" type="radio" class="hide" ',u={hash:{},inverse:g.noop,fn:g.program(1,s,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"k",u):f.call(t,"ifAreSame",t.acquisitionType,"k",u),(d||0===d)&&(h+=d),h+=' data-type="k" id="startup">\n        <label for="startup">',u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.startup",u):f.call(t,"t","Acquisition.type.startup",u)))+'</label>\n    </div>\n    <div class="acquisitions-type-select">\n        <form>\n            <select name="option" id="acquisition-option">\n                <option value="e" data-type="e" ',u={hash:{},inverse:g.noop,fn:g.program(3,r,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"e",u):f.call(t,"ifAreSame",t.acquisitionType,"e",u),(d||0===d)&&(h+=d),h+=">\n                    ",u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.majority",u):f.call(t,"t","Acquisition.type.majority",u)))+'\n                </option>\n                <option value="v" data-type="v" ',u={hash:{},inverse:g.noop,fn:g.program(3,r,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"v",u):f.call(t,"ifAreSame",t.acquisitionType,"v",u),(d||0===d)&&(h+=d),h+=">\n                    ",u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.minority",u):f.call(t,"t","Acquisition.type.minority",u)))+'\n                </option>\n                <option value="k" data-type="k" ',u={hash:{},inverse:g.noop,fn:g.program(3,r,a),data:a},c=n.ifAreSame,d=c?c.call(t,t.acquisitionType,"k",u):f.call(t,"ifAreSame",t.acquisitionType,"k",u),(d||0===d)&&(h+=d),h+=">\n                    ",u={hash:{},data:a},h+=m((c=n.t,c?c.call(t,"Acquisition.type.startup",u):f.call(t,"t","Acquisition.type.startup",u)))+'\n                </option>\n            </select>\n        </form>\n    </div>\n    <div class="search-bar-holder">\n        <a class="icon-close-small reset-search"></a>\n        <input type="text" class="search-box icon-input-search" value="',(d=n.activeSearch)?d=d.call(t,{hash:{},data:a}):(d=t.activeSearch,d=typeof d===p?d.apply(t):d),h+=m(d)+'"\n               placeholder="',u={hash:{},data:a},c=n.t,d=c?c.call(t,"Acquisitions.search",u):f.call(t,"t","Acquisitions.search",u),(d||0===d)&&(h+=d),h+='"/>\n\n        <div class="clear"/>\n    </div>\n    <div class="clear"></div>\n</div>\n<div class="table-data-scroll">\n    <div class="table-container">\n        <table class="data-table corporate-acquisition">\n            ',d=n["if"].call(t,t.columnNames,{hash:{},inverse:g.noop,fn:g.program(5,o,a),data:a}),(d||0===d)&&(h+=d),h+='\n        </table>\n        <div class="data-table-bottom-border"></div>\n    </div>\n</div>\n<div class="table-navi">\n    <a class="grey-button show-prev">',u={hash:{},data:a},c=n.t,d=c?c.call(t,"Show.next",u):f.call(t,"t","Show.next",u),(d||0===d)&&(h+=d),h+='</a>\n    <a class="grey-button show-next">',u={hash:{},data:a},c=n.t,d=c?c.call(t,"Show.prev",u):f.call(t,"t","Show.prev",u),(d||0===d)&&(h+=d),h+="</a>\n</div>\n\n"});return n}),define("hbs!app/templates/channels/corporate/mainItemView",["hbs","Handlebars","template/helpers/ifAreSame","template/helpers/tableValue"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,c="";return c+="\n    ",s={hash:{},inverse:m.noop,fn:m.program(2,r,t),data:t},i=n.ifAreSame,a=i?i.call(e,e,"loading",s):p.call(e,"ifAreSame",e,"loading",s),(a||0===a)&&(c+=a),c+="\n\n    ",s={hash:{},inverse:m.program(6,l,t),fn:m.program(4,o,t),data:t},i=n.ifAreSame,a=i?i.call(e,t.key,"duplicate-name",s):p.call(e,"ifAreSame",t.key,"duplicate-name",s),(a||0===a)&&(c+=a),c+="\n\n"}function r(){return'\n        <td>\n            <div class="spinner"></div>\n        </td>\n    '}function o(){return"\n\n    "}function l(e,t){var i,a,s,r="";return r+='\n        <td class="col-'+h((i=t.key,typeof i===u?i.apply(e):i))+'"><span>',s={hash:{},data:t},i=n.tableValue,a=i?i.call(e,e,s):p.call(e,"tableValue",e,s),(a||0===a)&&(r+=a),r+="</span></td>\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var c,d="",u="function",h=this.escapeExpression,p=n.helperMissing,m=this;return c=n.each.call(t,t,{hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a}),(c||0===c)&&(d+=c),d+="\n"});return n}),define("template/helpers/acquisitionDetailsValue",["Handlebars","language"],function(e,t){"use strict";var n=function(e){return"object"==typeof e&&e.hasOwnProperty("before")&&e.hasOwnProperty("after")?t["Acquisitions.shareBefore"]+" "+e.before+" / "+t["Acquisitions.shareAfter"]+" "+e.after:e};e.registerHelper("acquisitionDetailsValue",n)}),define("hbs!app/templates/channels/corporate/detailsItemView",["hbs","Handlebars","template/helpers/t","template/helpers/acquisitionDetailsValue"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s,r="";return r+='\n            <tr class="row-'+c((i=t.index,typeof i===l?i.apply(e):i))+'">\n                <td class="row-key"><span>',s={hash:{},data:t},i=n.t,a=i?i.call(e,e.key,s):d.call(e,"t",e.key,s),(a||0===a)&&(r+=a),r+='</span></td>\n                <td class="row-value"><span>',s={hash:{},data:t},i=n.acquisitionDetailsValue,a=i?i.call(e,e.value,s):d.call(e,"acquisitionDetailsValue",e.value,s),(a||0===a)&&(r+=a),r+="</span></td>\n            </tr>\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,a=a||{};var r,o="",l="function",c=this.escapeExpression,d=n.helperMissing,u=this;return o+='<td colspan="5">\n    <table class="details-table">\n        ',r=n.each.call(t,t.rows,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(r||0===r)&&(o+=r),o+="\n    </table>\n</td>"});return n}),define("app/views/channels/corporate/AcquisitionsTableDataView",["backbone.marionette","backbone","app/collections/AcquisitionsTableDataCollection","hbs!app/templates/channels/corporate/tableDataView","hbs!app/templates/channels/corporate/mainItemView","hbs!app/templates/channels/corporate/detailsItemView","hbs!app/templates/common/tabledata/emptyRow","language"],function(e,t,n,i,a,s,r,o){var l=10,c=e.ItemView.extend({template:s,tagName:"tr",className:function(){return"show-row-"+this.model.get("rows")[0].value}}),d=e.ItemView.extend({template:a,className:function(){return"show-row-"+this.model.get("0")},tagName:"tr",events:{click:"toggleLine"},toggleLine:function(){this.$el.parent("tbody").toggleClass("show-hidden")}}),u=e.ItemView.extend({tagName:"tr",template:r}),h=e.CompositeView.extend({template:i,itemView:d,emptyView:u,itemViewContainer:".data-table",className:"table-data-view no-navi",initialize:function(){this.acquisitionType="e",this.searchParam=null,this.items=new t.Model({count:0,currentPage:0}),this.collection=new n([new t.Model([o["Loading.content"]])],{id:this.options.id}),this.fetchAndBindData(),this.debouncedFilter=_.debounce(this.filterCollection,250).bind(this),this.listenTo(this.items,"change",this.toggleNavigation.bind(this)),this.render()},fetchAndBindData:function(){var e=this.items.get("currentPage"),t=new n([],{id:this.options.id});return t.deferred=t.fetch({data:$.param({page:e+1,acquisitionType:this.acquisitionType,searchParam:this.searchParam,maxResults:l})}),t.deferred.done(function(){this.resultsOnServer=t.maxResults,this.model=t.columnNames,this.infoRowNames=t.infoRowNames,this.separateDisplayModels(t),this.showRows(this.displayModelCollection.models);var e=this.displayModelCollection.models.length;this.items.set({count:e}),this.render()}.bind(this))},events:{"keyup .search-box":"debouncedFilter","click .show-next":"showNext","click .show-prev":"showPrev","click #acquisition-type input":"acquisitionTypeChange","change #acquisition-option":"acquisitionTypeChange","click .reset-search":"resetSearch"},resetSearch:function(){this.el.classList.remove("show-reset"),this.$el.find(".search-box").attr("value",""),this.searchParam=null,this.activeSearch=null,this.fetchAndBindData()},acquisitionTypeChange:function(e){var t=e.target.value;"on"===t&&(t=void 0);var n=$(e.currentTarget).data("type")||t;this.acquisitionType=n,this.items.set("currentPage",0),this.fetchAndBindData()},templateHelpers:function(){var e=this.activeSearch||"",t=this.acquisitionType;return{activeSearch:e,acquisitionType:t}},appendHtml:function(e,n,i){var a=this.getItemViewContainer(e);0==i&&(this.header||(this.header=this.$el.find(".data-table thead").detach()),a.find("tbody").remove());var s=$("<tbody></tbody>");if(s.append(n.el),this.hiddenModels){var r=this.hiddenModels.filter(function(e){return n.model.get("1")&&e.get("1")==n.model.get("1")});_.each(r,function(e){var n=_.map(this.infoRowNames.get("infoRowNames"),function(t,n){return{key:t,value:e.get(n)}}),i=new t.Model({rows:n}),a=new c({model:i}).render();s.append(a.el)}.bind(this))}a.append(s),i==this.collection.length-1&&a.prepend(this.header)},separateDisplayModels:function(e){this.displayModelCollection=new n(e.filter(function(e){return 0!==e.get("0")}),{id:this.options.id}),this.hiddenModels=new t.Collection(e.filter(function(e){return 0===e.get("0")})),e=null},toggleNavigation:function(){var e=this.items.get("currentPage");this.$el.removeClass("no-navi"),e*l>=this.resultsOnServer-l?this.$el.addClass("no-next"):this.$el.removeClass("no-next"),0>=e?this.$el.addClass("no-prev"):this.$el.removeClass("no-prev")},filterCollection:function(){this.el.classList.add("show-reset"),this.items.set("currentPage",0);var e=this.$el.find(".search-box").val().toLowerCase();this.activeSearch=e,e.length>=3?(this.searchParam=e,this.fetchAndBindData()):0==e.length&&(this.el.classList.remove("show-reset"),this.searchParam=null,this.fetchAndBindData())},showRows:function(e){this.items.set({count:e.length}),this.currentModels=e,""==this.collection.sortKey&&(this.collection.sortKey=this.selectedColumn),this.collection.reset(e)},showNext:function(){var e=this.items.get("currentPage");this.resultsOnServer>e*l&&(e++,this.items.set("currentPage",e),this.fetchAndBindData())},showPrev:function(){var e=this.items.get("currentPage");e>0&&(e--,this.items.set("currentPage",e),this.fetchAndBindData())}});return h}),define("hbs!app/templates/channels/type/acquisitionsChannel",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing,l="function",c=this.escapeExpression;return r+='<h1 class="text-margin-normal">',s={hash:{}},i=n.t,a=i?i.call(t,"Acquisitions",s):o.call(t,"t","Acquisitions",s),(a||0===a)&&(r+=a),r+='</h1>\n<div class="acquisitions-table-region ',(a=n.channelId)?a=a.call(t,{hash:{}}):(a=t.channelId,a=typeof a===l?a.apply(t):a),r+=c(a)+'"></div>'});return n}),define("app/views/channels/type/CorporateAcquisitionsChannel",["backbone","backbone.marionette","application","app/views/channels/corporate/AcquisitionsTableDataView","hbs!app/templates/channels/type/acquisitionsChannel"],function(e,t,n,i,a){var s=t.Layout.extend({regions:{acquisitionsTableRegion:".acquisitions-table-region"},template:a,onRender:function(){this.acquisitionsTableRegion.show(new i)},templateHelpers:function(){var e=this.options.channel.id;return{channelId:e}}});return s}),define("hbs!app/templates/channels/grids/picksListLayout",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i,a,s="";return s+='\n                <a href="',(t=n.openMagazinePath)?t=t.call(e,{hash:{}}):(t=e.openMagazinePath,t=typeof t===u?t.apply(e):t),s+=h(t),(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===u?t.apply(e):t),s+=h(t)+'"\n                   class="latest-news-link brand-text ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t.apply(e):t),s+=h(t)+'-color">',a={hash:{}},t=n.t,i=t?t.call(e,"Show.all",a):p.call(e,"t","Show.all",a),(i||0===i)&&(s+=i),s+="</a>\n            "}function r(e){var t,i,a,s="";return s+='\n                <a href="/channel/',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t.apply(e):t),s+=h(t)+"/",(t=n.latestNewsSectionId)?t=t.call(e,{hash:{}}):(t=e.latestNewsSectionId,t=typeof t===u?t.apply(e):t),s+=h(t)+'" class="latest-news-link brand-text ',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t.apply(e):t),s+=h(t)+'-color">',a={hash:{}},t=n.t,i=t?t.call(e,"Show.all",a):p.call(e,"t","Show.all",a),(i||0===i)&&(s+=i),s+="</a>\n            "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l,c,d="",u="function",h=this.escapeExpression,p=n.helperMissing,m=this;return d+='<div class="breaking-news-region"></div>\n<div class="column-articles">\n    <div class="latest-news-articles left-channel-column left-column-region"></div>\n    <div class="latest-news-region right-channel-column medium-article-template">\n        <div class="latest-issue-region"></div>\n        <h4 class="section-header latest-news-header ',(o=n.id)?o=o.call(t,{hash:{}}):(o=t.id,o=typeof o===u?o.apply(t):o),d+=h(o)+'">',c={hash:{}},o=n.t,l=o?o.call(t,"Picks",c):p.call(t,"t","Picks",c),(l||0===l)&&(d+=l),d+='</h4>\n\n        <div class="right-column-region"></div>\n\n        <div class="channel-article-list-more">\n            ',l=n["if"].call(t,t.openMagazinePath,{hash:{},inverse:m.program(3,r,a),fn:m.program(1,s,a)}),(l||0===l)&&(d+=l),d+='\n        </div>\n\n        <div class="box-ad-region"></div>\n    </div>\n</div>\n<div class="banner-ad-region"></div>\n'});return n}),define("hbs!app/templates/channels/grids/latestAndPicksArticles",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o="function",l=this.escapeExpression,c=n.helperMissing;return r+='<div class="keep-in-line">\n    <div class="fluid-left-column ">\n        <div class="fluid-left-column-content fluid-left-column"></div>\n    </div>\n\n    <div class="fixed-right-column">\n        <h4 class="section-header latest-news-header ',(i=n.id)?i=i.call(t,{hash:{}}):(i=t.id,i=typeof i===o?i.apply(t):i),r+=l(i)+'">',s={hash:{}},i=n.t,a=i?i.call(t,"Picks",s):c.call(t,"t","Picks",s),(a||0===a)&&(r+=a),r+='</h4>\n\n        <div class="fixed-right-column-content"></div>\n    </div>\n</div>\n<div class="shadow-divider"></div>\n'});return n}),define("app/views/channels/grids/LatestAndPicksLayout",["config","backbone","underscore","application","backbone.marionette","app/models/AdModel","app/views/common/AdItemView","hbs!app/templates/channels/grids/picksListLayout","app/views/channels/ChannelArticlesView","hbs!app/templates/channels/grids/latestIssueView","hbs!app/templates/channels/grids/latestAndPicksArticles"],function(e,t,n,i,a,s,r,o,l,c,d){var u=a.Layout.extend({className:function(){return"layout-block left-fluid-right-fixed"+(this.options.added?"":" initial-block")+(this.options.topArticles?" top-headlines":"")},template:d,regions:{leftColumn:".fluid-left-column-content",rightColumn:".fixed-right-column-content"},onRender:function(){var e=this.options.rightColumnArticleIds;if(this.options.leftColumnCollection.first().set("bigImage",!0),this.leftColumn.show(new l({model:this.model,collection:this.options.leftColumnCollection})),e&&e.length>0){var n={ids:e,propertySetId:"small",requestParameters:null},a=i.reqres.request("getArticles",n);a.deferred.done(function(){this.rightColumn.show(new l({model:this.model,collection:new t.Collection(a.models)}))}.bind(this))}}});return u}),define("app/views/channels/type/LatestAndPicksChannel",["backbone","backbone.marionette","moment","application","app/views/channels/BaseChannel","app/views/channels/grids/SubHeaderArticlesLayout","app/views/channels/grids/EvenHeightArticlesView","app/views/channels/grids/TopStoryArticlesLayout","app/views/channels/grids/FluidLeftFixedRightColumnLayout","app/views/channels/grids/LatestAndPicksLayout","app/views/channels/grids/MagazineIssueCarouselView","app/views/channels/SubHeaderView","app/collections/ArticleCollection","template/helpers/t"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p){var m=a.extend({className:"latest-and-picks-channel channel-type",initialize:function(){this.articlesCollection=this.options.articlesCollection;var t=this.articlesCollection.getGroupedArticlesByDay();this.collection=new e.Collection;var a=[],o=[],l=_.find(this.options.channel.get("sections"),function(e){return"poimintoja"===e.id});for(l||(l=_.find(this.options.channel.get("sections"),function(e){return e.id!=i.location.get("currentSectionId")
})),l&&(o=_.take(l.articleIds,4));t.length>0&&4>a.length;)a=a.concat(t.shift().articles);if(a.length>4){var d=_.take(a,4),m=_.rest(a,4);this.addBlock(c,8,{leftColumnCollection:new h(d),rightColumnArticleIds:o,topArticles:!0,classNameForLeftCol:"latest-column left-channel-column",classNameForRightCol:"top-stories-column right-channel-column"}),this.addBlock(r,10,{collection:new h(m)})}else this.addBlock(c,8,{leftColumnCollection:new h(a),rightColumnCollection:void 0,topArticles:!0,classNameForLeftCol:"latest-column left-channel-column",classNameForRightCol:"top-stories-column right-channel-column"});for(;t.length>0;){var f=t.shift(),g=f.day.split(" "),v=g[2]+"."+g[1]+"."+g[0],y=p("language.code"),b=n(v,["DD.MM.YYYY"]).locale(y).format("dddd");b=b+" "+v;var w=this.options.channel.attributes.id;this.addBlock(u,0,{model:new e.Model({subHeader:b,channelId:w})}),this.addBlock(s,9,{collection:new h(f.articles)})}},onRender:function(){this.el.classList.add("no-infinite-scroll")}});return m}),define("hbs!app/templates/channels/grids/oneArticle",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="one-article-layout">\n    <div class="one-article-content"></div>\n</div>\n<div class="shadow-divider"></div>\n'});return n}),define("app/views/channels/grids/OneArticleLayout",["backbone","underscore","backbone.marionette","app/views/channels/ChannelArticlesView","hbs!app/templates/channels/grids/oneArticle"],function(e,t,n,i,a){var s=n.Layout.extend({className:"one-article-container",template:a,regions:{content:".one-article-content"},onRender:function(){var t=this.collection,n=t.first().clone();n&&n.set("bigImage",!0),this.content.show(new i({model:this.model,collection:new e.Collection([n]),topStories:!0}))}});return s}),define("app/views/channels/type/LatestListChannel",["backbone","backbone.marionette","moment","app/views/channels/BaseChannel","app/views/channels/grids/SubHeaderArticlesLayout","app/views/channels/grids/EvenHeightArticlesView","app/views/channels/grids/TopStoryArticlesLayout","app/views/channels/grids/FluidLeftFixedRightColumnLayout","app/views/channels/grids/LatestAndPicksLayout","app/views/channels/grids/MagazineIssueCarouselView","app/views/channels/SubHeaderView","app/collections/ArticleCollection","app/views/channels/grids/OneArticleLayout","language","app/models/User"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m){var f=i.extend({className:"latest-and-list-channel channel-type",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.groupedArticles=this.articlesCollection.getGroupedArticlesByDay(),this.collection=new e.Collection,this.channelId=this.options.channel.attributes.id},onRender:function(){var t,i=[];for(t=1;7>=t;t++)i.push(this.getArticlesFromGroupedCollectionInThePast(t,"days"));var s=this.getArticlesFromGroupedCollectionInThePast(1,"month"),r=_.chain(this.groupedArticles).pluck("articles").flatten().value();if(i=_.filter(i,function(e){return e.length>0}),i.length>0){this.addBlock(h,1,{collection:new u([_.first(i[0])])}),this.addBlock(a,_.rest(i[0]).length,{collection:new u(_.rest(i[0]))});var o=n().subtract(1,"days").format("DD.MM.YYYY");for(t=1;i.length>t;t++){var l=n(i[t][0].attributes.published).format("DD.MM.YYYY");o===l&&(l=p.yesterday),this.addBlock(d,0,{model:new e.Model({subHeader:l,channelId:this.channelId})}),this.addBlock(a,i[t].length,{collection:new u(i[t])})}}s.length>0&&(this.addBlock(d,0,{model:new e.Model({subHeader:n(s[0].attributes.published).locale(m.get("language")).format("MMMM"),channelId:this.channelId})}),this.addBlock(a,s.length,{collection:new u(s)})),r.length>0&&(this.addBlock(d,0,{model:new e.Model({subHeader:p.older,channelId:this.channelId})}),this.addBlock(a,r.length,{collection:new u(r)})),this.el.classList.add("no-infinite-scroll")},getArticlesFromGroupedCollectionInThePast:function(e,t){var i=[],a=this.groupedArticles;if(0===a.length)return i;for(var s=n().subtract(e,t);a.length>0&&this.isGroupAfterDate(_.first(a),s);){var r=_.first(a);i=i.concat(r.articles),a=_.rest(a)}return this.groupedArticles=a,i},isGroupAfterDate:function(e,t){return n(e.day,"YYYY MM DD").isAfter(t)}});return f}),define("hbs!app/templates/channels/smallEditorView",["hbs","Handlebars","template/helpers/image"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return s={hash:{}},i=n.image,a=i?i.call(t,t.imageUrl,"section-front-thumbnail editor-thumbnail",s):o.call(t,"image",t.imageUrl,"section-front-thumbnail editor-thumbnail",s),(a||0===a)&&(r+=a),r+="\n"});return n}),define("app/views/channels/EditorThumbnailView",["backbone.marionette","moment","hbs!app/templates/channels/smallEditorView"],function(e,t,n){var i=e.Layout.extend({template:n,initialize:function(){},templateHelpers:function(){var e=this.model.get("editor");return{imageUrl:e.image}}});return i}),define("hbs!app/templates/channels/mediumEditorArticleView",["hbs","Handlebars","template/helpers/articleLink","template/helpers/chooseImageAt","template/helpers/picture","template/helpers/image","template/helpers/verboseTime"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a="";return a+="\n        ",i=n["if"].call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(2,r,t)}),(i||0===i)&&(a+=i),a+="\n        ",i=n.unless.call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(6,c,t)}),(i||0===i)&&(a+=i),a+="\n    "}function r(e,t){var i,a,s="";return s+="\n            ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:L.noop,fn:L.program(3,o,t)}),(a||0===a)&&(s+=a),s+="\n        "}function o(e,t){var i,a,s,r="";return r+="\n                ",s={hash:{},inverse:L.noop,fn:L.program(4,l,t)},i=n.chooseImageAt,a=i?i.call(e,e.images,0,s):T.call(e,"chooseImageAt",e.images,0,s),(a||0===a)&&(r+=a),r+="\n            "}function l(e){var t,n="";return n+='\n                    <div class="ch-image-container '+k((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===M?t.apply(e):t))+'">\n                        <img class="'+k((t=e.image,t=null==t||t===!1?t:t.orientation,typeof t===M?t.apply(e):t))+' ch-image cf"\n                             src="data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw=="\n                             data-image-src="'+k((t=e.image,t=null==t||t===!1?t:t.url,typeof t===M?t.apply(e):t))+'"/>\n                    </div>\n                '}function c(e,t){var i,a,s="";return s+="\n            ",a=n["if"].call(e,(i=e.images,i=null==i||i===!1?i:i[0],null==i||i===!1?i:i.url),{hash:{},inverse:L.noop,fn:L.program(7,d,t)}),(a||0===a)&&(s+=a),s+="\n        "}function d(e,t){var i,a,s,r="";return r+='\n                <div class="editor-news-image-container">\n                    ',s={hash:{},inverse:L.noop,fn:L.program(8,u,t)},i=n.picture,a=i?i.call(e,e.images,300,300,s):T.call(e,"picture",e.images,300,300,s),(a||0===a)&&(r+=a),r+="\n                </div>\n            "}function u(e){var t,i,a,s="";return s+="\n                        ",a={hash:{}},t=n.image,i=t?t.call(e,(t=e.image,null==t||t===!1?t:t.url),"small-editor-news-image",a):T.call(e,"image",(t=e.image,null==t||t===!1?t:t.url),"small-editor-news-image",a),(i||0===i)&&(s+=i),s+="\n                    "}function h(e){var t,i="";return i+='\n            <span class="kicker">',(t=n.kicker)?t=t.call(e,{hash:{}}):(t=e.kicker,t=typeof t===M?t.apply(e):t),i+=k(t)+"</span>\n            "}function p(e,t){var i,a,s,r="";return r+="\n        ",i=n["if"].call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(13,m,t)}),(i||0===i)&&(r+=i),r+="\n        ",i=n.unless.call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(15,f,t)}),(i||0===i)&&(r+=i),r+='\n        <p class="description">\n            <span class="editor-region"></span>\n            ',i=n["if"].call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(17,g,t)}),(i||0===i)&&(r+=i),r+="\n            ",i=n.unless.call(e,e.bigImage,{hash:{},inverse:L.noop,fn:L.program(19,v,t)}),(i||0===i)&&(r+=i),r+='\n\n        </p>\n        <p class="timestamp cf">\n            <span class="icon-brand-icon-',(i=n.brandId)?i=i.call(e,{hash:{}}):(i=e.brandId,i=typeof i===M?i.apply(e):i),r+=k(i)+" ",(i=n.brandId)?i=i.call(e,{hash:{}}):(i=e.brandId,i=typeof i===M?i.apply(e):i),r+=k(i)+'-icon ch-brand-icon"></span>',s={hash:{}},i=n.verboseTime,a=i?i.call(e,e.published,e.edited,s):T.call(e,"verboseTime",e.published,e.edited,s),(a||0===a)&&(r+=a),r+="\n        </p>\n    "}function m(e){var t,i="";return i+='\n            <h1 class="title">',(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===M?t.apply(e):t),(t||0===t)&&(i+=t),i+="</h1>\n        "}function f(e){var t,i="";return i+='\n            <h2 class="title"><span class="icon-editor-quote"></span>',(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===M?t.apply(e):t),(t||0===t)&&(i+=t),i+="</h2>\n        "}function g(e){var t,i="";return i+="\n                ",(t=n.ingress)?t=t.call(e,{hash:{}}):(t=e.ingress,t=typeof t===M?t.apply(e):t),(t||0===t)&&(i+=t),i+="\n            "}function v(e){var t,i="";return i+='\n                <span class="icon-quotemark quotemark"></span>',(t=n.ingress)?t=t.call(e,{hash:{}}):(t=e.ingress,t=typeof t===M?t.apply(e):t),(t||0===t)&&(i+=t),i+="\n            "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var y,_,b,w="",M="function",k=this.escapeExpression,L=this,T=n.helperMissing;return w+='<div class="editor-article-link-container">\n    ',b={hash:{},inverse:L.noop,fn:L.program(1,s,a)},y=n.articleLink,_=y?y.call(t,"no-border",b):T.call(t,"articleLink","no-border",b),(_||0===_)&&(w+=_),w+='\n\n        <div class="editor-kicker-container">\n\n            ',b={hash:{},inverse:L.noop,fn:L.program(10,h,a)},y=n.articleLink,_=y?y.call(t,"no-border",b):T.call(t,"articleLink","no-border",b),(_||0===_)&&(w+=_),w+='\n\n            <span class="editor-link no-border"></span>\n\n            <div class="clear"></div>\n        </div>\n\n    ',b={hash:{},inverse:L.noop,fn:L.program(12,p,a)},y=n.articleLink,_=y?y.call(t,"no-border",b):T.call(t,"articleLink","no-border",b),(_||0===_)&&(w+=_),w+="\n</div>\n"});return n}),define("app/views/channels/EditorArticleItemView",["backbone.marionette","application","app/utils/utilities","app/views/common/KickerView","app/views/channels/EditorThumbnailView","hbs!app/templates/channels/mediumEditorArticleView"],function(e,t,n,i,a,s){var r=e.Layout.extend({tagName:"article",regions:{kickerRegion:".kicker-region",editorRegion:".editor-region"},initialize:function(){this.template=s},templateHelpers:function(){return{dailyIssueId:this.model.get("dailyIssueId"),latestNewsSectionId:this.options.latestNewsSectionId}},className:function(){var e=this.model.get("bigImage");return e?"channel-article cf big-image"+this.options.amountClass:"channel-article cf"+this.options.amountClass},onRender:function(){n.lazyLoadImages(this.$el),this.model.get("editor")&&this.editorRegion.show(new a({model:this.model})),this.kickerRegion&&this.kickerRegion.show(new i({model:this.model,useSimpleKicker:!0}));var e=this.$el.find(".editor-link");if(e.size()>0){var t,s=this.model.get("editor");t=s?n.editorLink(this.model.get("brandId"),this.model.get("author"),s.slug):this.model.get("author"),e.html(t)}}});return r}),define("hbs!app/templates/channels/grids/editorArticlesView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <h4 class="section-header ',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===l?t.apply(e):t),i+=c(t)+'">',(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===l?t.apply(e):t),i+=c(t)+"</h4>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=this;return r=n["if"].call(t,t.title,{hash:{},inverse:d.noop,fn:d.program(1,s,a)}),(r||0===r)&&(o+=r),o+="\n"});return n}),define("app/views/channels/grids/EditorArticlesView",["backbone","backbone.marionette","template/helpers/t","app/views/channels/EditorArticleItemView","app/views/common/AdItemView","hbs!app/templates/channels/grids/editorArticlesView"],function(e,t,n,i,a,s){var r=t.CompositeView.extend({template:s,itemViewContainer:".editor-articles",initialize:function(){},templateHelpers:function(){return{brandId:this.options.channelId,title:this.options.displayInGrid?n("columns"):null}},itemViewOptions:function(){var e=6>this.collection.length?" not-full":"";return{amountClass:e,channelId:this.options.channelId}},className:"event-height-articles cf",itemView:i,appendHtml:function(e,t){e.$el.append(t.el),e.$el.append('<span class="ch-article-divider"></span>')},onRender:function(){this.options.topNews&&this.$el.attr("class","channel-articles cf")}});return r}),define("app/views/channels/grids/EditorEvenHeightArticlesView",["backbone","backbone.marionette","app/views/channels/grids/EditorArticlesView"],function(e,t,n){var i=n.extend({initialize:function(){this.options.editorNewsCollection&&this.options.editorNewsCollection.size()>0&&(this.collection=this.options.editorNewsCollection),this.options.appendDividers=!0},itemViewOptions:function(){var e=6>this.collection.length?"not-full":"";return{amountClass:e}},className:"even-height-articles cf"});return i}),define("hbs!app/templates/channels/grids/editorArticlesAndTwitterLayout",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="bottom-articles keep-in-line">\n    <div class="bottom-articles-left-region left-channel-column editor-articles-left"></div>\n    <div class="bottom-articles-right-region right-channel-column"></div>\n</div>\n'});return n}),define("hbs!app/templates/editor/editorTweetItemView",["hbs","Handlebars","template/helpers/image","template/helpers/shortVerboseTime"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i,a,s="";return s+='\n        <div class="profile-container">\n            ',a={hash:{}},t=n.image,i=t?t.call(e,e.imageUrl,"editor-tweet-thumbnail",a):d.call(e,"image",e.imageUrl,"editor-tweet-thumbnail",a),(i||0===i)&&(s+=i),s+='\n            <p class="profile-title">',(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===u?i.apply(e):i),s+=h(i)+'</p>\n            <span class="screen-name">',(i=n.screenName)?i=i.call(e,{hash:{}}):(i=e.screenName,i=typeof i===u?i.apply(e):i),s+=h(i)+"</span>\n        </div>\n    "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o,l,c="",d=n.helperMissing,u="function",h=this.escapeExpression,p=this;return c+='<div class="tweet-content">\n    ',r=n["if"].call(t,t.showImage,{hash:{},inverse:p.noop,fn:p.program(1,s,a)}),(r||0===r)&&(c+=r),c+='\n    <div class="tweet-text">\n        ',(r=n.tweet)?r=r.call(t,{hash:{}}):(r=t.tweet,r=typeof r===u?r.apply(t):r),(r||0===r)&&(c+=r),c+='\n    </div>\n    <span class="db-date tweet-date">\n        ',l={hash:{}},r=n.shortVerboseTime,o=r?r.call(t,t.published,l):d.call(t,"shortVerboseTime",t.published,l),(o||0===o)&&(c+=o),c+="\n    </span>\n</div>\n"});return n}),define("hbs!app/templates/editor/editorTweetsView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <h4 class="section-header editor-group-title ',(t=n.brandId)?t=t.call(e,{hash:{}}):(t=e.brandId,t=typeof t===l?t.apply(e):t),i+=c(t)+'">',(t=n.title)?t=t.call(e,{hash:{}}):(t=e.title,t=typeof t===l?t.apply(e):t),i+=c(t)+"</h4>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l="function",c=this.escapeExpression,d=this;return r=n["if"].call(t,t.title,{hash:{},inverse:d.noop,fn:d.program(1,s,a)}),(r||0===r)&&(o+=r),o+='\n<div class="editor-tweets ',(r=n.brandId)?r=r.call(t,{hash:{}}):(r=t.brandId,r=typeof r===l?r.apply(t):r),o+=c(r)+'"></div>\n<div class="show-more-tweets ',(r=n.brandId)?r=r.call(t,{hash:{}}):(r=t.brandId,r=typeof r===l?r.apply(t):r),o+=c(r)+' hidden">',(r=n.showMoreText)?r=r.call(t,{hash:{}}):(r=t.showMoreText,r=typeof r===l?r.apply(t):r),o+=c(r)+"</div>"});return n}),define("app/views/editor/EditorTweetsView",["underscore","backbone","backbone.marionette","app/utils/utilities","template/helpers/t","moment","hbs!app/templates/editor/editorTweetItemView","hbs!app/templates/editor/editorTweetsView"],function(e,t,n,i,a,s,r,o){var l=n.ItemView.extend({template:r,tagName:"tweet",className:"editor-tweet",initialize:function(){var e=this.parseTweet(this.model.get("text"));this.model.set("tweet",e)},onRender:function(){var e=this.model.attributes.index;e&&e>9&&this.$el.addClass("hidden"),this.model.get("showImage")&&i.lazyLoadImages(this.$el)},parseTweet:function(e){return e.replace(/[@|#]+[A-Za-z0-9-_]+/g,function(e){var t=e.replace(/@|#/,""),n="<a href='http://twitter.com/"+t+"'>"+e+"</a>";return n})},templateHelpers:function(){var e=this.model.get("created_at"),t=s(e,"YYYY-MM-DD'T'hh:mm:ss'Z'").valueOf();return{published:t,showImage:this.options.showImage||this.model.get("showImage"),imageUrl:this.model.get("profile_image_url"),profileLink:this.model.get("screen_name")?this.parseTweet("@"+this.model.get("screen_name")):"",screenName:this.model.get("screen_name")?"@"+this.model.get("screen_name"):"",title:this.model.get("username")}}}),c=n.CompositeView.extend({className:"editor-tweet",itemView:l,itemViewContainer:".editor-tweets",template:o,channelId:"",events:{"click .show-more-tweets":"showMore"},initialize:function(t){this.channelId=t.channelId,e.each(this.collection.models,function(e,t){e.set("index",t)}),this.options.showImage&&this.collection.invoke("set",{showImage:!0})},onRender:function(){var e=this.collection.models.length;e>9&&this.$el.find(".show-more-tweets").removeClass("hidden")},templateHelpers:function(){return{title:this.options.disableTitle&&1==this.options.disableTitle?null:a("editor.tweets"),showMoreText:a("Show.all"),brandId:this.channelId}},showMore:function(){$(".editor-tweet").each(function(e,t){e>9&&$(t).toggleClass("hidden"),this.$el.find(".show-more-tweets").addClass("hidden")}.bind(this))}});return c}),define("app/views/channels/grids/EditorArticlesAndTwitterLayout",["backbone","backbone.marionette","template/helpers/t","hbs!app/templates/channels/grids/editorArticlesAndTwitterLayout","app/views/channels/grids/EditorArticlesView","app/views/editor/EditorTweetsView"],function(e,t,n,i,a,s){var r=a.extend({initialize:function(){},itemViewOptions:function(){var e=4>this.collection.models.length?" not-full":"";return{amountClass:e}},className:"editor-bottom-articles pair-grid even-height-articles cf"}),o=t.Layout.extend({initialize:function(){this.options.editorNewsCollection&&this.options.editorNewsCollection.size()>0&&(this.collection=this.options.editorNewsCollection),this.options.appendDividers=!0,this.collection.invoke("set",{channelId:this.options.channelId}),this.twitterFeed=this.options.twitterFeed},template:i,className:function(){return"layout-block left-fluid-right-fixed editor-no-border"+(this.options.added?"":" initial-block")},regions:{leftColumn:".bottom-articles-left-region",rightColumn:".bottom-articles-right-region"},onRender:function(){this.options.added&&_.delay(function(){this.$el.addClass("added-block")}.bind(this),1),this.leftColumn.show(new r({model:this.model,collection:this.collection,channelId:this.options.channelId,showTitle:!0})),this.rightColumn.show(new s({collection:this.twitterFeed,channelId:this.options.channelId,showImage:!0})),this.$el.find(".editor-bottom-articles").prepend("<h4 class='section-header "+this.options.channelId+"'>"+n("columns")+"</h4>"),this.$el.find(".editor-bottom-articles").find(".channel-article").each(function(e,t){(0==e||2==e)&&$(t).find("a").css("border-right","1px solid #ddd")})}});return o}),define("app/views/channels/type/FrontPageChannel",["backbone","backbone.marionette","application","app/collections/ArticleCollection","app/views/channels/BaseChannel","app/views/channels/grids/SubHeaderArticlesLayout","app/views/channels/grids/TopStoryArticlesLayout","app/views/channels/grids/EditorEvenHeightArticlesView","app/views/channels/grids/EditorArticlesAndTwitterLayout","app/views/channels/SubHeaderView","template/helpers/t"],function(e,t,n,i,a,s,r,o,l,c,d){var u=6,h=4,p=!1,m=a.extend({className:"top-stories-channel channel-type editor-news-channel",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.collection=new e.Collection,this.latestArticlesCollection=this.options.latestNewsCollection,this.latestArticlesCollection.size()>10&&(this.latestArticlesCollection.models=_.filter(this.latestArticlesCollection.models,function(e){return 10>_.indexOf(this.latestArticlesCollection.models,e)}.bind(this))),this.addBlock(r,4,{breakingNewsCollection:this.options.breakingNewsCollection,latestNewsCollection:this.latestArticlesCollection,ViewAllButtonPosition:"bottom"}),this.displayEditorBlock()},displayEditorBlock:function(){this.twitterFeed=null;var t=this.options.channel.getEditorArticleIds(u),i=null,a=n.reqres.request("getArticles",{ids:t,propertySetId:"withEditor",requestParameters:i});a.deferred.done(function(){0===a.length&&n.commands.execute("error");var t=a.first();t.unset("bigImage"),t.get("editor")&&t.get("editor").tweets&&p&&(this.twitterFeed=new e.Collection(t.get("editor").tweets),a.models=_.reject(a.models,function(e){return _.indexOf(a.models,e)>h-1})),this.articlesCollection.add(a.models),this.twitterFeed?this.addBlock(l,a.models.length,{editorNewsCollection:a,displayInGrid:!0,channelId:this.options.channel.id,twitterFeed:this.twitterFeed}):(this.addBlock(c,0,{model:new e.Model({subHeader:d("columns"),channelId:this.options.channel.id})}),this.addBlock(o,a.models.length,{editorNewsCollection:a,displayInGrid:!1,channelId:this.options.channel.id}))}.bind(this))},onRender:function(){this.el.classList.add("no-infinite-scroll")}});return m}),define("app/views/channels/grids/EditorTopArticlesLayout",["backbone","underscore","application","backbone.marionette","hbs!app/templates/channels/grids/fluidLeftFixedRightColumnArticles","app/views/channels/grids/EditorArticlesView"],function(e,t,n,i,a,s){var r=i.Layout.extend({className:function(){return"layout-block left-fluid-right-fixed"+(this.options.added?"":" initial-block")},template:a,regions:{leftColumn:".fluid-left-column",rightColumn:".fixed-right-column"},onRender:function(){this.options.added&&t.delay(function(){this.$el.addClass("added-block")}.bind(this),1);var e=this.collection.getRemainingArticlesInHalves(0,!0),n=this.collection.getRemainingArticlesInHalves(0,!1);e.first().set("bigImage",!0),this.leftColumn.show(new s({model:this.model,collection:e,topNews:!0})),this.rightColumn.show(new s({model:this.model,collection:n,topNews:!0}))}});return r}),define("app/views/channels/type/EditorNewsChannel",["backbone","backbone.marionette","application","app/collections/ArticleCollection","app/views/channels/BaseChannel","app/views/channels/grids/EditorTopArticlesLayout","app/views/channels/grids/EditorEvenHeightArticlesView"],function(e,t,n,i,a,s,r){var o=a.extend({className:"editor-news-channel",initialize:function(){this.articlesCollection=this.options.articlesCollection,this.collection=new e.Collection;var t=this.articlesCollection.size()-2;this.articlesCollection.invoke("set",{channelId:n.location.get("currentChannelId"),sectionId:n.location.get("currentSectionId")}),this.addBlock(s,2,{displayInGrid:!1}),this.addBlock(r,t,{displayInGrid:!1})},onRender:function(){this.el.classList.add("no-infinite-scroll")}});return o}),define("app/utils/channelLayoutResolver",["app/views/channels/type/BasicChannel","app/views/channels/type/ArticleChannel","app/views/channels/type/TopStoriesChannel","app/views/channels/type/MagazineChannel","app/views/channels/type/ExternalMagazineChannel","app/views/channels/type/LatestNewsChannel","app/views/channels/type/DailyIssueChannel","app/views/channels/type/ForumChannel","app/views/channels/type/ConferencesChannel","app/views/channels/conference/ConferenceLayout","app/views/channels/type/CorporateAcquisitionsChannel","app/views/channels/type/LatestAndPicksChannel","app/views/channels/type/LatestListChannel","app/views/channels/type/FrontPageChannel","app/views/channels/type/EditorNewsChannel"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m){var f=function(f,g){var v;return v=g?g&&g.templateId?g.templateId:f.getCurrentTemplate():f.getCurrentTemplate(),"frontpage_template"===v?n:"frontpage_template_b"===v?t:"front_template_c"===v?p:"topic_landing_template"===v?u:"latest_list_template"===v?h:"topic_template"===v?h:"magazine_template_2"===v?a:"magazine_template_1"===v?i:f.getCurrentSection().latestNews?s:"daily_template"===v?r:"conferences_template"===v?l:"conference_template"===v?c:"forum_template"===v?o:"acquisitions_template"===v?d:"blogs_template"===v?m:e};return f}),define("open-magazine/views/channels/ChannelCarouselView",["application","backbone","underscore","backbone.marionette","open-magazine/views/channels/ChannelPageLayout","collectioncarouselview","app/collections/channelCollection","app/utils/channelLayoutResolver"],function(e,t,n,i,a,s,r,o){var l=s.extend({itemView:a,className:"channel-carousel-view",initialize:function(){s.prototype.initialize.apply(this,arguments),e.commands.addHandler("showChannelImages",this.showChannelImages.bind(this)),e.commands.addHandler("changeSection",this.changeSection.bind(this)),e.commands.addHandler("changeChannel",this.changeChannel.bind(this))},onDomRefresh:function(){s.prototype.onDomRefresh.apply(this,arguments);var e=r.get(this.options.channelId);this.gotoModel(e),this.currentItemView().trigger("selected")},changeSection:function(t){var n=t.sectionId,i=this.currentItemView();e.location.set("currentSectionId",n),i.options.channelArticlesView=this.getLayout(i.model);var a=!0;i.reRenderView(a)},changeChannel:function(e){var t=r.get(e);t&&(t.getArticles.resolve(),this.gotoModel(t))},onUnlock:function(){e.commands.execute("closeMenusIfNarrow")},getLayout:function(e){return o(e,null)},itemViewOptions:function(e){var t=this.getLayout(e),n={channelArticlesView:t};return this.options.scrollToArticleId&&(n.scrollToArticleId=this.options.scrollToArticleId),n},buildItemView:function(e,t,i){this.setNextAndPrevInfo(e);var a=n.extend({model:e},i);return new t(a)},setNextAndPrevInfo:function(e){var t=this.collection.indexOf(e),n=this.collection.length;if(n>1){var i=(t+1)%n,a=(t-1%n+n)%n,s=this.collection.at(i);s.get("useAbbreviation")&&s.set("textName",s.get("title"));var r=this.collection.at(a);r.get("useAbbreviation")&&r.set("textName",r.get("title")),e.set("next",s.attributes),e.set("prev",r.attributes)}},showChannelImages:function(e){if(e&&e.id){var t=this.collection.get(e.id);t&&t.set("showImages",(new Date).getTime())}},onShow:function(){window.scrollTo(0,0),this.el.scrollTop=0},onClose:function(){e.commands.removeHandler("changeChannel")}});return l}),define("app/models/ArticleFound",["backbone","underscore","app/models/Book","application"],function(e,t,n,i){var a=e.Model.extend({initialize:function(e,t){this.url=i.config.apiRoot+"/articles/found/"+t.articleId}});return a}),define("hbs!app/templates/common/staticView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(){return'\n                <div class="icon-summa-error"></div>\n            '}function r(e){var t,i="";return i+="\n            ",(t=n.brandErrorMessage)?t=t.call(e,{hash:{}}):(t=e.brandErrorMessage,t=typeof t===m?t.apply(e):t),(t||0===t)&&(i+=t),i+="\n        "}function o(e,t){var i,a,s,r="";return r+="\n            <h1>",(i=n.title)?i=i.call(e,{hash:{}}):(i=e.title,i=typeof i===m?i.apply(e):i),r+=f(i)+"</h1>\n\n            <p>\n                ",s={hash:{}},i=n.t,a=i?i.call(e,"In.error.situations.you.can.contact.our.customer.service",s):g.call(e,"t","In.error.situations.you.can.contact.our.customer.service",s),(a||0===a)&&(r+=a),r+=":<br/>\n                ",s={hash:{}},i=n.t,a=i?i.call(e,"E-mail",s):g.call(e,"t","E-mail",s),(a||0===a)&&(r+=a),r+=": <a ",a=n["if"].call(e,e.openMagazine,{hash:{},inverse:v.noop,fn:v.program(6,l,t)}),(a||0===a)&&(r+=a),r+='\n                                                          href="mailto:',s={hash:{}},i=n.t,a=i?i.call(e,"asiakaspalvelu@talentum.fi",s):g.call(e,"t","asiakaspalvelu@talentum.fi",s),(a||0===a)&&(r+=a),r+='">',s={hash:{}},i=n.t,a=i?i.call(e,"asiakaspalvelu@talentum.fi",s):g.call(e,"t","asiakaspalvelu@talentum.fi",s),(a||0===a)&&(r+=a),r+="</a><br/>\n                ",s={hash:{}},i=n.t,a=i?i.call(e,"Phone",s):g.call(e,"t","Phone",s),(a||0===a)&&(r+=a),r+=": ",s={hash:{}},i=n.t,a=i?i.call(e,"support.phone.number",s):g.call(e,"t","support.phone.number",s),(a||0===a)&&(r+=a),r+="*<br/>\n                ",s={hash:{}},i=n.t,a=i?i.call(e,"Open.weekdays",s):g.call(e,"t","Open.weekdays",s),(a||0===a)&&(r+=a),r+=" ",s={hash:{}},i=n.t,a=i?i.call(e,"support.open",s):g.call(e,"t","support.open",s),(a||0===a)&&(r+=a),r+='<br/>\n            </p>\n\n            <p class="call-pricing">\n\n                ',s={hash:{}},i=n.t,a=i?i.call(e,"Customer.service.calls.are.charged.per.minute",s):g.call(e,"t","Customer.service.calls.are.charged.per.minute",s),(a||0===a)&&(r+=a),r+="\n            </p>\n        "}function l(e){var t,i="";return i+=' class="',(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===m?t.apply(e):t),i+=f(t)+'-color"'}function c(e){var t,i="";return i+=" ",(t=n.channelId)?t=t.call(e,{hash:{}}):(t=e.channelId,t=typeof t===m?t.apply(e):t),i+=f(t)+"-color "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var d,u,h,p="",m="function",f=this.escapeExpression,g=n.helperMissing,v=this;return p+='<div id="brand-header-region"></div>\n<div class="section-header-error"></div>\n<a name="top"></a>\n<div class="container">\n    <div class="error-help">\n        <div>\n            ',d=n.unless.call(t,t.openMagazine,{hash:{},inverse:v.noop,fn:v.program(1,s,a)}),(d||0===d)&&(p+=d),p+="\n        </div>\n\n        ",d=n["if"].call(t,t.brandErrorMessage,{hash:{},inverse:v.program(5,o,a),fn:v.program(3,r,a)}),(d||0===d)&&(p+=d),p+='\n\n        <a href="javascript:history.back()" class=" ',d=n["if"].call(t,t.openMagazine,{hash:{},inverse:v.noop,fn:v.program(8,c,a)}),(d||0===d)&&(p+=d),p+=' back-link ">\n            &laquo; ',h={hash:{}},d=n.t,u=d?d.call(t,"Return.to.previous.page",h):g.call(t,"t","Return.to.previous.page",h),(u||0===u)&&(p+=u),p+="\n        </a>\n    </div>\n</div>"});return n}),define("app/views/common/StaticView",["backbone.marionette","hbs!app/templates/common/staticView","app/views/common/BrandHeaderView","config","language"],function(e,t,n,i,a){var s=e.Layout.extend({template:{type:"handlebars",template:t},id:"error-page",regions:{brandHeaderRegion:"#brand-header-region"},initialize:function(){if(this.model.set("channelId","summa"),i.openMagazine){this.model.set("channelId",i.channelId),this.model.set("openMagazine",i.openMagazine);var e=a["Error.page.message."+i.channelId];e&&this.model.set("brandErrorMessage",e)}},events:{"click .backToTop":function(e){e.stopPropagation(),e.preventDefault(),window.scrollTo(0,0)}},onRender:function(){this.brandHeaderRegion.show(new n({model:this.model}))},onShow:function(){document.title=this.model.get("title")+"  "+i.siteDisplayName},lock:function(){},unlock:function(){}});return s}),define("hbs!app/templates/channels/channelNavigationView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e,t){var i,a,s="";return s+='\n    <a href="/channel/'+v((i=e.prev,i=null==i||i===!1?i:i.channelId,typeof i===g?i.apply(e):i))+"/"+v((i=e.prev,i=null==i||i===!1?i:i.mainSectionId,typeof i===g?i.apply(e):i))+'" class="prev">\n        <span class="icon-arrow-left navi-arrow"></span>\n        <span class="channel-icon">\n            ',a=n["if"].call(e,(i=e.prev,null==i||i===!1?i:i.textName),{hash:{},inverse:y.program(7,c,t),fn:y.program(2,r,t)}),(a||0===a)&&(s+=a),s+='\n        </span>\n    </a>\n    <a href="/channel/'+v((i=e.next,i=null==i||i===!1?i:i.channelId,typeof i===g?i.apply(e):i))+"/"+v((i=e.next,i=null==i||i===!1?i:i.mainSectionId,typeof i===g?i.apply(e):i))+'" class="next">\n        <span class="channel-icon">\n            ',a=n["if"].call(e,(i=e.next,null==i||i===!1?i:i.textName),{hash:{},inverse:y.program(14,p,t),fn:y.program(9,d,t)}),(a||0===a)&&(s+=a),s+='\n        </span>\n        <span class="icon-arrow-right navi-arrow"></span>\n    </a>\n'
}function r(e,t){var i,a,s="";return s+="\n                ",a=n["if"].call(e,(i=e.prev,null==i||i===!1?i:i.channelTitle),{hash:{},inverse:y.program(5,l,t),fn:y.program(3,o,t)}),(a||0===a)&&(s+=a),s+="\n            "}function o(e){var t,n="";return n+="\n                    "+v((t=e.prev,t=null==t||t===!1?t:t.channelTitle,typeof t===g?t.apply(e):t))+"\n                "}function l(e){var t,n="";return n+="\n                    "+v((t=e.prev,t=null==t||t===!1?t:t.title,typeof t===g?t.apply(e):t))+"\n                "}function c(e){var t,n="";return n+='\n                <span class="icon-brand-icon-'+v((t=e.prev,t=null==t||t===!1?t:t.channelId,typeof t===g?t.apply(e):t))+" ch-nav-brand-icon "+v((t=e.prev,t=null==t||t===!1?t:t.channelId,typeof t===g?t.apply(e):t))+'-icon spr"></span>\n            '}function d(e,t){var i,a,s="";return s+="\n                ",a=n["if"].call(e,(i=e.next,null==i||i===!1?i:i.channelTitle),{hash:{},inverse:y.program(12,h,t),fn:y.program(10,u,t)}),(a||0===a)&&(s+=a),s+="\n            "}function u(e){var t,n="";return n+="\n                    "+v((t=e.next,t=null==t||t===!1?t:t.channelTitle,typeof t===g?t.apply(e):t))+"\n                "}function h(e){var t,n="";return n+="\n                    "+v((t=e.next,t=null==t||t===!1?t:t.title,typeof t===g?t.apply(e):t))+"\n                "}function p(e){var t,n="";return n+='\n                <span class="icon-brand-icon-'+v((t=e.next,t=null==t||t===!1?t:t.channelId,typeof t===g?t.apply(e):t))+" ch-nav-brand-icon "+v((t=e.next,t=null==t||t===!1?t:t.channelId,typeof t===g?t.apply(e):t))+'-icon spr"></span>\n            '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var m,f="",g="function",v=this.escapeExpression,y=this;return m=n["if"].call(t,t.showLinks,{hash:{},inverse:y.noop,fn:y.program(1,s,a)}),(m||0===m)&&(f+=m),f+='\n<div id="channel-sponsor-region"></div>\n'});return n}),define("hbs!app/templates/books/bookNavigationView",["hbs","Handlebars","template/helpers/join"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,n="";return n+="\n            "+m((t=e.prev,t=null==t||t===!1?t:t.title,typeof t===p?t.apply(e):t))+"\n        "}function r(e){var t,n="";return n+="\n            "+m((t=e.prev,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))+"\n        "}function o(e){var t,n="";return n+="\n            "+m((t=e.next,t=null==t||t===!1?t:t.title,typeof t===p?t.apply(e):t))+"\n        "}function l(e){var t,n="";return n+="\n            "+m((t=e.next,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))+"\n        "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var c,d,u,h="",p="function",m=this.escapeExpression,f=n.helperMissing,g=this;return h+='<a href="/books/',u={hash:{}},h+=m((c=n.join,c?c.call(t,"/",(c=t.prev,null==c||c===!1?c:c.categoryId),(c=t.prev,null==c||c===!1?c:c.id),u):f.call(t,"join","/",(c=t.prev,null==c||c===!1?c:c.categoryId),(c=t.prev,null==c||c===!1?c:c.id),u)))+'" class="prev">\n    <span class="navi-arrow icon-arrow-left"></span>\n    <span class="channel-icon">\n        ',d=n["if"].call(t,(c=t.prev,null==c||c===!1?c:c.title),{hash:{},inverse:g.program(3,r,a),fn:g.program(1,s,a)}),(d||0===d)&&(h+=d),h+='\n    </span>\n</a>\n<a href="/books/',u={hash:{}},h+=m((c=n.join,c?c.call(t,"/",(c=t.next,null==c||c===!1?c:c.categoryId),(c=t.next,null==c||c===!1?c:c.id),u):f.call(t,"join","/",(c=t.next,null==c||c===!1?c:c.categoryId),(c=t.next,null==c||c===!1?c:c.id),u)))+'" class="next">\n    <span class="channel-icon">\n        ',d=n["if"].call(t,(c=t.next,null==c||c===!1?c:c.title),{hash:{},inverse:g.program(7,l,a),fn:g.program(5,o,a)}),(d||0===d)&&(h+=d),h+='\n    </span>\n    <span class="navi-arrow icon-arrow-right"></span>\n</a>\n'});return n}),define("hbs!app/templates/common/channelSponsorView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i="";return i+='\n    <span class="icon-brand-icon-',(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t.apply(e):t),i+=h(t)+" ",(t=n.id)?t=t.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t.apply(e):t),i+=h(t)+'-icon ch-brand-icon"></span>\n'}function r(e){var t,i="";return i+='\n    <div class="channel-icon cross-channel">',(t=n.abbreviation)?t=t.call(e,{hash:{}}):(t=e.abbreviation,t=typeof t===u?t.apply(e):t),(t||0===t)&&(i+=t),i+="</div>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var o,l,c,d="",u="function",h=this.escapeExpression,p=this,m=n.helperMissing;return d+='<a class="icon-close-large close-sponsor"></a>\n',o=n["if"].call(t,t.brandChannel,{hash:{},inverse:p.program(3,r,a),fn:p.program(1,s,a)}),(o||0===o)&&(d+=o),d+="\n",c={hash:{}},o=n.t,l=o?o.call(t,"Channel.offered.to.you.by",c):m.call(t,"t","Channel.offered.to.you.by",c),(l||0===l)&&(d+=l),d+=': <span class="sponsor-logo icon-sponsor-logo-bw-',(l=n.sponsorId)?l=l.call(t,{hash:{}}):(l=t.sponsorId,l=typeof l===u?l.apply(t):l),d+=h(l)+'"> <span\n        class="sponsored-by">',(l=n.sponsoredBy)?l=l.call(t,{hash:{}}):(l=t.sponsoredBy,l=typeof l===u?l.apply(t):l),d+=h(l)+'</span><span class="sponsor-short-name">',(l=n.sponsorShortName)?l=l.call(t,{hash:{}}):(l=t.sponsorShortName,l=typeof l===u?l.apply(t):l),d+=h(l)+"</span>"});return n}),define("app/views/common/ChannelSponsorView",["backbone.marionette","hbs!app/templates/common/channelSponsorView"],function(e,t){var n=e.ItemView.extend({className:"channel-sponsor-view",template:t,events:{"click .close-sponsor":"closeView"},closeView:function(){console.log(this.model.id),localStorage.setItem("sponsor-seen-"+this.model.id,"1"),this.close()}});return n}),define("app/views/channels/ChannelNavigationView",["backbone.marionette","application","hbs!app/templates/channels/channelNavigationView","hbs!app/templates/books/bookNavigationView","app/views/common/ChannelSponsorView","environment","app/models/User"],function(e,t,n,i,a,s,r){var o=e.Layout.extend({initialize:function(){this.template="bookNavigation"===this.options.type?i:n},regions:{sponsorRegion:"#channel-sponsor-region"},events:{"click .next":"next","click .prev":"prev"},next:function(){return t.commands.execute("next",{instant:!0}),!1},prev:function(){return t.commands.execute("prev",{instant:!0}),!1},onRender:function(){var e="sponsor-seen-"+this.model.id,t=localStorage.getItem(e);this.model.get("sponsoredBy")&&!t&&this.sponsorRegion.show(new a({model:this.model}))},className:"channel-to-channel-navigation",templateHelpers:function(){var e=r.getFavorites(),t=_.contains(e,this.model.id),n=!this.options.inArticle&&s.desktop&&e.length&&t;return{showLinks:n}}});return o}),define("hbs!app/templates/common/imageViewerView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(e){var t,i,a,s="";return s+=" ",a={hash:{}},t=n.t,i=t?t.call(e,"PICTURE",a):l.call(e,"t","PICTURE",a),(i||0===i)&&(s+=i),s+=": ",(i=n.credit)?i=i.call(e,{hash:{}}):(i=e.credit,i=typeof i===c?i.apply(e):i),s+=d(i)}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var r,o="",l=n.helperMissing,c="function",d=this.escapeExpression,u=this;return o+='<div class="image-container-table">\n    <div class="image-container-cell">\n        <div class="image-viewer-image"\n             style="width: 100%; height: 100%; max-width: ',(r=n.width)?r=r.call(t,{hash:{}}):(r=t.width,r=typeof r===c?r.apply(t):r),o+=d(r)+"px; max-height: ",(r=n.height)?r=r.call(t,{hash:{}}):(r=t.height,r=typeof r===c?r.apply(t):r),o+=d(r)+"px; background-image: url('/",(r=n.url)?r=r.call(t,{hash:{}}):(r=t.url,r=typeof r===c?r.apply(t):r),o+=d(r)+'\');">\n        </div>\n    </div>\n</div>\n<div class="icon-caption-close close"></div>\n<a href="',(r=n.originalUrl)?r=r.call(t,{hash:{}}):(r=t.originalUrl,r=typeof r===c?r.apply(t):r),o+=d(r)+'" class="full-image-button icon-full-screen external-link" target="_blank"></a>\n<div class="caption-container">\n    <div class="caption">\n        ',(r=n.caption)?r=r.call(t,{hash:{}}):(r=t.caption,r=typeof r===c?r.apply(t):r),o+=d(r),r=n["if"].call(t,t.credit,{hash:{},inverse:u.noop,fn:u.program(1,s,a)}),(r||0===r)&&(o+=r),o+="\n    </div>\n</div>\n\n"});return n}),define("app/views/common/ImageViewerView",["backbone.marionette","hbs!app/templates/common/imageViewerView","application"],function(e,t,n){var i=e.ItemView.extend({template:t,className:"image-viewer-view",events:{"click .image-container-table":"closeViewer","click .close":"closeViewer","click .caption":"toggleCaption"},initialize:function(){this.boundResize=this.resize.bind(this)},openViewer:function(e){this.model=e,this.render();var t=this.$el.find(".image-container-table")[0];t.style.width=window.innerWidth,t.style.height=window.innerHeight,this.el.style.display="block",$(window).on("resize",this.boundResize),this.shouldShowMoreCaptionToggle()},shouldShowMoreCaptionToggle:function(){var e=this.el.querySelector(".caption"),t=this.el.querySelector(".caption-toggle");t&&(this.textOverflows(e)?t.classList.remove("hide"):t.classList.add("hide"))},textOverflows:function(e){return e?e.offsetWidth<e.scrollWidth:void 0},closeViewer:function(e){this.el.style.display="none",e.preventDefault(),$(window).off("resize",this.boundResize)},toggleControls:function(e){this.el.classList.toggle("controls-off"),e.preventDefault()},toggleCaption:function(e){n.commands.execute("toggleImageCarouselCaptions"),e.preventDefault()},resize:function(){var e=document.querySelector(".image-container-table");e.style.width=window.innerWidth,e.style.height=window.innerHeight,this.shouldShowMoreCaptionToggle()}});return i}),define("hbs!app/templates/common/imageCarouselView",["hbs","Handlebars"],function(e,t){var n=t.template(function(e,t,n){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,'<div class="carousel-close"><a class="close icon-imageviewer-close"></a></div>\n<div id="image-carousel-region"></div>'});return n}),define("hbs!app/templates/common/imageCarouselItemView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n,i,a){function s(){return":"}function r(e){var t,i,a,s="";return s+=" ",a={hash:{}},t=n.t,i=t?t.call(e,"PICTURE",a):m.call(e,"t","PICTURE",a),(i||0===i)&&(s+=i),s+=": ",(i=n.credit)?i=i.call(e,{hash:{}}):(i=e.credit,i=typeof i===f?i.apply(e):i),s+=g(i)}function o(e,t){var i,a="";return a+="\n            ",i=n["if"].call(e,e.disableNavi,{hash:{},inverse:v.program(8,c,t),fn:v.program(6,l,t)}),(i||0===i)&&(a+=i),a+="\n        "}function l(){return'\n                <a class="prev disable icon-arrow-left-disabled"></a><a class="next disable icon-arrow-right-disabled"></a>\n            '}function c(){return'\n                <a class="prev icon-arrow-left"></a><a class="next icon-arrow-right"></a>\n            '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var d,u,h,p="",m=n.helperMissing,f="function",g=this.escapeExpression,v=this;return p+='<div class="image-box">\n    <img class="carousel-image-viewer" src="',(d=n.url)?d=d.call(t,{hash:{}}):(d=t.url,d=typeof d===f?d.apply(t):d),p+=g(d)+'"/>\n</div>\n\n<div class="caption-container">\n    <div class="caption">\n        <span class="counter">',h={hash:{}},d=n.t,u=d?d.call(t,"Image",h):m.call(t,"t","Image",h),(u||0===u)&&(p+=u),p+='&nbsp;<span\n                class="current-image">',(u=n.initialImage)?u=u.call(t,{hash:{}}):(u=t.initialImage,u=typeof u===f?u.apply(t):u),p+=g(u)+"</span>&nbsp;/&nbsp;",(u=n.imageCount)?u=u.call(t,{hash:{}}):(u=t.imageCount,u=typeof u===f?u.apply(t):u),p+=g(u),u=n["if"].call(t,t.caption,{hash:{},inverse:v.noop,fn:v.program(1,s,a)}),(u||0===u)&&(p+=u),p+="</span>\n        ",(u=n.caption)?u=u.call(t,{hash:{}}):(u=t.caption,u=typeof u===f?u.apply(t):u),p+=g(u),u=n["if"].call(t,t.credit,{hash:{},inverse:v.noop,fn:v.program(3,r,a)}),(u||0===u)&&(p+=u),p+='\n    </div>\n    <div class="next-prev carousel-controls">\n        ',u=n.unless.call(t,t.hideControls,{hash:{},inverse:v.noop,fn:v.program(5,o,a)}),(u||0===u)&&(p+=u),p+='\n        <a href="',(u=n.url)?u=u.call(t,{hash:{}}):(u=t.url,u=typeof u===f?u.apply(t):u),p+=g(u)+'" class="full-image-button icon-full-screen external-link" target="_blank"></a>\n    </div>\n</div>\n\n'});return n}),define("app/views/common/ImageCarouselView",["underscore","backbone.marionette","environment","application","hbs!app/templates/common/imageCarouselView","hbs!app/templates/common/imageCarouselItemView","app/views/common/ImageViewerView","collectioncarouselview"],function(e,t,n,i,a,s,r,o){var l=r.extend({className:"carousel-image",template:s,templateHelpers:function(){var e=1===this.options.imageCount;return{imageCount:this.options.imageCount,initialImage:this.options.initialImage,hideControls:e}}}),c=o.extend({className:"image-carousel",itemView:l,events:{"click .next":"nextSlide","click .prev":"prevSlide"},nextSlide:function(){i.commands.execute("next")},prevSlide:function(){i.commands.execute("prev")},itemViewOptions:function(){return{imageCount:this.collection.length,initialImage:this.collection.indexOfInitialModel}},onPageChange:function(){o.prototype.onPageChange.apply(this,arguments),i.commands.execute("setImageCarouselPage",this.getCurrentPage()+1)}}),d=t.Layout.extend({template:a,className:"image-viewer-view",initialize:function(){i.commands.addHandler("setImageCarouselPage",this.setPage.bind(this)),i.commands.addHandler("next",this.nextSlide.bind(this)),i.commands.addHandler("prev",this.prevSlide.bind(this));var e,t=this.collection.initialImageUrl,n=this.collection.find(function(e){return e.get("url").trim()===t.trim()});n&&(e=this.collection.indexOf(n),e++),this.collection.indexOfInitialModel=e||1,this.imageCarousel=new c({collection:this.collection,initialModel:n}),history.pushState({foo:"carousel"},"carousel","#carousel"),window.addEventListener("hashchange",this.pressedBack.bind(this),!1)},regions:{carouselRegion:"#image-carousel-region"},events:{"click .close":"closeViewer"},pressedBack:function(){this.backPressed=!0,this.closeViewer()},closeViewer:function(){this.close()},nextSlide:function(){this.imageCarousel.gotoNext(!0)},prevSlide:function(){this.imageCarousel.gotoPrev(!0)},templateHelpers:function(){var e=this.collection.length;return{disableNavi:1>=e}},setPage:function(e){this.$el.find(".current-image").text(e)},onRender:function(){this.carouselRegion.show(this.imageCarousel)},openViewer:function(){this.el.style.display="block"},onClose:function(){i.commands.execute("setArticleKeyboardNavigation"),window.removeEventListener("hashchange",this.closeViewer,!1),this.backPressed||history.back()}});return d}),define("hbs!app/templates/common/addToHomeScreenView",["hbs","Handlebars","template/helpers/t"],function(e,t){var n=t.template(function(e,t,n){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers;var i,a,s,r="",o=n.helperMissing;return r+='<div class="bubble">\n    <div class="icon-close-homescreen"></div>\n    <div class="icon-homescreen-summa-icon"></div>\n    ',s={hash:{}},i=n.t,a=i?i.call(t,"Add.summa.to.home.screen",s):o.call(t,"t","Add.summa.to.home.screen",s),(a||0===a)&&(r+=a),r+="\n</div>"});return n}),define("app/views/common/AddToHomeScreenView",["backbone.marionette","hbs!app/templates/common/addToHomeScreenView"],function(e,t){return e.ItemView.extend({template:t,id:"add-to-homescreen",events:{click:function(e){this.close(),e.preventDefault()}}})}),define("open-magazine/views/simpleBaseLayout",["underscore","config","backbone","backbone.marionette","hbs!open-magazine/templates/simpleBaseLayout","app/views/articles/ArticlePageLayout","app/views/channels/type/BasicChannel","open-magazine/views/channels/ChannelCarouselView","app/collections/channelCollection","app/models/ArticleFound","app/views/common/StaticView","app/views/channels/ChannelNavigationView","app/views/common/ImageViewerView","app/views/common/ImageCarouselView","app/views/common/AddToHomeScreenView","app/device","environment","application","app/utils/NoClickDelay","template/helpers/t","app/views/common/ButtonTooltipView","app/views/common/OverlayMessage"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m,f,g,v,y,_,b,w){var M=i.Layout.extend({template:a,id:"base-layout",contentView:null,menus:[],customModel:{"tooltip-login-open":!1},menuRegions:[],feedbackEvent:$.extend({},n.Events),regions:{articleMenuRegion:"#article-menu-region",mainRegion:"#content-region",leftMenuRegion:"#left-menu-region",channelNavigationRegion:"#channel-navigation-region",imageViewerRegion:"#image-viewer-region",feedbackRegion:"#feedback-email-region",tooltipRegion:".tooltip-region"},events:{"click .peek-menu-button":"toggleLeftMenu"},initialize:function(){var t=["article","channel","error"];t.forEach(function(e){v.commands.addHandler(e,this.openPage.bind(this,e))}.bind(this)),this.articlesView=new s,v.commands.addHandler("showBookNavigation",function(e){g.desktop&&this.channelNavigationRegion.show(new u({type:"bookNavigation",model:e}))}.bind(this)),v.commands.addHandler("openImageViewer",this.openImageViewer.bind(this)),v.commands.addHandler("openImageCarousel",this.openImageCarousel.bind(this)),v.commands.addHandler("showArticleMenu",this.showArticleMenu.bind(this)),v.commands.addHandler("closeArticleMenu",this.closeArticleMenu.bind(this)),v.commands.addHandler("openLoginToolTip",this.openLoginToolTip.bind(this)),v.commands.addHandler("closeModal",function(){this.imageViewerRegion.close()}.bind(this)),v.commands.addHandler("showOverlayMessage",this.showOverlayMessage.bind(this)),v.reqres.addHandler("isSideMenuOpen",function(e){return this.isSideMenuOpen(e)}.bind(this)),e.bindAll(this)},openLoginToolTip:function(e){void 0==e&&void 0!=t.openMagazine&&1==t.openMagazine?this.imageViewerRegion.show(new w({model:new n.Model({title:_("Do.you.want.to.read.this.magazine"),paragraph:_("Register.to.the.service.it.is.free.and.you.do.not.commit.to.anything"),buttonType:"tryOneMonth"})})):document.location.href="http://summa.talentum.fi/welcome/select-product"},showArticleMenu:function(e){this.articleMenuRegion.show(e),e.triggerMethod("selected")},closeArticleMenu:function(){this.articleMenuRegion.close()},openPage:function(e,t){this[e].apply(this,[t])},channel:function(){var e=l.get(t.channelId);if(void 0!==e){var n=[t.channelId];this.contentView=new o({collection:l.getChannels(n),channelId:t.channelId,desktop:g.desktop,initialModel:e}),this.mainRegion.show(this.contentView)}else v.commands.execute("error")},article:function(e){var t=l.get(e.channelId);if(void 0!==t)this.articlesView.openArticle(e),this.contentView=this.articlesView,this.mainRegion.currentView!==this.articlesView&&this.mainRegion.show(this.contentView);else{var n=new c({},{articleId:e.articleId});n.deferred=n.fetch(),n.deferred.done(function(e){e.found?v.commands.execute("error","Content.not.allowed"):v.commands.execute("error")}),n.deferred.fail(function(){v.commands.execute("error")})}},error:function(e){var t="Content.not.found";e&&(t=e),this.contentView=new d({model:new n.Model({title:_(t),error:!0})}),this.mainRegion.show(this.contentView)},openImageViewer:function(e){this.imageViewerRegion.show(new h),this.imageViewerRegion.currentView.openViewer(e)},openImageCarousel:function(e){this.imageViewerRegion.show(new p({collection:e})),this.imageViewerRegion.currentView.openViewer()},showAddToHomeScreen:function(){window.localStorage.getItem("guidance-dashboard")&&!window.localStorage.getItem("add-to-homescreen")&&f.iOS&&!f.standalone&&(this.imageViewerRegion.show(new m),window.localStorage.setItem("add-to-homescreen",!0))},showOverlayMessage:function(e){this.imageViewerRegion.show(e)}});return new M}),define("app/repository/LocalDatabase",["backbone","jquery","underscore"],function(e,t,n){var i=e.Collection.extend({initialize:function(e){this.storageKey=e.storageKey},getObjects:function(){return JSON.parse(localStorage.getItem(this.storageKey))},updateObjects:function(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(t){if("QuotaExceededError"!==t.name||22!==t.code)throw t;e=this.clearSpace(e)}},clearSpace:function(e){return e=n.filter(e,function(e){return 1!==e.propertySetOrdering})},jsonSize:function(e){return 2*JSON.stringify(e).length}});return i}),define("app/repository/ObjectRepository",["application","backbone","jquery","underscore","app/repository/LocalDatabase"],function(e,t,n,i,a){var s=t.Collection.extend({invalidObjects:[],initialize:function(){i.bindAll(this),this.useLocalDatabase&&(this.localDatabase=new a({storageKey:this.storageKey}))},getObjects:function(t){var a=t.ids,s=t.propertySetId,r=t.requestParameters;this.useLocalDatabase&&this.add(this.localDatabase.getObjects(),{merge:!0});var o=this.filterPropertySetGreaterOrEqual(s).pluck("id"),l=i.difference(a,o,this.invalidObjects),c=new this.collectionType;c.deferred=new n.Deferred;var d=this;if(l.length>0){var u=new this.fetcherType(null,{ids:l,properties:this.propertySets[s].properties,requestParameters:r,useCdn:"articles"===this.storageKey&&"small"===s});u.fetch().done(function(){var e=i.map(u.models,function(e){return e.set("propertySetOrdering",this.propertySets[s].ordering)}.bind(this)),t=i.difference(u.ids,i.pluck(e,"id"));d.invalidObjects=i.union(d.invalidObjects,t),d.add(e,{merge:!0}),c.reset(d.filterByIds(a).models),this.useLocalDatabase&&this.localDatabase.updateObjects(d.toJSON()),c.deferred.resolve()}.bind(this)).fail(function(t){switch(t.status){case 500:e.commands.execute("error");break;case 401:document.location.reload();break;default:}})}else c.reset(d.filterByIds(a).models),c.deferred.resolve();return t.sortBy&&c.deferred.done(function(){var e=c.sortBy(function(e){return e.get(t.sortBy)});c.models=e}),c},filterByIds:function(e){var n=i.map(e,function(e){return this.get(e)},this).filter(function(e){return void 0!==e});return new t.Collection(n)},filterPropertySetGreaterOrEqual:function(e){return new t.Collection(this.filter(function(t){return t.get("propertySetOrdering")<=this.propertySets[e].ordering}.bind(this)))}});return s}),define("app/repository/Fetcher",["underscore","backbone","config"],function(e,t,n){var i=t.Collection.extend({initialize:function(e,t){this.ids=t.ids,this.properties=t.properties,this.requestParameters=t.requestParameters,this.useCdn=t.useCdn},url:function(){var t=this.apiUrl+this.ids+(this.properties.length>0?"?include="+this.properties.join(","):"");if(this.useCdn&&(t=n.cdnRoot+t),this.requestParameters){var i=this.requestParameters,a=this.properties.length>0?"&":"?";t+=a;var s=e.map(e.keys(i),function(e){return e+"="+i[e]});s.join("&"),t+=s}return t},parse:function(e){return e.items}});return i}),define("open-magazine/repository/articleRepository",["app/repository/ObjectRepository","app/repository/Fetcher","app/models/Article","app/collections/ArticleCollection","application"],function(e,t,n,i,a){var s={full:{properties:[],ordering:1},small:{properties:["id","title","kicker","premium","published","edited","ingress","images","locked","brandId","pageNumber","coverStory","link","media"],ordering:10}},r=e.extend({model:n,collectionType:i,fetcherType:t.extend({model:n,apiUrl:a.config.apiRoot+"/openMagazineArticles/"}),propertySets:s,storageKey:"articles",useLocalDatabase:!1}),o=new r;return a.reqres.addHandler("getArticles",o.getObjects),o}),define("app/analytics/summaClickHandler",["application"],function(e){return function(t){var n,i=t.currentTarget.getAttribute("data-target-channel")||null,a=t.currentTarget.getAttribute("data-track"),s=t.currentTarget.getAttribute("data-source");switch(e.location.get("currentPageId")){case"channel":n="channel "+e.location.get("currentChannelId");break;case"article":n="article "+e.location.get("currentChannelId");break;default:n=e.location.get("currentPageId")}var r={category:n,event:a,label:i,source:s};return r}}),define("app/analytics/providers/googleAnalyticsProvider",[],function(){var e={id:"google_analytics",initialize:function(e){(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(),window._gaq=window._gaq||[],window._gaq.push(["_setAccount",e.trackingId])},pageView:function(){window._gaq.push(["_trackPageview"])},event:function(e){window._gaq.push(["_trackEvent",e.category,e.action,e.label])},link:function(e){e.label?window._gaq.push(["_trackEvent",e.category,e.event,e.label]):window._gaq.push(["_trackEvent",e.category,e.event])}};return e}),window.springq=window.springq||[],this.spring||(this.spring=function(){function e(){return"https"==document.location.href.slice(0,5)?"https://ssl-":"http://"}function t(e,t){if(!t){if(!e)return d;t=e,e={r:document.referrer}}d=[e,t];var n=t[w]?t[w]:e[w];return n||(n=t[b]?t[b]:e[b]?e[b]:f),M[n]||(M[n]=[]),M[n].push([e,t]),k=1,d}function n(e,n){k||t({});var i,s,l,c,d;for(s in M)if(M.hasOwnProperty(s))for(l=M[s];l.length>0;){for(c=",",d=[];l.length>0&&(c+=r(o(l.shift(),d),d),!(c.length>v));)l.length>0&&(c+="+");i=a(e,c+";",s,n)}return M={},i}function i(){var e=navigator.userAgent;return/(iPod|iPad|iPhone|Mac OS).*Safari/.test(e)&&!/[Cc]hrome/.test(e)}function a(t,n,a,r,o,l){if(l=e()+(a?a:f)+"."+g,o=l+"/j0="+n,u=o+"?lt="+(new Date).getTime().toString(36)+"&x="+screen.width+"x"+screen.height+"x"+screen.colorDepth,!this.spring.nua&&L&&i()&&(r=3),r&&1!=r){if(2==r)(new Image).src=u;else if(3==r){var c=e()+"i."+g+"/index.html#"+_(u),d="spfr";h&&document.body.removeChild(h),h=document.createElement("iframe"),h.id=d,h.name=d;var p=h.style;p.position="absolute",p.left=p.top="-999px",h.src=c,document.body.appendChild(h)}}else document.write('<img src="'+u+'" width="1" height="1">');return t&&s(l),y&&alert(u),o}function s(e,t,n,i){p?p.src=e+"/survey.js":(t=document,i="script",p=t.createElement(i),p.type="text/java"+i,p.src=e+"/survey.js",n=t.getElementsByTagName(i)[0],n.parentNode.insertBefore(p,n))}function r(e,t){for(var n=0;t.length>n;n+=1)if(t[n]==e)return"~"+n;return t.push(e),e}function o(e,t){var n,i,a,s,l;switch(t||(t=[]),typeof e){case"string":return _(e);case"number":return isFinite(e)?e+"":"null";case"boolean":case"null":return e+"";case"object":if(!e)return"null";if(n=[],"number"==typeof e.length&&!e.propertyIsEnumerable("length")){for(s=e.length,i=0;s>i;i+=1)n.push(r(o(e[i],t),t)||"null");return","+n.join("+")+";"}for(a in e)"string"==typeof a&&a!=b&&a!=w&&(l=o(e[a],t),l&&n.push(r(o(a,t)+"="+l,t)));return","+n.join("+")+";"}return""}function l(e,i,a){return t(e,i),n(!this.ns,a)}function c(){for(;springq.length>0;){var e=springq.shift();e[1]?t(e[0],e[1]):t(e,!1)}n(!this.ns,2),setTimeout("spring.p()",50)}var d,h,p,m="undefined",f="test",g="spring-tns.net",v=typeof spring_ms!=m?spring_ms:2048,y=typeof spring_debug!=m?spring_debug:null,_=encodeURIComponent,b="site",w="s",M={},k=null,L=!0;return{a:t,add:t,c:l,commit:l,p:c}}(),this.springq&&spring.p()),define("tns.spring",function(e){return function(){var t;return t||e.spring}}(this)),define("app/analytics/providers/tnsProvider",["tns.spring"],function(){var e={id:"tns_spring",initialize:function(e){_.bindAll(this),this._channelParams=e.channelParams,this._channelParams._default={site:"summa",channel:"summa"},window.springq=window.springq||[]},pageView:function(e){var t,n;null===e.channelId||void 0===this._channelParams[e.channelId]?(t=this._channelParams._default.site,n=this._channelParams._default.channel):(t=this._channelParams[e.channelId].site,n=this._channelParams[e.channelId].channel),window.springq.push({s:t,cp:n,url:document.location.href})},event:function(){},link:function(){}};return e});var n,o=this,w="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ea=0,fa=Date.now||function(){return+new Date};x(ga,Error),ga.prototype.name="CustomError";var ja=/^[a-zA-Z0-9\-_.!~*'()]*$/,ma=/&/g,na=/</g,oa=/>/g,pa=/\"/g,qa=/[&<>\"]/;x(ta,ga),ta.prototype.name="AssertionError";var A=Array.prototype,xa=A.indexOf?function(e,t,n){return va(e||v(e)),wa(e.length),A.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,v(e))return v(t)&&1==t.length?e.indexOf(t,n):-1;for(n=n;e.length>n;n++)if(n in e&&e[n]===t)return n;return-1},ya=A.forEach?function(e,t,n){va(e||v(e)),wa(e.length),A.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,a=v(e)?e.split(""):e,s=0;i>s;s++)s in a&&t.call(n,a[s],s,e)},Fa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],B,Ha,Ia,Ja,Ka,La,Ma;Ka=Ja=Ia=Ha=B=!1;var C;if(C=Na()){var Oa=o.navigator;B=0==C.indexOf("Opera"),Ha=!B&&-1!=C.indexOf("MSIE"),Ja=(Ia=!B&&-1!=C.indexOf("WebKit"))&&-1!=C.indexOf("Mobile"),Ka=!B&&!Ia&&"Gecko"==Oa.product}var Pa=B,D=Ha,Qa=Ka,Ra=Ia,Sa=Ja,Ta,Ua=o.navigator;Ta=Ua&&Ua.platform||"",La=-1!=Ta.indexOf("Mac"),Ma=-1!=Ta.indexOf("Win");var Va=-1!=Ta.indexOf("Linux"),Wa,Xa="",E;if(Pa&&o.opera){var Ya=o.opera.version;Xa="function"==typeof Ya?Ya():Ya}else if(Qa?E=/rv\:([^\);]+)(\)|;)/:D?E=/MSIE\s+([^\);]+)(\)|;)/:Ra&&(E=/WebKit\/(\S+)/),E){var Za=E.exec(Na());Xa=Za?Za[1]:""}Wa=Xa;var ab={},cb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"},gb,hb,ib,jb,kb,lb,mb;mb=lb=kb=jb=ib=hb=gb=!1;var F=Na();F&&(-1!=F.indexOf("Firefox")?gb=!0:-1!=F.indexOf("Camino")?hb=!0:-1!=F.indexOf("iPhone")||-1!=F.indexOf("iPod")?ib=!0:-1!=F.indexOf("iPad")?jb=!0:-1!=F.indexOf("Android")?kb=!0:-1!=F.indexOf("Chrome")?lb=!0:-1!=F.indexOf("Safari")&&(mb=!0));var nb=gb,ob=hb,pb=ib,qb=jb,rb=kb,sb=lb,tb=mb,ub,vb;(function(){function e(e){return e=e.match(/[\d]+/g),e.length=3,e.join(".")}var t=!1,n="";if(navigator.plugins&&navigator.plugins.length){var i=navigator.plugins["Shockwave Flash"];i&&(t=!0,i.description&&(n=e(i.description))),navigator.plugins["Shockwave Flash 2.0"]&&(t=!0,n="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length)(t=(i=navigator.mimeTypes["application/x-shockwave-flash"])&&i.enabledPlugin)&&(n=e(i.enabledPlugin.description));else try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=!0,n=e(i.GetVariable("$version"))}catch(a){try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=!0,n="6.0.21"}catch(s){try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),t=!0,n=e(i.GetVariable("$version"))}catch(r){}}}ub=t,vb=n})();var wb;(function(){var e="";if(D){var t=function(e){try{return new ActiveXObject(e),!0}catch(t){return!1}};t("AcroPDF.PDF.1")?e="7":t("PDF.PdfCtrl.6")&&(e="6")}else navigator.mimeTypes&&navigator.mimeTypes.length>0&&(t=navigator.mimeTypes["application/pdf"])&&t.enabledPlugin&&(t=t.enabledPlugin.description)&&-1!=t.indexOf("Adobe")&&(e=-1!=t.indexOf("Version")?t.split("Version")[1]:"7");wb=!!e,Ma&&ra(e,"6")})();var xb,yb={aa:"afar",ab:"",ace:"Aceh",ach:"Acoli",ada:"Adangme",ady:"",ae:"Avestan",af:"Afrikaans",afa:"Afro-Asiatic Language",afh:"Afrihili",ain:"Ainu",ak:"Akan",akk:"Akkadian",ale:"Aleut",alg:"Algonquian Language",alt:"Southern Altai",am:"",an:"Aragonese",ang:"Old English",anp:"Angika",apa:"Apache Language",ar:"",arc:"Aramaic",arn:"Araucanian",arp:"Arapaho",art:"Artificial Language",arw:"Arawak",as:"",ast:"asturiano",ath:"Athapascan Language",aus:"Australian Language",av:"",awa:"Awadhi",ay:"aimara",az:"azrbaycanca",az_Arab:" ",az_Cyrl:"",az_Latn:"Azerice",ba:"",bad:"Banda",bai:"Bamileke Language",bal:"",ban:"Balin",bas:"Basa",bat:"Baltic Language",be:"",bej:"Beja",bem:"Bemba",ber:"Berber",bg:"",bh:"",bho:"Bhojpuri",bi:"bichelamar ; bislama",bik:"Bikol",bin:"Bini",bla:"Siksika",bm:"bambara",bn:"",bnt:"Bantu",bo:"",br:"breton",bra:"Braj",bs:"Bosanski",btk:"Batak",bua:"Buriat",bug:"Bugis",byn:"",ca:"catal",cad:"Caddo",cai:"Central American Indian Language",car:"Carib",cau:"Caucasian Language",cch:"Atsam",ce:"",ceb:"Cebuano",cel:"Celtic Language",ch:"Chamorro",chb:"Chibcha",chg:"Chagatai",chk:"Chuukese",chm:" ()",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",cmc:"Chamic Language",co:"corse",cop:"",cop_Arab:"",cpe:"English-based Creole or Pidgin",cpf:"French-based Creole or Pidgin",cpp:"Portuguese-based Creole or Pidgin",cr:"Cree",crh:"Crimean Turkish",crp:"Creole or Pidgin",cs:"etina",csb:"Kashubian",cu:"Church Slavic",cus:"Cushitic Language",cv:"",cy:"Cymraeg",da:"dansk",dak:"Dakota",dar:"",day:"Dayak",de:"Deutsch",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",doi:"",dra:"Dravidian Language",dsb:"Lower Sorbian",dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyu:"dioula",dz:"",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"",elx:"Elamite",en:"English",enm:"Middle English",eo:"esperanto",es:"espaol",et:"eesti",eu:"euskara",ewo:"Ewondo",fa:"",fan:"fang",fat:"Fanti",ff:"Fulah",fi:"suomi",fil:"Filipino",fiu:"Finno-Ugrian Language",fj:"Fijian",fo:"froyskt",fon:"Fon",fr:"franais",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"friulano",fy:"Fries",ga:"Gaeilge",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gem:"Germanic Language",gez:"",gil:"Gilbertese",gl:"galego",gmh:"Middle High German",gn:"guaran",goh:"Old High German",gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:" ",gsw:"Schweizerdeutsch",gu:"",gv:"Gaelg",gwi:"Gwichin",ha:"",ha_Arab:"",ha_Latn:"haoussa",hai:"Haida",haw:"lelo Hawaii",he:"",hi:"",hil:"Hiligaynon",him:"Himachali",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"hrvatski",hsb:"Upper Sorbian",ht:"hatien",hu:"magyar",hup:"Hupa",hy:"",hz:"Herero",ia:"interlingvao",iba:"Iban",id:"Bahasa Indonesia",ie:"Interlingue",ig:"Igbo",ii:"",ijo:"Ijo",ik:"Inupiaq",ilo:"Iloko",inc:"Indic Language",ine:"Indo-European Language",inh:"",io:"Ido",ira:"Iranian Language",iro:"Iroquoian Language",is:"slenska",it:"italiano",iu:"Inuktitut",ja:"",jbo:"Lojban",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Jawa",ka:"",kaa:"",kab:"kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kar:"Karen",kaw:"Kawi",kbd:"",kcg:"Tyap",kfo:"koro",kg:"Kongo",kha:"Khasi",khi:"Khoisan Language",kho:"Khotanese",ki:"Kikuyu",kj:"Kuanyama",kk:"",kl:"kalaallisut",km:"",kmb:"quimbundo",kn:"",ko:"",kok:"",kos:"Kosraean",kpe:"kpell",kr:"Kanuri",krc:"-",krl:"",kro:"Kru",kru:"Kurukh",ks:"",ku:"Krte",ku_Arab:"",ku_Latn:"Krte",kum:"",kut:"Kutenai",kv:"Komi",kw:"kernewek",ky:"Krgzca",ky_Arab:"",ky_Cyrl:"",la:"latino",lad:"",lah:"",lam:"Lamba",lb:"luxembourgeois",lez:"",lg:"Ganda",li:"Limburgs",ln:"lingala",lo:"Lao",lol:"mongo",loz:"Lozi",lt:"lietuvi",lu:"luba-katanga",lua:"luba-lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Lushai",lv:"latvieu",mad:"Madura",mag:"Magahi",mai:"Maithili",mak:"Makassar",man:"Mandingo",map:"Austronesian",mas:"Masai",mdf:"",mdr:"Mandar",men:"Mende",mg:"malgache",mga:"Middle Irish",mh:"Marshallese",mi:"Maori",mic:"Micmac",min:"Minangkabau",mis:"Miscellaneous Language",mk:"",mkh:"Mon-Khmer Language",ml:"",mn:"",mn_Cyrl:"",mn_Mong:"",mnc:"Manchu",mni:"Manipuri",mno:"Manobo Language",mo:"Moldavian",moh:"Mohawk",mos:"mor ; mossi",mr:"",ms:"Bahasa Melayu",mt:"Malti",mul:"Multiple Languages",mun:"Munda Language",mus:"Creek",mwl:"Mirandese",mwr:"Marwari",my:"Burmese",myn:"Mayan Language",myv:"",na:"Nauru",nah:"Nahuatl",nai:"North American Indian Language",nap:"napoletano",nb:"norsk bokml",nd:"North Ndebele",nds:"Low German",ne:"","new":"Newari",ng:"Ndonga",nia:"Nias",nic:"Niger-Kordofanian Language",niu:"Niuean",nl:"Nederlands",nn:"nynorsk",no:"Norwegian",nog:"",non:"Old Norse",nqo:"NKo",nr:"South Ndebele",nso:"Northern Sotho",nub:"Nubian Language",nv:"Navajo",nwc:"Classical Newari",ny:"nianja; chicheua; cheua",nym:"Nyamwezi",nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"occitan",oj:"Ojibwa",om:"Oromoo",or:"",os:"",osa:"Osage",ota:"Ottoman Turkish",oto:"Otomian Language",pa:"",pa_Arab:"",pa_Guru:"",paa:"Papuan Language",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",peo:"Old Persian",phi:"Philippine Language",phn:"Phoenician",pi:"",pl:"polski",pon:"Pohnpeian",pra:"Prakrit Language",pro:"Old Provenal",ps:"",pt:"portugus",qu:"quechua",raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Rtoromanisch",rn:"roundi",ro:"romn",roa:"Romance Language",rom:"Romany",ru:"",rup:"Aromanian",rw:"rwanda",sa:" ",sad:"Sandawe",sah:"",sai:"South American Indian Language",sal:"Salishan Language",sam:" ",sas:"Sasak",sat:"Santali",sc:"Sardinian",scn:"siciliano",sco:"Scots",sd:"",sd_Arab:"",sd_Deva:"",se:"nordsamiska",sel:"",sem:"Semitic Language",sg:"sangho",sga:"Old Irish",sgn:"Sign Language",sh:"Serbo-Croatian",shn:"Shan",si:"Sinhalese",sid:"Sidamo",sio:"Siouan Language",sit:"Sino-Tibetan Language",sk:"slovensk",sl:"slovenina",sla:"Slavic Language",sm:"Samoan",sma:"sydsamiska",smi:"Sami Language",smj:"lulesamiska",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"sonink",so:"Soomaali",sog:"Sogdien",son:"Songhai",sq:"shqipe",sr:"",sr_Cyrl:"",sr_Latn:"Srpski",srn:"Sranantongo",srr:"srre",ss:"Swati",ssa:"Nilo-Saharan Language",st:"Sesotho",su:"Sundan",suk:"Sukuma",sus:"soussou",sux:"Sumerian",sv:"svenska",sw:"Kiswahili",syc:"Classical Syriac",syr:"Syriac",ta:"",tai:"Tai Language",te:"",tem:"Timne",ter:"Tereno",tet:"ttum",tg:"",tg_Arab:"",tg_Cyrl:"",th:"",ti:"",tig:"",tiv:"Tiv",tk:"",tkl:"Tokelau",tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",tmh:"tamacheq",tn:"Tswana",to:"Tonga",tog:"Nyasa Tonga",tpi:"Tok Pisin",tr:"Trke",ts:"Tsonga",tsi:"Tsimshian",tt:"",tum:"Tumbuka",tup:"Tupi Language",tut:" ()",tvl:"Tuvalu",tw:"Twi",ty:"tahitien",tyv:"",udm:"",ug:"",uga:"Ugaritic",uk:"",umb:"umbundu",und:"English",ur:"",uz:"",uz_Arab:"",uz_Cyrl:"",uz_Latn:"o'zbekcha",vai:"Vai",ve:"Venda",vi:"Ting Vit",vo:"volapuko",vot:"Votic",wa:"Wallonisch",wak:"Wakashan Language",wal:"Walamo",war:"Waray",was:"Washo",wen:"Sorbian Language",wo:"wolof",wo_Arab:"",wo_Latn:"wolof",xal:"",xh:"Xhosa",yao:"iao",yap:"Yapese",yi:"",yo:"Yoruba",ypk:"Yupik Language",za:"Zhuang",zap:"Zapotec",zen:"Zenaga",zh:"",zh_Hans:"",zh_Hant:"",znd:"Zande",zu:"Zulu",zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"};
n=Bb.prototype,n.c=0,n.Va=0,n.u=function(){Cb(this);for(var e=[],t=0;this.d.length>t;t++)e.push(this.m[this.d[t]]);return e},n.A=function(){return Cb(this),this.d.concat()},n.p=function(e){return G(this.m,e)},n.remove=function(e){return G(this.m,e)?(delete this.m[e],this.c--,this.Va++,this.d.length>2*this.c&&Cb(this),!0):!1},n.get=function(e,t){return G(this.m,e)?this.m[e]:t},n.set=function(e,t){G(this.m,e)||(this.c++,this.d.push(e),this.Va++),this.m[e]=t},n.clone=function(){return new Bb(this)};var Db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");n=H.prototype,n.o="",n.L="",n.z="",n.B=null,n.K="",n.J="",n.bb=!1,n.g=!1,n.toString=function(){if(this.f)return this.f;var e=[];if(this.o&&e.push(J(this.o,Kb),":"),this.z){e.push("//"),this.L&&e.push(J(this.L,Kb),"@");var t;t=this.z,t=v(t)?encodeURIComponent(t):null,e.push(t),null!=this.B&&e.push(":",this.B+"")}return this.K&&e.push(J(this.K,Lb)),(t=this.e+"")&&e.push("?",t),this.J&&e.push("#",J(this.J,Mb)),this.f=e.join("")},n.clone=function(){var e=this.o,t=this.L,n=this.z,i=this.B,a=this.K,s=this.e.clone(),r=this.J,o=new H(null,this.g);return e&&Eb(o,e),t&&Fb(o,t),n&&o.G(n),i&&Gb(o,i),a&&Hb(o,a),s&&Ib(o,s),r&&Jb(o,r),o},n.G=function(e,t){return K(this),delete this.f,this.z=t?e?decodeURIComponent(e):"":e,this},n.Da=function(e,t){return Ib(this,e,t)},n.H=function(e){this.g=e,this.e&&this.e.H(e)};var Pb=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,Kb=/[#\/\?@]/g,Lb=/[\#\?]/g,Nb=/[\#\?@]/g,Mb=/#/g;n=I.prototype,n.b=null,n.c=null,n.add=function(e,t){if(L(this),Rb(this),e=M(this,e),this.p(e)){var n=this.b.get(e);s(n)?n.push(t):this.b.set(e,[n,t])}else this.b.set(e,t);return this.c++,this},n.remove=function(e){if(L(this),e=M(this,e),this.b.p(e)){Rb(this);var t=this.b.get(e);return s(t)?this.c-=t.length:this.c--,this.b.remove(e)}return!1},n.p=function(e){return L(this),e=M(this,e),this.b.p(e)},n.A=function(){L(this);for(var e=this.b.u(),t=this.b.A(),n=[],i=0;t.length>i;i++){var a=e[i];if(s(a))for(var r=0;a.length>r;r++)n.push(t[i]);else n.push(t[i])}return n},n.u=function(e){if(L(this),e)if(e=M(this,e),this.p(e)){var t=this.b.get(e);if(s(t))return t;e=[],e.push(t)}else e=[];else{t=this.b.u(),e=[];for(var n=0;t.length>n;n++){var i=t[n];s(i)?Ba(e,i):e.push(i)}}return e},n.set=function(e,t){if(L(this),Rb(this),e=M(this,e),this.p(e)){var n=this.b.get(e);s(n)?this.c-=n.length:this.c--}return this.b.set(e,t),this.c++,this},n.get=function(e,t){if(L(this),e=M(this,e),this.p(e)){var n=this.b.get(e);return s(n)?n[0]:n}return t},n.toString=function(){if(this.k)return this.k;if(!this.b)return"";for(var e=[],t=0,n=this.b.A(),i=0;n.length>i;i++){var a=n[i],r=ka(a);if(a=this.b.get(a),s(a))for(var o=0;a.length>o;o++)t>0&&e.push("&"),e.push(r),""!==a[o]&&e.push("=",ka(a[o])),t++;else t>0&&e.push("&"),e.push(r),""!==a&&e.push("=",ka(a)),t++}return this.k=e.join("")},n.clone=function(){var e=new I;return this.Aa&&(e.Aa=this.Aa),this.k&&(e.k=this.k),this.b&&(e.b=this.b.clone()),e},n.H=function(e){e&&!this.g&&(L(this),Rb(this),Ab(this.b,function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),this.add(n,e))},this)),this.g=e};var Sb=/\s*;\s*/;P.prototype.La=!1,P.prototype.X=function(){this.La||(this.La=!0,this.v())},P.prototype.v=function(){};var Tb;x(Q,P),Q.prototype.v=function(){delete this.type,delete this.target,delete this.currentTarget},Q.prototype.Ba=!1,Q.prototype.gb=!0,x(R,Q),n=R.prototype,n.target=null,n.relatedTarget=null,n.offsetX=0,n.offsetY=0,n.clientX=0,n.clientY=0,n.screenX=0,n.screenY=0,n.button=0,n.keyCode=0,n.charCode=0,n.ctrlKey=!1,n.altKey=!1,n.shiftKey=!1,n.metaKey=!1,n.fb=!1,n.Ma=null,n.init=function(e,t){var n=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;if(i){if(Qa)try{i=i.nodeName&&i}catch(a){i=null}}else"mouseover"==n?i=e.fromElement:"mouseout"==n&&(i=e.toElement);this.relatedTarget=i,this.offsetX=void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.fb=La?e.metaKey:e.ctrlKey,this.Ma=e,delete this.gb,delete this.Ba},D&&(ab["8"]||(ab["8"]=ra(Wa,"8")>=0)),R.prototype.v=function(){R.Ta.v.call(this),this.relatedTarget=this.currentTarget=this.target=this.Ma=null};var Vb=0;n=Ub.prototype,n.key=0,n.F=!1,n.Ga=!1,n.init=function(e,t,n,i,a,s){if(ba(e))this.Na=!0;else{if(!(e&&e.handleEvent&&ba(e.handleEvent)))throw Error("Invalid listener argument");this.Na=!1}this.ma=e,this.proxy=t,this.src=n,this.type=i,this.capture=!!a,this.handler=s,this.Ga=!1,this.key=++Vb,this.F=!1},n.handleEvent=function(e){return this.Na?this.ma.call(this.handler||this.src,e):this.ma.handleEvent.call(this.ma,e)},x(S,P),S.prototype.j=null,S.prototype.Ka=null,S.prototype.v=function(){S.Ta.v.call(this);for(var e=this.q;e.length;)Wb(this,e.pop());delete this.q};var Xb,Yb=(Xb="ScriptEngine"in o&&"JScript"==o.ScriptEngine())?o.ScriptEngineMajorVersion()+"."+o.ScriptEngineMinorVersion()+"."+o.ScriptEngineBuildVersion():"0",Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic;(function(){function e(){return{c:0,D:0}}function t(){return[]}function n(){function e(t){return s.call(e.src,e.key,t)}return e}function i(){return new Ub}function a(){return new R}var s,o=Xb&&!(ra(Yb,"5.7")>=0);if(dc=function(e){s=e},o){Zb=function(){return T(l)},$b=function(e){U(l,e)},ac=function(){return T(c)},bc=function(e){U(c,e)},cc=function(){return T(d)},ec=function(){U(d,n())},fc=function(){return T(u)},gc=function(e){U(u,e)},hc=function(){return T(h)},ic=function(e){U(h,e)};var l=new S(0,600);l.j=e;var c=new S(0,600);c.j=t;var d=new S(0,600);d.j=n;var u=new S(0,600);u.j=i;var h=new S(0,600);h.j=a}else Zb=e,$b=r,ac=t,bc=r,cc=n,ec=r,fc=i,gc=r,hc=a,ic=r})();var V={},W={},X={},jc={};dc(function(e,t){if(!V[e])return!0;var n=V[e],i=n.type,a=W;if(!(i in a))return!0;a=a[i];var s,r;if(void 0===Tb&&(Tb=D&&!o.addEventListener),Tb){var l;if(!(l=t))e:{l="window.event".split(".");for(var c=o;s=l.shift();){if(!c[s]){l=null;break e}c=c[s]}l=c}if(s=l,l=!0 in a,c=!1 in a,l){if(0>s.keyCode||void 0!=s.returnValue)return!0;e:{var d=!1;if(0==s.keyCode)try{s.keyCode=-1;break e}catch(u){d=!0}(d||void 0==s.returnValue)&&(s.returnValue=!0)}}d=hc(),d.init(s,this),s=!0;try{if(l){for(var h=ac(),p=d.currentTarget;p;p=p.parentNode)h.push(p);r=a[!0],r.D=r.c;for(var m=h.length-1;!d.Ba&&m>=0&&r.D;m--)d.currentTarget=h[m],s&=nc(r,h[m],i,!0,d);if(c)for(r=a[!1],r.D=r.c,m=0;!d.Ba&&h.length>m&&r.D;m++)d.currentTarget=h[m],s&=nc(r,h[m],i,!1,d)}else s=oc(n,d)}finally{h&&(h.length=0,bc(h)),d.X(),ic(d)}return s}i=new R(t,this);try{s=oc(n,i)}finally{i.X()}return s}),n=pc.prototype,n.Y=0,n.ea=3,n.clone=function(){var e=new pc(this.a);return e.Y=this.Y,e.ea=this.ea,e},n.getFullYear=function(){return this.a.getFullYear()},n.getYear=function(){return this.getFullYear()},n.getMonth=function(){return this.a.getMonth()},n.getDate=function(){return this.a.getDate()},n.getTime=function(){return this.a.getTime()},n.getUTCHours=function(){return this.a.getUTCHours()},n.getTimezoneOffset=function(){return this.a.getTimezoneOffset()},n.set=function(e){this.a=new Date(e.getFullYear(),e.getMonth(),e.getDate())},n.setFullYear=function(e){this.a.setFullYear(e)},n.setMonth=function(e){this.a.setMonth(e)},n.setDate=function(e){this.a.setDate(e)},n.add=function(e){if(e.rb||e.eb){var t=this.getMonth()+e.eb+12*e.rb,n=this.getYear()+Math.floor(t/12);t%=12,0>t&&(t+=12);var i;e:{switch(t){case 1:i=0!=n%4||0==n%100&&0!=n%400?28:29;break e;case 5:case 8:case 10:case 3:i=30;break e}i=31}i=Math.min(i,this.getDate()),this.setDate(1),this.setFullYear(n),this.setMonth(t),this.setDate(i)}e.Ya&&(e=new Date(new Date(this.getYear(),this.getMonth(),this.getDate(),12).getTime()+864e5*e.Ya),this.setDate(1),this.setFullYear(e.getFullYear()),this.setMonth(e.getMonth()),this.setDate(e.getDate()),qc(this,e.getDate()))},n.qa=function(e,t){return[this.getFullYear(),z(this.getMonth()+1,2),z(this.getDate(),2)].join(e?"-":"")+(t?rc(this):"")},n.toString=function(){return this.qa()},n.valueOf=function(){return this.a.valueOf()},x(Y,pc),n=Y.prototype,n.getHours=function(){return this.a.getHours()},n.getMinutes=function(){return this.a.getMinutes()},n.getSeconds=function(){return this.a.getSeconds()},n.getUTCHours=function(){return this.a.getUTCHours()},n.setHours=function(e){this.a.setHours(e)},n.setMinutes=function(e){this.a.setMinutes(e)},n.setSeconds=function(e){this.a.setSeconds(e)},n.setMilliseconds=function(e){this.a.setMilliseconds(e)},n.setUTCHours=function(e){this.a.setUTCHours(e)},n.add=function(e){pc.prototype.add.call(this,e),e.$a&&this.setHours(this.a.getHours()+e.$a),e.db&&this.setMinutes(this.a.getMinutes()+e.db),e.hb&&this.setSeconds(this.a.getSeconds()+e.hb)},n.qa=function(e,t){var n=pc.prototype.qa.call(this,e);return e?n+" "+z(this.getHours(),2)+":"+z(this.getMinutes(),2)+":"+z(this.getSeconds(),2)+(t?rc(this):""):n+"T"+z(this.getHours(),2)+z(this.getMinutes(),2)+z(this.getSeconds(),2)+(t?rc(this):"")},n.toString=function(){return this.qa()},n.clone=function(){var e=new Y(this.a);return e.Y=this.Y,e.ea=this.ea,e},n=Z.prototype,n.M="",n.P="",n.ra="",n.ua="",n.Ia=0,n.Ha=!1,n.Ja="",n.W="",n.I="",n.V="",n.U="",n.O="",n.R="",n.N="",n.T="",n.i="",n.S="",n.va="",n.xa="",n.ya="",n.n="",n.Da=function(){this.va=""+new H(window.location.href).e},n.Za=function(e){try{return Ob(e instanceof H?e.clone():new H(e,void 0),"_cldvid",uc(this))}catch(t){alert("An error occurred while trying to get ClickDimensions linker:"+t.Wa)}return e},n.cb=function(e){try{if(e.action){var t=e.action instanceof H?e.action.clone():new H(e.action,void 0);e.action=Ob(t,"_cldvid",uc(this))}}catch(n){alert("An error occurred while trying to set ClickDimensions linkByPost:"+n.Wa)}},n.G=function(e){(e=e)||(e=new H(window.location.href).z),this.i=e,this.S=window.location.hostname},n.ib=f("M"),n.Qa=f("P"),n.Ra=f("ra"),n.Ea=f("Ia"),n.Ca=f("Ha"),n.Sa=f("Ja"),n.kb=function(e){this.I=e,N("cuvid",e,63072e3,escape("/"),this.i)},n.ob=function(e,t,n,i,a,s,r){var o="";o+="&orderid="+encodeURIComponent(e),o+="&sku="+encodeURIComponent(t),o+="&name="+encodeURIComponent(n),o+="&category="+encodeURIComponent(i),o+="&price="+encodeURIComponent(a),o+="&quantity="+encodeURIComponent(s),r&&(o+="&email="+encodeURIComponent(r)),wc(this,"EcomItem",o)},n.qb=function(e,t,n,i,a,s,r,o,l){var c="";c+="&orderid="+encodeURIComponent(e),c+="&affiliation="+encodeURIComponent(t),c+="&total="+encodeURIComponent(n),c+="&tax="+encodeURIComponent(i),c+="&shipping="+encodeURIComponent(a),c+="&city="+encodeURIComponent(s),c+="&state="+encodeURIComponent(r),c+="&country="+encodeURIComponent(o),l&&(c+="&email="+encodeURIComponent(l)),wc(this,"EcomTrans",c)},n.mb=function(e,t,n,i,a){var s="";s+="&category="+encodeURIComponent(e),s+="&action="+encodeURIComponent(t),n&&(s+="&email="+encodeURIComponent(n)),i&&(s+="&label="+encodeURIComponent(i)),a&&(s+="&value="+encodeURIComponent(a)),wc(this,"EcomEvent",s)},n.pb=function(){var e=(new Y).getTime(),t=this.W;t+="ac="+this.M,t+="&urk="+e,t+="&cm="+this.P,t+="&s="+this.n,t+="&v="+this.I,t+="&lc="+this.T,t+="&pt="+encodeURIComponent(this.ya),t+="&dn="+this.i,t+="&dnk="+this.ra,t+="&pk="+this.ua,t+="&hn="+this.S,t+="&uri="+encodeURIComponent(window.location.href),t+="&r="+encodeURIComponent(this.xa),t+="&t="+this.Ja,t+="&b="+this.O,t+="&os="+this.U,t+="&fv="+this.R,t+="&ar="+this.N,t+="&pr="+this.Ha,t+="&sc="+this.Ia,t+="&sv="+this.V,t+="&qd="+encodeURIComponent(this.va),t+="&dt="+e,t+="&pvon="+O("cuvon",""),N("cuvon",e,1800,escape("/"),this.i),e=t,t=this.n;var n=db("script");n.src=e,n.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(n),N("cusid",t,1800,escape("/"),this.i)},n.Ua=function(e,t){var n=(new Y).getTime(),i=this.W;i+="ac="+this.M,i+="&urk="+n,i+="&cm="+this.P,i+="&s="+this.n,i+="&v="+this.I,i+="&lc="+this.T,i+="&dn="+this.i,i+="&dnk="+this.ra,i+="&pk="+this.ua,i+="&hn="+this.S,i+="&uri="+e,i+="&r="+encodeURIComponent(window.location.href),i+="&t=LINK",i+="&b="+this.O,i+="&os="+this.U,i+="&fv="+this.R,i+="&ar="+this.N,i+="&pr=false",i+="&pt="+encodeURIComponent(t),i+="&sc=0",i+="&sv="+this.V,i+="&qd="+encodeURIComponent(this.va),i+="&dt="+n,i+="&pvon="+O("cuvon",""),N("cuvon",n,1800,escape("/"),this.i);var a=db("img");a.id="clickdimensionsTi"+n,a.src=i.replace("tsr.js","ti.gif"),document.body.appendChild(a)},n.jb=function(e){for(var t=document.getElementsByName("cd_visitorkey"),n=0;t.length>n;n++)t[n].value=e;for(t=document.forms,n=0;t.length>n;n++)if(t[n].action&&-1!=t[n].action.indexOf("/forms/h/")){var i=db("input");i.type="HIDDEN",i.name="cd_visitorkey",i.id="cd_visitorkey",i.value=e,t[n].appendChild(i)}},q("clickdimensions.Analytics",Z,void 0),q("clickdimensions.Analytics.prototype.trackPage",Z.prototype.pb,void 0),q("clickdimensions.Analytics.prototype.trackLink",Z.prototype.Ua,void 0),q("clickdimensions.Analytics.prototype.setAccountKey",Z.prototype.ib,void 0),q("clickdimensions.Analytics.prototype.setCampaignKey",Z.prototype.Qa,void 0),q("clickdimensions.Analytics.prototype.setPriorityPage",Z.prototype.Ca,void 0),q("clickdimensions.Analytics.prototype.setScore",Z.prototype.Ea,void 0),q("clickdimensions.Analytics.prototype.setPageType",Z.prototype.Sa,void 0),q("clickdimensions.Analytics.prototype.setDomainKey",Z.prototype.Ra,void 0),q("clickdimensions.Analytics.prototype.setDomain",Z.prototype.G,void 0),q("clickdimensions.Analytics.prototype.getLinkerUrl",Z.prototype.Za,void 0),q("clickdimensions.Analytics.prototype.linkByPost",Z.prototype.cb,void 0),q("clickdimensions.Analytics.prototype.trackItem",Z.prototype.ob,void 0),q("clickdimensions.Analytics.prototype.trackTrans",Z.prototype.qb,void 0),q("clickdimensions.Analytics.prototype.trackEvent",Z.prototype.mb,void 0),q("clickdimensions.Analytics.prototype.setVisitorKey",Z.prototype.kb,void 0),q("clickdimensions.Analytics.prototype.setForms",Z.prototype.jb,void 0),window.CD_LANDING_PAGE="LANDING_PAGE",window.CD_FORM="FORM",window.CD_SURVEY="SURVEY",window.CD_FILE="FILE",window.CD_EMAIL="EMAIL",window.CD_PAGE="PAGE",window.CD_LINK="LINK",define("clickDimensions",function(){}),define("app/analytics/providers/clickDimensionsProvider",["config","clickDimensions"],function(e){var t={id:"clickDimensions",initialize:function(t){_.bindAll(this),this.identifyEndpoint=t.identifyEndpoint,window.cdAnalytics=new window.clickdimensions.Analytics("analytics.clickdimensions.com"),window.cdAnalytics.setAccountKey(t.accountKey),window.cdAnalytics.setDomain(t.domain),e.shouldCDIdentify&&this.identifyUser(t.userEmail)},pageView:function(e){e.cdPriority&&(window.cdPriority=!0),window.cdAnalytics.trackPage(),window.cdPriority&&(window.cdPriority=!1)},event:function(){},link:function(){},identifyUser:function(){var e=function(e){return(document.cookie.match("(^|; )"+e+"=([^;]*)")||0)[2]},t=e("cuvid");t?$.ajax(this.identifyEndpoint,{type:"POST",data:{cuvid:t}}):console.warn("unable to find cuvid")}};return t}),define("app/analytics/providers/chartbeatProvider",[],function(){var e={id:"chartbeat",initialize:function(e){var t={uid:e.uid,domain:e.domain};t.sections="",t.authors="",function(){window._sf_endpt=(new Date).getTime();var e=document.createElement("script");e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("src",("https:"==document.location.protocol?"https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/":"http://static.chartbeat.com/")+"js/chartbeat.js"),document.body.appendChild(e)}()},pageView:function(){try{pSUPERFLY.virtualPage(document.location.path,document.title)}catch(e){}},event:function(){},link:function(){}};return e}),require(["config","app/collections/channelCollection","application","environment","app/device","router","jquery","underscore","juissi.swipe","open-magazine/views/simpleBaseLayout","open-magazine/repository/articleRepository","app/models/Channel","app/analytics/track","app/analytics/summaClickHandler","app/analytics/providers/googleAnalyticsProvider","app/analytics/providers/tnsProvider","app/analytics/providers/clickDimensionsProvider","app/analytics/providers/chartbeatProvider"],function(e,t,n,i,a,s,r,o,l,c,d,u,h,p,m,f,g,v){t.deferred.done(function(t){var n=location.hostname.split(".").reverse(),a=[n[1],n[0]].join("."),s=[];if(i.production||i.track){if(e.tracking.google&&s.push({provider:m,providerOptions:{trackingId:e.tracking.google.accountId}}),e.tracking.clickDimensions&&s.push({provider:g,providerOptions:{domain:a,accountKey:e.tracking.clickDimensions.accountKey,identifyEndpoint:e.tracking.clickDimensions.identifyEndpoint}}),e.tracking.tns){var r=t.pluck("analytics"),l=o.object(t.pluck("id"),o.pluck(r,"tns"));s.push({provider:f,providerOptions:{channelParams:l}})}e.tracking.chartbeat&&s.push({provider:v,providerOptions:{uid:e.tracking.chartbeat.uid,domain:e.tracking.chartbeat.domain}})}h.initialize({providers:s,trackEvents:[{event:"click",selector:"[data-track]",handler:p},{event:"change",selector:"[data-track]",handler:p}]})}.bind(null,t)),n.addInitializer(function(){clearTimeout(window.SummaRetryTimer),r("html").addClass("open-magazine"),n.mainRegion.show(c),s.start(),r(document).on("click","a[href^='/']",function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||r(e.currentTarget).hasClass("external-link"))){e.preventDefault();var t=r(e.currentTarget).attr("href").replace(/^\//,"");s.navigate(t,{trigger:!0})}}),r(document).on("keyup",function(e){if(39===e.which)n.commands.execute("next",!0);else if(37===e.which)n.commands.execute("prev",!0);else if(27===e.which)try{n.commands.execute("closeModal")}catch(t){}});var e=o.debounce(function(){r("html").addClass("resizing")},1e3,!0),t=o.debounce(function(){r("html").removeClass("resizing")},1e3);r(window).on("resize",function(){e(),t()})}),n.addInitializer(function(){var i=e.channelId,a=function(){t.deferred.done(function(){for(var e=document.querySelectorAll(".webclip-icon"),n=0;e.length>n;++n){var a=e[n];document.head.removeChild(a)}var s=["57x57","72x72","114x114","144x144"];s.forEach(function(e){var t=document.createElement("link");t.rel="apple-touch-icon-precomposed",t.href="/static/images/webclips/"+i+"/apple-touch-icon-"+e+".png",t.classList.add("webclip-icon"),t.setAttribute("sizes",e),document.head.appendChild(t)});var r=document.createElement("meta");r.name="apple-mobile-web-app-title",r.content="summa"===i?"Summa":t.get(i).get("title"),r.classList.add("webclip-icon"),document.head.appendChild(r)})};n.location.set({currentChannelId:i}),n.location.on("change:currentChannelId",a),a(),r(window).on("focus click MSPointerDown MSPointerUp",t.keepPollingActive.bind(t))}),r.when(t.deferred).then(function(){n.start()})}),define("main",function(){});