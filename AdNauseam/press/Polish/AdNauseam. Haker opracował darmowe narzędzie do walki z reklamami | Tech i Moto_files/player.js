function _handleMultipleEvents(a,b,c,d){vjs.arr.forEach(c,function(c){a(b,c,d)})}function _logType(a,b){var c,d,e;c=Array.prototype.slice.call(b),d=function(){},e=window.console||{log:d,warn:d,error:d},a?c.unshift(a.toUpperCase()+":"):a="log",vjs.log.history.push(c),c.unshift("VIDEOJS:"),e[a].apply?e[a].apply(e,c):e[a](c.join(" "))}function secondsToHms(a,b){a=Number(a);var c=Math.floor(a/3600),d=Math.floor(a%3600/60),e=Math.floor(a%3600%60);return"object"==typeof b&&b.length>=2?(c>0?c+b[0]:"")+(d>0?(c>0&&10>d?"0":"")+d+b[1]:"0:")+(10>e?"0":"")+e+(b.length>2?b[2]:""):(("undefined"==typeof b||"string"!=typeof b)&&(b=":"),(c>0?c+b:"")+(d>0?(c>0&&10>d?"0":"")+d+b:"0:")+(10>e?"0":"")+e)}function getAttribs(a){var b={};if("undefined"!=typeof a)for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c].nodeName,e=a.attributes[c].value;b[d]=e}return b}function lVar(){this.item=null,this.watch=function(a){},this.set=function(a){this.item!==a&&(this.item=a,this.watch(a))},this.get=function(){return this.item}}function extractCdata(a,b){var c="",d="";if("undefined"==typeof a||null===a)return c;if("object"==typeof a.childNodes){var e;for(e=0;e<a.childNodes.length;e++)"#cdata-section"===a.childNodes.item(e).nodeName&&(c+=a.childNodes.item(e).data),"#text"===a.childNodes.item(e).nodeName&&(d+=a.childNodes.item(e).data)}var f=(d+c).trim();return f=0===f.indexOf("http")?f.replace(/ /g,"%20").replace(/<\\\\br>|<\/\/br>|<br\\\\>|<br\/\/>|<\/br>|<\\br>|<br\/>|<br\\>|<br>/g,""):"undefined"!=typeof b&&1==b?"":f.replace(/<\\\\br>|<\/\/br>|<br\\\\>|<br\/\/>|<\/br>|<\\br>|<br\/>|<br\\>|<br>|\\\\n|\/n|\\n|\/\/n/g,"<br/>")}function extractCdataArray(a,b){var c,d,e={};for(c=0;c<a.length;c++)d=extractCdata(a.item(c),b),""!==d&&(e[c]=d);return e}function extractTrackingEvents(a){var b={};if(a.length>0)for(var c=a[0].getElementsByTagName("Tracking"),d=0;d<c.length;d++){var e=getAttribs(c[d]).event,f=extractCdata(c[d]);void 0===b[e]&&(b[e]=[]),""!=f&&b[e].push(f)}return b}function hexToRGBA(a){var b,c,d,e,f="";return"undefined"==typeof a?f="":7==a.length?(f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),f?(b=parseInt(f[1],16),c=parseInt(f[2],16),d=parseInt(f[3],16),f="rgb("+b+","+c+","+d+")"):f=""):(f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),f?(e=parseInt(f[1],16)/255,b=parseInt(f[2],16),c=parseInt(f[3],16),d=parseInt(f[4],16),f="rgba("+b+","+c+","+d+","+e+")"):f=""),f}function hexToRGB_MA(a,b){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(c){var d=parseInt(c[1],16),e=parseInt(c[2],16),f=parseInt(c[3],16);return"rgba("+d+","+e+","+f+","+b+")"}return c=""}function rgbaToRgb(a){if(-1!==a.search("rgba")){var b=a.split(",");return b.pop(),b[0]=b[0].replace("rgba","rgb"),b.join(",")+")"}return a}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function md5cycle(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=ff(c,d,e,f,b[0],7,-680876936),f=ff(f,c,d,e,b[1],12,-389564586),e=ff(e,f,c,d,b[2],17,606105819),d=ff(d,e,f,c,b[3],22,-1044525330),c=ff(c,d,e,f,b[4],7,-176418897),f=ff(f,c,d,e,b[5],12,1200080426),e=ff(e,f,c,d,b[6],17,-1473231341),d=ff(d,e,f,c,b[7],22,-45705983),c=ff(c,d,e,f,b[8],7,1770035416),f=ff(f,c,d,e,b[9],12,-1958414417),e=ff(e,f,c,d,b[10],17,-42063),d=ff(d,e,f,c,b[11],22,-1990404162),c=ff(c,d,e,f,b[12],7,1804603682),f=ff(f,c,d,e,b[13],12,-40341101),e=ff(e,f,c,d,b[14],17,-1502002290),d=ff(d,e,f,c,b[15],22,1236535329),c=gg(c,d,e,f,b[1],5,-165796510),f=gg(f,c,d,e,b[6],9,-1069501632),e=gg(e,f,c,d,b[11],14,643717713),d=gg(d,e,f,c,b[0],20,-373897302),c=gg(c,d,e,f,b[5],5,-701558691),f=gg(f,c,d,e,b[10],9,38016083),e=gg(e,f,c,d,b[15],14,-660478335),d=gg(d,e,f,c,b[4],20,-405537848),c=gg(c,d,e,f,b[9],5,568446438),f=gg(f,c,d,e,b[14],9,-1019803690),e=gg(e,f,c,d,b[3],14,-187363961),d=gg(d,e,f,c,b[8],20,1163531501),c=gg(c,d,e,f,b[13],5,-1444681467),f=gg(f,c,d,e,b[2],9,-51403784),e=gg(e,f,c,d,b[7],14,1735328473),d=gg(d,e,f,c,b[12],20,-1926607734),c=hh(c,d,e,f,b[5],4,-378558),f=hh(f,c,d,e,b[8],11,-2022574463),e=hh(e,f,c,d,b[11],16,1839030562),d=hh(d,e,f,c,b[14],23,-35309556),c=hh(c,d,e,f,b[1],4,-1530992060),f=hh(f,c,d,e,b[4],11,1272893353),e=hh(e,f,c,d,b[7],16,-155497632),d=hh(d,e,f,c,b[10],23,-1094730640),c=hh(c,d,e,f,b[13],4,681279174),f=hh(f,c,d,e,b[0],11,-358537222),e=hh(e,f,c,d,b[3],16,-722521979),d=hh(d,e,f,c,b[6],23,76029189),c=hh(c,d,e,f,b[9],4,-640364487),f=hh(f,c,d,e,b[12],11,-421815835),e=hh(e,f,c,d,b[15],16,530742520),d=hh(d,e,f,c,b[2],23,-995338651),c=ii(c,d,e,f,b[0],6,-198630844),f=ii(f,c,d,e,b[7],10,1126891415),e=ii(e,f,c,d,b[14],15,-1416354905),d=ii(d,e,f,c,b[5],21,-57434055),c=ii(c,d,e,f,b[12],6,1700485571),f=ii(f,c,d,e,b[3],10,-1894986606),e=ii(e,f,c,d,b[10],15,-1051523),d=ii(d,e,f,c,b[1],21,-2054922799),c=ii(c,d,e,f,b[8],6,1873313359),f=ii(f,c,d,e,b[15],10,-30611744),e=ii(e,f,c,d,b[6],15,-1560198380),d=ii(d,e,f,c,b[13],21,1309151649),c=ii(c,d,e,f,b[4],6,-145523070),f=ii(f,c,d,e,b[11],10,-1120210379),e=ii(e,f,c,d,b[2],15,718787259),d=ii(d,e,f,c,b[9],21,-343485551),a[0]=add32(c,a[0]),a[1]=add32(d,a[1]),a[2]=add32(e,a[2]),a[3]=add32(f,a[3])}function cmn(a,b,c,d,e,f){return b=add32(add32(b,a),add32(d,f)),add32(b<<e|b>>>32-e,c)}function ff(a,b,c,d,e,f,g){return cmn(b&c|~b&d,a,b,e,f,g)}function gg(a,b,c,d,e,f,g){return cmn(b&d|c&~d,a,b,e,f,g)}function hh(a,b,c,d,e,f,g){return cmn(b^c^d,a,b,e,f,g)}function ii(a,b,c,d,e,f,g){return cmn(c^(b|~d),a,b,e,f,g)}function md51(a){txt="";var b,c=a.length,d=[1732584193,-271733879,-1732584194,271733878];for(b=64;b<=a.length;b+=64)md5cycle(d,md5blk(a.substring(b-64,b)));a=a.substring(b-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<a.length;b++)e[b>>2]|=a.charCodeAt(b)<<(b%4<<3);if(e[b>>2]|=128<<(b%4<<3),b>55)for(md5cycle(d,e),b=0;16>b;b++)e[b]=0;return e[14]=8*c,md5cycle(d,e),d}function md5blk(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function rhex(a){for(var b="",c=0;4>c;c++)b+=hex_chr[a>>8*c+4&15]+hex_chr[a>>8*c&15];return b}function hex(a){for(var b=0;b<a.length;b++)a[b]=rhex(a[b]);return a.join("")}function md5(a){return hex(md51(a))}function add32(a,b){return a+b&4294967295}function add32(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function makeSeconds(a){if(isDefined(a)){var b=a.split(":");return 3==b.length?60*+b[0]*60+60*+b[1]+ +b[2]:60*+b[0]+ +b[1]}}function toHHMMSS(a){var b=parseInt(a,10),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-3600*c-60*d;return 10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),c+":"+d+":"+e}function fixTimeShifts(a){return a.sort(function(a,b){return a.attribs.timeStart-b.attribs.timeStart})}function sortRollVideo(a){if(a.length>0)for(var b=0;b<a.length;b++)a[b].items=fixAdOrder(a[b].items);return a}function fixAdOrder(a){if(a.length<=1)return a;for(var b=[],c=[],d=[],e=a.length,f=0,g=[],h=0;e>h;h++)if(a[h].fullObj.position=~~a[h].fullObj.position,0==a[h].fullObj.position)c.push(a[h]);else if(f=a[h].fullObj.position>f?a[h].fullObj.position:f,isDefined(b[a[h].fullObj.position])){var i=a[h].fullObj.position;b[i].push(a[h])}else b[a[h].fullObj.position]=[],b[a[h].fullObj.position].push(a[h]);for(var j=1;f>=j;j++)if(isDefined(b[j]))for(var k in b[j])d.push(b[j][k]);else{var l=c.shift();isDefined(l)&&d.push(l)}for(var m in d)"object"==typeof d[m]&&g.push(d[m]);for(j=0;j<c.length;j++)g.push(c[j]);return g}function isDefined(a){return!("undefined"==typeof a)}function isNotDefined(a){return"undefined"==typeof a}function parsePercentage(a){var b=PLAYER_DEFAULT_OPACITY;if("string"==typeof a&&-1!=a.indexOf("%")){var c=parseFloat(a.replace("%",""));b=c/100}return b}function getExtensionByUrl(a){var b=a.split("?")[0];return b.substr(b.lastIndexOf(".")+1)}function adjustVastUrl(a,b){var c="",d=a.split("?"),e=["predur"];c+=d[0]+"?";for(var f in b.ad_breaks)makeSeconds(b.ad_breaks[f])<~~b.time&&e.push("mid"+(~~f+1)+"dur");if(isDefined(d[1]))for(var g=d[1].split("/"),h=0;h<g.length;h++){var i=g[h],j=i.split("="),k=j[0],l=j[1];-1===e.indexOf(k)&&(c+="/"+k+"="+l)}return c}function buildImgOrSWF(a,b,c){var d,e,f=/[\.\/\w-%]+\.swf/i,g=/[\.\/\w-%]+\.mp4/i;return"undefined"!=typeof c?(d=isDefined(c.width)?' width="'+c.width+'"':"",e=isDefined(c.height)?' height="'+c.height+'"':""):(d="",e=""),a.match(f)?'<object id="'+b+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+d+e+'><param name="movie" value="'+a+'" /><param name="wmode" value="transparent"><param name="scale" value="default">'+("undefined"!=typeof c&&isDefined(c.clickTags)?'<param name="flashvars" value="'+c.clickTags+'">':"")+'<!--[if !IE]>--><object type="application/x-shockwave-flash" wmode="transparent" data="'+a+'"'+(""!==d?d:' width="100%"')+(""!==e?e:' height="100%"')+' scale="default" '+("undefined"!=typeof c&&isDefined(c.clickTags)?'flashvars="'+c.clickTags.replace(";","&")+'"':"")+'><!--<![endif]--><!--[if !IE]>--></object><!--<![endif]--></object><script>swfobject.registerObject("'+b+'", "", PLAYER_DEFAULT_HOST + "expressInstall.swf")</script>':("undefined"!=typeof c&&(d=isDefined(c.width)?" width:"+c.width+"px;":"",e=isDefined(c.height)?" height:"+c.height+"px;":""),a.match(g)?'<video src="'+a+'" autoplay mute loop style="'+d+e+'" ></video>':'<img src="'+a+'" alt="" style="'+d+e+'" />')}function isBrowserPlayer5Ready(){var a=!1,b=!(!window.MSInputMethodContext||!document.documentMode||"8.1"!=window.uOSversion&&"10"!=window.uOSversion||"Windows"!=window.uOS);try{if($.browser.msie){var c=new ActiveXObject("AgControl.AgControl"),d=this.loop(0,100,function(b){a=c.isVersionSupported(b+".0")}),e=this.loop(0,99999,function(b){a=c.isVersionSupported(d+"."+b)}),f=this.loop(0,99999,function(b){a=c.isVersionSupported(d+"."+e+"."+b)}),g=this.loop(0,99999,function(b){a=c.isVersionSupported(d+"."+e+"."+f)});silverlightVersion=d+"."+e+"."+f+"."+g}else a=navigator.plugins["Silverlight Plug-In"].description}catch(h){a=!1}var i=navigator.platform.toUpperCase().indexOf("MAC")>=0;return b||"Desktop"!==window.uDevice||"Chrome"===window.uBrowser&&"Desktop"===window.uDevice&&(window.uVersion>=42&&0==a||window.uVersion>=41&&(i||"function"==typeof $.fn.player5&&"undefined"!=typeof localStorage&&1==localStorage.getItem("player5")))}function getAdvertLabel(a){var b=a.fullObj.AdParameters;for(var c in b){var d=b[c].split(";");for(var e in d){var f=d[e].split("=");if("advertLabel"==f[0])return"{brak}"==f[1]?"":f[1]}}return"Reklama"}function objectToStringRecursive(a,b){var c="";if("undefined"==typeof b)var b=[];if("object"!=typeof a){var d=new Date;return md5(d.toUTCString())}for(i in a)"__proto__"!=i&&-1==b.indexOf(i)&&(b.push(i),"function"!=typeof a[i]&&(c+="object"==typeof a[i]?objectToStringRecursive(a[i],b):new String(a[i]).valueOf()));return c}function detectIE(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");if(e>0)return parseInt(a.substring(e+5,a.indexOf(".",e)),10);var f=!!window.ActiveXObject&&+/IEMobile\/(\d+\.?(\d+)?)/.exec(navigator.userAgent)[1]||NaN;return f?parseInt(f):!1}function getDisableAdBlockCheck(){return"undefined"!=typeof DISABLE_ADBLOCK_DETECTION?DISABLE_ADBLOCK_DETECTION:!1}function isAdBlockEnabled(){var a=document.createElement("div");a.setAttribute("class","sponsored-ad adoSlave advertisement pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),a.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -1000px !important; top: -1000px !important;"),document.body.appendChild(a);var b=$(a),c=$(a).is(":visible");return b.remove(),window.adBlockEnabled=!c,!c}function enforcePrecision(a,b){return+a.toFixed(b)}function roundToHalf(a){return(2*a|0)/2}function getPlayerSizeType(a){var b="";switch(!0){case 336>=a:b=" vjs-player-size-xsmall ";break;case 480>=a:b=" vjs-player-size-small ";break;case 680>=a:b=" vjs-player-size-medium ";break;case a>=1100:b=" vjs-player-size-large "}return b}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function createEmbedIframeTag(a,b,c){if(!isDefined(a.id)||!isDefined(a.embed_hash))return!1;var d=location.host.match(/\w+\.?[\w\-]+$/),e=Object.keys(a).map(function(b){return[b,a[b]].map(encodeURIComponent).join("=")}).join("&");b="undefined"==typeof b?640:b,c="undefined"==typeof c?340:c;var f='<iframe width="'+b+'" height="'+c+'" src="http://embed.'+d+"/index.php?"+e+'" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen allowtransparency="true"></iframe>';return f}function getSupportedTransform(){for(var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=document.createElement("div"),c=0;c<a.length;c++)if(b&&void 0!==b.style[a[c]])return a[c];return!1}function uniqueId(){var a=Math.floor(11*Math.random()),b=Math.floor(1e6*Math.random());return String.fromCharCode(a)+b}function string_to_slug_msn(a){return a=a.replace(/^\/+/,""),a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase(),a=a.replace("?",""),a=a.replace(/[^a-z0-9 _]/g,"_").replace(/\s+/g,"_").replace(/-+/g,"_")}function jsonRedirectRedcdn(a){return-1!=a.indexOf("videoredir.php")?($.ajax({url:a+"&json=1",dataType:"json",async:!1,success:function(b){a=b.result}}),a=a.replace(a.substr(0,a.indexOf(".pl/")+4),"http://json.redir.redcdn.pl/"),$.ajax({url:a,dataType:"json",async:!1,success:function(b){a=b.redirectURL}})):$.ajax({url:a.replace(a.substr(0,a.indexOf(".pl/")+4),"http://json.redir.redcdn.pl/"),dataType:"json",async:!1,success:function(b){a=b.redirectURL}}),a}function PlayersCollection(){}function tvn24ScrollTvnCheck(){if(window.tvnUserHash&&"5dd1a279fa45f623b1f846f789c9df94"==window.tvnUserHash&&window.tvnLogin&&"yes"==window.tvnLogin)return!0;if("undefined"!=typeof Sso&&"object"==typeof Sso.getLoggedUser&&null!==Sso.getLoggedUser){var a=Sso.getLoggedUser&&Sso.getLoggedUser.isAuthenticated&&Sso.getLoggedUser.isAuthenticated();if(a&&2007594===Sso.getLoggedUser.getId())return!0}return!1}function isAdblockEnabledAlternative(){var a=!1,b=$("#slAbCheck");return b.length&&("undefined"==typeof ADBLOCK_DETECTED||"undefined"!=typeof ADBLOCK_DETECTED&&ADBLOCK_DETECTED===!0)&&(a=!0),!window.adBlockEnabled&&a&&(window.adBlockEnabled=a),a}function render(a,b,c){return"function"!=typeof adsTemplates[a]?!1:("object"!=typeof b&&(b={}),"undefined"==typeof c&&(c=!1),adsTemplates[a](b))}function userUtilsTvn(){var a=this;a.isUserLogged=function(){if("undefined"!=typeof TvnUserUtils&&TvnUserUtils.getUser){var a=TvnUserUtils.getUser();if(a&&a.isAuthenticated)return a.isAuthenticated()}return!1},a.getUserHash=function(){return"undefined"!=typeof Sso&&Sso.getStorageUserHash?Sso.getStorageUserHash():""},a.isTmplHashAndLifeInCookie=function(){return"undefined"==typeof $.cookie?!1:$.cookie("tmpl_hash")&&$.cookie("tmpl_hash_life")&&$.cookie("tmpl_hash")==$.cookie("tmpl_hash_life")?!0:!1},a.isTmobileUser=function(){if("undefined"!=typeof TvnUserUtils&&TvnUserUtils.getUser){var b=TvnUserUtils.getUser();if(b&&"undefined"!=typeof b.isTmplVerified&&b.isTmplVerified()&&"undefined"!=typeof b.getId&&b.getId())return 1}return a.isTmplHashAndLifeInCookie()?2:0},a.loggedUserCache=a.isUserLogged(),a.isTmobileUserCache=a.isTmobileUser()}function playerUtilsTvn(){var a=this,b=a.el();"undefined"!=typeof document.hidden?(a.tabHidden="hidden",a.tabVisibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(a.tabHidden="mozHidden",a.tabVisibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(a.tabHidden="msHidden",a.tabVisibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(a.tabHidden="webkitHidden",a.tabVisibilityChange="webkitvisibilitychange"),(videojs.TOUCH_ENABLED||a.options().isMobile)&&a.options().nativeControlsForTouch===!0&&$(b).find(".vjs-control-bar-wrapper,video").on("click",function(b){if(a.advertInProgeres){var c=$(this).offset(),d=$(this).height(),e=-1*(b.pageY-c.top-d);e>35&&(a.paused()?a.play():a.pause())}}),a.refreshPlayerSizeType=function(){$(b).removeClass("vjs-player-size-small vjs-player-size-xsmall vjs-player-size-medium vjs-player-size-large"),$(b).addClass(getPlayerSizeType(a.getAdsRescaleInfo({}).currentWidth)),$(b).width()<=480&&$(b).find(".vjs-shareboard-container").removeClass("vjs-visible"),a.refreshButtonAds(),"undefined"!=typeof a.ima&&"undefined"!=typeof a.ima.onFullscreenChange_&&a.ima.onFullscreenChange_()},a.refreshBrandingSize=function(){setBrandingSize(a,a.node)},a.refreshButtonAds=function(){var c,d,e=a.getAdsRescaleInfo({baseWidth:800,scale_up:"true",scale_down:"true"}),f=54,g=69,h=0,i=0;"undefined"!=typeof $(b).find(".vjs-ad-legal").attr("data-base-left")?c=parseInt($(b).find(".vjs-ad-legal").attr("data-base-left")):(c=parseInt($(b).find(".vjs-ad-legal").css("left")),$(b).find(".vjs-ad-legal").attr("data-base-left",c)),isNaN(c)&&(c=0),h=c+e.horizontalOffset,"undefined"!=typeof $(b).find(".vjs-click-through-button.vjs-mobile-ctb").attr("data-base-left")?d=parseInt($(b).find(".vjs-ad-legal.vjs-click-through-button.vjs-mobile-ctb").attr("data-base-left")):(d=parseInt($(b).find(".vjs-click-through-button.vjs-mobile-ctb").css("left")),$(b).find(".vjs-click-through-button.vjs-mobile-ctb").attr("data-base-left",d)),isNaN(d)&&(d=0),i=d+e.horizontalOffset;var j=e.verticalOffset;uVersion<11&&"MSIE"==uBrowser&&"Desktop"==uDevice&&(j=0),$(b).find(".vjs-ad-legal").css({top:~~j,left:h}),$(b).find(".vjs-click-through-button.vjs-mobile-ctb").css({top:~~j+30,left:i,width:~~(f*e.ratio),height:~~(g*e.ratio)})},getSupportedTransform()||$(b).addClass("vjs-no-transition"),a.setPlaylistUrl=function(b){a.playlistUrl=b},a.setPreviousAction=function(b){a.previousAction!==b&&(a.previousAction=b)},a.getPreviousAction=function(b){return"undefined"!=typeof b?a.previousAction===b:a.previousAction},a.remove=function(){if(!a.removed_removed&&(a.removed_removed=!0,$(a.node).removeClass("player-initialized"),$(a.node).data("player",""),setTimeout(function(){a.dispose()},0),"undefined"!=typeof playersCollection))for(var b in playersCollection.players)playersCollection.players[b].playerId==a.playerId&&playersCollection.players.splice(b,1)},a.runTracking=function(b){for(i in b){var c,d,e=new Date;d=b[i],d=d.replace("tvn.hit.gemius.pl/redot.gif","tvn.hit.gemius.pl/_"+e.getTime()+"/redot.gif"),d=d.replace("[TIMESTAMP]",e.getTime()),d=d.replace("_AONOVTMVALUE_",parseInt(a.currentTime())),a.currentAdItemIndex!==!1&&(d=d.replace("{POSITION}",a.currentAdItemIndex+1)),c=new Image(1,1),c.src=d}},a.turnTransition=function(b){b=!0;var c=$(a.node).find(".vjs-seek-handle, .vjs-progress-holder .vjs-play-progress");b?c.addClass("vjs-transition"):c.removeClass("vjs-transition")},a.checkIsLive=function(){a.options().isLive&&$(a.el()).addClass("vjs-live-video")},a.getAdsRescaleInfo=function(b){"undefined"==typeof b.base_width&&"undefined"==typeof b.baseWidth&&(b.baseWidth="960");var c=$(a.el()),d=parseInt(c.height()),e=parseInt(c.width()),f=0,g=0,h=1,i=parseInt(b.base_width||b.baseWidth),j=typeof b.scale_up&&"true"==b.scale_up,k=typeof b.scale_down&&"true"==b.scale_down,l=$("#vjs-cfullscreen-test");if(a.isFullscreen()&&!videojs.IS_IPAD){if(d=window.screen.height,"undefined"!=typeof window.uDevice&&"Desktop"!==window.uDevice){d=window.outerWidth>window.outerHeight?window.screen.width:window.screen.height;var m=this.checkOrientation();m&&(d=m.height,e=m.width)}("tablet"===uDevice.toLowerCase()&&l.length||"desktop"===uDevice.toLowerCase()&&detectIE()&&detectIE()<11)&&(e=l.width(),d=l.height()),"desktop"===uDevice.toLowerCase()&&detectIE()&&11==detectIE()&&a.isEmbed()&&(e=l.width(),d=l.height())}var n=d,o=e,p=e/d-16/9;if(Math.abs(p)>.01){var q=16/9>e/d;q?(n=.5625*e,f=(d-n)/2):(o=d/.5625,g=(e-o)/2)}var r=i-o,s=100*r/i;return h-=s/100,!j&&h>1&&(h=1),!k&&1>h&&(h=1),{currentWidth:e,currentHeight:d,verticalOffset:f,horizontalOffset:g,ratio:h,allowScaleUp:j,allowScaleDown:k,trueWidth:o,trueHeight:n,baseWidth:i}},a.checkOrientation=function(){var a=0,b=0,c=window.screen.width,d=window.screen.height,e=0;switch(e="undefined"!=typeof screenOrientation?screenOrientation:window.orientation){case 0:case 180:d>c?(a=c,b=d):(a=d,b=c);break;case 90:case-90:c>d?(a=c,b=d):(a=d,b=c)}return 0!==a&&0!==b?{width:a,height:b}:void 0},a.setInitalPlayerSize=function(){$(b).css({width:"100%",height:"100%"});var c=a.getAdsRescaleInfo({baseWidth:960,baseHeight:540});c.horizontalOffset?$(b).css({width:c.trueWidth,left:0,right:0,margin:"0 auto"}):$(b).css({width:"100%"})},a.setBrandingWidth=function(){},a.setBrandingHeight=function(){},a.setTrafficTags=function(b){if(a.meetTagCzarnyCriteria()&&""!==b)if(-1===b.indexOf("tvn_traffic_tags"))b+="/tvn_traffic_tags=czarny";else{var c=!1;"/"!==b[b.length-1]&&(b+="/",c=!0);var d=/(tvn_traffic_tags=)[^]{1,}\//,e=b.match(d),f=e[0].split("/")[0];b=b.replace(f,f+"_czarny"),c&&(b=b.slice(0,-1))}return b},a.meetTagCzarnyCriteria=function(){var a="Android"==detector.detectOS()&&detector.detectOSversion()<4.2&&detector.getWebkitVersion()<=534.3&&-1==navigator.userAgent.indexOf("Chrome");return videojs.IS_IPHONE||videojs.IS_IPAD&&uVersion<6||(detectIE()||"MSIE"==uBrowser)&&"Desktop"!==uDevice||a&&"undefined"!=typeof PLAYER5_ID&&"veedo"==PLAYER5_ID},a.getFixedCurrentTime=function(){return a.advertInProgeres?parseInt(a.currentTime()):parseInt(a.currentTime())-a.initialCurrentTime},a.isEmbed=function(){return"undefined"!=typeof a.options().embed&&1==a.options().embed},a.sendPostMessage=function(b){a.isEmbed()&&parent.postMessage(JSON.stringify({type:b,playerID:a.id()}),"*")},detectIE()&&detectIE()<11&&a.isEmbed&&(a.options().shareUrl?$(a.node).find(".vjs-control-bar .vjs-share-button-control").addClass("vjs-margin"):$(a.node).find(".vjs-control-bar .vjs-resolutions-button").addClass("vjs-margin")),a.isAdBlockEnabledAgain=function(b,c){$.ajax({url:"//s1-player5.cdntvn.pl/adscript.js",type:"GET",cache:!1,async:!1,success:function(){return"function"==typeof b&&b(),!1},error:function(){return"undefined"!=typeof $(a.node).data("disable-adblock")&&0!=$(a.node).data("disable-adblock")||tvn24ScrollTvnCheck()?"function"==typeof b&&b():"function"==typeof c&&c(),!0}})}}function spawnEntityTvn(){var a=this,b=$(a.el());a.spawnEntity=function(c,d,e){var f=a.entitySpace[c],g=f.items[d],h=1;if(a.isFullscreen()?(g=f.items[d].fullscreen,h=1.66667):g=f.items[d],"productPlacement"===c&&(h=1),"undefined"==typeof g)return!1;if("object"==typeof e){var i;for(i in e)g[i]=Math.round(parseInt(e[i])*h)+"px"}var j,k=c+"_"+d+"_"+Math.floor(1e4*Math.random()+1001);if("sprite"===f.type){var l="undefined"!=typeof g.backgroundSize?"; background-size:"+g.backgroundSize:"";b.append('<div id="'+k+'" class="vjs-onTopEntity vjs-'+c+'" style="background-image: url('+PLAYER_DEFAULT_HOST+f.url+");background-position:"+g.backgroundPosition+l+"; width: "+g.width+"; height: "+g.height+"; top: "+g.y+"; left: "+g.x+';"></div>'),j=$("#"+k),j.fadeIn("fast")}return"image"===f.type,"flash"===f.type,j},a.spawnEntityFullScreen=function(c,d,e){var f,g=a.entitySpace[c],h=1;if(a.isFullscreen()?(f=g.items[d].fullscreen,h=1.66667):f=g.items[d],"undefined"==typeof f)return!1;if("object"==typeof e){var i;for(i in e)f[i]=Math.round(parseInt(e[i])*h)+"px"}var j=c+"_"+d+"_",k=b.find('[id^="'+j+'"].vjs-onTopEntity.vjs-'+c);if("sprite"===g.type){var l="undefined"!=typeof f.backgroundSize?"; background-size:"+f.backgroundSize:"";k.attr("style","background-image: url("+PLAYER_DEFAULT_HOST+g.url+");background-position:"+f.backgroundPosition+l+"; width: "+f.width+"; height: "+f.height+"; top: "+f.y+"; left: "+f.x),k.fadeIn("fast")}},a.handleProductPlacement=function(b){if("undefined"!=typeof a.productPlacement&&a.advertInProgeres===!1){var c=parseInt(a.productPlacement.afterStart.offset),d=c+parseInt(a.productPlacement.afterStart.duration);b>c&&d>b?a.prPlHolder===!1?a.prPlHolder=a.spawnEntity("productPlacement","1",a.productPlacement.afterStart):a.prPlHolder.is(":visible")||a.prPlHolder.fadeIn("fast"):0!=a.prPlHolder&&a.prPlHolder.is(":visible")&&a.prPlHolder.fadeOut();var e=a.duration()-parseInt(a.productPlacement.beforeEnd.offset),f=e+parseInt(a.productPlacement.beforeEnd.duration);b>e&&f>b?a.prPlEndingHolder===!1?a.prPlEndingHolder=a.spawnEntity("productPlacement","0",a.productPlacement.beforeEnd):a.prPlEndingHolder.is(":visible")||a.prPlEndingHolder.fadeIn("fast"):0!=a.prPlEndingHolder&&a.prPlEndingHolder.is(":visible")&&a.prPlEndingHolder.fadeOut()}},a.spawnEntityOnFullScreen=function(){""!==a.parentalRating&&a.spawnEntityFullScreen("parentalRating",a.parentalRating,{x:"46px",y:"46px"}),"undefined"!=typeof a.productPlacement&&a.advertInProgeres===!1&&(a.spawnEntityFullScreen("productPlacement","1",a.productPlacement.afterStart),a.spawnEntityFullScreen("productPlacement","0",a.productPlacement.beforeEnd))}}function eventsTvn(a){var b=this,c=!1,d=$(b.el());b.off("fullscreenchange2"),b.on("fullscreenchange2",b.onFullscreenChange),b.materialStarted=!1,b.previousAction=!1,b.adPlayedAfterSeeking=!1,b.allowSeekEvent=!1,b.firstStart=!1,b.blockInteraction=!1,b.setBufferingEvents=function(){isDefined(b.mediaPlayer)&&(b.mediaPlayer.addEventListener("bufferingStart",function(){b.blockInteraction=!0}),b.mediaPlayer.addEventListener("bufferingEnd",function(){b.blockInteraction=!1}))},b.on("play",function(c){f(a.hasOwnProperty("activeMovie")&&"object"==typeof a.activeMovie&&1==a.activeMovie["protected"]),b.firstStart&&j(c)}),b.on("pause",function(a){j(a)}),b.on("seeked",function(a){j(a)}),b.on("materialEnded",function(a){i(a)}),b.on("timeupdate",function(){g()}),b.on("loadedmetadata",function(a){h(a)}),$(window).on("resize orientationchange onorientationchange",function(){window.screenOrientation=$(window).width()>$(window).height()?90:0,b.interactive&&b.interactive.rescale(),b.interactive2&&b.interactive2.rescale(),b.overlayHandler&&b.overlayHandler.rescale(),b.sequential&&b.sequential.rescale(),b.refreshPlayerSizeType()}),(videojs.TOUCH_ENABLED||b.options().isMobile)&&b.options().nativeControlsForTouch===!0&&d.on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(a){a.isFullScreen=b.isFullscreen(),a.AdActualTime=b.getAdsInformation().playbackTime,a.getMovieWatchingTime=b.getInformation().watchingTime,$(b.node).trigger("video.fullScreen",a),b.trigger("videoFullScreen",a),b.isFullscreen_=!b.isFullscreen_,$(b.el()).toggleClass("vjs-fullscreen"),b.spawnEntityOnFullScreen(),b.interactive&&b.interactive.rescale(),b.interactive2&&b.interactive2.rescale(),b.overlayHandler&&b.overlayHandler.rescale(),b.sequential&&b.sequential.rescale(),b.refreshPlayerSizeType()}),b.on("fullscreenchange2",function(a){"undefined"==typeof a.currentTarget&&(a.isFullScreen=b.isFullscreen(),a.AdActualTime=b.getAdsInformation().playbackTime,a.getMovieWatchingTime=b.getInformation().watchingTime,$(b.node).trigger("video.fullScreen",a),b.trigger("videoFullScreen",a),b.spawnEntityOnFullScreen(),b.interactive&&b.interactive.rescale(),b.interactive2&&b.interactive2.rescale(),b.overlayHandler&&b.overlayHandler.rescale(),b.sequential&&b.sequential.rescale(),b.refreshPlayerSizeType())}),b.on("fakefullscreenchange",function(a){window.screenOrientation=$(window).width()>$(window).height()?90:0,"undefined"==typeof a.currentTarget&&(a.isFullScreen=b.isFullscreen(),a.AdActualTime=b.getAdsInformation().playbackTime,a.getMovieWatchingTime=b.getInformation().watchingTime,$(b.node).trigger("video.fullScreen",a),b.trigger("videoFullScreen",a),b.spawnEntityOnFullScreen(),b.interactive&&b.interactive.rescale(),b.interactive2&&b.interactive2.rescale(),b.overlayHandler&&b.overlayHandler.rescale(),b.sequential&&b.sequential.rescale(),b.refreshButtonAds())}),b.on("ended",function(){b.firstStart=!1}),b.on("stopped",function(a){j(a)}),b.on("videoStopped",function(){b.sendStopEventStats(),b.resetPlayerAds(),$(b.node).trigger("video.stopped",b.getInformation())}),b.on("tracking.start",function(){b.trackingEventHandler("start")}),b.on("tracking.midpoint",function(){b.trackingEventHandler("midpoint")}),b.on("tracking.firstQuartile",function(){b.trackingEventHandler("firstQuartile")}),b.on("tracking.thirdQuartile",function(){b.trackingEventHandler("thirdQuartile")}),b.on("tracking.complete",function(){b.trackingEventHandler("complete")}),b.on("sendImpression",function(){if(!b.tabHiddenOnAdEnd){var a={};b.getThisItemForEventTracking?a.fullObj=b.getThisItemForEventTracking:b.currentAdGroupIndex!==!1&&(a=b.newAdStock[b.currentAdGroupIndex].items[b.currentAdItemIndex]),"undefined"!=typeof a.fullObj&&"object"==typeof a.fullObj.Impression&&(b.runTracking(a.fullObj.Impression),b.debug("ads","sendImpression",a.fullObj.Impression))}}),$(document).on(b.tabVisibilityChange,function(){b.tabHiddenOnAdEnd&&(b.play(),b.tabHiddenOnAdEnd=!1,b.trigger("sendImpression"),b.trackingEventHandler("start"));var a=$(".vjs-click-through-button");a.length&&a.removeAttr("href")}),b.on("useractive",function(){if(b.advertInProgeres||d.find(".vjs-active-movie-info").removeClass("vjs-hidden"),(videojs.TOUCH_ENABLED||b.options().isMobile)&&b.options().nativeControlsForTouch===!0||b.options().isTablet){if(b.isFullscreen()){var a=$("#vjs-cfullscreen-test"),c=parseInt(d.find(".vjs-overlay-y-bottom").css("bottom"));c<=d.find(".vjs-control-bar").outerHeight(!0)?d.find(".vjs-overlay-y-bottom").css("bottom",d.find(".vjs-control-bar").outerHeight(!0)+"px"):a.width()>a.height()&&d.find(".vjs-overlay-y-bottom").css("bottom","0px")}}else d.find(".vjs-overlay-y-bottom").css("bottom",d.find(".vjs-control-bar").outerHeight(!0)+"px")}),b.on("userinactive",function(){if(b.advertInProgeres||d.find(".vjs-active-movie-info").addClass("vjs-hidden"),!d.hasClass("vjs-paused"))if(!videojs.TOUCH_ENABLED&&!b.options().isMobile||b.options().nativeControlsForTouch!==!0&&!b.options().isTablet)d.find(".vjs-overlay-y-bottom").css("bottom","0px");else{var a=$("#vjs-cfullscreen-test");if(b.isFullscreen()){var c=parseInt(d.find(".vjs-overlay-y-bottom").css("bottom"));"desktop"===uDevice.toLowerCase()&&c<=d.find(".vjs-control-bar").outerHeight(!0)?d.find(".vjs-overlay-y-bottom").css("bottom","0px"):a.width()>a.height()&&d.find(".vjs-overlay-y-bottom").css("bottom","0px")}}}),b.progressControllTimeout="",b.controlBar.progressControl.on("mouseenter",function(){clearTimeout(b.progressControllTimeout),b.controlBar.addClass("vjs-progressbar-active"),b.overlayHandler&&b.overlayHandler.rescale();var a=parseInt(d.find(".vjs-overlay-y-bottom").css("bottom"));a<=d.find(".vjs-control-bar").outerHeight(!0)&&d.find(".vjs-overlay-y-bottom").css("bottom",d.find(".vjs-control-bar").outerHeight(!0)+"px")}),b.controlBar.progressControl.on("mouseleave",function(){b.progressControllTimeout=setTimeout(function(){b.controlBar.removeClass("vjs-progressbar-active"),b.overlayHandler&&b.overlayHandler.rescale();var a=parseInt(d.find(".vjs-overlay-y-bottom").css("bottom"));b.userActive()&&a<=d.find(".vjs-control-bar").outerHeight(!0)&&d.find(".vjs-overlay-y-bottom").css("bottom",d.find(".vjs-control-bar").outerHeight(!0)+"px")},3257)}),b.trackingEventHandler=function(a){if(PLAYER_DEBUG&&console.log(a),!b.tabHiddenOnAdEnd){var c={};b.getThisItemForEventTracking?c.fullObj=b.getThisItemForEventTracking:b.currentAdGroupIndex!==!1&&(c=b.newAdStock[b.currentAdGroupIndex].items[b.currentAdItemIndex]),"undefined"!=typeof c.fullObj&&"object"==typeof c.fullObj.TrackingEvents[a]&&(b.runTracking(c.fullObj.TrackingEvents[a]),b.debug("ads","tracking."+a,c.fullObj.TrackingEvents[a]))}},isDefined(b.mediaPlayer)&&b.mediaPlayer.addEventListener("error",function(a){switch(a.error){case"key_session":if(b.currentTime()>2)return;"undefined"!=typeof userLicenseError&&userLicenseError.errorMessage(),"undefined"!=typeof widevineError&&widevineError.errorMessage()}}),b.on("error",function(a){b.onError(a)});var e,f=function(c){if(c===!1)return e&&clearInterval(e),
void(e=void 0);LICENSE_RENEW_SALT1="%62VoDP275@3",LICENSE_RENEW_SALT2="*@3d80Vx276!2";var d=Math.random().toString(10).slice(2),f=function(a){var c=new jsSHA(LICENSE_RENEW_SALT1+d,"TEXT"),e=c.getHash("SHA-1","HEX"),f=new jsSHA(d+LICENSE_RENEW_SALT2,"TEXT"),g=f.getHash("SHA-1","HEX");("undefined"==typeof a||0==a.length||e+g!=a)&&$(b.node).trigger("video.renewLicenseError",b.getInformation())};e||(e=setInterval(function(){$.ajax({url:$(b.node).data("license-renew-url"),type:"post",data:{id:a.activeMovie.id,hash:d}}).done(f).fail(f)},9e4))},g=function(){b.advertInProgeres?$(b.node).trigger("video.progressAd",b.getInformation()):b.materialStarted&&b.trigger("videoProgress",b.getInformation())},h=function(a){b.firstStart=!0,b.advertInProgeres||b.materialStarted||(b.materialStarted=!0,b.options().isLive&&(b.initialCurrentTime=parseInt(b.currentTime())),$(b.node).trigger("video.begin",a),$(b.node).trigger("video.playing",a),b.trigger("videoBegin",a),b.trigger("videoPlaying",a),b.options().enabledRestboard||b.bigPlayButton.removeClass("vjs-visible").addClass("vjs-hidden"),b.setPreviousAction("firstplay"),PLAYER_EVENTS_DEBUG&&console.log("begin"))},i=function(a){b.firstStart=!1,b.advertInProgeres?(PLAYER_EVENTS_DEBUG&&console.log("endedAd"),b.currentAdGroupIndex!==!1&&$(b.node).trigger("video.completeAd",b.newAdStock[b.currentAdGroupIndex].typeName),b.trigger("videoCompleteAd",a),b.setPreviousAction("endedAd")):(PLAYER_EVENTS_DEBUG&&console.log("ended"),b.trigger("videoMainComplete",a),$(b.node).trigger("video.mainComplete",a),b.materialStarted=!1,b.setPreviousAction("ended"))},j=function(a){var d=a.type,e=b.currentTime();if(b.advertInProgeres)switch(f(!1),d){case"pause":b.sequentialInProgress&&b.trigger("seqPause"),a.currentTarget.duration-a.currentTarget.currentTime>.05&&!b.blockInteraction&&!b.blockIpadFullscreenEvent&&(b.interactive2BoardVisible&&"undefined"!=typeof b.interactive2BoardVisible||(b.bigPlayButton.removeClass("vjs-hidden"),b.bigPlayButton.show()),b.tabHiddenOnAdEnd||b.currentAdGroupIndex===!1||$(b.node).trigger("video.pausedAd",b.newAdStock[b.currentAdGroupIndex].typeName),b.trigger("videoPausedAd",a),PLAYER_EVENTS_DEBUG&&console.log("pauseAd"),b.setPreviousAction(d+"Ad"));break;case"play":b.sequentialInProgress&&b.trigger("seqPlaying"),b.interactive2BoardVisible&&"undefined"!=typeof b.interactive2BoardVisible||(b.bigPlayButton.addClass("vjs-hidden"),b.bigPlayButton.hide()),b.tabHiddenOnAdEnd||b.blockInteraction||b.blockIpadFullscreenEvent||b.currentAdGroupIndex===!1?b.blockIpadFullscreenEvent&&(b.blockIpadFullscreenEvent=!1):$(b.node).trigger("video.playingAd",b.newAdStock[b.currentAdGroupIndex].typeName),b.trigger("videoPlayingAd",a),PLAYER_EVENTS_DEBUG&&console.log("playAd"),b.setPreviousAction(d+"Ad");break;case"seeked":PLAYER_EVENTS_DEBUG&&console.log("seekedAd"),b.setPreviousAction(d+"Ad")}else switch(d){case"play":b.options().hidePlayButtonOnPause&&$(b.el()).removeClass("vjs-hide-controls-on-pause"),b.materialStarted&&(!c||b.blockInteraction||b.blockIpadFullscreenEvent?b.getPreviousAction("endedAd")||b.seeking()||b.getPreviousAction("seek-ended")||b.getPreviousAction("play")||b.blockInteraction||b.blockIpadFullscreenEvent?b.blockIpadFullscreenEvent&&(b.blockIpadFullscreenEvent=!1,b.bigPlayButton.removeClass("vjs-visible").addClass("vjs-hidden")):($(b.node).trigger("video.playing",a),b.trigger("videoPlaying",a),b.options().enabledRestboard||b.bigPlayButton.removeClass("vjs-visible").addClass("vjs-hidden"),PLAYER_EVENTS_DEBUG&&console.log("play",e),b.setPreviousAction(d)):(PLAYER_EVENTS_DEBUG&&console.log("play",e,"playEventAfterSeekPause"),$(b.node).trigger("video.playing",a),b.trigger("videoPlaying",a),b.options().enabledRestboard||b.bigPlayButton.removeClass("vjs-visible").addClass("vjs-hidden"),c=!1,b.setPreviousAction(d)));break;case"pause":b.options().hidePlayButtonOnPause&&$(b.el()).addClass("vjs-hide-controls-on-pause"),b.seeking()||b.scrubbing||!b.materialStarted||a.currentTarget.duration-a.currentTarget.currentTime>.05&&!b.blockInteraction&&!b.blockIpadFullscreenEvent&&(PLAYER_EVENTS_DEBUG&&console.log("pause",e),$(b.node).trigger("video.paused",a),b.trigger("videoPaused",a),b.options().enabledRestboard||b.bigPlayButton.removeClass("vjs-hidden").addClass("vjs-visible"),b.setPreviousAction(d)),f(!1);break;case"seeked":b.getPreviousAction("firstplay")?b.setPreviousAction("play"):!b.getPreviousAction("endedAd")&&b.materialStarted&&b.allowSeekEvent&&(b.allowSeekEvent=!1,$(b.node).trigger("video.seek",a),b.trigger("videoSeek",a),b.setPreviousAction(d),b.videoWasPlaying?PLAYER_EVENTS_DEBUG&&console.log("seeked + play",e):(PLAYER_EVENTS_DEBUG&&console.log("seeked",e),c=!0));break;case"stopped":b.materialStarted=!1,b.setPreviousAction("ended"),b.trigger("videoStopped"),b.firstStart=!1,PLAYER_EVENTS_DEBUG&&console.log("stopped"),f(!1)}}}function statsTvn(a){function b(){var a=this;a.time=0,a.lastTime=0,a.currentTime=0,a.watchingPaused=!1,c.on("timeupdate",function(){a.watchingPaused||(a.currentTime=roundToHalf(c.currentTime()),a.currentTime!==a.lastTime&&(a.lastTime=a.currentTime,a.time++))}),this.continueWatching=function(){a.watchingPaused=!1},this.pauseWatching=function(){a.watchingPaused=!0},this.getWatchingTime=function(){return a.time/2},this.resetWatchingTime=function(){a.time=0,a.pauseWatching()}}var c=this;c.materialId=a.videoMaterialId||"",c.additionalPackage=a.videoAdditionalPackage||[],c.customPackage=a.videoCustomPackage||[],c.playerId="player_"+Math.round(1e6*Math.random()),c.treeId=[],function(){if("string"==typeof c.customPackage){var a=[],b=c.customPackage.split("&");for(var d in b)if(""!=b){var e=b[d].split("=");2==e.length&&a.push({name:e[0],value:e[1]})}c.customPackage=a}}(),c.on("videoPlaying",function(){i("playing")}),c.on("videoPaused",function(){i("paused"),k("play_pause")}),c.on("videoSeek",function(){i("seekingStarted"),k("play_seek"),c.videoWasPlaying&&i("playing")}),c.on("videoBegin",function(){h(),k(c.options().playlistData?"play_long":"play_short")}),c.on("videoMainComplete",function(){i("complete"),k("play_end")}),c.on("videoProgress",function(a){l(a)}),c.on("videoAllFirstStart",function(){k("player_load")}),c.part=[],c.pix2params=[],c.pix2params.asset_id=c.materialId,c.sendStopEventStats=function(){i("stopped"),k("play_stop"),j()},c.options().adBlockSendHit&&(isAdBlockEnabled()?c.customPackage.push({name:"tvn_adbl",value:"1"}):c.customPackage.push({name:"tvn_adbl",value:"0"}));var d=!1;if(c.loggedUserCache||c.isTmobileUserCache){for(var e=0;e<c.customPackage.length;e++)"undefined"!=typeof c.customPackage[e]&&"tvn_login"==c.customPackage[e].name&&c.loggedUserCache?c.customPackage[e].value="yes":c.isTmobileUserCache&&"tvn_tmobile_user"==c.customPackage[e].name&&(c.customPackage[e].value=c.isTmobileUserCache.toString());if("undefined"!=typeof window.userPackage&&c.customPackage.push({name:"tvn_user_package",value:window.userPackage}),c.loggedUserCache)for(var f in c.customPackage)"undefined"!=typeof c.customPackage[f]&&"tvn_id"==c.customPackage[f].name&&(d=!0)}if(d===!1){var g=c.getUserHash();g&&c.customPackage.push({name:"tvn_id",value:g})}var h=function(){var a;a=c.options().isLive?-1:parseInt(c.duration(),10),"undefined"!=typeof gemiusStream&&(gemiusStream.newStream(c.playerId,c.materialId,a,c.customPackage,c.additionalPackage,c.options().gStreamAccount,HITCOLLECTOR,c.treeId),PLAYER_STATS_DEBUG&&console.log("gSmSendNewStream",a),c.debug("gemiusStream","gSmSendNewStream",[c.playerId,c.materialId,a,c.customPackage,c.additionalPackage,c.options().gStreamAccount,HITCOLLECTOR,c.treeId]))},i=function(a){if("undefined"!=typeof gemiusStream){var b=c.getFixedCurrentTime();gemiusStream.event(c.playerId,c.materialId,b,a),PLAYER_STATS_DEBUG&&console.log("gSmSendEvent",a,b),c.debug("gemiusStream","gSmSendEvent-"+a,[c.materialId])}},j=function(){if("undefined"!=typeof gemiusStream){var a=c.getFixedCurrentTime();gemiusStream.closeStream(c.playerId,c.materialId,a),c.playerId="player_"+Math.round(1e6*Math.random()),PLAYER_STATS_DEBUG&&console.log("gSmSendEvent","closeStream",a),c.debug("gemiusStream","closeStream",[c.materialId])}},k=function(a){"undefined"!=typeof __pix2&&"function"==typeof __pix2.event&&"undefined"!=typeof PIX2_HITCOLLECTOR&&(__pix2.event(a,c.pix2params),c.debug("PIX2","action-"+a,c.pix2params))},l=function(){var a=parseInt(c.getInformation().watchingTime,10),b=60;c.lastProgress!==a&&(c.lastProgress=a,$(c.node).trigger("video.progress",c.getInformation()),0!==a&&a%b===0&&k("play_"+a+"s"))},m=new b,n=new b;c.on("videoPlaying",m.continueWatching),c.on("videoCompleteAd",m.continueWatching),c.on("videoPlayingAd",m.pauseWatching),c.on("videoMainComplete",m.resetWatchingTime),c.on("videoStopped",m.resetWatchingTime),c.on("videoPlayingAd",n.continueWatching),c.on("videoAdEnded",n.resetWatchingTime),c.on("videoMainComplete",n.resetWatchingTime),c.on("videoPlaying",n.resetWatchingTime),c.getInformation=function(){var a={watchingTime:-1,playbackTime:-1,totalTime:-1,moveId:-1,getMovieId:-1};return c&&(a.watchingTime=m.getWatchingTime(),a.playbackTime=c.getFixedCurrentTime(),c.options().isLive?a.totalTime=-1:a.totalTime=c.duration(),a.moveId=c.clipId,a.getMovieId=c.clipId),a},c.getAdsInformation=function(){var a={watchingTime:-1,playbackTime:-1,totalTime:-1};return c&&(a.watchingTime=n.getWatchingTime(),a.playbackTime=c.currentTime(),a.totalTime=c.duration()),a}}function VideoAdsHandler(a){var b=this;b.player=a,b.video_wrapper=$(b.player.el())}function coreTvn(a){function b(){n.newAdStock.overlay.length&&(n.overlayHandler=new adHandlers.overlay(m,n,p))}function c(){n.restboardHandler=new adHandlers.restboard(m,n,a),n.restboardHandler.build()}function d(){n.isIma=!1,n.currentAdGroupIndex=!1,n.currentAdType=!1,n.currentAdTime=0,n.currentMidrollIndex=!1,n.adPlayedAfterSeeking&&n.setPreviousAction("seeked"),e(),n.skipAllowed=!1,f(!1),n.turnTransition(!1),n.on("canplay",function(){l.removeClass("vjs-switching"),n.currentTime(enforcePrecision(~~n.pauseTime,1)),n.play(),n.off("canplay"),n.pauseTime=!1,setTimeout(function(){n.turnTransition(!0)},50)}),n.advertInProgeres=!1,n.playingCallback()}function e(){if("MPEG-DASH"===n.isTypeMovieDashOrHLS()){n.pause();var a=n.volume(),b=n.muted(),c=-1!=navigator.appVersion.indexOf("Edge"),d=!(!window.MSInputMethodContext||!document.documentMode||"8.1"!=window.uOSversion&&"10"!=window.uOSversion||"Windows"!=window.uOS);require(["moduleMPD2","moduleMPDtech2"],function(){if(!o)return n.hasStarted(!1),void n.errorLoadMovie();n.src(null),n.loadTech("Dashjs",o),n.muted(b),n.volume(a);var e=n.options().activeMovie.profiles.wv.kid,f=[];f.push(["key",encodeURIComponent(e)].join("="));var g=n.options().license.url;(d||c)&&g&&(g=n.options().isLive===!1?n.options().license.url.replace("licensewebwv","licensewebpr"):n.options().license.url.replace("licensewebwvlive","licensewebprlive"),-1!=n.options().license.url.indexOf("drm-web")&&(g=n.options().license.url+="/pr"));var h={"com.microsoft.playready":new MediaPlayer.vo.protection.ProtectionData([g,f.join("&")].join("?"))},i={"com.widevine.alpha":new MediaPlayer.vo.protection.ProtectionData([g,f.join("&")].join("?"))},j={};null!=g&&f.length>0&&(j=d||c?h:i),n.mediaPlayer.setMaxAllowedBitrateFor("video",1801),n.mediaPlayer.attachSource(o,null,j),isDefined(n.watchedTimePresent)&&1==n.watchedTimePresent&&(0!=n.options().activeMovie.time&&(setTime=n.options().activeMovie.time,n.on("loadedmetadata",function(){n.mediaPlayer.seek(setTime)})),n.watchedTimePresent=!1)})}else if("HLS"===n.isTypeMovieDashOrHLS())n.src(o);else{if("function"==typeof n.changeResolutionDefault&&n.supportQuality())n.changeResolutionDefault(parseInt(n.pauseTime));else{var e=o.replace("redir.atmcdn.pl","r.dcs.redcdn.pl");"Chrome"==uBrowser&&uVersion>=45&&(e=jsonRedirectRedcdn(e)),n.src(e)}n.one("canplay",function(){l.hasClass("vjs-ff")&&l.find("video").css("display","block")})}}function f(a){if(a){if(n.seekLocked=!0,n.advertInProgeres=!0,l.find(".vjs-play-progress").addClass("vjs-ad-progress"),l.find(".vjs-progress-control").addClass("vjs-ad-progress"),l.find(".vjs-play-progress").addClass("vjs-cursor-default"),l.find(".vjs-load-progress").addClass("vjs-cursor-default"),l.find(".vjs-mute-control").addClass("vjs-hidden"),isDefined(n.controlBar.stopButton)&&n.controlBar.stopButton.hide(),n.controlBar.shareButton&&n.controlBar.shareButton.close(),isDefined(n.controlBar.playNextButton)&&n.controlBar.playNextButton.hide(),isDefined(n.controlBar.playPrevButton)&&n.controlBar.playPrevButton.hide(),n.controlBar.currentTimeDisplay.hide(),n.controlBar.timeDivider.hide(),n.controlBar.durationDisplay.hide(),l.find(".vjs-control-content").hide(),l.find(".vjs-resolutions-button").hide(),l.find(".vjs-parentalRating").remove(),n.adProgressBar===!1?n.controlBar.progressControl.hide():n.turnTransition(!0),n.controlBar.playToggle.show(),(videojs.TOUCH_ENABLED||n.options().isMobile)&&n.options().nativeControlsForTouch===!0){var b=$(l).find(".vjs-control-bar-wrapper");b.length&&b.show(),l.find("video").removeAttr("controls")}l.find(".vjs-pause-overlay").length&&l.find(".vjs-pause-overlay").removeClass("vjs-hidden")}else if(""!=n.parentalRating&&n.spawnEntity("parentalRating",n.parentalRating,{x:"46px",y:"46px"}),l.find(".vjs-pause-overlay").length&&l.find(".vjs-pause-overlay").addClass("vjs-hidden"),n.seekLocked=!1,l.find(".vjs-ad-legal").hide(),l.find(".vjs-click-through-button").hide(),l.find(".vjs-play-progress").removeClass("vjs-ad-progress"),l.find(".vjs-progress-control").removeClass("vjs-ad-progress"),l.find(".vjs-play-progress").removeClass("vjs-cursor-default"),l.find(".vjs-load-progress").removeClass("vjs-cursor-default"),l.find(".vjs-mute-control").removeClass("vjs-hidden"),"undefined"!=typeof n.controlBar.stopButton&&(n.controlBar.stopButton.requestStopButton||n.options().isLive?n.controlBar.stopButton.show():n.controlBar.stopButton.hide()),"undefined"!=typeof n.controlBar.shareButton&&(n.controlBar.shareButton.requestShareButton||!n.options().isLive?n.controlBar.shareButton.show():n.controlBar.shareButton.hide()),"undefined"!=typeof n.controlBar.playNextButton&&(n.controlBar.playNextButton.requestPlayNextButton?n.controlBar.playNextButton.show():n.controlBar.playNextButton.hide()),"undefined"!=typeof n.controlBar.playPrevButton&&(n.controlBar.playPrevButton.requestPlayPrevButton?n.controlBar.playPrevButton.show():n.controlBar.playPrevButton.hide()),n.isTypeMovieDashOrHLS()||l.find(".vjs-control-content").show(),isDefined(n.controlBar.shareButton)&&n.controlBar.shareButton.show(),n.controlBar.currentTimeDisplay.show(),n.controlBar.timeDivider.show(),n.controlBar.durationDisplay.show(),n.controlBar.progressControl.show(),n.controlBar.playToggle.show(),n.bigPlayButton.addClass("vjs-hidden"),l.find(".vjs-resolutions-button").show(),(videojs.TOUCH_ENABLED||n.options().isMobile)&&n.options().nativeControlsForTouch===!0){var b=$(l).find(".vjs-control-bar-wrapper");b.length&&b.hide(),l.find("video")[0].setAttribute("controls","")}}function g(){var b=parseInt(n.currentTime());if(l.hasClass("vjs-waiting")&&l.removeClass("vjs-waiting"),n.nextAdGroupIndex!==!1){var c=n.currentTime(),d=n.newAdStock[n.nextAdGroupIndex].timeStart;"end"!==d&&c>=d&&n.advertInProgeres===!1&&mouseDown===!1&&(n.getPreviousAction("seek-ended")&&(n.adPlayedAfterSeeking=!0),n.currentAdGroupIndex=n.nextAdGroupIndex,k())}n.advertInProgeres&&(n.remainingWrap.html(n.videoAdsHandler.getRemainingTime()),n.videoAdsHandler.handleSkipButton(a),n.videoAdsHandler.handleTracking()),n.lastTimeupdate!==b&&(n.lastTimeupdate=b,n.handleProductPlacement(b),n.advertInProgeres===!1&&(n.overlayHandler&&n.overlayHandler.handleOverlays(b),isDefined(n.options().activeMovie)&&n.options().activeMovie!==!1&&n.isUserLogged()&&b%7==0&&n.lastSendTime!=b&&(n.lastSendTime=b,$.post("/user/player.json",{isWatched:0,moveId:n.options().activeMovie.id,playbackTime:b,save:1,totalTime:makeSeconds(n.options().activeMovie.run_time)}))))}function h(){if(n.endOfClip=!0,n.trigger("seqEnded"),n.sequentialInProgress)return!1;if(n.interactive&&n.interactive.clear(),n.interactive2&&n.interactive2.clear(),n.sequential&&(n.sequential.clear(),delete n.sequential),n.trigger("materialEnded"),n.advertInProgeres?n.trigger("videoAdEnded"):(n.endReached=!0,n.currentAdGroupIndex=n.videoAdsHandler.getAdGroupIndex("end")),!n.endReached)return void k();if(n.endReached&&n.currentAdGroupIndex!==!1&&n.videoAdsHandler.getFirstActiveItemIndex()!==!1)k();else if(l.find(".vjs-ad-legal").hide(),"object"==typeof n.options().activeMovie&&"object"==typeof n.options().nextMovie){var a=l.find(".vjs-restboard-container");n.restboardHandler&&(n.restboardHandler.showElHandler(a),n.restboardHandler.handleTimer(a))}else"object"==typeof n.options().activeMovie&&n.options().nextMovie===!1?(n.resetPlayerAds(),$(n.node).trigger("video.playlistEnd")):(n.exitFullscreenOnEnd(),$(n.node).trigger("video.complete"),n.sendPostMessage("videoComplete"),n.resetPlayerAds())}function i(){l.addClass("vjs-switching"),n.checkIsLive(),n.defaultPoster=n.options().defaultPoster,n.options().isMobile||(l.find("video").attr("poster",""),l.find(".vjs-poster").addClass("vjs-hidden")),n.remainingWrap=l.find(".vjs-ad-legal .vjs-ad-legal-remaining"),$(n.node).trigger("video.allFirstStart"),n.trigger("videoAllFirstStart"),n.lastSendTime=0,n.lastTimeupdate=0,n.on("timeupdate",function(){g()}),n.on("ended",function(){h()}),n.on("adstart",function(){n.setPreviousAction("playAd"),n.advertInProgeres=!0}),n.on("adend",function(){n.setPreviousAction("endedAd"),n.play(),n.bigPlayButton.addClass("vjs-hidden"),n.bigPlayButton.hide(),n.advertInProgeres=!1}),l.on("click",".vjs-impression-action",function(){var a=$(this).data("impression");a&&(n.runTracking(a),n.debug("ads","impression-acrtion",a))}),n.isIma===!1&&j(),n.one("canplay",function(){l.removeClass("vjs-switching")})}function j(){n.currentAdGroupIndex=n.videoAdsHandler.getAdGroupIndex(0),n.currentAdGroupIndex!==!1?k():(n.nextAdGroupIndex=n.videoAdsHandler.getFirstActiveGroupIndex(),e(),f(!1))}function k(){l.addClass("vjs-switching"),l.find(".vjs-click-through-button").hide();var a=!1,b=n.currentAdGroupIndex===!1?!1:n.newAdStock[n.currentAdGroupIndex],c=l.find(".vjs-ad-legal .vjs-ad-legal-remaining");if(n.turnTransition(!1),b&&(b.active=!1,n.currentAdItemIndex=n.videoAdsHandler.getFirstActiveItemIndex(),n.currentAdItemIndex!==!1&&(a=b.items[n.currentAdItemIndex])),a!==!1){n.trackingFlags={};var e=b.totalDuration;n.advertInProgeres=!0,a.active=!1,n.skipAllowed=!1,n.adClickUrl=a.ClickThrought,l.find(".vjs-ad-legal .vjs-ad-legal-label").text(getAdvertLabel(a)),l.find(".vjs-click-through-button").attr("data-href",n.adClickUrl),f(!0),n.playingAdCallback(b.type),"mid-roll"!==b.type||n.pauseTime||(n.pauseTime=n.currentTime()),n.currentAdType=b.type,n.currentAdTime=makeSeconds(a.fullObj.Duration),c.text()||c.text(secondsToHms(e)+" ");try{l.find(".vjs-overlay-container").hide(),n.isShowedOverlay=!1;var g=!1;"undefined"!=typeof a.fullObj.Sequential&&(n.sequential=new adHandlers.sequential(l,n),n.sequential.build(a),"undefined"!=typeof a.fullObj.Sequential.attribs.skipMainVideo&&"true"==a.fullObj.Sequential.attribs.skipMainVideo&&(g=!0)),g?(l.find(".vjs-ad-legal").show(),l.removeClass("vjs-switching"),n.sequential.skipMainVideo=!0,n.sequential.showSplashScreen()):((n.options().isLive||n.options().playlistData!==!1||"Chrome"==uBrowser&&uVersion>=45)&&(a.source=jsonRedirectRedcdn(a.source)),n.src(a.source),n.load()),n.on("canplay",function(){l.hasClass("vjs-ff")&&l.find("video").css("display","block"),n.currentAdGroupIndex!==!1&&(l.find(".vjs-ad-legal").show(),n.adClickUrl&&l.find(".vjs-click-through-button").css("display","block"),l.removeClass("vjs-switching"),n.interactive||(n.interactive=new adHandlers.interactive(l,n)),n.interactive.build(a),n.interactive2||(n.interactive2=new adHandlers.interactive2(l,n)),n.interactive2.build(a),document[n.tabHidden]&&(n.tabHiddenOnAdEnd=!0,n.pause()),n.trigger("sendImpression")),n.off("canplay")})}catch(h){PLAYER_DEBUG&&(console.log("showSlot Exception"),console.log(h))}}else n.nextAdGroupIndex=n.videoAdsHandler.getFirstActiveGroupIndex(),c.text(""),d()}a="undefined"!=typeof a?a:{};var l=$(this.el()),m=l,n=this,o=this.src(),p="undefined"!=typeof a&&"undefined"!=typeof a.ads&&"undefined"!=typeof a.ads.midBrakes?a.ads.midBrakes:[];l.find(".vjs-control-bar-wrapper").length&&(m=l.find(".vjs-control-bar-wrapper")),n.parentalRating="undefined"!=typeof a&&"undefined"!=typeof a.parentalRating?a.parentalRating:"","undefined"!=typeof a&&"object"==typeof a.productPlacement&&(n.productPlacement=a.productPlacement,n.productPlacement.active=!0),n.setVastInitialVars=function(){n.pauseTime=0,n.currentAdTime=0,n.currentAdGroupIndex=!1,n.currentAdItemIndex=!1,n.currentMidrollIndex=!1,n.nextAdGroupIndex=!1,n.currentAdType=!1,n.skipAllowed=!1,n.advertInProgeres=!1,n.sequentialInProgress=!1,n.sequentialStage=!1,n.vastInitialised=!1,n.newAdStock=[],n.newAdStock.overlay=[],n.newAdStock.restboard=!1,n.seekLocked=!1,n.adClickUrl=!1,n.trackingFlags={},n.adType=!1,n.adSlot=!1,n.endReached=!1,n.endOfClip=!1,n.sequential=!1,n.restboardHandler=!1,n.prPlHolder=!1,n.prPlEndingHolder=!1,n.overlayHandler=!1,n.interactive=!1,n.interactive2=!1,n.videoAdsHandler=new VideoAdsHandler(n),n.blockIpadFullscreenEvent=!1,n.isIma=!1,n.lastProgress=!1,n.initialCurrentTime=0},n.setVastInitialVars(),o=l.parent().data("src"),(n.options().isLive||n.options().playlistData!==!1)&&(o=jsonRedirectRedcdn(o));var q="",r="";"undefined"!=typeof a.ads&&(q=a.ads.servers[0].apiAddress,r=a.ads.servers[0].provider),n.isTypeMovieDashOrHLS=function(){return"undefined"==typeof o?"MPEG-DASH":vjsIsTypeMovieDashOrHLS(o)},n.loggedUserCache&&(q=q.replace("tvn_login=no","tvn_login=yes"));var s="";if(q&&"function"==typeof setExtraAdParams){var t=setExtraAdParams();"string"==typeof t&&t.length&&(s="/"+t)}if(q&&"string"==typeof uDevice&&(s=s+"/tvn_device_type="+uDevice),q&&"undefined"!=typeof screen&&(s=s+"/x="+screen.width+"/y="+screen.height),q&&window.innerWidth&&window.innerHeight&&(s=s+"/w="+window.innerWidth+"/h="+window.innerHeight),q){var u=$(n.el()).width(),v=$(n.el()).height(),w=u;u/v>16/9&&(w=Math.round(v*(16/9))),s=s+"/tvn_player_size="+w}q=q.replace("tvn_player_type=kinowy","tvn_player_type=kinowy_player5"),q=q.replace("tvn_player_type=zwykly","tvn_player_type=zwykly_player5"),q=q.replace("tvn_player_type=970","tvn_player_type=970_player5"),-1===q.indexOf("tvn_player_type")&&(s+="/tvn_player_type=player5"),-1===q.indexOf("?")&&(s=s.replace("/","?")),n.entitySpace=entitySpace,-1!==q.indexOf("tvn_player_type=kinowy_player5")&&l.addClass("vjs-kinowy"),q=n.setTrafficTags(q),n.initContinueWatching=function(){if(isDefined(n.options().activeMovie)&&isDefined(n.options().activeMovie.time)){var a=render("continue_watching_screen",n.options().activeMovie);m.append(a),l.find(".vjs-cw-button.vjs-yes").on("click",function(){q=adjustVastUrl(q,n.options().activeMovie);try{var a=n.options().activeMovie.id;$.post("/player-sl/kontynuuj-ogladanie-usun.json",{itemToRemove:a})}catch(b){}n.watchedTimePresent=!0,l.find(".vjs-continue-watching-screen").hide(),n.initVast()}),l.find(".vjs-cw-button.vjs-no").on("click",function(){l.find(".vjs-continue-watching-screen").hide();var a=n.options().activeMovie.id;$.post("/player-sl/kontynuuj-ogladanie-usun.json",{itemToRemove:a}),n.initVast()})}else n.initVast()},n.initVast=function(){if(!n.vastInitialised){if(n.vastInitialised=!0,n.bigPlayButton.addClass("vjs-hidden"),n.autoplay(!0),!q||!r)return i(),c(),PLAYER_DEBUG&&console.error("Brak adresu lub providera VAST"),!1;$.ajax({url:q+s,type:"GET",xhrFields:{withCredentials:!0},async:!0,success:function(e){var f=vastParserProviders[r](e);if("ima"==f.type)require(["imaGoogle"],function(){n.isIma=!0,i();var a={id:l.attr("id"),adTagUrl:f.urlToRedirect};n.ima(a),n.ima.initializeAdDisplayContainer(),n.ima.requestAds(),n.one("adstart",function(){n.runTracking(f.Impression)}),n.one("adend",function(){d()}),n.on("adserror",function(){d(),n.runTracking(f.Error)})},function(){d()});else{for(var g=0;g<f.length;g++){var h=f[g];if("Preroll"===h.type)n.advertInProgeres=!0,n.videoAdsHandler.addGroup(0,h);else if(/Midroll/.test(h.type)){var j=parseInt(h.type.replace("Midroll_",""))-1;if("undefined"!=typeof p[j]){var k=makeSeconds(p[j].time);h.breakNumber=j,n.videoAdsHandler.addGroup(k,h)}}else"Postroll"===h.type?n.videoAdsHandler.addGroup("end",h):"Overlay"===h.type?n.newAdStock.overlay.push(h):"Restboard"===h.type&&(n.newAdStock.restboard=h)}l.trigger("video.adReceived",[e]),n.newAdStock=sortRollVideo(n.newAdStock),n.newAdStock.overlay=fixTimeShifts(n.newAdStock.overlay),n.videoAdsHandler.buildAdInfoBlock(a),i(),b(),c()}},error:function(a){n.options().adbBannerOnVastError&&n.options().adBlock&&!tvn24ScrollTvnCheck()?(n.options().adBlockBanner="http://s.tvn.pl/bc/ab/960x540_AdBlock-SplashScreen2.jpg",n.node.append(TvnAdBlockBoardUtils.generateBoardHTML(n.options())),TvnAdBlockBoardUtils.adBlockBoardCallback(n.node),n.remove()):(i(),c())}})}},n.options().autoplay===!0&&n.bigPlayButton.onClick(!0),n.onError=function(a){if("undefined"!=typeof window.uBrowser&&"Safari"===window.uBrowser&&n.advertInProgeres)return l.removeClass("vjs-error"),n.currentAdGroupIndex=!1,n.nextAdGroupIndex=!1,n.newAdStock=[],n.nextAdGroupIndex=!1,f(!1),d(),void l.find("video").removeAttr("style");var b=function(){n.options().adBlockBanner="http://s.tvn.pl/bc/ab/960x540_AdBlock-SplashScreen2.jpg",n.node.append(TvnAdBlockBoardUtils.generateBoardHTML(n.options())),TvnAdBlockBoardUtils.adBlockBoardCallback(n.node),n.remove()},c=function(){var b=a.target,c=window.location.href;-1!==c.indexOf("#")&&(c=c.split("#")[0]),$(b).hasClass("video-js")&&""!=n.src()&&n.src()!==c&&n.errorLoadMovie()};n.isAdBlockEnabledAgain(c,b)},n.exitFullscreenOnEnd=function(){videojs.IS_IPAD&&n.isFullscreen()||n.isFullscreen()&&n.options().isTablet||$("html").hasClass("vjs-video-on-fullscreen")&&n.isFullscreen()?($("html").removeClass("vjs-video-on-fullscreen"),$(n.el()).removeClass("vjs-ipad-fullscreen vjs-fullscreen"),$(n.el()).removeClass("vjs-ie-fullscreen"),$(n.el()).removeClass("vjs-tablet-fullscreen"),$(n.el()).parent().removeClass("vjs-fullscreen-parent"),n.isFullscreen_=!n.isFullscreen_,$(n.el()).find(".vjs-tech").attr("style",""),$(n.videoParentElement).prepend(n.node[0]),$(window).off("resize.vjsfullscreen")):!n.isFullscreen()||n.options().isTablet||n.options().isMobile||n.exitFullscreen()},n.resetPlayerAds=function(){n.autoplay(!1),n.overlayHandler&&n.overlayHandler.clear(),n.isShowedOverlay=!1,n.interactive&&n.interactive.clear(),n.interactive2&&n.interactive2.clear(),n.ads&&(n.ads.contentSrc="","undefined"!=typeof n.ads.snapshot&&(n.ads.snapshot.src="")),n.ima&&"function"==typeof n.ima.resetIMA_&&n.ima.resetIMA_(),"undefined"!=typeof n.ima&&(n.off("readyforpreroll"),n.off("adserror"),n.off("adstart"),n.off("fullscreenchange2"),n.on("fullscreenchange2",n.onFullscreenChange)),l.find(".vjs-ad-legal,.vjs-click-through-button,.vjs-parentalRating,.vjs-productPlacement").remove(),n.restboardHandler&&n.restboardHandler.clear(),n.controlBar.shareButton&&n.controlBar.shareButton.close(),clearTimeout(n.progressControllTimeout),$("div#"+n.id()+" .vjs-tip").remove(),l.find("video").removeAttr("poster"),n.exitFullscreenOnEnd(),l.find("video").attr("poster",n.defaultPoster),l.find(".vjs-poster").removeClass("vjs-hidden"),n.bigPlayButton.removeClass("vjs-hidden"),n.setVastInitialVars(),n.paused()||n.pause(),n.hasStarted_||(n.hasStarted_=!0);var a=$(l).find(".vjs-control-bar-wrapper");a.length&&a.show(),"undefined"!=typeof n.mediaPlayer&&"undefined"!=typeof n.mediaPlayer.unload&&n.mediaPlayer.unload(),"undefined"!=typeof n.mediaPlayer&&"undefined"!=typeof n.mediaPlayer.reset&&n.mediaPlayer.reset(),(videojs.TOUCH_ENABLED||n.options().isMobile)&&n.options().nativeControlsForTouch===!0&&l.find("video").removeAttr("controls"),n.turnTransition(!1),n.hasStarted(!1),n.src(null),n.cache_.src="",l.find("video").removeAttr("src"),l.addClass("first-request"),n.off("ended"),n.on("ended",n.onEnded)},n.errorLoadMovie=function(){l.append(errorLoadMovie()),l.find(".vjs-poster").removeClass("vjs-hidden"),l.addClass("vjs-error-load")},n.stop=function(){n.trigger("stopped")},n.playingCallback=function(){TvnAdBlockBoardUtils.checkCookie()&&TvnAdBlockBoardUtils.track(["Adblock","StartAsset"],{gemius:{player_action:"Plansza Adblock Start assetu"},GA:{category:"Plansza Adblok",action:"Start assetu"},pix2:{event:"Plansza Adblock Start assetu"}})},n.playingAdCallback=function(a){a=a.replace("-",""),TvnAdBlockBoardUtils.checkCookie()&&TvnAdBlockBoardUtils.track(["Adblock","StartAd"],{gemius:{player_action:"Plansza Adblock Start reklamy"},GA:{category:"Plansza Adblok",action:"Start reklamy",label:a},pix2:{event:"Plansza Adblock Start reklamy",params:{breakName:a}}})}}Function.prototype.bind=Function.prototype.bind||function(a){var b=Array.prototype.splice.call(arguments,1),c=this,d=function(){var e=b.concat(Array.prototype.splice.call(arguments,0));return this instanceof d?void c.apply(this,e):c.apply(a,e)};return d.prototype=c.prototype,d};var Detector=function(){this.browser="Unknown",this.version="Unknown",this.webkitversion=void 0,this.device="Desktop",this.parameters=window.navigator.userAgent||window.navigator.vendor||window.opera||navigator.userAgent,this.patternMobileNowe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,this.patternTablety=/android|ipad|tablet|playbook|silk/i,this.patternMobileStare=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,this.detectDevice=function(){return this.detectWebkitVersion(),this.patternMobileNowe.test(this.parameters)?this.device="Smartfon":this.patternTablety.test(this.parameters)?this.device="Tablet":this.patternMobileStare.test(this.parameters.substr(0,4))&&(this.device="Telefon"),this},this.detectWebkitVersion=function(){if(/AppleWebKit/.test(this.parameters)){var a=this.parameters.match(/AppleWebKit\/([0-9]+)\./);"undefined"!=typeof a&&a&&void 0!==typeof a[1]&&(this.webkitversion=parseFloat(a[1]))}},this.detectBrowser=function(){return/IEMobile\/(\d+\.\d+);/.test(navigator.userAgent)&&(this.browser="MSIE",this.version=new Number(RegExp.$1)),/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)?this.browser="Opera":/MSIE (\d+\.\d+);/.test(navigator.userAgent)?this.browser="MSIE":/Navigator[\/\s](\d+\.\d+)/.test(navigator.userAgent)?this.browser="Netscape":/Chrome[\/\s](\d+\.\d+)/.test(navigator.userAgent)?this.browser="Chrome":/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(this.browser="Safari",
/Version[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.version=new Number(RegExp.$1)):/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(this.browser="Firefox"),"Unknown"==this.version&&(this.version=parseFloat(new Number(RegExp.$1))),this},this.getBrowser=function(){return this.browser},this.getVersion=function(){return this.version},this.getDevice=function(){return this.device},this.getWebkitVersion=function(){return this.webkitversion},this.detectOS=function(){return this.OS="Unknown",-1!=navigator.appVersion.indexOf("Win")&&(this.OS="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(this.OS="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(this.OS="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(this.OS="Linux"),-1!=navigator.userAgent.indexOf("Android")&&(this.OS="Android"),this.OS},this.detectOSversion=function(){this.OSversion="Unknown";var a=navigator.appVersion,b=navigator.userAgent;return-1!=a.indexOf("Windows NT 5.0")&&(this.OSversion="2000"),(-1!=a.indexOf("Windows NT 5.1")||-1!=a.indexOf("Windows NT 5.2"))&&(this.OSversion="XP"),-1!=a.indexOf("Windows NT 6.0")&&(this.OSversion="Vista"),-1!=a.indexOf("Windows NT 6.1")&&(this.OSversion="7"),-1!=a.indexOf("Windows NT 6.2")&&(this.OSversion="8"),-1!=a.indexOf("Windows NT 6.3")&&(this.OSversion="8.1"),(-1!=a.indexOf("Windows NT 6.4")||-1!=a.indexOf("Windows NT 10"))&&(this.OSversion="10"),b.indexOf("Android")>=0&&(this.OSversion=parseFloat(b.slice(b.indexOf("Android")+8))),this.OSversion}};detector=new Detector,window.uDevice=detector.detectDevice().getDevice(),window.uBrowser=detector.detectBrowser().getBrowser(),window.uVersion=detector.getVersion(),window.uOS=detector.detectOS(),window.uOSversion=detector.detectOSversion(),window.isMobileDevice="Smartfon"==uDevice||"Telefon"==uDevice?!0:!1;var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),e=c?/mac/.test(c):/mac/.test(b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();(function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))})(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();$(document).ready(function(){!function(a){a.fn.timerCountDown=function(b){var c=a.extend({timerElement:'[data-tvn-timer="counter"]',startTime:10,callback:null,endCallback:null},b),d=this;return formatTimer=function(a){return 10>a&&(a="0"+a),a},startTimer=function(){switch(d.d1=new Date,d.state){case"pause":d.t1=d.d1.getTime()-d.td;break;default:d.t1=d.d1.getTime(),d.t1+=1e3*parseInt(c.startTime)}d.state="alive",loopTimer()},pauseTimer=function(){d.dp=new Date,d.tp=d.dp.getTime(),d.td=d.tp-d.t1,d.state="pause"},stopTimer=function(){d.state="stop"},resetTimer=function(){a(c.timerElement).html(c.startTime),d.state="reset"},endTimer=function(a){d.state="end","function"==typeof a&&a()},loopTimer=function(){var b,e,f,g=0,h=0,i=0,j=0;if("alive"!==d.state)return clearTimeout(d.t),!0;e=new Date,f=e.getTime(),b=d.t1-f,0>=b&&endTimer(function(){resetTimer(),"function"==typeof c.endCallback&&c.endCallback()}),g=b%1e3,1>g&&(g=0),h=(b-g)/1e3,1>h&&(h=0);var i=(h-h%60)/60;1>i&&(i=0);var j=(i-i%60)/60;1>j&&(j=0),g=Math.round(g/100),h-=60*i,i-=60*j;var k=parseInt(a(c.timerElement).html(),10);a(c.timerElement).html(h),"function"==typeof c.callback&&k!==h&&c.callback(h),d.t=setTimeout(loopTimer,1)},a('[data-tvn-timer="start"]').on("click",function(){startTimer()}),a('[data-tvn-timer="stop"]').on("click",function(){stopTimer()}),a('[data-tvn-timer="reset"]').on("click",function(){resetTimer()}),a('[data-tvn-timer="pause"]').on("click",function(){pauseTimer()}),{start:startTimer,stop:stopTimer,reset:resetTimer,pause:pauseTimer}}}(jQuery)}),function(a,b){function c(a,b,c){return[parseInt(a[0],10)*(n.test(a[0])?b/100:1),parseInt(a[1],10)*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&h(c+d)<n&&(i.horizontal="center"),m>p&&h(e+f)<p&&(i.vertical="middle"),g(h(c),h(d))>g(h(e),h(f))?i.important="horizontal":i.important="vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&0>=i?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&0>=i?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a,b){function c(a){for(var b,c=a.split(/\s+/),d=[],e=0;b=c[e];e++)b=b.charAt(0).toUpperCase(),d.push(b);return d}function d(b){return b.id&&a('label[for="'+b.id+'"]').val()||b.name}function e(c,f,g){return g||(g=0),f.each(function(){var f,h,i=a(this),j=this,k=this.nodeName.toLowerCase();switch("label"==k&&i.find("input, textarea, select").length&&(f=i.text(),i=i.children().first(),j=i.get(0),k=j.nodeName.toLowerCase()),k){case"menu":h={name:i.attr("label"),items:{}},g=e(h.items,i.children(),g);break;case"a":case"button":h={name:i.text(),disabled:!!i.attr("disabled"),callback:function(){return function(){i.click()}}()};break;case"menuitem":case"command":switch(i.attr("type")){case b:case"command":case"menuitem":h={name:i.attr("label"),disabled:!!i.attr("disabled"),callback:function(){return function(){i.click()}}()};break;case"checkbox":h={type:"checkbox",disabled:!!i.attr("disabled"),name:i.attr("label"),selected:!!i.attr("checked")};break;case"radio":h={type:"radio",disabled:!!i.attr("disabled"),name:i.attr("label"),radio:i.attr("radiogroup"),value:i.attr("id"),selected:!!i.attr("checked")};break;default:h=b}break;case"hr":h="-------";break;case"input":switch(i.attr("type")){case"text":h={type:"text",name:f||d(j),disabled:!!i.attr("disabled"),value:i.val()};break;case"checkbox":h={type:"checkbox",name:f||d(j),disabled:!!i.attr("disabled"),selected:!!i.attr("checked")};break;case"radio":h={type:"radio",name:f||d(j),disabled:!!i.attr("disabled"),radio:!!i.attr("name"),value:i.val(),selected:!!i.attr("checked")};break;default:h=b}break;case"select":h={type:"select",name:f||d(j),disabled:!!i.attr("disabled"),selected:i.val(),options:{}},i.children().each(function(){h.options[this.value]=a(this).text()});break;case"textarea":h={type:"textarea",name:f||d(j),disabled:!!i.attr("disabled"),value:i.val()};break;case"label":break;default:h={type:"html",html:i.clone(!0)}}h&&(g++,c["key"+g]=h)}),g}if(a.support.htmlMenuitem="HTMLMenuItemElement"in window,a.support.htmlCommand="HTMLCommandElement"in window,a.support.eventSelectstart="onselectstart"in document.documentElement,!a.ui||!a.ui.widget){var f=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(e){}f(b)}}var g=null,h=!1,i=a(window),j=0,k={},l={},m={},n={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function(b){if(a.ui&&a.ui.position)b.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var c=this.offset();c.top+=this.outerHeight(),c.left+=this.outerWidth()/2-b.outerWidth()/2,b.css(c)}},position:function(a,b,c){var d;if(!b&&!c)return void a.determinePosition.call(this,a.$menu);d="maintain"===b&&"maintain"===c?a.$menu.position():{top:c,left:b};var e=i.scrollTop()+i.height(),f=i.scrollLeft()+i.width(),g=a.$menu.height(),h=a.$menu.width();d.top+g>e&&(d.top-=g),d.top<0&&(d.top=0),d.left+h>f&&(d.left-=h),a.$menu.css(d)},positionSubmenu:function(b){if(a.ui&&a.ui.position)b.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var c={top:0,left:this.outerWidth()};b.css(c)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:a.noop,hide:a.noop},callback:null,items:{}},o={timer:null,pageX:null,pageY:null},p=function(a){for(var b=0,c=a;;)if(b=Math.max(b,parseInt(c.css("z-index"),10)||0),c=c.parent(),!c||!c.length||"html body".indexOf(c.prop("nodeName").toLowerCase())>-1)break;return b},q={abortevent:function(a){a.preventDefault(),a.stopImmediatePropagation()},contextmenu:function(b){var c=a(this);if("right"==b.data.trigger&&(b.preventDefault(),b.stopImmediatePropagation()),!("right"!=b.data.trigger&&b.originalEvent||c.hasClass("context-menu-active")||c.hasClass("context-menu-disabled"))){if(g=c,b.data.build){var d=b.data.build(g,b);if(d===!1)return;if(b.data=a.extend(!0,{},n,b.data,d||{}),!b.data.items||a.isEmptyObject(b.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");b.data.$trigger=g,r.create(b.data)}r.show.call(c,b.data,b.pageX,b.pageY)}},click:function(b){b.preventDefault(),b.stopImmediatePropagation(),a(this).trigger(a.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))},mousedown:function(b){var c=a(this);g&&g.length&&!g.is(c)&&g.data("contextMenu").$menu.trigger("contextmenu:hide"),2==b.button&&(g=c.data("contextMenuActive",!0))},mouseup:function(b){var c=a(this);c.data("contextMenuActive")&&g&&g.length&&g.is(c)&&!c.hasClass("context-menu-disabled")&&(b.preventDefault(),b.stopImmediatePropagation(),g=c,c.trigger(a.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))),c.removeData("contextMenuActive")},mouseenter:function(b){var c=a(this),d=a(b.relatedTarget),e=a(document);d.is(".context-menu-list")||d.closest(".context-menu-list").length||g&&g.length||(o.pageX=b.pageX,o.pageY=b.pageY,o.data=b.data,e.on("mousemove.contextMenuShow",q.mousemove),o.timer=setTimeout(function(){o.timer=null,e.off("mousemove.contextMenuShow"),g=c,c.trigger(a.Event("contextmenu",{data:o.data,pageX:o.pageX,pageY:o.pageY}))},b.data.delay))},mousemove:function(a){o.pageX=a.pageX,o.pageY=a.pageY},mouseleave:function(b){var c=a(b.relatedTarget);if(!c.is(".context-menu-list")&&!c.closest(".context-menu-list").length){try{clearTimeout(o.timer)}catch(b){}o.timer=null}},layerClick:function(b){var c,d,e=a(this),f=e.data("contextMenuRoot"),g=b.button,h=b.pageX,j=b.pageY;b.preventDefault(),b.stopImmediatePropagation(),setTimeout(function(){var e,k="left"==f.trigger&&0===g||"right"==f.trigger&&2===g;if(document.elementFromPoint&&(f.$layer.hide(),c=document.elementFromPoint(h-i.scrollLeft(),j-i.scrollTop()),f.$layer.show()),f.reposition&&k)if(document.elementFromPoint){if(f.$trigger.is(c)||f.$trigger.has(c).length)return void f.position.call(f.$trigger,f,h,j)}else if(d=f.$trigger.offset(),e=a(window),d.top+=e.scrollTop(),d.top<=b.pageY&&(d.left+=e.scrollLeft(),d.left<=b.pageX&&(d.bottom=d.top+f.$trigger.outerHeight(),d.bottom>=b.pageY&&(d.right=d.left+f.$trigger.outerWidth(),d.right>=b.pageX))))return void f.position.call(f.$trigger,f,h,j);c&&k&&f.$trigger.one("contextmenu:hidden",function(){a(c).contextMenu({x:h,y:j})}),f.$menu.trigger("contextmenu:hide")},50)},keyStop:function(a,b){b.isInput||a.preventDefault(),a.stopPropagation()},key:function(a){var b={};switch(g&&(b=g.data("contextMenu")||{}),a.keyCode){case 9:case 38:if(q.keyStop(a,b),b.isInput){if(9==a.keyCode&&a.shiftKey)return a.preventDefault(),b.$selected&&b.$selected.find("input, textarea, select").blur(),void b.$menu.trigger("prevcommand");if(38==a.keyCode&&"checkbox"==b.$selected.find("input, textarea, select").prop("type"))return void a.preventDefault()}else if(9!=a.keyCode||a.shiftKey)return void b.$menu.trigger("prevcommand");case 40:if(q.keyStop(a,b),!b.isInput)return void b.$menu.trigger("nextcommand");if(9==a.keyCode)return a.preventDefault(),b.$selected&&b.$selected.find("input, textarea, select").blur(),void b.$menu.trigger("nextcommand");if(40==a.keyCode&&"checkbox"==b.$selected.find("input, textarea, select").prop("type"))return void a.preventDefault();break;case 37:if(q.keyStop(a,b),b.isInput||!b.$selected||!b.$selected.length)break;if(!b.$selected.parent().hasClass("context-menu-root")){var c=b.$selected.parent().parent();return b.$selected.trigger("contextmenu:blur"),void(b.$selected=c)}break;case 39:if(q.keyStop(a,b),b.isInput||!b.$selected||!b.$selected.length)break;var d=b.$selected.data("contextMenu")||{};if(d.$menu&&b.$selected.hasClass("context-menu-submenu"))return b.$selected=null,d.$selected=null,void d.$menu.trigger("nextcommand");break;case 35:case 36:return b.$selected&&b.$selected.find("input, textarea, select").length?void 0:((b.$selected&&b.$selected.parent()||b.$menu).children(":not(.disabled, .not-selectable)")[36==a.keyCode?"first":"last"]().trigger("contextmenu:focus"),void a.preventDefault());case 13:if(q.keyStop(a,b),b.isInput){if(b.$selected&&!b.$selected.is("textarea, select"))return void a.preventDefault();break}return void(b.$selected&&b.$selected.trigger("mouseup"));case 32:case 33:case 34:return void q.keyStop(a,b);case 27:return q.keyStop(a,b),void b.$menu.trigger("contextmenu:hide");default:var e=String.fromCharCode(a.keyCode).toUpperCase();if(b.accesskeys&&b.accesskeys[e])return void b.accesskeys[e].$node.trigger(b.accesskeys[e].$menu?"contextmenu:focus":"mouseup")}a.stopPropagation(),b.$selected&&b.$selected.trigger(a)},prevItem:function(b){b.stopPropagation();var c=a(this).data("contextMenu")||{};if(c.$selected){var d=c.$selected;c=c.$selected.parent().data("contextMenu")||{},c.$selected=d}for(var e=c.$menu.children(),f=c.$selected&&c.$selected.prev().length?c.$selected.prev():e.last(),g=f;f.hasClass("disabled")||f.hasClass("not-selectable");)if(f=f.prev().length?f.prev():e.last(),f.is(g))return;c.$selected&&q.itemMouseleave.call(c.$selected.get(0),b),q.itemMouseenter.call(f.get(0),b);var h=f.find("input, textarea, select");h.length&&h.focus()},nextItem:function(b){b.stopPropagation();var c=a(this).data("contextMenu")||{};if(c.$selected){var d=c.$selected;c=c.$selected.parent().data("contextMenu")||{},c.$selected=d}for(var e=c.$menu.children(),f=c.$selected&&c.$selected.next().length?c.$selected.next():e.first(),g=f;f.hasClass("disabled")||f.hasClass("not-selectable");)if(f=f.next().length?f.next():e.first(),f.is(g))return;c.$selected&&q.itemMouseleave.call(c.$selected.get(0),b),q.itemMouseenter.call(f.get(0),b);var h=f.find("input, textarea, select");h.length&&h.focus()},focusInput:function(b){var c=a(this).closest(".context-menu-item"),d=c.data(),e=d.contextMenu,f=d.contextMenuRoot;f.$selected=e.$selected=c,f.isInput=e.isInput=!0},blurInput:function(b){var c=a(this).closest(".context-menu-item"),d=c.data(),e=d.contextMenu,f=d.contextMenuRoot;f.isInput=e.isInput=!1},menuMouseenter:function(b){var c=a(this).data().contextMenuRoot;c.hovering=!0},menuMouseleave:function(b){var c=a(this).data().contextMenuRoot;c.$layer&&c.$layer.is(b.relatedTarget)&&(c.hovering=!1)},itemMouseenter:function(b){var c=a(this),d=c.data(),e=d.contextMenu,f=d.contextMenuRoot;return f.hovering=!0,b&&f.$layer&&f.$layer.is(b.relatedTarget)&&(b.preventDefault(),b.stopImmediatePropagation()),(e.$menu?e:f).$menu.children(".hover").trigger("contextmenu:blur"),c.hasClass("disabled")||c.hasClass("not-selectable")?void(e.$selected=null):void c.trigger("contextmenu:focus")},itemMouseleave:function(b){var c=a(this),d=c.data(),e=d.contextMenu,f=d.contextMenuRoot;return f!==e&&f.$layer&&f.$layer.is(b.relatedTarget)?(f.$selected&&f.$selected.trigger("contextmenu:blur"),b.preventDefault(),b.stopImmediatePropagation(),void(f.$selected=e.$selected=e.$node)):void c.trigger("contextmenu:blur")},itemClick:function(b){var c,d=a(this),e=d.data(),f=e.contextMenu,g=e.contextMenuRoot,h=e.contextMenuKey;if(f.items[h]&&!d.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(b.preventDefault(),b.stopImmediatePropagation(),a.isFunction(g.callbacks[h])&&Object.prototype.hasOwnProperty.call(g.callbacks,h))c=g.callbacks[h];else{if(!a.isFunction(g.callback))return;c=g.callback}c.call(g.$trigger,h,g)!==!1?g.$menu.trigger("contextmenu:hide"):g.$menu.parent().length&&r.update.call(g.$trigger,g)}},inputClick:function(a){a.stopImmediatePropagation()},hideMenu:function(b,c){var d=a(this).data("contextMenuRoot");r.hide.call(d.$trigger,d,c&&c.force)},focusItem:function(b){b.stopPropagation();var c=a(this),d=c.data(),e=d.contextMenu,f=d.contextMenuRoot;c.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),e.$selected=f.$selected=c,e.$node&&f.positionSubmenu.call(e.$node,e.$menu)},blurItem:function(b){b.stopPropagation();var c=a(this),d=c.data(),e=d.contextMenu;c.removeClass("hover"),e.$selected=null}},r={show:function(b,c,d){var e=a(this),f={};return a("#context-menu-layer").trigger("mousedown"),b.$trigger=e,b.events.show.call(e,b)===!1?void(g=null):(r.update.call(e,b),b.position.call(e,b,c,d),b.zIndex&&(f.zIndex=p(e)+b.zIndex),r.layer.call(b.$menu,b,f.zIndex),b.$menu.find("ul").css("zIndex",f.zIndex+1),b.$menu.css(f)[b.animation.show](b.animation.duration,function(){e.trigger("contextmenu:visible")}),e.data("contextMenu",b).addClass("context-menu-active"),a(document).off("keydown.contextMenu").on("keydown.contextMenu",q.key),void(b.autoHide&&a(document).on("mousemove.contextMenuAutoHide",function(a){var c=e.offset();c.right=c.left+e.outerWidth(),c.bottom=c.top+e.outerHeight(),!b.$layer||b.hovering||a.pageX>=c.left&&a.pageX<=c.right&&a.pageY>=c.top&&a.pageY<=c.bottom||b.$menu.trigger("contextmenu:hide")})))},hide:function(c,d){var e=a(this);if(c||(c=e.data("contextMenu")||{}),d||!c.events||c.events.hide.call(e,c)!==!1){if(e.removeData("contextMenu").removeClass("context-menu-active"),c.$layer){setTimeout(function(a){return function(){a.remove()}}(c.$layer),10);try{delete c.$layer}catch(f){c.$layer=null}}g=null,c.$menu.find(".hover").trigger("contextmenu:blur"),c.$selected=null,a(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),c.$menu&&c.$menu[c.animation.hide](c.animation.duration,function(){c.build&&(c.$menu.remove(),a.each(c,function(a,d){
switch(a){case"ns":case"selector":case"build":case"trigger":return!0;default:c[a]=b;try{delete c[a]}catch(e){}return!0}})),setTimeout(function(){e.trigger("contextmenu:hidden")},10)})}},create:function(d,e){e===b&&(e=d),d.$menu=a('<ul class="context-menu-list"></ul>').addClass(d.className||"").data({contextMenu:d,contextMenuRoot:e}),a.each(["callbacks","commands","inputs"],function(a,b){d[b]={},e[b]||(e[b]={})}),e.accesskeys||(e.accesskeys={}),a.each(d.items,function(b,f){var g=a('<li class="context-menu-item"></li>').addClass(f.className||""),h=null,i=null;if(g.on("click",a.noop),f.$node=g.data({contextMenu:d,contextMenuRoot:e,contextMenuKey:b}),f.accesskey)for(var j,k=c(f.accesskey),l=0;j=k[l];l++)if(!e.accesskeys[j]){e.accesskeys[j]=f,f._name=f.name.replace(new RegExp("("+j+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof f)g.addClass("context-menu-separator not-selectable");else if(f.type&&m[f.type])m[f.type].call(g,f,d,e),a.each([d,e],function(c,d){d.commands[b]=f,a.isFunction(f.callback)&&(d.callbacks[b]=f.callback)});else{switch("html"==f.type?g.addClass("context-menu-html not-selectable"):f.type?(h=a("<label></label>").appendTo(g),a("<span></span>").text(f._name||f.name).appendTo(h),g.addClass("context-menu-input"),d.hasTypes=!0,a.each([d,e],function(a,c){c.commands[b]=f,c.inputs[b]=f})):f.items&&(f.type="sub"),f.type){case"text":i=a('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+b).val(f.value||"").appendTo(h);break;case"textarea":i=a('<textarea name=""></textarea>').attr("name","context-menu-input-"+b).val(f.value||"").appendTo(h),f.height&&i.height(f.height);break;case"checkbox":i=a('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+b).val(f.value||"").prop("checked",!!f.selected).prependTo(h);break;case"radio":i=a('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+f.radio).val(f.value||"").prop("checked",!!f.selected).prependTo(h);break;case"select":i=a('<select name="">').attr("name","context-menu-input-"+b).appendTo(h),f.options&&(a.each(f.options,function(b,c){a("<option></option>").val(b).text(c).appendTo(i)}),i.val(f.selected));break;case"sub":a("<span></span>").text(f._name||f.name).appendTo(g),f.appendTo=f.$node,r.create(f,e),g.data("contextMenu",f).addClass("context-menu-submenu"),f.callback=null;break;case"html":a(f.html).appendTo(g);break;default:a.each([d,e],function(c,d){d.commands[b]=f,a.isFunction(f.callback)&&(d.callbacks[b]=f.callback)}),a("<span></span>").text(f._name||f.name||"").appendTo(g)}f.type&&"sub"!=f.type&&"html"!=f.type&&(i.on("focus",q.focusInput).on("blur",q.blurInput),f.events&&i.on(f.events,d)),f.icon&&g.addClass("icon icon-"+f.icon)}f.$input=i,f.$label=h,g.appendTo(d.$menu),!d.hasTypes&&a.support.eventSelectstart&&g.on("selectstart.disableTextSelect",q.abortevent)}),d.$node||d.$menu.css("display","none").addClass("context-menu-root"),d.$menu.appendTo(d.appendTo||document.body)},resize:function(b,c){b.css({position:"absolute",display:"block"}),b.data("width",Math.ceil(b.width())+1),b.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),b.find("> li > ul").each(function(){r.resize(a(this),!0)}),a.fn.addBack&&(c||b.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return a(this).data("width")}))},update:function(c,d){var e=this;d===b&&(d=c,r.resize(c.$menu)),c.$menu.children().each(function(){var b=a(this),f=b.data("contextMenuKey"),g=c.items[f],h=a.isFunction(g.disabled)&&g.disabled.call(e,f,d)||g.disabled===!0;if(b[h?"addClass":"removeClass"]("disabled"),g.type)switch(b.find("input, select, textarea").prop("disabled",h),g.type){case"text":case"textarea":g.$input.val(g.value||"");break;case"checkbox":case"radio":g.$input.val(g.value||"").prop("checked",!!g.selected);break;case"select":g.$input.val(g.selected||"")}g.$menu&&r.update.call(e,g,d)})},layer:function(c,d){var e=c.$layer=a('<div id="context-menu-layer" style="position:fixed; z-index:'+d+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:i.height(),width:i.width(),display:"block"}).data("contextMenuRoot",c).insertBefore(this).on("contextmenu",q.abortevent).on("mousedown",q.layerClick);return document.body.style.maxWidth===b&&e.css({position:"absolute",height:a(document).height()}),e}};a.fn.contextMenu=function(c){if(c===b)this.first().trigger("contextmenu");else if(c.x&&c.y)this.first().trigger(a.Event("contextmenu",{pageX:c.x,pageY:c.y}));else if("hide"===c){var d=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;d&&d.trigger("contextmenu:hide")}else"destroy"===c?a.contextMenu("destroy",{context:this}):a.isPlainObject(c)?(c.context=this,a.contextMenu("create",c)):c?this.removeClass("context-menu-disabled"):c||this.addClass("context-menu-disabled");return this},a.contextMenu=function(c,d){"string"!=typeof c&&(d=c,c="create"),"string"==typeof d?d={selector:d}:d===b&&(d={});var e=a.extend(!0,{},n,d||{}),f=a(document),g=f,i=!1;switch(e.context&&e.context.length?(g=a(e.context).first(),e.context=g.get(0),i=e.context!==document):e.context=document,c){case"create":if(!e.selector)throw new Error("No selector specified");if(e.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+e.selector+'" as it contains a reserved className');if(!e.build&&(!e.items||a.isEmptyObject(e.items)))throw new Error("No Items specified");switch(j++,e.ns=".contextMenu"+j,i||(k[e.selector]=e.ns),l[e.ns]=e,e.trigger||(e.trigger="right"),h||(f.on({"contextmenu:hide.contextMenu":q.hideMenu,"prevcommand.contextMenu":q.prevItem,"nextcommand.contextMenu":q.nextItem,"contextmenu.contextMenu":q.abortevent,"mouseenter.contextMenu":q.menuMouseenter,"mouseleave.contextMenu":q.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",q.inputClick).on({"mouseup.contextMenu":q.itemClick,"contextmenu:focus.contextMenu":q.focusItem,"contextmenu:blur.contextMenu":q.blurItem,"contextmenu.contextMenu":q.abortevent,"mouseenter.contextMenu":q.itemMouseenter,"mouseleave.contextMenu":q.itemMouseleave},".context-menu-item"),h=!0),g.on("contextmenu"+e.ns,e.selector,e,q.contextmenu),i&&g.on("remove"+e.ns,function(){a(this).contextMenu("destroy")}),e.trigger){case"hover":g.on("mouseenter"+e.ns,e.selector,e,q.mouseenter).on("mouseleave"+e.ns,e.selector,e,q.mouseleave);break;case"left":g.on("click"+e.ns,e.selector,e,q.click)}e.build||r.create(e);break;case"destroy":var m;if(i){var o=e.context;a.each(l,function(b,c){if(c.context!==o)return!0;m=a(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(a(c.context).find(c.selector))&&m.trigger("contextmenu:hide",{force:!0});try{l[c.ns].$menu&&l[c.ns].$menu.remove(),delete l[c.ns]}catch(d){l[c.ns]=null}return a(c.context).off(c.ns),!0})}else if(e.selector){if(k[e.selector]){m=a(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(e.selector)&&m.trigger("contextmenu:hide",{force:!0});try{l[k[e.selector]].$menu&&l[k[e.selector]].$menu.remove(),delete l[k[e.selector]]}catch(p){l[k[e.selector]]=null}f.off(k[e.selector])}}else f.off(".contextMenu .contextMenuAutoHide"),a.each(l,function(b,c){a(c.context).off(c.ns)}),k={},l={},j=0,h=!1,a("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!a.support.htmlCommand&&!a.support.htmlMenuitem||"boolean"==typeof d&&d)&&a('menu[type="context"]').each(function(){this.id&&a.contextMenu({selector:"[contextmenu="+this.id+"]",items:a.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+c+'"')}return this},a.contextMenu.setInputValues=function(c,d){d===b&&(d={}),a.each(c.inputs,function(a,b){switch(b.type){case"text":case"textarea":b.value=d[a]||"";break;case"checkbox":b.selected=d[a]?!0:!1;break;case"radio":b.selected=(d[b.radio]||"")==b.value?!0:!1;break;case"select":b.selected=d[a]||""}})},a.contextMenu.getInputValues=function(c,d){return d===b&&(d={}),a.each(c.inputs,function(a,b){switch(b.type){case"text":case"textarea":case"select":d[a]=b.$input.val();break;case"checkbox":d[a]=b.$input.prop("checked");break;case"radio":b.$input.prop("checked")&&(d[b.radio]=b.value)}}),d},a.contextMenu.fromMenu=function(b){var c=a(b),d={};return e(d,c.children()),d},a.contextMenu.defaults=n,a.contextMenu.types=m,a.contextMenu.handle=q,a.contextMenu.op=r,a.contextMenu.menus=l}(jQuery),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return b&&vjs.log.warn('Player "'+a+'" is already initialised. Options will not be applied.'),c&&vjs.players[a].ready(c),vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)},videojs=window.videojs=vjs;vjs.CDN_VERSION="4.12",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="4.12.7",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(a,b){return void 0!==vjs.options.languages[a]?vjs.options.languages[a]=vjs.util.mergeOptions(vjs.options.languages[a],b):vjs.options.languages[a]=b,vjs.options.languages},vjs.players={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.on,a,b,c);var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;g>f&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),1==d.handlers[b].length&&(a.addEventListener?a.addEventListener(b,d.dispatcher,!1):a.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.off,a,b,c);var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b,a.defaultPrevented=!0},a.isDefaultPrevented=c,a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&b.bubbles!==!1)vjs.trigger(d,b);else if(!d&&!b.defaultPrevented){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.defaultPrevented},vjs.one=function(a,b,c){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.one,a,b,c);var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c;return a=a||"div",b=b||{},c=document.createElement(a),vjs.obj.each(b,function(a,b){-1!==a.indexOf("aria-")||"role"==a?c.setAttribute(a,b):c[a]=b}),c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.obj.deepMerge(d,e):a[c]=b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.obj.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},vjs.isNaN=function(a){return a!==a},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++),vjs.cache[b]||(vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(c){a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.hasClass=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},vjs.addClass=function(a,b){vjs.hasClass(a,b)||(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(vjs.hasClass(a,b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),function(){var a=document.createElement("track");a.kind="captions",a.srclang="en",a.label="English",vjs.TEST_VID.appendChild(a)}(),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);return a&&a[1]?a[1]:void 0}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a?a:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=function(a,b){vjs.obj.each(b,function(b,c){null===c||"undefined"==typeof c||c===!1?a.removeAttribute(b):a.setAttribute(b,c===!0?"":c)})},vjs.getElementAttributes=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f?!0:!1),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.browser={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(d){22==d.code||1014==d.code?vjs.log("LocalStorage Full (VideoJS)",d):18==d.code?vjs.log("LocalStorage not allowed (VideoJS)",d):vjs.log("LocalStorage Error (VideoJS)",d)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.parseUrl=function(a){var b,c,d,e,f;e=["protocol","hostname","port","pathname","search","hash","host"],c=vjs.createEl("a",{href:a}),d=""===c.host&&"file:"!==c.protocol,d&&(b=vjs.createEl("div"),b.innerHTML='<a href="'+a+'"></a>',c=b.firstChild,b.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(b)),f={};for(var g=0;g<e.length;g++)f[e[g]]=c[e[g]];return"http:"===f.protocol&&(f.host=f.host.replace(/:80$/,"")),"https:"===f.protocol&&(f.host=f.host.replace(/:443$/,"")),d&&document.body.removeChild(b),f},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:vjs.round(g),top:vjs.round(j)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(a,b,c){if(vjs.obj.isArray(a)&&b instanceof Function)for(var d=0,e=a.length;e>d;++d)b.call(c||vjs,a[d],d,a);return a},vjs.xhr=function(a,b){var c,d,e,f,g,h,i,j,k;"string"==typeof a&&(a={uri:a}),videojs.util.mergeOptions({method:"GET",timeout:45e3},a),b=b||function(){},j=function(){window.clearTimeout(i),b(null,d,d.response||d.responseText)},k=function(a){window.clearTimeout(i),a&&"string"!=typeof a||(a=new Error(a)),b(a,d)},c=window.XMLHttpRequest,"undefined"==typeof c&&(c=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw new Error("This browser does not support XMLHttpRequest.")}),d=new c,d.uri=a.uri,e=vjs.parseUrl(a.uri),f=window.location,h=e.protocol+e.host!==f.protocol+f.host,!h||!window.XDomainRequest||"withCredentials"in d?(g="file:"==e.protocol||"file:"==f.protocol,d.onreadystatechange=function(){if(4===d.readyState){if(d.timedout)return k("timeout");200===d.status||g&&0===d.status?j():k()}},a.timeout&&(i=window.setTimeout(function(){4!==d.readyState&&(d.timedout=!0,d.abort())},a.timeout))):(d=new window.XDomainRequest,d.onload=j,d.onerror=k,d.onprogress=function(){},d.ontimeout=function(){});try{d.open(a.method||"GET",a.uri,!0)}catch(l){return k(l)}a.withCredentials&&(d.withCredentials=!0),a.responseType&&(d.responseType=a.responseType);try{d.send()}catch(l){return k(l)}return d},vjs.util={},vjs.util.mergeOptions=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.util.mergeOptions(d,e):a[c]=b[c]);return a},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(a,b){var c=this.addEventListener;this.addEventListener=Function.prototype,vjs.on(this,a,b),this.addEventListener=c},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(a,b){vjs.off(this,a,b)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(a,b){vjs.one(this,a,b)},vjs.EventEmitter.prototype.trigger=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=vjs.fixEvent(a),this.allowedEvents_[b]&&this["on"+b]&&this["on"+b](a),vjs.trigger(this,a)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||b.el&&b.el.id,this.id_||(this.id_=(a.id&&a.id()||"no_player")+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(c),b.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.util.mergeOptions(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.localize=function(a){var b=this.player_.language(),c=this.player_.languages();return c&&c[b]&&c[b][a]?c[b][a]:a},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new window.videojs[d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id()]=null,this.childNameIndex_[a.name()]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},vjs.Component.prototype.initChildren=function(){var a,b,c,d,e,f,g;if(a=this,b=a.options(),c=b.children)if(g=function(c,d){void 0!==b[c]&&(d=b[c]),d!==!1&&(a[c]=a.addChild(c,d))},vjs.obj.isArray(c))for(var h=0;h<c.length;h++)d=c[h],"string"==typeof d?(e=d,f={}):(e=d.name,f=d),g(e,f);else vjs.obj.each(c,g)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b,c){var d,e,f,g,h,i;return"string"==typeof a||vjs.obj.isArray(a)?vjs.on(this.el_,a,vjs.bind(this,b)):(d=a,e=b,f=vjs.bind(this,c),i=this,g=function(){i.off(d,e,f)},g.guid=f.guid,this.on("dispose",g),h=function(){i.off("dispose",g)},h.guid=f.guid,a.nodeName?(vjs.on(d,e,f),vjs.on(d,"dispose",h)):"function"==typeof a.on&&(d.on(e,f),d.on("dispose",h))),this},vjs.Component.prototype.off=function(a,b,c){var d,e,f;return!a||"string"==typeof a||vjs.obj.isArray(a)?vjs.off(this.el_,a,b):(d=a,e=b,f=vjs.bind(this,c),this.off("dispose",f),a.nodeName?(vjs.off(d,e,f),vjs.off(d,"dispose",f)):(d.off(e,f),d.off("dispose",f))),this},vjs.Component.prototype.one=function(a,b,c){var d,e,f,g,h;return"string"==typeof a||vjs.obj.isArray(a)?vjs.one(this.el_,a,vjs.bind(this,b)):(d=a,e=b,f=vjs.bind(this,c),g=this,h=function(){g.off(d,e,h),f.apply(this,arguments)},h.guid=f.guid,this.on(d,e,h)),this},vjs.Component.prototype.trigger=function(a){return vjs.trigger(this.el_,a),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;c>b;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.hasClass=function(a){return vjs.hasClass(this.el_,a)},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return(null===b||vjs.isNaN(b))&&(b=0),-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?this.el_.style[a]=b:"auto"===b?this.el_.style[a]="":this.el_.style[a]=b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d,e,f,g,h,i,j;a=0,b=null,i=10,j=200,this.on("touchstart",function(c){1===c.touches.length&&(b=vjs.obj.copy(c.touches[0]),a=(new Date).getTime(),d=!0)}),this.on("touchmove",function(a){a.touches.length>1?d=!1:b&&(f=a.touches[0].pageX-b.pageX,g=a.touches[0].pageY-b.pageY,h=Math.sqrt(f*f+g*g),h>i&&(d=!1))}),e=function(){d=!1},this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){b=null,d===!0&&(c=(new Date).getTime()-a,j>c&&(e.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var a,b,c;this.player().reportUserActivity&&(a=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){a(),this.clearInterval(b),b=this.setInterval(a,250)}),c=function(c){a(),this.clearInterval(b)},this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c))},vjs.Component.prototype.setTimeout=function(a,b){a=vjs.bind(this,a);var c=setTimeout(a,b),d=function(){this.clearTimeout(c)};return d.guid="vjs-timeout-"+c,this.on("dispose",d),c},vjs.Component.prototype.clearTimeout=function(a){clearTimeout(a);var b=function(){};return b.guid="vjs-timeout-"+a,this.off("dispose",b),a},vjs.Component.prototype.setInterval=function(a,b){a=vjs.bind(this,a);var c=setInterval(a,b),d=function(){this.clearInterval(c)};return d.guid="vjs-interval-"+c,this.on("dispose",d),c},vjs.Component.prototype.clearInterval=function(a){clearInterval(a);var b=function(){};return b.guid="vjs-interval-"+a,this.off("dispose",b),a},vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){var c;return b=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},b),c=vjs.Component.prototype.createEl.call(this,a,b),b.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),c.appendChild(this.contentEl_)),c},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(a){(32==a.which||13==a.which)&&(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.on(a,"controlsvisible",this.update),this.on(a,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({
role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),this.on(document,"mousemove",this.onMouseMove),this.on(document,"mouseup",this.onMouseUp),this.on(document,"touchmove",this.onMouseMove),this.on(document,"touchend",this.onMouseUp),this.onMouseMove(a)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),this.off(document,"mousemove",this.onMouseMove),this.off(document,"mouseup",this.onMouseUp),this.off(document,"touchmove",this.onMouseMove),this.off(document,"touchend",this.onMouseUp),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(("number"!=typeof b||b!==b||0>b||b===1/0)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,c.el().style.left=vjs.round(100*j,2)+"%"}d&&(d.el().style.width=vjs.round(100*a,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options().vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(a){37==a.which||40==a.which?(a.preventDefault(),this.stepBack()):(38==a.which||39==a.which)&&(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.update(),this.on("keydown",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var a=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=a,this.addChild(a),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){32==a.which||13==a.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),a.preventDefault()):27==a.which&&(this.buttonPressed_&&this.unpressButton(),a.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"==typeof a&&vjs.obj.merge(this,a),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var a,b,c,d;for(vjs.browser.fullscreenAPI,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],b=a[0],d=0;d<a.length;d++)if(a[d][1]in document){c=a[d];break}if(c)for(vjs.browser.fullscreenAPI={},d=0;d<c.length;d++)vjs.browser.fullscreenAPI[b[d]]=c[d]}(),vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,a.id=a.id||"vjs_video_"+vjs.guid++,this.tagAttributes=a&&vjs.getElementAttributes(a),b=vjs.obj.merge(this.getTagSettings(a),b),this.language_=b.language||vjs.options.language,this.languages_=b.languages||vjs.options.languages,this.cache_={},this.poster_=b.poster||"",this.controls_=!!b.controls,a.controls=!1,b.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,b,c),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(a){return void 0===a?this.language_:(this.language_=a,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b,c,d={sources:[],tracks:[]};if(b=vjs.getElementAttributes(a),c=b["data-setup"],null!==c&&vjs.obj.merge(b,vjs.JSON.parse(c||"{}")),vjs.obj.merge(d,b),a.hasChildNodes()){var e,f,g,h,i;for(e=a.childNodes,h=0,i=e.length;i>h;h++)f=e[h],g=f.nodeName.toLowerCase(),"source"===g?d.sources.push(vjs.getElementAttributes(f)):"track"===g&&d.tracks.push(vjs.getElementAttributes(f))}return d},vjs.Player.prototype.createEl=function(){var a,b=this.el_=vjs.Component.prototype.createEl.call(this,"div"),c=this.tag;return c.removeAttribute("width"),c.removeAttribute("height"),a=vjs.getElementAttributes(c),vjs.obj.each(a,function(c){"class"==c?b.className=a[c]:b.setAttribute(c,a[c])}),c.id+="_html5_api",c.className="vjs-tech",c.player=b.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),c.initNetworkState_=c.networkState,c.parentNode&&c.parentNode.insertBefore(b,c),vjs.insertFirst(c,b),this.el_=b,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),b},vjs.Player.prototype.loadTech=function(a,b){this.tech&&this.unloadTech(),"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady()},d=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[a.toLowerCase()]);b&&(this.currentType_=b.type,b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new window.videojs[a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var a=this.techGet("duration");a&&(0>a&&(a=1/0),this.duration(a),a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(c){throw vjs.log(c),c}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(a){return void 0!==a?(this.techCall("setCurrentTime",a),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered");return a&&a.length||(a=vjs.createTimeRange(0,0)),a},vjs.Player.prototype.bufferedPercent=function(){var a,b,c=this.duration(),d=this.buffered(),e=0;if(!c)return 0;for(var f=0;f<d.length;f++)a=d.start(f),b=d.end(f),b>c&&(b=c),e+=b-a;return e/c},vjs.Player.prototype.bufferedEnd=function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall("setVolume",b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(a){return void 0!==a?(this.isFullscreen_=!!a,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(a){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(a)},vjs.Player.prototype.requestFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),a?(vjs.on(document,a.fullscreenchange,vjs.bind(this,function(b){this.isFullscreen(document[a.fullscreenElement]),this.isFullscreen()===!1&&vjs.off(document,a.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),a?document[a.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){var d=vjs.capitalize(c[b]),e=window.videojs[d];if(e){if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}else vjs.log.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(a){return void 0===a?this.techGet("src"):(vjs.obj.isArray(a)?this.sourceList_(a):"string"==typeof a?this.src({src:a}):a instanceof Object&&(a.type&&!window.videojs[this.techName].canPlaySource(a)?this.sourceList_([a]):(this.cache_.src=a.src,this.currentType_=a.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",a):this.techCall("src",a.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(a){var b=this.selectSource(a);b?b.tech===this.techName?this.src(b.source):this.loadTech(b.tech,b.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){return void 0===a?this.poster_:(a||(a=""),this.poster_=a,this.techCall("setPoster",a),this.trigger("posterchange"),this)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(a){return void 0===a?this.error_:null===a?(this.error_=a,this.removeClass("vjs-error"),this):(a instanceof vjs.MediaError?this.error_=a:this.error_=new vjs.MediaError(a),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(a){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f,g,h,i;a=vjs.bind(this,this.reportUserActivity),b=function(b){(b.screenX!=h||b.screenY!=i)&&(h=b.screenX,i=b.screenY,a())},c=function(){a(),this.clearInterval(d),d=this.setInterval(a,250)},e=function(b){a(),this.clearInterval(d)},this.on("mousedown",c),this.on("mousemove",b),this.on("mouseup",e),this.on("keydown",a),this.on("keyup",a),f=this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(g);var a=this.options().inactivityTimeout;a>0&&(g=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)},vjs.Player.prototype.playbackRate=function(a){return void 0!==a?(this.techCall("setPlaybackRate",a),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(a){return void 0!==a?(this.isAudio_=!!a,this):this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(a,b,c){return this.tech&&this.tech.addTextTrack(a,b,c)},vjs.Player.prototype.addRemoteTextTrack=function(a){return this.tech&&this.tech.addRemoteTextTrack(a)},vjs.Player.prototype.removeRemoteTextTrack=function(a){this.tech&&this.tech.removeRemoteTextTrack(a)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LiveDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.on(a,"play",this.onPlay),this.on(a,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent),this.on(a,"loadedmetadata",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),this.on(a,"timeupdate",this.updateARIAAttributes),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),this.player_.scrubbing=!0,this.player_.addClass("vjs-scrubbing"),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.player_.removeClass("vjs-scrubbing"),this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.on(a,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var a,b,c,d,e=this.player_.buffered(),f=this.player_.duration(),g=this.player_.bufferedEnd(),h=this.el_.children,i=function(a,b){var c=a/b||0;return 100*c+"%"};for(this.el_.style.width=i(g,f),a=0;a<e.length;a++)b=e.start(a),c=e.end(a),d=h[a],d||(d=this.el_.appendChild(vjs.createEl())),d.style.left=i(b,g),d.style.width=i(c-b,g);for(a=h.length;a>e.length;a--)this.el_.removeChild(h[a-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(a,b){vjs.SliderHandle.call(this,a,b),this.on(a,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(a,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),this.on(a,"volumechange",this.updateARIAAttributes),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),
this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.on(a,"volumechange",this.update),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var c=0;4>c;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.on(a,"volumechange",this.volumeUpdate),a.tech&&a.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(a,"loadstart",function(){a.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,this.options_.volumeBar);return b.on("focus",function(){a.lockShowing()}),b.on("blur",function(){a.unlockShowing()}),a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.updateVisibility(),this.updateLabel(),this.on(a,"loadstart",this.updateVisibility),this.on(a,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var a=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.labelEl_),a},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player()),b=this.player().options().playbackRates;if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:b[c]+"x"}));return a},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var a=this.player().playbackRate(),b=this.player().options().playbackRates,c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.player().playbackRate(c)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(a,b){var c=this.label=b.rate,d=this.rate=parseFloat(c,10);b.label=c,b.selected=1===d,vjs.MenuItem.call(this,a,b),this.on(a,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.update(),a.on("posterchange",vjs.bind(this,this.update))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return vjs.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=vjs.createEl("img"),a.appendChild(this.fallbackImg_)),a},vjs.PosterImage.prototype.update=function(){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(a){var b;this.fallbackImg_?this.fallbackImg_.src=a:(b="",a&&(b='url("'+a+'")'),this.el_.style.backgroundImage=b)},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.update(),this.on(a,"error",this.update)}}),vjs.ErrorDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),a.appendChild(this.contentEl_),a},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},function(){var a;vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){b=b||{},b.reportTouchActivity=!1,vjs.Component.call(this,a,b,c),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners(),this.featuresNativeTextTracks||this.emulateTextTracks(),this.initTextTrackListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b;a=this.player(),b=function(){a.controls()&&!a.usingNativeControls()&&this.addControlsListeners()},this.ready(b),this.on(a,"controlsenabled",b),this.on(a,"controlsdisabled",this.removeControlsListeners),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var a;this.on("mousedown",this.onClick),this.on("touchstart",function(b){a=this.player_.userActive()}),this.on("touchmove",function(b){a&&this.player().reportUserActivity()}),this.on("touchend",function(a){a.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var a=this.player().bufferedPercent();this.bufferedPercent_!=a&&this.player().trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()},500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var a=this.player_;this.manualTimeUpdates=!0,this.on(a,"play",this.trackCurrentTime),this.on(a,"pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var a=this.player_;this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(a,"play",this.trackCurrentTime),this.off(a,"pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.initTextTrackListeners=function(){var a,b=this.player_,c=function(){var a=b.getChild("textTrackDisplay");a&&a.updateDisplay()};a=this.textTracks(),a&&(a.addEventListener("removetrack",c),a.addEventListener("addtrack",c),this.on("dispose",vjs.bind(this,function(){a.removeEventListener("removetrack",c),a.removeEventListener("addtrack",c)})))},vjs.MediaTechController.prototype.emulateTextTracks=function(){var a,b,c,d=this.player_;window.WebVTT||(c=document.createElement("script"),c.src=d.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",d.el().appendChild(c),window.WebVTT=!0),b=this.textTracks(),b&&(a=function(){var a,b,c;for(c=d.getChild("textTrackDisplay"),c.updateDisplay(),a=0;a<this.length;a++)b=this[a],b.removeEventListener("cuechange",vjs.bind(c,c.updateDisplay)),"showing"===b.mode&&b.addEventListener("cuechange",vjs.bind(c,c.updateDisplay))},b.addEventListener("change",a),this.on("dispose",vjs.bind(this,function(){b.removeEventListener("change",a)})))},vjs.MediaTechController.prototype.textTracks_,vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_},vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_},a=function(a,b,c,d,e){var f,g=a.textTracks();return e=e||{},e.kind=b,c&&(e.label=c),d&&(e.language=d),e.player=a.player_,f=new vjs.TextTrack(e),g.addTrack_(f),f},vjs.MediaTechController.prototype.addTextTrack=function(b,c,d){if(!b)throw new Error("TextTrack kind is required but was not provided");return a(this,b,c,d)},vjs.MediaTechController.prototype.addRemoteTextTrack=function(b){var c=a(this,b.kind,b.label,b.language,b);return this.remoteTextTracks().addTrack_(c),{track:c}},vjs.MediaTechController.prototype.removeRemoteTextTrack=function(a){this.textTracks().removeTrack_(a),this.remoteTextTracks().removeTrack_(a)},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.MediaTechController.prototype.featuresNativeTextTracks=!1,vjs.MediaTechController.withSourceHandlers=function(a){a.registerSourceHandler=function(b,c){var d=a.sourceHandlers;d||(d=a.sourceHandlers=[]),void 0===c&&(c=d.length),d.splice(c,0,b)},a.selectSourceHandler=function(b){for(var c,d=a.sourceHandlers||[],e=0;e<d.length;e++)if(c=d[e].canHandleSource(b))return d[e];return null},a.canPlaySource=function(b){var c=a.selectSourceHandler(b);return c?c.canHandleSource(b):""},a.prototype.setSource=function(b){var c=a.selectSourceHandler(b);return c||(a.nativeSourceHandler?c=a.nativeSourceHandler:vjs.log.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=b,this.sourceHandler_=c.handleSource(b,this),this.on("dispose",this.disposeSourceHandler),this},a.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},vjs.media={}}(),vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){var d,e,f,g,h,i;(b.nativeCaptions===!1||b.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,a,b,c),this.setupTriggers();var j=b.source;if(j&&(this.el_.currentSrc!==j.src||a.tag&&3===a.tag.initNetworkState_)&&this.setSource(j),this.el_.hasChildNodes()){for(d=this.el_.childNodes,e=d.length,i=[];e--;)g=d[e],h=g.nodeName.toLowerCase(),"track"===h&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(g.track):i.push(g));for(f=0;f<i.length;f++)this.el_.removeChild(i[f])}this.featuresNativeTextTracks&&this.on("loadstart",vjs.bind(this,this.hideCaptions)),vjs.TOUCH_ENABLED&&a.options().nativeControlsForTouch===!0&&this.useNativeControls(),a.ready(function(){this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b,c,d,e,f=this.player_,g=f.tag;if(!g||this.movingMediaElementInDOM===!1){if(g?(e=g.cloneNode(!1),vjs.Html5.disposeMediaElement(g),g=e,f.tag=null):(g=vjs.createEl("video"),d=videojs.util.mergeOptions({},f.tagAttributes),vjs.TOUCH_ENABLED&&f.options().nativeControlsForTouch===!0||delete d.controls,vjs.setElementAttributes(g,vjs.obj.merge(d,{id:f.id()+"_html5_api","class":"vjs-tech"}))),g.player=f,f.options_.tracks)for(c=0;c<f.options_.tracks.length;c++)a=f.options_.tracks[c],b=document.createElement("track"),b.kind=a.kind,b.label=a.label,b.srclang=a.srclang,b.src=a.src,"default"in a&&b.setAttribute("default","default"),g.appendChild(b);vjs.insertFirst(g,f.el())}var h=["autoplay","preload","loop","muted"];for(c=h.length-1;c>=0;c--){var i=h[c],j={};"undefined"!=typeof f.options_[i]&&(j[i]=f.options_[i]),vjs.setElementAttributes(g,j)}return g},vjs.Html5.prototype.hideCaptions=function(){for(var a,b=this.el_.querySelectorAll("track"),c=b.length,d={captions:1,subtitles:1};c--;)a=b[c].track,a&&a.kind in d&&!b[c]["default"]&&(a.mode="disabled")},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)this.on(vjs.Html5.Events[a],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(a){"error"==a.type&&this.error()?this.player().error(this.error().code):(a.bubbles=!1,this.player().trigger(a))},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(b){vjs.log(b,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;"webkitDisplayingFullscreen"in a&&this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")}),this.player_.trigger("fullscreenchange")}),a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){return void 0===a?this.el_.src:void this.setSrc(a)},vjs.Html5.prototype.setSrc=function(a){this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(a){this.el_.poster=a},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(a){this.el_.playbackRate=a},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){return this.featuresNativeTextTracks?this.el_.textTracks:vjs.MediaTechController.prototype.textTracks.call(this)},vjs.Html5.prototype.addTextTrack=function(a,b,c){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,b,c):vjs.MediaTechController.prototype.addTextTrack.call(this,a,b,c)},vjs.Html5.prototype.addRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,a);var b=document.createElement("track");return a=a||{},a.kind&&(b.kind=a.kind),a.label&&(b.label=a.label),(a.language||a.srclang)&&(b.srclang=a.language||a.srclang),a["default"]&&(b["default"]=a["default"]),a.id&&(b.id=a.id),a.src&&(b.src=a.src),this.el().appendChild(b),"metadata"===b.track.kind?b.track.mode="hidden":b.track.mode="disabled",b.onload=function(){var a=b.track;b.readyState>=2&&("metadata"===a.kind&&"hidden"!==a.mode?a.mode="hidden":"metadata"!==a.kind&&"disabled"!==a.mode&&(a.mode="disabled"),b.onload=null)},this.remoteTextTracks().addTrack_(b.track),b},vjs.Html5.prototype.removeRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,a);var b,c;for(this.remoteTextTracks().removeTrack_(a),b=this.el().querySelectorAll("track"),c=0;c<b.length;c++)if(b[c]===a||b[c].track===a){b[c].parentNode.removeChild(b[c]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(a){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(a){function b(a){try{return vjs.TEST_VID.canPlayType(a)}catch(b){return""}}var c,d;return a.type?b(a.type):a.src?(c=a.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),d=c&&c[1],b("video/"+d)):""},vjs.Html5.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var a=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=a/2+.1,a!==vjs.TEST_VID.playbackRate},vjs.Html5.supportsNativeTextTracks=function(){var a;return a=!!vjs.TEST_VID.textTracks,a&&vjs.TEST_VID.textTracks.length>0&&(a="number"!=typeof vjs.TEST_VID.textTracks[0].mode),a&&vjs.IS_FIREFOX&&(a=!1),a},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),function(){var a,b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,c=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(c){return c&&b.test(c)?"maybe":a.call(this,c)}),vjs.IS_OLD_ANDROID&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&c.test(b)?"maybe":a.call(this,b)})},vjs.Html5.unpatchCanPlayType=function(){var b=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=a,a=null,b},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(b){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d=b.source,e=a.id()+"_flash_api",f=a.options_,g=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:f.autoplay,preload:f.preload,loop:f.loop,muted:f.muted},b.flashVars),h=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},b.params),i=vjs.obj.merge({id:e,name:e,"class":"vjs-tech"},b.attributes);d&&this.ready(function(){this.setSource(d)}),vjs.insertFirst(this.el_,b.parentEl),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})}),a.on("stageclick",a.reportUserActivity),this.el_=vjs.Flash.embed(b.swf,this.el_,g,h,i)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){return void 0===a?this.currentSrc():this.setSrc(a)},vjs.Flash.prototype.setSrc=function(a){if(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a),this.player_.autoplay()){var b=this;this.setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(a){this.lastSeekTarget_=a,this.el_.vjs_setProperty("currentTime",a),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(a){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function a(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}}function b(a){d[a]=function(){return this.el_.vjs_getProperty(a)}}var c,d=vjs.Flash.prototype,e="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),f="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(",");for(c=0;c<e.length;c++)b(e[c]),a(e[c]);for(c=0;c<f.length;c++)b(f[c])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats?"maybe":""):""},vjs.Flash.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(a){var b,c;b=vjs.el(a),c=b&&b.parentNode&&b.parentNode.player,c&&(b.player=c,vjs.Flash.checkReady(c.tech))},vjs.Flash.checkReady=function(a){a.el()&&(a.el().vjs_getProperty?a.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(a)},50))},vjs.Flash.onEvent=function(a,b){var c=vjs.el(a).player;c.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player,d="FLASH: "+b;"srcnotfound"==b?c.error({code:4,message:d}):c.error(d)},vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b),g[vjs.expando]=b[vjs.expando];var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash" ',f="",g="",h="";return b&&vjs.obj.each(b,function(a,b){f+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),vjs.obj.each(d,function(a,b){h+=a+'="'+b+'" '}),e+h+">"+g+"</object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:(d=c=a.lastIndexOf("/")+1,0===d&&(d=c=a.length)),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(a){return vjs.Flash.isStreamingType(a.type)||vjs.Flash.isStreamingSrc(a.src)?"maybe":""},vjs.Flash.rtmpSourceHandler.handleSource=function(a,b){var c=vjs.Flash.streamToParts(a.src);b.setRtmpConnection(c.connection),b.setRtmpStream(c.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=window.videojs[f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},function(){vjs.TextTrack=function(b){var d,e,f,g,h,i,j,k,l,m,n;if(b=b||{},!b.player)throw new Error("A player was not provided.");if(d=this,vjs.IS_IE8){d=document.createElement("custom");for(n in vjs.TextTrack.prototype)d[n]=vjs.TextTrack.prototype[n]}return d.player_=b.player,f=vjs.TextTrackMode[b.mode]||"disabled",g=vjs.TextTrackKind[b.kind]||"subtitles",h=b.label||"",i=b.language||b.srclang||"",e=b.id||"vjs_text_track_"+vjs.guid++,("metadata"===g||"chapters"===g)&&(f="hidden"),d.cues_=[],d.activeCues_=[],j=new vjs.TextTrackCueList(d.cues_),k=new vjs.TextTrackCueList(d.activeCues_),m=!1,l=vjs.bind(d,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)}),"disabled"!==f&&d.player_.on("timeupdate",l),Object.defineProperty(d,"kind",{get:function(){return g},set:Function.prototype}),Object.defineProperty(d,"label",{get:function(){return h},set:Function.prototype}),Object.defineProperty(d,"language",{get:function(){return i},set:Function.prototype}),Object.defineProperty(d,"id",{get:function(){return e},set:Function.prototype}),Object.defineProperty(d,"mode",{
get:function(){return f},set:function(a){vjs.TextTrackMode[a]&&(f=a,"showing"===f&&this.player_.on("timeupdate",l),this.trigger("modechange"))}}),Object.defineProperty(d,"cues",{get:function(){return this.loaded_?j:null},set:Function.prototype}),Object.defineProperty(d,"activeCues",{get:function(){var a,b,d,e,f;if(!this.loaded_)return null;if(0===this.cues.length)return k;for(e=this.player_.currentTime(),a=0,b=this.cues.length,d=[];b>a;a++)f=this.cues[a],f.startTime<=e&&f.endTime>=e?d.push(f):f.startTime===f.endTime&&f.startTime<=e&&f.startTime+.5>=e&&d.push(f);if(m=!1,d.length!==this.activeCues_.length)m=!0;else for(a=0;a<d.length;a++)-1===c.call(this.activeCues_,d[a])&&(m=!0);return this.activeCues_=d,k.setCues_(this.activeCues_),k},set:Function.prototype}),b.src?a(b.src,d):d.loaded_=!0,vjs.IS_IE8?d:void 0},vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrack.prototype.constructor=vjs.TextTrack,vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},vjs.TextTrack.prototype.addCue=function(a){var b=this.player_.textTracks(),c=0;if(b)for(;c<b.length;c++)b[c]!==this&&b[c].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},vjs.TextTrack.prototype.removeCue=function(a){for(var b,c=0,d=this.cues_.length,e=!1;d>c;c++)b=this.cues_[c],b===a&&(this.cues_.splice(c,1),e=!0);e&&this.cues.setCues_(this.cues_)};var a,b,c;a=function(a,c){vjs.xhr(a,vjs.bind(this,function(a,d,e){return a?vjs.log.error(a):(c.loaded_=!0,void b(e,c))}))},b=function(a,c){if("function"!=typeof window.WebVTT)return window.setTimeout(function(){b(a,c)},25);var d=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());d.oncue=function(a){c.addCue(a)},d.onparsingerror=function(a){vjs.log.error(a)},d.parse(a),d.flush()},c=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}}(),vjs.TextTrackList=function(a){var b,c=this,d=0;if(vjs.IS_IE8){c=document.createElement("custom");for(b in vjs.TextTrackList.prototype)c[b]=vjs.TextTrackList.prototype[b]}for(a=a||[],c.tracks_=[],Object.defineProperty(c,"length",{get:function(){return this.tracks_.length}});d<a.length;d++)c.addTrack_(a[d]);return vjs.IS_IE8?c:void 0},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){var a;for(a in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+a]=null}(),vjs.TextTrackList.prototype.addTrack_=function(a){var b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.tracks_[b]}}),a.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")})),this.tracks_.push(a),this.trigger({type:"addtrack",track:a})},vjs.TextTrackList.prototype.removeTrack_=function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],b===a){this.tracks_.splice(c,1);break}this.trigger({type:"removetrack",track:a})},vjs.TextTrackList.prototype.getTrackById=function(a){for(var b,c=0,d=this.length,e=null;d>c;c++)if(b=this[c],b.id===a){e=b;break}return e},vjs.TextTrackCueList=function(a){var b,c=this;if(vjs.IS_IE8){c=document.createElement("custom");for(b in vjs.TextTrackCueList.prototype)c[b]=vjs.TextTrackCueList.prototype[b]}return vjs.TextTrackCueList.prototype.setCues_.call(c,a),Object.defineProperty(c,"length",{get:function(){return this.length_}}),vjs.IS_IE8?c:void 0},vjs.TextTrackCueList.prototype.setCues_=function(a){var b,c=this.length||0,d=0,e=a.length;if(this.cues_=a,this.length_=a.length,b=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})},e>c)for(d=c;e>d;d++)b.call(this,d)},vjs.TextTrackCueList.prototype.getCueById=function(a){for(var b,c=0,d=this.length,e=null;d>c;c++)if(b=this[c],b.id===a){e=b;break}return e},function(){"use strict";vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.on("loadstart",vjs.bind(this,this.toggleDisplay)),a.ready(vjs.bind(this,function(){if(a.tech&&a.tech.featuresNativeTextTracks)return void this.hide();var b,c,d;for(a.on("fullscreenchange",vjs.bind(this,this.updateDisplay)),c=a.options_.tracks||[],b=0;b<c.length;b++)d=c[b],this.player_.addRemoteTextTrack(d)}))}}),vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()},vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)};var a=function(a,b){return"rgba("+parseInt(a[1]+a[1],16)+","+parseInt(a[2]+a[2],16)+","+parseInt(a[3]+a[3],16)+","+b+")"},b="#222",c="#ccc",d={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},e=function(a,b,c){try{a.style[b]=c}catch(d){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var a,b=this.player_.textTracks(),c=0;if(this.clearDisplay(),b)for(;c<b.length;c++)a=b[c],"showing"===a.mode&&this.updateForTrack(a)},vjs.TextTrackDisplay.prototype.updateForTrack=function(f){if("function"==typeof window.WebVTT&&f.activeCues){for(var g,h,i=0,j=this.player_.textTrackSettings.getValues(),k=[];i<f.activeCues.length;i++)k.push(f.activeCues[i]);for(window.WebVTT.processCues(window,f.activeCues,this.el_),i=k.length;i--;)g=k[i].displayState,j.color&&(g.firstChild.style.color=j.color),j.textOpacity&&e(g.firstChild,"color",a(j.color||"#fff",j.textOpacity)),j.backgroundColor&&(g.firstChild.style.backgroundColor=j.backgroundColor),j.backgroundOpacity&&e(g.firstChild,"backgroundColor",a(j.backgroundColor||"#000",j.backgroundOpacity)),j.windowColor&&(j.windowOpacity?e(g,"backgroundColor",a(j.windowColor,j.windowOpacity)):g.style.backgroundColor=j.windowColor),j.edgeStyle&&("dropshadow"===j.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===j.edgeStyle?g.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===j.edgeStyle?g.firstChild.style.textShadow="1px 1px "+c+", 0 1px "+c+", -1px -1px "+b+", 0 -1px "+b:"uniform"===j.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),j.fontPercent&&1!==j.fontPercent&&(h=window.parseFloat(g.style.fontSize),g.style.fontSize=h*j.fontPercent+"px",g.style.height="auto",g.style.top="auto",g.style.bottom="2px"),j.fontFamily&&"default"!==j.fontFamily&&("small-caps"===j.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=d[j.fontFamily])}},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c,d,e=this.track=b.track,f=a.textTracks();f&&(c=vjs.bind(this,function(){var a,b,c,d="showing"===this.track.mode;if(this instanceof vjs.OffTextTrackMenuItem)for(d=!0,b=0,c=f.length;c>b;b++)if(a=f[b],a.kind===this.track.kind&&"showing"===a.mode){d=!1;break}this.selected(d)}),f.addEventListener("change",c),a.on("dispose",function(){f.removeEventListener("change",c)})),b.label=e.label||e.language||"Unknown",b.selected=e["default"]||"showing"===e.mode,vjs.MenuItem.call(this,a,b),f&&void 0===f.onchange&&this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{d=new window.Event("change")}catch(a){}d||(d=document.createEvent("Event"),d.initEvent("change",!0,!0)),f.dispatchEvent(d)})}}),vjs.TextTrackMenuItem.prototype.onClick=function(){var a,b=this.track.kind,c=this.player_.textTracks(),d=0;if(vjs.MenuItem.prototype.onClick.call(this),c)for(;d<c.length;d++)a=c[d],a.kind===b&&(a===this.track?a.mode="showing":a.mode="disabled")},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" off","default":!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:b.kind,player:a,label:b.kind+" settings","default":!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,a,b),this.addClass("vjs-texttrack-settings")}}),vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){var c,d;vjs.MenuButton.call(this,a,b),c=this.player_.textTracks(),this.items.length<=1&&this.hide(),c&&(d=vjs.bind(this,this.update),c.addEventListener("removetrack",d),c.addEventListener("addtrack",d),this.player_.on("dispose",function(){c.removeEventListener("removetrack",d),c.removeEventListener("addtrack",d)}))}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b,c=[];if(!(this instanceof vjs.CaptionsButton)||this.player().tech&&this.player().tech.featuresNativeTextTracks||c.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),c.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),b=this.player_.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.kind_&&c.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return c},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.CaptionsButton.prototype.update=function(){var a=2;vjs.TextTrackButton.prototype.update.call(this),this.player().tech&&this.player().tech.featuresNativeTextTracks&&(a=1),this.items&&this.items.length>a?this.show():this.hide()},vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){var a,b,c=[];if(b=this.player_.textTracks(),!b)return c;for(var d=0;d<b.length;d++)a=b[d],a.kind===this.kind_&&c.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return c},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks()||[],d=0,e=c.length,f=this.items=[];e>d;d++)if(a=c[d],a.kind==this.kind_){if(a.cues){b=a;break}a.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100)}var g=this.menu;if(void 0===g&&(g=new vjs.Menu(this.player_),g.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))),b){var h,i,j=b.cues;for(d=0,e=j.length;e>d;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i);this.addChild(g)}return this.items.length>0&&this.show(),g},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.addEventListener("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)}}(),function(){"use strict";function a(a){var b;return a.selectedOptions?b=a.selectedOptions[0]:a.options&&(b=a.options[a.options.selectedIndex]),b.value}function b(a,b){var c,d;if(b){for(c=0;c<a.options.length&&(d=a.options[c],d.value!==b);c++);a.selectedIndex=c}}function c(){return'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'}vjs.TextTrackSettings=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.hide(),vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings(),this.hide()})),vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay)),a.options().persistTextTrackSettings&&this.restoreSettings()}}),vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:c()})},vjs.TextTrackSettings.prototype.getValues=function(){var b,c,d,e,f,g,h,i,j,k,l,m;b=this.el(),f=a(b.querySelector(".vjs-edge-style select")),g=a(b.querySelector(".vjs-font-family select")),h=a(b.querySelector(".vjs-fg-color > select")),d=a(b.querySelector(".vjs-text-opacity > select")),i=a(b.querySelector(".vjs-bg-color > select")),c=a(b.querySelector(".vjs-bg-opacity > select")),j=a(b.querySelector(".window-color > select")),e=a(b.querySelector(".vjs-window-opacity > select")),m=window.parseFloat(a(b.querySelector(".vjs-font-percent > select"))),k={backgroundOpacity:c,textOpacity:d,windowOpacity:e,edgeStyle:f,fontFamily:g,color:h,backgroundColor:i,windowColor:j,fontPercent:m};for(l in k)(""===k[l]||"none"===k[l]||"fontPercent"===l&&1===k[l])&&delete k[l];return k},vjs.TextTrackSettings.prototype.setValues=function(a){var c,d=this.el();b(d.querySelector(".vjs-edge-style select"),a.edgeStyle),b(d.querySelector(".vjs-font-family select"),a.fontFamily),b(d.querySelector(".vjs-fg-color > select"),a.color),b(d.querySelector(".vjs-text-opacity > select"),a.textOpacity),b(d.querySelector(".vjs-bg-color > select"),a.backgroundColor),b(d.querySelector(".vjs-bg-opacity > select"),a.backgroundOpacity),b(d.querySelector(".window-color > select"),a.windowColor),b(d.querySelector(".vjs-window-opacity > select"),a.windowOpacity),c=a.fontPercent,c&&(c=c.toFixed(2)),b(d.querySelector(".vjs-font-percent > select"),c)},vjs.TextTrackSettings.prototype.restoreSettings=function(){var a;try{a=JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))}catch(b){}a&&this.setValues(a)},vjs.TextTrackSettings.prototype.saveSettings=function(){var a;if(this.player_.options().persistTextTrackSettings){a=this.getValues();try{vjs.isEmpty(a)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(a))}catch(b){}}},vjs.TextTrackSettings.prototype.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()}}(),vjs.JSON,"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var a,b,c,d,e,f=document.getElementsByTagName("video"),g=document.getElementsByTagName("audio"),h=[];if(f&&f.length>0)for(d=0,e=f.length;e>d;d++)h.push(f[d]);if(g&&g.length>0)for(d=0,e=g.length;e>d;d++)h.push(g[d]);if(h&&h.length>0)for(d=0,e=h.length;e>d;d++){if(b=h[d],!b||!b.getAttribute){vjs.autoSetupTimeout(1);break}void 0===b.player&&(a=b.getAttribute("data-setup"),null!==a&&(c=videojs(b)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},function(a){var b=a.vttjs={},c=b.VTTCue,d=b.VTTRegion,e=a.VTTCue,f=a.VTTRegion;b.shim=function(){b.VTTCue=c,b.VTTRegion=d},b.restore=function(){b.VTTCue=e,b.VTTRegion=f}}(this),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=h[a.toLowerCase()];return b?a.toLowerCase():!1}function d(a){if("string"!=typeof a)return!1;var b=i[a.toLowerCase()];return b?a.toLowerCase():!1}function e(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function f(a,b,f){var h=this,i=/MSIE\s8\.0/.test(navigator.userAgent),j={};i?h=document.createElement("custom"):j.enumerable=!0,h.hasBeenReset=!1;var k="",l=!1,m=a,n=b,o=f,p=null,q="",r=!0,s="auto",t="start",u=50,v="middle",w=50,x="middle";return Object.defineProperty(h,"id",e({},j,{get:function(){return k},set:function(a){k=""+a}})),Object.defineProperty(h,"pauseOnExit",e({},j,{get:function(){return l},set:function(a){l=!!a}})),Object.defineProperty(h,"startTime",e({},j,{get:function(){return m},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");m=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",e({},j,{get:function(){return n},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");n=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",e({},j,{get:function(){return o},set:function(a){o=""+a,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",e({},j,{get:function(){return p},set:function(a){p=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",e({},j,{get:function(){return q},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");q=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",e({},j,{get:function(){return r},set:function(a){r=!!a,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",e({},j,{get:function(){return s},set:function(a){if("number"!=typeof a&&a!==g)throw new SyntaxError("An invalid number or illegal string was specified.");s=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",e({},j,{get:function(){return t},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");t=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",e({},j,{get:function(){return u},set:function(a){if(0>a||a>100)throw new Error("Position must be between 0 and 100.");u=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",e({},j,{get:function(){return v},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");v=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",e({},j,{get:function(){return w},set:function(a){if(0>a||a>100)throw new Error("Size must be between 0 and 100.");w=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",e({},j,{get:function(){return x},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");x=b,this.hasBeenReset=!0}})),h.displayState=void 0,i?h:void 0}var g="auto",h={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};f.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},a.VTTCue=a.VTTCue||f,b.VTTCue=f}(this,this.vttjs||{}),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=f[a.toLowerCase()];return b?a.toLowerCase():!1}function d(a){return"number"==typeof a&&a>=0&&100>=a}function e(){var a=100,b=3,e=0,f=100,g=0,h=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!d(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!d(a))throw new Error("RegionAnchorX must be between 0 and 100.");f=a}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!d(a))throw new Error("RegionAnchorY must be between 0 and 100.");e=a}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(a){if(!d(a))throw new Error("ViewportAnchorY must be between 0 and 100.");h=a}},viewportAnchorX:{enumerable:!0,get:function(){return g},set:function(a){if(!d(a))throw new Error("ViewportAnchorX must be between 0 and 100.");g=a}},scroll:{enumerable:!0,get:function(){return i},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");i=b}}})}var f={"":!0,up:!0};a.VTTRegion=a.VTTRegion||e,b.VTTRegion=e}(this,this.vttjs||{}),function(a){function b(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function c(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function d(){this.values=o(null)}function e(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function f(a,f,g){function h(){var d=c(a);if(null===d)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),d}function i(a,b){var c=new d;e(a,function(a,b){switch(a){case"region":for(var d=g.length-1;d>=0;d--)if(g[d].id===b){c.set(a,g[d].region);break}break;case"vertical":c.alt(a,b,["rl","lr"]);break;case"line":var e=b.split(","),f=e[0];c.integer(a,f),c.percent(a,f)?c.set("snapToLines",!1):null,c.alt(a,f,["auto"]),2===e.length&&c.alt("lineAlign",e[1],["start","middle","end"]);break;case"position":e=b.split(","),c.percent(a,e[0]),2===e.length&&c.alt("positionAlign",e[1],["start","middle","end"]);break;case"size":c.percent(a,b);break;case"align":c.alt(a,b,["start","middle","end","left","right"])}},/:/,/\s/),b.region=c.get("region",null),b.vertical=c.get("vertical",""),b.line=c.get("line","auto"),b.lineAlign=c.get("lineAlign","start"),b.snapToLines=c.get("snapToLines",!0),b.size=c.get("size",100),b.align=c.get("align","middle"),b.position=c.get("position",{start:0,left:0,middle:50,end:100,right:100},b.align),b.positionAlign=c.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},b.align)}function j(){a=a.replace(/^\s+/,"")}var k=a;if(j(),f.startTime=h(),j(),"-->"!==a.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);a=a.substr(3),j(),f.endTime=h(),j(),i(a,f)}function g(a,b){function d(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]+>?)?/);return a(c[1]?c[1]:c[2])}function e(a){return p[a]}function f(a){for(;o=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(o[0],e);return a}function g(a,b){return!s[b.localName]||s[b.localName]===a.localName}function h(b,c){var d=q[b];if(!d)return null;var e=a.document.createElement(d);e.localName=d;var f=r[b];return f&&c&&(e[f]=c.trim()),e}for(var i,j=a.document.createElement("div"),k=j,l=[];null!==(i=d());)if("<"!==i[0])k.appendChild(a.document.createTextNode(f(i)));else{if("/"===i[1]){l.length&&l[l.length-1]===i.substr(2).replace(">","")&&(l.pop(),k=k.parentNode);continue}var m,n=c(i.substr(1,i.length-2));if(n){m=a.document.createProcessingInstruction("timestamp",n),k.appendChild(m);continue}var o=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!o)continue;if(m=h(o[1],o[3]),!m)continue;if(!g(k,m))continue;o[2]&&(m.className=o[2].substr(1).replace("."," ")),l.push(o[1]),k.appendChild(m),k=m}return j}function h(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++){d=f.charCodeAt(g);for(var h=0;h<t.length;h++)if(t[h]===d)return"rtl"}return"ltr"}function i(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return-1*++d}function j(){}function k(a,b,c){var d=/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)";d&&(e="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),j.call(this),this.cue=b,this.cueDiv=g(a,b.text);var i={color:e,backgroundColor:f,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};d||(i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",i.unicodeBidi="plaintext"),this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},d||(i.direction=h(this.cueDiv),i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(i),this.div.appendChild(this.cueDiv);var k=0;switch(b.positionAlign){case"start":k=b.position;break;case"middle":k=b.position-b.size/2;break;case"end":k=b.position-b.size}""===b.vertical?this.applyStyles({left:this.formatStyle(k,"%"),width:this.formatStyle(b.size,"%")}):this.applyStyles({top:this.formatStyle(k,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function l(a){var b,c,d,e,f=/MSIE\s8\.0/.test(navigator.userAgent);if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var g=(g=a.div.childNodes)&&(g=g[0])&&g.getClientRects&&g.getClientRects();a=a.div.getBoundingClientRect(),b=g?Math.max(g[0]&&g[0].height||0,a.height/g.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),
this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight,f&&!this.lineHeight&&(this.lineHeight=13)}function m(a,b,c,d){function e(a,b){for(var e,f=new l(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new l(a),g=i),a=new l(f)}return e||f}var f=new l(b),g=b.cue,h=i(g),j=[];if(g.snapToLines){var k;switch(g.vertical){case"":j=["+y","-y"],k="height";break;case"rl":j=["+x","-x"],k="width";break;case"lr":j=["-x","+x"],k="width"}var m=f.lineHeight,n=m*Math.round(h),o=c[k]+m,p=j[0];Math.abs(n)>o&&(n=0>n?-1:1,n*=Math.ceil(o/m)*m),0>h&&(n+=""===g.vertical?c.height:c.width,j=j.reverse()),f.move(p,n)}else{var q=f.lineHeight/c.height*100;switch(g.lineAlign){case"middle":h-=q/2;break;case"end":h-=q}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}j=["+y","-x","+x","-y"],f=new l(b)}var r=e(f,j);b.move(r.toCSSCompatValues(c))}function n(){}var o=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();b.prototype=o(Error.prototype),b.prototype.constructor=b,b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){var c;return(c=b.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(b=parseFloat(b),b>=0&&100>=b)?(this.set(a,b),!0):!1}};var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},q={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r={v:"title",lang:"lang"},s={rt:"ruby"},t=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];j.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},j.prototype.formatStyle=function(a,b){return 0===a?0:a+b},k.prototype=o(j.prototype),k.prototype.constructor=k,l.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},l.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},l.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},l.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},l.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},l.prototype.intersectPercentage=function(a){var b=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),c=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),d=b*c;return d/(this.height*this.width)},l.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},l.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c};return e},n.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},n.convertCueToDOMTree=function(a,b){return a&&b?g(a,b):null};var u=.05,v="sans-serif",w="1.5%";n.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin=w,c.appendChild(e),d(b)){var f=[],g=l.getSimpleBoxPosition(e),h=Math.round(g.height*u*100)/100,i={font:h+"px "+v};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new k(a,d,i),e.appendChild(c.div),m(a,c,g,f),d.displayState=c.div,f.push(l.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},n.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},n.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof b))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function c(){for(var a=i.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,i.buffer=a.substr(b),c}function g(a){var b=new d;if(e(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var e=c.split(",");if(2!==e.length)break;var f=new d;if(f.percent("x",e[0]),f.percent("y",e[1]),!f.has("x")||!f.has("y"))break;b.set(a+"X",f.get("x")),b.set(a+"Y",f.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(i.vttjs.VTTRegion||i.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),i.onregion&&i.onregion(c),i.regionList.push({id:b.get("id"),region:c})}}function h(a){e(a,function(a,b){switch(a){case"Region":g(b)}},/:/)}var i=this;a&&(i.buffer+=i.decoder.decode(a,{stream:!0}));try{var j;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;j=c();var k=j.match(/^WEBVTT([ \t].*)?$/);if(!k||!k[0])throw new b(b.Errors.BadSignature);i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:j=c(),i.state){case"HEADER":/:/.test(j)?h(j):j||(i.state="ID");continue;case"NOTE":j||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(j)){i.state="NOTE";break}if(!j)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===j.indexOf("-->")){i.cue.id=j;continue}case"CUE":try{f(j,i.cue,i.regionList)}catch(m){i.reportOrThrowError(m),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var n=-1!==j.indexOf("-->");if(!j||n&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=j;continue;case"BADCUE":j||(i.state="ID");continue}}}catch(m){i.reportOrThrowError(m),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new b(b.Errors.BadSignature)}catch(c){a.reportOrThrowError(c)}return a.onflush&&a.onflush(),this}},a.WebVTT=n}(this,this.vttjs||{}),function(a){var b,c=0,d=a.MediaSource||a.WebKitMediaSource||{},e=a.URL||{},f=/video\/flv(;\s*codecs=["']vp6,aac["'])?$/,g="blob:vjs-media-source/";b=function(){},b.prototype.init=function(){this.listeners=[]},b.prototype.addEventListener=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].unshift(b)},b.prototype.removeEventListener=function(a,b){for(var c=this.listeners[a],d=c.length;d--;)if(c[d]===b)return c.splice(d,1)},b.prototype.trigger=function(a){for(var b=this.listeners[a.type]||[],c=b.length;c--;)b[c](a)},videojs.MediaSource=function(){var a=this;videojs.MediaSource.prototype.init.call(this),this.sourceBuffers=[],this.readyState="closed",this.listeners={sourceopen:[function(b){a.swfObj=document.getElementById(b.swfId),a.readyState="open",a.swfObj&&a.swfObj.vjs_load()}],webkitsourceopen:[function(b){a.trigger({type:"sourceopen"})}]}},videojs.MediaSource.prototype=new b,videojs.MediaSource.BYTES_PER_SECOND_GOAL=4194304,videojs.MediaSource.TICKS_PER_SECOND=60,videojs.MediaSource.prototype.addSourceBuffer=function(a){var b;if(f.test(a))b=new videojs.SourceBuffer(this);else{if(!this.nativeSource)throw new Error("NotSupportedError (Video.js)");b=this.nativeSource.addSourceBuffer.apply(this.nativeSource,arguments)}return this.sourceBuffers.push(b),b},videojs.MediaSource.prototype.endOfStream=function(){this.readyState="ended"},videojs.mediaSources={},videojs.MediaSource.open=function(a,b){var c=videojs.mediaSources[a];if(!c)throw new Error("Media Source not found (Video.js)");c.trigger({type:"sourceopen",swfId:b})},videojs.SourceBuffer=function(b){var c=this,d=[],e=0,f=function(b){a.setTimeout(b,Math.ceil(1e3/videojs.MediaSource.TICKS_PER_SECOND))},g=function(){var b,h,i,j,k,l="";if(d.length){for(k=document.hidden?videojs.MediaSource.BYTES_PER_SECOND_GOAL:Math.ceil(videojs.MediaSource.BYTES_PER_SECOND_GOAL/videojs.MediaSource.TICKS_PER_SECOND),j=new Uint8Array(Math.min(k,e)),h=j.byteLength;h;)b=d[0].subarray(0,h),j.set(b,j.byteLength-h),b.byteLength<d[0].byteLength?d[0]=d[0].subarray(h):d.shift(),h-=b.byteLength;for(e-=j.byteLength,h=0,i=j.byteLength;i>h;h++)l+=String.fromCharCode(j[h]);b64str=a.btoa(l),c.source.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+b64str+"</string></arguments></invoke>"),0!==e?f(g):(c.updating=!1,c.trigger({type:"updateend"}),"ended"===c.source.readyState&&c.source.swfObj.vjs_endOfStream())}};videojs.SourceBuffer.prototype.init.call(this),this.source=b,this.updating=!1,this.appendBuffer=function(a){var b;if(this.updating)throw b=new Error("SourceBuffer.append() cannot be called while an update is in progress"),b.name="InvalidStateError",b.code=11,b;0===d.length&&f(g),this.updating=!0,this.source.readyState="open",this.trigger({type:"update"}),d.push(a),e+=a.byteLength},this.abort=function(){d=[],e=0,this.source.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},videojs.SourceBuffer.prototype=new b,videojs.URL={createObjectURL:function(a){var b=g+c;return c++,videojs.mediaSources[b]=a,b}},videojs.plugin("mediaSource",function(a){var b=this;b.on("loadstart",function(){var a,c=b.currentSrc(),f=function(b){a.trigger(b)};"Html5"===b.techName&&0===c.indexOf(g)&&(a=videojs.mediaSources[c],a.nativeUrl||(a.nativeSource=new d,a.nativeSource.addEventListener("sourceopen",f,!1),a.nativeSource.addEventListener("webkitsourceopen",f,!1),a.nativeUrl=e.createObjectURL(a.nativeSource)),b.src(a.nativeUrl))})})}(window),function(a,b,c,d){"use strict";var e,f,g,h=1.1,i=500;f=function(a){return a.retries&&a.retries>=2},b.Hls=b.Flash.extend({init:function(a,c,d){var e=c.source,f=a.options();e&&(a.hls=this,delete c.source,c.swf=f.flash.swf,b.Flash.call(this,a,c,d),c.source=e,this.bytesReceived=0,this.currentTime=b.Hls.prototype.currentTime,this.setCurrentTime=b.Hls.prototype.setCurrentTime,this.segmentBuffer_=[],this.startCheckingBuffer_(),b.Hls.prototype.src.call(this,c.source&&c.source.src))}}),b.Hls.GOAL_BUFFER_LENGTH=30,b.Hls.prototype.src=function(a){var c,f,g,h=this,i=this.player(),j=i.options().hls||{};a&&(this.src_&&this.resetSrc_(),this.src_=a,c=new b.MediaSource,g={src:b.URL.createObjectURL(c),type:"video/flv"},this.mediaSource=c,this.segmentBuffer_=[],this.segmentParser_=new b.Hls.SegmentParser,this.setupMetadataCueTranslation_(),this.mediaSource.addEventListener("sourceopen",b.bind(this,this.handleSourceOpen)),this.playlists&&this.playlists.dispose(),this.mediaIndex=0,this.playlists=new b.Hls.PlaylistLoader(this.src_,j.withCredentials),this.playlists.on("loadedmetadata",b.bind(this,function(){var a,c,e,g,h,j,k,l;k=function(){this.fillBuffer(),i.trigger("loadedmetadata")},f=this.playlists.media(),this.bandwidth===d&&this.setBandwidth({bandwidth:5*this.playlists.bandwidth}),a=this.selectPlaylist(),e=f.attributes&&f.attributes.BANDWIDTH||0,g=a.attributes&&a.attributes.BANDWIDTH||0,h=f.segments&&f.segments[this.mediaIndex].duration||f.targetDuration,j=h*g/this.bandwidth,j||(j=1/0),l=10,g>e&&l>=j?(this.playlists.media(a),c=b.bind(this,function(){k.call(this),this.playlists.off("loadedplaylist",c)}),this.playlists.on("loadedplaylist",c)):k.call(this)})),this.playlists.on("error",b.bind(this,function(){i.error(this.playlists.error)})),this.playlists.on("loadedplaylist",b.bind(this,function(){var a=this.playlists.media();a&&(this.updateDuration(this.playlists.media()),this.mediaIndex=b.Hls.translateMediaIndex(this.mediaIndex,f,a),f=a,this.fetchKeys_())})),this.playlists.on("mediachange",b.bind(this,function(){e&&this.cancelKeyXhr(),i.trigger("mediachange")})),this.player().ready(function(){h.el()&&h.el().vjs_src(g.src)}))},b.Hls.getMediaIndexForLive_=function(a){if(!a.segments)return 0;for(var b=a.segments.length,c=0,d=3*(a.targetDuration||10);d>c&&b>0;)c+=a.segments[b-1].duration,b--;return b},b.Hls.prototype.handleSourceOpen=function(){var a=this.player(),b=this.mediaSource.addSourceBuffer('video/flv; codecs="vp6,aac"');this.sourceBuffer=b,a.options().autoplay&&a.play(),b.appendBuffer(this.segmentParser_.getFlvHeader())},b.Hls.prototype.setupMetadataCueTranslation_=function(){var c,d=this,e=d.segmentParser_.metadataStream;d.player().addTextTrack&&(e.on("data",function(f){var g,h,i,j,k,l,m;if(!c)for(c=d.player().addTextTrack("metadata","Timed Metadata"),c.inBandMetadataTrackDispatchType=b.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16).toUpperCase(),g=0;g<e.descriptor.length;g++)m=("00"+e.descriptor[g].toString(16).toUpperCase()).slice(-2),c.inBandMetadataTrackDispatchType+=m;for(k=d.playlists.media(),l=d.playlists.expiredPreDiscontinuity_+d.playlists.expiredPostDiscontinuity_,l+=b.Hls.Playlist.duration(k,k.mediaSequence,k.mediaSequence+d.mediaIndex),g=0;g<f.frames.length;g++)i=f.frames[g],j=d.segmentParser_.mediaTimelineOffset+.001*(f.pts-d.segmentParser_.timestampOffset),h=new a.VTTCue(j,j,i.value||i.url||""),h.frame=i,c.addCue(h)}),d.on(d.player(),"seeking",function(){var a,e,f;if(c)for(a=d.playlists.media(),e=d.playlists.expiredPreDiscontinuity_+d.playlists.expiredPostDiscontinuity_,e+=b.Hls.Playlist.duration(a,a.mediaSequence,a.mediaSequence+d.mediaIndex),f=c.cues.length;f--;)c.cues[f].startTime>=e&&c.removeCue(c.cues[f])}))},b.Hls.prototype.play=function(){return this.ended()&&(this.mediaIndex=0),this.duration()===1/0&&(!this.player().hasClass("vjs-has-started")||this.currentTime()>this.seekable().end(0)?this.setCurrentTime(this.seekable().end(0)):this.currentTime()<this.seekable().start(0)&&this.setCurrentTime(this.seekable().start(0))),b.Flash.prototype.play.apply(this,arguments)},b.Hls.prototype.currentTime=function(){return this.lastSeekedTime_?this.lastSeekedTime_:this.el()&&this.el().vjs_getProperty?this.el().vjs_getProperty("currentTime"):0},b.Hls.prototype.setCurrentTime=function(a){return this.playlists&&this.playlists.media()&&this.playlists.media().segments?(a<this.seekable().start(0)?a=this.seekable().start(0):a>this.seekable().end(0)&&(a=this.seekable().end(0)),this.lastSeekedTime_=a,this.mediaIndex=this.playlists.getMediaIndexForTime_(a),this.sourceBuffer.abort(),this.cancelSegmentXhr(),e&&(e.aborted=!0,this.cancelKeyXhr()),this.segmentBuffer_=[],void this.fillBuffer(1e3*a)):0},b.Hls.prototype.duration=function(){var a=this.playlists;return a?b.Hls.Playlist.duration(a.media()):0},b.Hls.prototype.seekable=function(){var a,c,d;return this.playlists&&(d=this.playlists.media())?(a=b.Hls.Playlist.seekable(d),c=this.playlists.expiredPostDiscontinuity_-this.playlists.expiredPreDiscontinuity_,b.createTimeRange(c,c+(a.end(0)-a.start(0)))):b.createTimeRange()},b.Hls.prototype.updateDuration=function(a){var c=this.player(),d=c.duration(),e=b.Hls.Playlist.duration(a);d!==e&&c.trigger("durationchange")},b.Hls.prototype.resetSrc_=function(){this.cancelSegmentXhr(),this.cancelKeyXhr(),this.sourceBuffer&&this.sourceBuffer.abort()},b.Hls.prototype.cancelKeyXhr=function(){e&&(e.onreadystatechange=null,e.abort(),e=null)},b.Hls.prototype.cancelSegmentXhr=function(){this.segmentXhr_&&(this.segmentXhr_.onreadystatechange=null,this.segmentXhr_.abort(),this.segmentXhr_=null)},b.Hls.prototype.dispose=function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),b.Flash.prototype.dispose.call(this)},b.Hls.prototype.selectPlaylist=function(){var a,c,d,e,f,g,i,j,k=this.player(),l=this.playlists.master.playlists.slice(),m=[],n=l.length;for(l.sort(b.Hls.comparePlaylistBandwidth);n--;)c=l[n],c.attributes&&c.attributes.BANDWIDTH&&(a=c.attributes.BANDWIDTH*h,a<k.hls.bandwidth&&(m.push(c),e||(e=c)));for(n=m.length,m.sort(b.Hls.comparePlaylistResolution),c=null,i=parseInt(getComputedStyle(k.el()).width,10),j=parseInt(getComputedStyle(k.el()).height,10);n--;)if(d=c,c=m[n],c.attributes&&c.attributes.RESOLUTION&&c.attributes.RESOLUTION.width&&c.attributes.RESOLUTION.height){if(c.attributes.RESOLUTION.width===i&&c.attributes.RESOLUTION.height===j){f=null,g=c;break}if(c.attributes.RESOLUTION.width<i&&c.attributes.RESOLUTION.height<j){d&&d.attributes&&d.attributes.RESOLUTION&&d.attributes.RESOLUTION.width&&d.attributes.RESOLUTION.height&&(f=d),g=c;break}}return f||g||e||l[0]},b.Hls.prototype.checkBuffer_=function(){this.checkBufferTimeout_&&(a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=a.setTimeout(b.bind(this,this.checkBuffer_),i)},b.Hls.prototype.startCheckingBuffer_=function(){this.player().on("waiting",b.bind(this,this.drainBuffer)),this.checkBuffer_()},b.Hls.prototype.stopCheckingBuffer_=function(){a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null,this.player().off("waiting",this.drainBuffer)},b.Hls.prototype.fillBuffer=function(a){var c,e,f=this.player(),g=f.buffered(),h=0;(f.hasClass("vjs-has-started")||"none"!==f.options().preload)&&f.currentSrc()&&this.playlists&&(this.segmentXhr_||"HAVE_NOTHING"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&(this.playlists.media().endList||this.player().hasClass("vjs-has-started")||a!==d)&&"SWITCHING_MEDIA"!==this.playlists.state&&(c=this.playlists.media().segments[this.mediaIndex],c&&(g&&(h=f.buffered().end(0)-f.currentTime()),"number"!=typeof a&&h>=b.Hls.GOAL_BUFFER_LENGTH||(e=this.playlistUriToUrl(c.uri),this.loadSegment(e,a)))))},b.Hls.prototype.playlistUriToUrl=function(a){var b;return b=this.playlists.media().uri===this.src_?g(this.src_,a):g(g(this.src_,this.playlists.media().uri||""),a)},b.Hls.prototype.setBandwidth=function(a){var b=this;b.segmentXhrTime=a.roundTripTime,b.bandwidth=a.bandwidth,b.bytesReceived+=a.bytesReceived||0,b.trigger("bandwidthupdate")},b.Hls.prototype.loadSegment=function(a,c){var d=this,e=this.player(),f=e.options().hls||{};this.segmentXhr_=b.Hls.xhr({url:a,responseType:"arraybuffer",withCredentials:f.withCredentials},function(a,b){var f;return d.segmentXhr_=null,a?"timeout"===a?(d.bandwidth=1,d.playlists.media(d.selectPlaylist())):(d.error={status:this.status,message:"HLS segment request error at URL: "+b,code:this.status>=500?4:2},void d.mediaIndex++):void(this.response&&(d.setBandwidth(this),f={mediaIndex:d.mediaIndex,playlist:d.playlists.media(),offset:c,bytes:null,encryptedBytes:null,decrypter:null},f.playlist.segments[f.mediaIndex].key?f.encryptedBytes=new Uint8Array(this.response):f.bytes=new Uint8Array(this.response),d.segmentBuffer_.push(f),e.trigger("progress"),d.drainBuffer(),d.mediaIndex++,d.playlists.media(d.selectPlaylist())))})},b.Hls.prototype.drainBuffer=function(a){var c,d,e,g,h,i,j,k,l,m,n=0,o=0,p=this.segmentBuffer_;if(p.length&&this.sourceBuffer&&!this.sourceBuffer.updating){if(c=p[0],d=c.mediaIndex,e=c.playlist,g=c.offset,i=c.bytes,j=e.segments[d],j.key&&!i)return f(j.key)?p.shift():j.key.bytes?c.decrypter?void 0:(l=j.key.iv||new Uint32Array([0,0,0,d+e.mediaSequence]),k=new b.Hls.Decrypter(c.encryptedBytes,j.key.bytes,l,function(a,b){c.bytes=b}),void(c.decrypter=k)):this.fetchKeys_();for(a=a||{},o=this.playlists.expiredPreDiscontinuity_,o+=this.playlists.expiredPostDiscontinuity_,o+=b.Hls.Playlist.duration(e,e.mediaSequence,e.mediaSequence+d),o*=1e3,j.discontinuity?(this.segmentParser_.mediaTimelineOffset=.001*o,this.segmentParser_.timestampOffset=null):null===this.segmentParser_.mediaTimelineOffset&&(this.segmentParser_.mediaTimelineOffset=.001*o),this.segmentParser_.parseSegmentBinaryData(i),this.segmentParser_.flushTags(),h=[],this.segmentParser_.tagsAvailable()&&(j.minVideoPts=this.segmentParser_.stats.minVideoPts(),j.maxVideoPts=this.segmentParser_.stats.maxVideoPts(),
j.minAudioPts=this.segmentParser_.stats.minAudioPts(),j.maxAudioPts=this.segmentParser_.stats.maxAudioPts());this.segmentParser_.tagsAvailable();)h.push(this.segmentParser_.getNextTag());if(this.updateDuration(this.playlists.media()),"number"==typeof g){for(m=g-o+h[0].pts;h[n].pts<m;)n++;this.el().vjs_setProperty("currentTime",.001*(h[n].pts-h[0].pts+o)),h=h.slice(n),this.lastSeekedTime_=null}j.discontinuity&&h.length&&this.el().vjs_discontinuity(),function(){var a,b,c=0;for(n=0;n<h.length;n++)c+=h[n].bytes.byteLength;for(b=new Uint8Array(c),n=0,a=0;n<h.length;n++)b.set(h[n].bytes,a),a+=h[n].bytes.byteLength;this.sourceBuffer.appendBuffer(b)}.call(this),p.shift(),this.duration()!==1/0&&d+1===e.segments.length&&this.mediaSource.endOfStream()}},b.Hls.prototype.fetchKeys_=function(){var a,c,d,g,h,i,j,k;if(!e&&this.segmentBuffer_.length)for(d=this,g=this.player(),h=g.options().hls||{},k=function(a){return function(b){return e=null,b||!this.response||16!==this.response.byteLength?(a.retries=a.retries||0,a.retries++,void(this.aborted||d.fetchKeys_())):(j=new DataView(this.response),a.bytes=new Uint32Array([j.getUint32(0),j.getUint32(4),j.getUint32(8),j.getUint32(12)]),void d.checkBuffer_())}},a=0;a<d.segmentBuffer_.length;a++)if(i=d.segmentBuffer_[a].playlist.segments[d.segmentBuffer_[a].mediaIndex],c=i.key,c&&!c.bytes&&!f(c)){e=b.Hls.xhr({url:this.playlistUriToUrl(c.uri),responseType:"arraybuffer",withCredentials:h.withCredentials},k(c));break}},b.Hls.supportsNativeHls=function(){var a,d,e=c.createElement("video");return b.Html5.isSupported()?(a=e.canPlayType("application/x-mpegURL"),d=e.canPlayType("application/vnd.apple.mpegURL"),/probably|maybe/.test(a)||/probably|maybe/.test(d)):!1}(),b.Hls.isSupported=function(){return!b.Hls.supportsNativeHls&&b.Flash.isSupported()&&b.MediaSource&&a.Uint8Array},b.Hls.canPlaySource=function(a){var b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return b.test(a.type)},b.Hls.getPlaylistDuration=function(a,c,d){return b.log.warn("videojs.Hls.getPlaylistDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),b.Hls.Playlist.duration(a,c,d)},b.Hls.getPlaylistTotalDuration=function(a){return b.log.warn("videojs.Hls.getPlaylistTotalDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),b.Hls.Playlist.duration(a)},b.Hls.translateMediaIndex=function(a,c,d){var e;return 0===a?0:d&&d.segments?(e=a+(c.mediaSequence-d.mediaSequence),e>d.segments.length||0>e?b.Hls.getMediaIndexForLive_(d)+1:e):0},b.Hls.getMediaIndexByTime=function(){return b.log.warn("getMediaIndexByTime is deprecated. Use PlaylistLoader.getMediaIndexForTime_ instead."),0},b.Hls.prototype.getCurrentTimeByMediaIndex_=function(a,b){var c,d=0;if(!a.segments||0===b)return 0;for(c=0;b>c;c++)d+=a.segments[c].duration;return d},b.Hls.comparePlaylistBandwidth=function(b,c){var d,e;return b.attributes&&b.attributes.BANDWIDTH&&(d=b.attributes.BANDWIDTH),d=d||a.Number.MAX_VALUE,c.attributes&&c.attributes.BANDWIDTH&&(e=c.attributes.BANDWIDTH),e=e||a.Number.MAX_VALUE,d-e},b.Hls.comparePlaylistResolution=function(b,c){var d,e;return b.attributes&&b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(d=b.attributes.RESOLUTION.width),d=d||a.Number.MAX_VALUE,c.attributes&&c.attributes.RESOLUTION&&c.attributes.RESOLUTION.width&&(e=c.attributes.RESOLUTION.width),e=e||a.Number.MAX_VALUE,d===e&&b.attributes.BANDWIDTH&&c.attributes.BANDWIDTH?b.attributes.BANDWIDTH-c.attributes.BANDWIDTH:d-e},g=b.Hls.resolveUrl=function(a,b){var d,e,f=c.querySelector("base"),g=c.querySelector("head"),h=c.createElement("a"),i=f;return f?d=f.href:i=g.appendChild(c.createElement("base")),i.href=a,h.href=b,e=h.href,f?f.href=d:g.removeChild(i),e}}(window,window.videojs,document),function(a){a.Hls.xhr=function(b,c){var d,e,f={method:"GET",timeout:45e3};return"function"!=typeof c&&(c=function(){}),"object"==typeof b&&(f=a.util.mergeOptions(f,b),b=f.url),d=new window.XMLHttpRequest,d.open(f.method,b),d.url=b,d.requestTime=(new Date).getTime(),f.responseType&&(d.responseType=f.responseType),f.withCredentials&&(d.withCredentials=!0),f.timeout&&(e=window.setTimeout(function(){4!==d.readyState&&(d.timedout=!0,d.abort())},f.timeout)),d.onreadystatechange=function(){return 4===this.readyState?(window.clearTimeout(e),d.timedout?c.call(this,"timeout",b):this.status>=400||0===this.status?c.call(this,!0,b):(this.response&&(this.responseTime=(new Date).getTime(),this.roundTripTime=this.responseTime-this.requestTime,this.bytesReceived=this.response.byteLength||this.response.length,this.bandwidth=Math.floor(this.bytesReceived/this.roundTripTime*8*1e3)),c.call(this,!1,b))):void 0},d.send(null),d}}(window.videojs),function(a){a.videojs=a.videojs||{},a.videojs.Hls=a.videojs.Hls||{};var b=a.videojs.Hls;b.FlvTag=function(a,c){var d,e=0,f=function(a,b){var c,d=a.position+b;d<a.bytes.byteLength||(c=new Uint8Array(2*d),c.set(a.bytes.subarray(0,a.position),0),a.bytes=c,a.view=new DataView(a.bytes.buffer))},g=b.FlvTag.widthBytes||new Uint8Array("width".length),h=b.FlvTag.heightBytes||new Uint8Array("height".length),i=b.FlvTag.videocodecidBytes||new Uint8Array("videocodecid".length);if(!b.FlvTag.widthBytes){for(d=0;d<"width".length;d++)g[d]="width".charCodeAt(d);for(d=0;d<"height".length;d++)h[d]="height".charCodeAt(d);for(d=0;d<"videocodecid".length;d++)i[d]="videocodecid".charCodeAt(d);b.FlvTag.widthBytes=g,b.FlvTag.heightBytes=h,b.FlvTag.videocodecidBytes=i}switch(this.keyFrame=!1,a){case b.FlvTag.VIDEO_TAG:this.length=16;break;case b.FlvTag.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case b.FlvTag.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw"Error Unknown TagType"}this.bytes=new Uint8Array(16384),this.view=new DataView(this.bytes.buffer),this.bytes[0]=a,this.position=this.length,this.keyFrame=c,this.pts=0,this.dts=0,this.writeBytes=function(a,b,c){var d,e=b||0;c=c||a.byteLength,d=e+c,f(this,c),this.bytes.set(a.subarray(e,d),this.position),this.position+=c,this.length=Math.max(this.length,this.position)},this.writeByte=function(a){f(this,1),this.bytes[this.position]=a,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(a){f(this,2),this.view.setUint16(this.position,a),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(a){return this.bytes[this.length-a]},this.nalUnitSize=function(){return 0===e?0:this.length-(e+4)},this.startNalUnit=function(){if(e>0)throw new Error("Attempted to create new NAL wihout closing the old one");e=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(a){var b,c;this.length===e+4?this.length-=4:e>0&&(b=e+4,c=this.length-b,this.position=e,this.view.setUint32(this.position,c),this.position=this.length,a&&a.push(this.bytes.subarray(b,b+c))),e=0},this.writeMetaDataDouble=function(a,b){var c;if(f(this,2+a.length+9),this.view.setUint16(this.position,a.length),this.position+=2,"width"===a)this.bytes.set(g,this.position),this.position+=5;else if("height"===a)this.bytes.set(h,this.position),this.position+=6;else if("videocodecid"===a)this.bytes.set(i,this.position),this.position+=12;else for(c=0;c<a.length;c++)this.bytes[this.position]=a.charCodeAt(c),this.position++;this.position++,this.view.setFloat64(this.position,b),this.position+=8,this.length=Math.max(this.length,this.position),++e},this.writeMetaDataBoolean=function(a,b){var c;for(f(this,2),this.view.setUint16(this.position,a.length),this.position+=2,c=0;c<a.length;c++)f(this,1),this.bytes[this.position]=a.charCodeAt(c),this.position++;f(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,b?1:0),this.position++,this.length=Math.max(this.length,this.position),++e},this.finalize=function(){var a,d;switch(this.bytes[0]){case b.FlvTag.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||c?16:32),this.bytes[12]=c?0:1,a=this.pts-this.dts,this.bytes[13]=(16711680&a)>>>16,this.bytes[14]=(65280&a)>>>8,this.bytes[15]=(255&a)>>>0;break;case b.FlvTag.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=c?0:1;break;case b.FlvTag.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,e),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return d=this.length-11,this.bytes[1]=(16711680&d)>>>16,this.bytes[2]=(65280&d)>>>8,this.bytes[3]=(255&d)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,f(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=b.FlvTag.frameTime(this.bytes),this}},b.FlvTag.AUDIO_TAG=8,b.FlvTag.VIDEO_TAG=9,b.FlvTag.METADATA_TAG=18,b.FlvTag.isAudioFrame=function(a){return b.FlvTag.AUDIO_TAG===a[0]},b.FlvTag.isVideoFrame=function(a){return b.FlvTag.VIDEO_TAG===a[0]},b.FlvTag.isMetaData=function(a){return b.FlvTag.METADATA_TAG===a[0]},b.FlvTag.isKeyFrame=function(a){return b.FlvTag.isVideoFrame(a)?23===a[11]:b.FlvTag.isAudioFrame(a)?!0:b.FlvTag.isMetaData(a)?!0:!1},b.FlvTag.frameTime=function(a){var b=a[4]<<16;return b|=a[5]<<8,b|=a[6]<<0,b|=a[7]<<24}}(this),function(a,b){var c=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},this.off=function(b,c){var d;return a[b]?(d=a[b].indexOf(c),a[b].splice(d,1),d>-1):!1},this.trigger=function(b){var c,d,e,f;if(c=a[b])for(f=Array.prototype.slice.call(arguments,1),e=c.length,d=0;e>d;++d)c[d].apply(this,f)},this.dispose=function(){a={}}}};c.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})},a.Hls.Stream=c}(window.videojs),function(a){a.videojs.Hls.ExpGolomb=function(a){var b=a.byteLength,c=0,d=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+d},this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),g=Math.min(4,b);if(0===g)throw new Error("no bytes available");f.set(a.subarray(e,e+g)),c=new DataView(f.buffer).getUint32(0),d=8*g,b-=g},this.skipBits=function(a){var e;d>a?(c<<=a,d-=a):(a-=d,e=a/8,a-=8*e,b-=e,this.loadWord(),c<<=a,d-=a)},this.readBits=function(a){var e=Math.min(d,a),f=c>>>32-e;return d-=e,d>0?c<<=e:b>0&&this.loadWord(),e=a-e,e>0?f<<e|this.readBits(e):f},this.skipLeadingZeros=function(){var a;for(a=0;d>a;++a)if(0!==(c&2147483648>>>a))return c<<=a,d-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}}(this),function(){var a,b=window.videojs.Hls.ExpGolomb,c=window.videojs.Hls.FlvTag;window.videojs.Hls.H264ExtraData=a=function(){this.sps=[],this.pps=[]},a.prototype.extraDataExists=function(){return this.sps.length>0},a.prototype.scaling_list=function(a,b){var c,d,e=8,f=8;for(c=0;a>c;++c)0!==f&&(d=b.readExpGolomb(),f=(e+d+256)%256),e=0===f?e:f},a.prototype.getSps0Rbsp=function(){for(var a=this.sps[0],b=1,c=1,d=0,e=a.byteLength-2,f=new Uint8Array(a.byteLength);e>b;)0===a[b]&&0===a[b+1]&&3===a[b+2]&&(f.set(a.subarray(c,b+1),d),d+=b+1-c,c=b+3),b++;return f.set(a.subarray(c),d),f.subarray(0,d+(a.byteLength-c))},a.prototype.metaDataTag=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=new c(c.METADATA_TAG),r=0,s=0,t=0,u=0;if(q.dts=a,q.pts=a,d=new b(this.getSps0Rbsp()),e=d.readUnsignedByte(),d.skipBits(16),d.skipUnsignedExpGolomb(),(100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e)&&(f=d.readUnsignedExpGolomb(),3===f&&d.skipBits(1),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(1),d.readBoolean()))for(g=3!==f?8:12,h=0;g>h;++h)d.readBoolean()&&(6>h?this.scaling_list(16,d):this.scaling_list(64,d));if(d.skipUnsignedExpGolomb(),i=d.readUnsignedExpGolomb(),0===i)d.readUnsignedExpGolomb();else if(1===i)for(d.skipBits(1),d.skipExpGolomb(),d.skipExpGolomb(),j=d.readUnsignedExpGolomb(),h=0;j>h;++h)d.skipExpGolomb();return d.skipUnsignedExpGolomb(),d.skipBits(1),k=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb(),m=d.readBits(1),0===m&&d.skipBits(1),d.skipBits(1),n=d.readBoolean(),n&&(r=d.readUnsignedExpGolomb(),s=d.readUnsignedExpGolomb(),t=d.readUnsignedExpGolomb(),u=d.readUnsignedExpGolomb()),o=16*(k+1)-2*r-2*s,p=(2-m)*(l+1)*16-2*t-2*u,q.writeMetaDataDouble("videocodecid",7),q.writeMetaDataDouble("width",o),q.writeMetaDataDouble("height",p),q},a.prototype.extraDataTag=function(a){var b,d=new c(c.VIDEO_TAG,!0);for(d.dts=a,d.pts=a,d.writeByte(1),d.writeByte(this.sps[0][1]),d.writeByte(this.sps[0][2]),d.writeByte(this.sps[0][3]),d.writeByte(255),d.writeByte(225),d.writeShort(this.sps[0].length),d.writeBytes(this.sps[0]),d.writeByte(this.pps.length),b=0;b<this.pps.length;++b)d.writeShort(this.pps[b].length),d.writeBytes(this.pps[b]);return d}}(),function(a){var b,c,d=a.videojs.Hls.FlvTag,e=a.videojs.Hls.H264ExtraData;a.videojs.Hls.NALUnitType=c={unspecified:0,slice_layer_without_partitioning_rbsp_non_idr:1,slice_data_partition_a_layer_rbsp:2,slice_data_partition_b_layer_rbsp:3,slice_data_partition_c_layer_rbsp:4,slice_layer_without_partitioning_rbsp_idr:5,sei_rbsp:6,seq_parameter_set_rbsp:7,pic_parameter_set_rbsp:8,access_unit_delimiter_rbsp:9,end_of_seq_rbsp:10,end_of_stream_rbsp:11},a.videojs.Hls.H264Stream=b=function(){this._next_pts=0,this._next_dts=0,this._h264Frame=null,this._oldExtraData=new e,this._newExtraData=new e,this._nalUnitType=-1,this._state=0,this.tags=[]},b.prototype.setTimeStampOffset=function(){},b.prototype.setNextTimeStamp=function(a,b,c){this._next_pts=a,this._next_dts=b,c&&this.finishFrame()},b.prototype.finishFrame=function(){this._h264Frame&&(this._newExtraData.extraDataExists()&&(this._oldExtraData=this._newExtraData,this._newExtraData=new e),this._oldExtraData.extraDataExists()&&(this._h264Frame.keyFrame||0===this.tags.length)&&(this.tags.push(this._oldExtraData.metaDataTag(this._h264Frame.pts)),this.tags.push(this._oldExtraData.extraDataTag(this._h264Frame.pts))),this._h264Frame.endNalUnit(),this.tags.push(this._h264Frame)),this._h264Frame=null,this._nalUnitType=-1,this._state=0},b.prototype.writeBytes=function(a,b,e){var f,g,h,i;if(b=b||0,e=e||0,!(0>=e))switch(this._state){default:case 0:this._state=1;case 1:if(a[b]<=1&&(f=this._h264Frame?this._h264Frame.nalUnitSize():0,f>=1&&0===this._h264Frame.negIndex(1))){if(1===a[b]&&f>=2&&0===this._h264Frame.negIndex(2))return f>=3&&0===this._h264Frame.negIndex(3)?this._h264Frame.length-=3:this._h264Frame.length-=2,this._state=3,this.writeBytes(a,b+1,e-1);if(e>1&&0===a[b]&&1===a[b+1])return f>=2&&0===this._h264Frame.negIndex(2)?this._h264Frame.length-=2:this._h264Frame.length-=1,this._state=3,this.writeBytes(a,b+2,e-2);if(e>2&&0===a[b]&&0===a[b+1]&&1===a[b+2])return this._state=3,this.writeBytes(a,b+3,e-3)}this._state=2;case 2:for(g=b,h=g+e,i=h-3;i>b;)if(a[b+2]>1)b+=3;else if(0!==a[b+1])b+=2;else if(0!==a[b])b+=1;else{if(1===a[b+2])return b>g&&this._h264Frame.writeBytes(a,g,b-g),this._state=3,b+=3,this.writeBytes(a,b,h-b);if(h-b>=4&&0===a[b+2]&&1===a[b+3])return b>g&&this._h264Frame.writeBytes(a,g,b-g),this._state=3,b+=4,this.writeBytes(a,b,h-b);b+=3}return this._state=1,void(this._h264Frame&&this._h264Frame.writeBytes(a,g,e));case 3:if(this._h264Frame)switch(this._nalUnitType){case c.seq_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.sps);break;case c.pic_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.pps);break;case c.slice_layer_without_partitioning_rbsp_idr:this._h264Frame.endNalUnit();break;default:this._h264Frame.endNalUnit()}return this._nalUnitType=31&a[b],this._h264Frame&&(this._nalUnitType===c.access_unit_delimiter_rbsp?this.finishFrame():this._nalUnitType===c.slice_layer_without_partitioning_rbsp_idr&&(this._h264Frame.keyFrame=!0)),this._h264Frame||(this._h264Frame=new d(d.VIDEO_TAG),this._h264Frame.pts=this._next_pts,this._h264Frame.dts=this._next_dts),this._h264Frame.startNalUnit(),this._state=2,this.writeBytes(a,b,e)}}}(this),function(a){var b=a.videojs.Hls.FlvTag,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3];a.videojs.Hls.AacStream=function(){var a,d,e,f,g,h,i,j,k,l,m,n,o;this.tags=[],this.setTimeStampOffset=function(a){f=a-1e3},this.setNextTimeStamp=function(b,c,f){a=b,e=c,f&&(d=0)},this.writeBytes=function(p,q,r){var s,t,u;for(q=q||0,r=r||0,r=r>e?e:r,e-=r,s=q+r;s>q;)switch(d){default:d=0;break;case 0:if(q>=s)return;if(255!==p[q])return q+=1,void(d=0);q+=1,d=1;break;case 1:if(q>=s)return;if(240!==(240&p[q]))return q+=1,void(d=0);g=!!(1&p[q]),q+=1,d=2;break;case 2:if(q>=s)return;h=((192&p[q])>>>6)+1,i=(60&p[q])>>>2,j=(1&p[q])<<2,q+=1,d=3;break;case 3:if(q>=s)return;j|=(192&p[q])>>>6,k=(3&p[q])<<11,q+=1,d=4;break;case 4:if(q>=s)return;k|=p[q]<<3,q+=1,d=5;break;case 5:if(q>=s)return;k|=(224&p[q])>>>5,k-=g?7:9,q+=1,d=6;break;case 6:if(q>=s)return;l=1024*((3&p[q])+1),m=1e3*l/c[i],t=h<<11|i<<7|j<<3,(t!==o||a-f>=1e3)&&(n=new b(b.METADATA_TAG),n.pts=a,n.dts=a,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===j),n.writeMetaDataDouble("audiosamplerate",c[i]),n.writeMetaDataDouble("audiosamplesize",16),this.tags.push(n),o=t,n=new b(b.AUDIO_TAG,!0),n.pts=a,n.dts=n.pts,n.view.setUint16(n.position,t),n.position+=2,n.length=Math.max(n.length,n.position),this.tags.push(n),f=a),q+=1,d=7;break;case 7:if(!g){if(2>s-q)return;q+=2}n=new b(b.AUDIO_TAG),n.pts=a,n.dts=a,d=8;break;case 8:for(;k;){if(q>=s)return;u=k>s-q?s-q:k,n.writeBytes(p,q,u),q+=u,k-=u}this.tags.push(n),d=0,a+=m}}}}(this),function(a,b,c){"use strict";var d,e=function(a,b,c){var d,e="";for(d=b;c>d;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},f=function(b,c,d){return a.decodeURIComponent(e(b,c,d))},g=function(b,c,d){return a.unescape(e(b,c,d))},h={TXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=f(a.data,1,b),a.value=f(a.data,b+1,a.data.length-1);break}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=f(a.data,1,b),a.url=f(a.data,b+1,a.data.length);break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=g(a.data,0,b);break}a.privateData=a.data.subarray(b+1)}};d=function(a){var c,e={debug:!(!a||!a.debug),descriptor:a&&a.descriptor},f=0,g=[],i=0;if(d.prototype.init.call(this),this.dispatchType=b.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16),e.descriptor)for(c=0;c<e.descriptor.length;c++)this.dispatchType+=("00"+e.descriptor[c].toString(16)).slice(-2);this.push=function(a){var c,d,j,k,l;if(0===g.length&&(a.data.length<10||a.data[0]!=="I".charCodeAt(0)||a.data[1]!=="D".charCodeAt(0)||a.data[2]!=="3".charCodeAt(0)))return void(e.debug&&b.log("Skipping unrecognized metadata packet"));if(g.push(a),i+=a.data.byteLength,1===g.length&&(f=a.data[6]<<21|a.data[7]<<14|a.data[8]<<7|a.data[9],f+=10),!(f>i)){for(c={data:new Uint8Array(f),frames:[],pts:g[0].pts,dts:g[0].dts},l=0;f>l;)c.data.set(g[0].data,l),l+=g[0].data.byteLength,i-=g[0].data.byteLength,g.shift();d=10,64&c.data[5]&&(d+=4,d+=c.data[10]<<24|c.data[11]<<16|c.data[12]<<8|c.data[13],f-=c.data[16]<<24|c.data[17]<<16|c.data[18]<<8|c.data[19]);do{if(j=c.data[d+4]<<24|c.data[d+5]<<16|c.data[d+6]<<8|c.data[d+7],1>j)return b.log("Malformed ID3 frame encountered. Skipping metadata parsing.");k={id:String.fromCharCode(c.data[d],c.data[d+1],c.data[d+2],c.data[d+3]),data:c.data.subarray(d+10,d+j+10)},h[k.id]&&h[k.id](k),c.frames.push(k),d+=10,d+=j}while(f>d);this.trigger("data",c)}}},d.prototype=new b.Hls.Stream,b.Hls.MetadataStream=d}(window,window.videojs),function(a){var b,c,d=a.videojs,e=d.Hls.FlvTag,f=d.Hls.H264Stream,g=d.Hls.AacStream,h=d.Hls.MetadataStream;d.Hls.SegmentParser=function(){var a,i=this,j=new Uint8Array(b),k=0,l=new f,m=new g;i.stream={programMapTable:{}},i.metadataStream=new h,this.mediaTimelineOffset=null,i.timestampOffset=null,i.getFlvHeader=function(a,b,c){var d,f,g,h=new Uint8Array(9),i=new DataView(h.buffer);return a=a||0,b=void 0===b?!0:b,c=void 0===c?!0:c,i.setUint8(0,70),i.setUint8(1,76),i.setUint8(2,86),i.setUint8(3,1),i.setUint8(4,(b?4:0)|(c?1:0)),i.setUint32(5,h.byteLength),0>=a?(f=new Uint8Array(h.byteLength+4),f.set(h),f.set([0,0,0,0],h.byteLength),f):(d=new e(e.METADATA_TAG),d.pts=d.dts=0,d.writeMetaDataDouble("duration",a),g=d.finalize().length,f=new Uint8Array(h.byteLength+g),f.set(h),f.set(i.byteLength,g),f)},i.flushTags=function(){l.finishFrame()},i.tagsAvailable=function(){return l.tags.length+m.tags.length},i.getNextTag=function(){var a;return a=l.tags.length?m.tags.length&&m.tags[0].dts<l.tags[0].dts?m.tags.shift():l.tags.shift():m.tags.shift(),a.finalize()},i.parseSegmentBinaryData=function(c){var e,f=0;if(k>0){if(c.byteLength+k<b)return d.log("data.length + streamBuffer.length < MP2T_PACKET_LENGTH ??"),void j.readBytes(c,c.length,j.length);e=c.subarray(0,b-k),j.set(e,k),a(j),j=new Uint8Array(b),k=0}for(;;){for(;f<c.byteLength&&71!==c[f];)f++;if(c.byteLength-f<b)return void(c.byteLength-f>0&&(j.set(c.subarray(f),k),k+=c.byteLength-f));a(c.subarray(f,f+b))?f+=b:(d.log("error parsing m2ts packet, attempting to re-align"),f++)}},a=function(a){var e,f,g,h,j,k,n,o,p,q,r,s,t,u,v,w,x,y,z=0,A=z+b,B=!!(64&a[z+1]),C=(31&a[z+1])<<8|a[z+2],D=(48&a[z+3])>>>4;if(z+=4,D>1&&(z+=a[z]+1),0===C){if(B&&(z+=1+a[z]),e=a[z],0!==e&&d.log("the table_id of the PAT should be 0x00 but was"+e.toString(16)),f=!!(1&a[z+5]))for(g=(15&a[z+1])<<8|a[z+2],z+=8,k=z+(g-5-4);k>z;z+=4)if(h=a[z]<<8|a[z+1],j=(31&a[z+2])<<8|a[z+3],0===h)i.stream.networkPid=j;else if(void 0===i.stream.pmtPid)i.stream.pmtPid=j;else if(i.stream.pmtPid!==j)throw new Error("TS has more that 1 program")}else if(C===i.stream.programMapTable[c.h264]||C===i.stream.programMapTable[c.adts]||C===i.stream.programMapTable[c.metadata]){if(B){if(0!==a[z+0]||0!==a[z+1]||1!==a[z+2])throw new Error("PES did not begin with start code");n=a[z+4]<<8|a[z+5],o=0!==(4&a[z+6]),p=a[z+7],q=a[z+8],z+=9,192&p&&(r=(14&a[z+0])<<28|(255&a[z+1])<<21|(254&a[z+2])<<13|(255&a[z+3])<<6|(254&a[z+4])>>>2,r/=45,s=r,64&p&&(s=(14&a[z+5])<<28|(255&a[z+6])<<21|(254&a[z+7])<<13|(255&a[z+8])<<6|(254&a[z+9])>>>2,s/=45)),z+=q,null===i.timestampOffset&&(i.timestampOffset=r),C===i.stream.programMapTable[c.h264]?l.setNextTimeStamp(r,s,o):C===i.stream.programMapTable[c.adts]&&m.setNextTimeStamp(r,n,o)}C===i.stream.programMapTable[c.adts]?m.writeBytes(a,z,A-z):C===i.stream.programMapTable[c.h264]?l.writeBytes(a,z,A-z):C===i.stream.programMapTable[c.metadata]&&i.metadataStream.push({pts:r,dts:s,data:a.subarray(z)})}else if(i.stream.pmtPid===C){if(B&&(z+=1+a[z]),2!==a[z]&&d.log("The table_id of a PMT should be 0x02 but was "+a[z].toString(16)),t=!!(1&a[z+5]))for(i.stream.programMapTable={},v=(15&a[z+1])<<8|a[z+2],u=(15&a[z+10])<<8|a[z+11],v-=u,v-=13,i.stream.programMapTable.pcrPid=(31&a[z+8])<<8|a[z+9],z+=12+u;v>0;){if(w=a[z+0],x=(31&a[z+1])<<8|a[z+2],w===c.h264&&i.stream.programMapTable[w]&&i.stream.programMapTable[w]!==x)throw new Error("Program has more than 1 video stream");if(w===c.adts&&i.stream.programMapTable[w]&&i.stream.programMapTable[w]!==x)throw new Error("Program has more than 1 audio Stream");i.stream.programMapTable[w]=x,y=(15&a[z+3])<<8|a[z+4],w===c.metadata&&(i.metadataStream.descriptor=new Uint8Array(a.subarray(z+5,z+5+y))),z+=5+y,v-=5+y}}else i.stream.networkPid===C||17===C||8191===C||i.stream.programMapTable.pcrPid||d.log("Unknown PID parsing TS packet: "+C);return!0},i.getTags=function(){return l.tags},i.stats={h264Tags:function(){return l.tags.length},minVideoPts:function(){return l.tags[0].pts},maxVideoPts:function(){return l.tags[l.tags.length-1].pts},aacTags:function(){return m.tags.length},minAudioPts:function(){return m.tags[0].pts},maxAudioPts:function(){return m.tags[m.tags.length-1].pts}}},d.Hls.SegmentParser.MP2T_PACKET_LENGTH=b=188,d.Hls.SegmentParser.STREAM_TYPES=c={h264:27,adts:15,metadata:21}}(window),function(a,b,c,d,e){var f,g,h,i=function(){},j=function(){var a="[^=]*",b='"[^"]*"|[^,]*',c="(?:"+a+")=(?:"+b+")";return new RegExp("(?:^|,)("+c+")")}(),k=function(a){for(var b,c=a.split(j),d=c.length,e={};d--;)""!==c[d]&&(b=/([^=]*)=(.*)/.exec(c[d]).slice(1),b[0]=b[0].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^['"](.*)['"]$/g,"$1"),e[b[0]]=b[1]);return e},l=a.Hls.Stream;f=function(){var a="";f.prototype.init.call(this),this.push=function(b){var c;for(a+=b,c=a.indexOf("\n");c>-1;c=a.indexOf("\n"))this.trigger("data",a.substring(0,c)),a=a.substring(c+1)}},f.prototype=new l,g=function(){g.prototype.init.call(this)},g.prototype=new l,g.prototype.push=function(a){var c,d;return a=a.replace(/^\s+|\s+$/g,""),0!==a.length?"#"!==a[0]?void this.trigger("data",{type:"uri",uri:a}):0!==a.indexOf("#EXT")?void this.trigger("data",{type:"comment",text:a.slice(1)}):(a=a.replace("\r",""),(c=/^#EXTM3U/.exec(a))?void this.trigger("data",{type:"tag",tagType:"m3u"}):(c=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))?(d={type:"tag",tagType:"inf"},c[1]&&(d.duration=parseFloat(c[1])),c[2]&&(d.title=c[2]),void this.trigger("data",d)):(c=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"targetduration"},c[1]&&(d.duration=b(c[1],10)),void this.trigger("data",d)):(c=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"totalduration"},c[1]&&(d.duration=b(c[1],10)),void this.trigger("data",d)):(c=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"version"},c[1]&&(d.version=b(c[1],10)),void this.trigger("data",d)):(c=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"media-sequence"},c[1]&&(d.number=b(c[1],10)),void this.trigger("data",d)):(c=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"discontinuity-sequence"},c[1]&&(d.number=b(c[1],10)),void this.trigger("data",d)):(c=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))?(d={type:"tag",tagType:"playlist-type"},c[1]&&(d.playlistType=c[1]),void this.trigger("data",d)):(c=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))?(d={type:"tag",tagType:"byterange"},c[1]&&(d.length=b(c[1],10)),c[2]&&(d.offset=b(c[2],10)),void this.trigger("data",d)):(c=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))?(d={type:"tag",tagType:"allow-cache"},c[1]&&(d.allowed=!/NO/.test(c[1])),void this.trigger("data",d)):(c=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a))?(d={type:"tag",tagType:"stream-inf"},c[1]&&(d.attributes=k(c[1]),d.attributes.RESOLUTION&&!function(){var a=d.attributes.RESOLUTION.split("x"),c={};a[0]&&(c.width=b(a[0],10)),a[1]&&(c.height=b(a[1],10)),d.attributes.RESOLUTION=c}(),d.attributes.BANDWIDTH&&(d.attributes.BANDWIDTH=b(d.attributes.BANDWIDTH,10)),d.attributes["PROGRAM-ID"]&&(d.attributes["PROGRAM-ID"]=b(d.attributes["PROGRAM-ID"],10))),void this.trigger("data",d)):(c=/^#EXT-X-ENDLIST/.exec(a))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(c=/^#EXT-X-DISCONTINUITY/.exec(a))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(c=/^#EXT-X-KEY:?(.*)$/.exec(a))?(d={type:"tag",tagType:"key"},c[1]&&(d.attributes=k(c[1]),d.attributes.IV&&("0x"===d.attributes.IV.substring(0,2)&&(d.attributes.IV=d.attributes.IV.substring(2)),d.attributes.IV=d.attributes.IV.match(/.{8}/g),d.attributes.IV[0]=b(d.attributes.IV[0],16),d.attributes.IV[1]=b(d.attributes.IV[1],16),d.attributes.IV[2]=b(d.attributes.IV[2],16),d.attributes.IV[3]=b(d.attributes.IV[3],16),d.attributes.IV=new Uint32Array(d.attributes.IV))),void this.trigger("data",d)):void this.trigger("data",{type:"tag",data:a.slice(4,a.length)})):void 0},h=function(){var a,b=this,j=[],k={};h.prototype.init.call(this),this.lineStream=new f,this.parseStream=new g,this.lineStream.pipe(this.parseStream),this.manifest={allowCache:!0},this.parseStream.on("data",function(f){({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=f.allowed,"allowed"in f||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var a={};"length"in f&&(k.byterange=a,a.length=f.length,"offset"in f||(this.trigger("info",{message:"defaulting offset to zero"}),f.offset=0)),"offset"in f&&(k.byterange=a,a.offset=f.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),f.duration>=0&&(k.duration=f.duration),this.manifest.segments=j},key:function(){return f.attributes?"NONE"===f.attributes.METHOD?void(a=null):f.attributes.URI?(f.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:f.attributes.METHOD||"AES-128",uri:f.attributes.URI},void(f.attributes.IV!==e&&(a.iv=f.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return c(f.number)?void(this.manifest.mediaSequence=f.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+f.number})},"discontinuity-sequence":function(){return c(f.number)?void(this.manifest.discontinuitySequence=f.number):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+f.number})},"playlist-type":function(){return/VOD|EVENT/.test(f.playlistType)?void(this.manifest.playlistType=f.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+f.playlist})},"stream-inf":function(){return this.manifest.playlists=j,f.attributes?(k.attributes||(k.attributes={}),void(k.attributes=d(k.attributes,f.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},discontinuity:function(){k.discontinuity=!0},targetduration:function(){return!c(f.duration)||f.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+f.duration}):void(this.manifest.targetDuration=f.duration)},totalduration:function(){return!c(f.duration)||f.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+f.duration}):void(this.manifest.totalDuration=f.duration)}})[f.tagType]||i).call(b)},uri:function(){k.uri=f.uri,j.push(k),!this.manifest.targetDuration||"duration"in k||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),k.duration=this.manifest.targetDuration),a&&(k.key=a),k={}},comment:function(){}})[f.type].call(b)})},h.prototype=new l,h.prototype.push=function(a){this.lineStream.push(a)},h.prototype.end=function(){this.lineStream.push("\n")},window.videojs.m3u8={LineStream:f,ParseStream:g,Parser:h}}(window.videojs,window.parseInt,window.isFinite,window.videojs.util.mergeOptions),function(a,b){"use strict";var c,d,e,f=10;e=function(a,b,c){var d,e,g,h,i,j,k=0;for(b=b||0,e=b,c=void 0!==c?c:(a.segments||[]).length,d=a.targetDuration||f,j=Math.max(a.mediaSequence-b,0),k+=j*d,e+=j;c>e;e++)if(h=a.segments[e-a.mediaSequence],void 0!==h.minVideoPts){for(g=e;c-1>g&&(i=a.segments[g-a.mediaSequence+1],void 0!==i.maxVideoPts&&!i.discontinuity);g++);i=a.segments[g-a.mediaSequence],k+=.001*(Math.max(i.maxVideoPts,i.maxAudioPts)-Math.min(h.minVideoPts,h.minAudioPts)),e=g}else k+=h.duration||d;return k},c=function(b,c,d){if(!b)return 0;if(void 0===c&&void 0===d){if(b.totalDuration)return b.totalDuration;if(!b.endList)return a.Infinity}return e(b,c,d)},d=function(a){var d,g,h,i,j,k,l;if(!a.segments)return b.createTimeRange();if(a.endList)return b.createTimeRange(0,c(a));
if(d=e(a,0,a.mediaSequence),g=d+e(a,a.mediaSequence,a.mediaSequence+a.segments.length),i=a.targetDuration||f,!a.endList)for(h=3*i,l=a.segments.length-1;l>=0&&h>0;l--)j=a.segments[l],k=Math.min(j.preciseDuration||j.duration||i,h),h-=k,g-=k;return b.createTimeRange(d,g)},b.Hls.Playlist={duration:c,seekable:d}}(window,window.videojs),function(a,b){"use strict";var c=b.Hls.resolveUrl,d=b.Hls.xhr,e=b.Hls.Playlist,f=b.util.mergeOptions,g=function(a,b){var c,d,e=!1,g=f(a,{});for(c=a.playlists.length;c--;)if(d=g.playlists[c],d.uri===b.uri){if(d.segments&&b.segments&&d.segments.length===b.segments.length&&d.mediaSequence===b.mediaSequence)continue;g.playlists[c]=f(d,b),g.playlists[b.uri]=g.playlists[c],d.segments&&(g.playlists[c].segments=h(d.segments,b.segments,b.mediaSequence-d.mediaSequence)),e=!0}return e?g:null},h=function(a,b,c){var d,e,g=b.slice();for(c=c||0,d=Math.min(a.length,b.length+c),e=c;d>e;e++)g[e-c]=f(a[e],g[e-c]);return g},i=function(e,f){var h,j,k,l,m=this;if(i.prototype.init.call(this),!e)throw new Error("A non-empty playlist URL is required");l=function(c,d,e){var f,h,i;return m.setBandwidth(k||d),k=null,c?(m.error={status:d.status,message:"HLS playlist request error at URL: "+e,responseText:d.responseText,code:d.status>=500?4:2},m.trigger("error")):(m.state="HAVE_METADATA",f=new b.m3u8.Parser,f.push(d.responseText),f.end(),f.manifest.uri=e,i=g(m.master,f.manifest),h=1e3*(f.manifest.targetDuration||10),i?(m.master=i,m.updateMediaPlaylist_(f.manifest)):h/=2,m.media().endList||(a.clearTimeout(j),j=a.setTimeout(function(){m.trigger("mediaupdatetimeout")},h)),void m.trigger("loadedplaylist"))},m.state="HAVE_NOTHING",m.expiredPostDiscontinuity_=0,m.expiredPreDiscontinuity_=0,h=this.dispose,m.dispose=function(){k&&(k.onreadystatechange=null,k.abort(),k=null),a.clearTimeout(j),h.call(this)},m.media=function(a){var b=!1;if(!a)return m.media_;if("HAVE_NOTHING"===m.state||"HAVE_MASTER"===m.state)throw new Error("Cannot switch media playlist from "+m.state);if("string"==typeof a){if(!m.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=m.master.playlists[a]}if(b=a.uri!==m.media_.uri,m.master.playlists[a.uri].endList)return k&&(k.onreadystatechange=null,k.abort(),k=null),m.state="HAVE_METADATA",m.media_=a,void(b&&m.trigger("mediachange"));if(b){if(m.state="SWITCHING_MEDIA",k){if(c(m.master.uri,a.uri)===k.url)return;k.onreadystatechange=null,k.abort(),k=null}k=d({url:c(m.master.uri,a.uri),withCredentials:f},function(b){l(b,this,a.uri),m.trigger("mediachange")})}},m.setBandwidth=function(a){m.bandwidth=a.bandwidth},m.on("mediaupdatetimeout",function(){"HAVE_METADATA"===m.state&&(m.state="HAVE_CURRENT_METADATA",k=d({url:c(m.master.uri,m.media().uri),withCredentials:f},function(a){l(a,this,m.media().uri)}))}),d({url:e,withCredentials:f},function(g){var h,i;if(g)return m.error={status:this.status,message:"HLS playlist request error at URL: "+e,responseText:this.responseText,code:2},m.trigger("error");if(h=new b.m3u8.Parser,h.push(this.responseText),h.end(),m.state="HAVE_MASTER",h.manifest.uri=e,h.manifest.playlists){for(m.master=h.manifest,i=m.master.playlists.length;i--;)m.master.playlists[m.master.playlists[i].uri]=m.master.playlists[i];return k=d({url:c(e,h.manifest.playlists[0].uri),withCredentials:f},function(a){l(a,this,h.manifest.playlists[0].uri),a||m.trigger("loadedmetadata")}),m.trigger("loadedplaylist")}return m.master={uri:a.location.href,playlists:[{uri:e}]},m.master.playlists[e]=m.master.playlists[0],l(null,this,e),m.trigger("loadedmetadata")})};i.prototype=new b.Hls.Stream,i.prototype.updateMediaPlaylist_=function(a){var b,c,d;if(this.media_){if(c=a.mediaSequence-this.media_.mediaSequence,b=this.media_.mediaSequence,this.media_.discontinuitySequence!==a.discontinuitySequence)for(d=c;d--;)if(this.media_.segments[d].discontinuity){b=d+this.media_.mediaSequence,this.expiredPreDiscontinuity_+=this.expiredPostDiscontinuity_,this.expiredPostDiscontinuity_=0;break}this.expiredPreDiscontinuity_+=e.duration(this.media_,this.media_.mediaSequence,b),this.expiredPostDiscontinuity_+=e.duration(this.media_,b,this.media_.mediaSequence+c)}this.media_=this.master.playlists[a.uri]},i.prototype.getMediaIndexForTime_=function(a){var b;if(!this.media_)return 0;if(a-=this.expiredPreDiscontinuity_+this.expiredPostDiscontinuity_,0>a)return 0;for(b=0;b<this.media_.segments.length;b++)if(a-=e.duration(this.media_,this.media_.mediaSequence+b,this.media_.mediaSequence+b+1),0>=a)return b;return this.media_.segments.length-1},b.Hls.PlaylistLoader=i}(window,window.videojs),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){b.window.pkcs7={unpad:a("./unpad")}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./unpad":2}],2:[function(a,b,c){"use strict";b.exports=function(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}},{}]},{},[1]),function(a,b,c){"use strict";var d,e,f,g,h;h=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},d=function(a){this._precompute();var b,c,d,e,f,g=this._tables[0][4],h=this._tables[1],i=a.length,j=1;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size");for(e=a.slice(0),f=[],this._key=[e,f],b=i;4*i+28>b;b++)d=e[b-1],(b%i===0||8===i&&b%i===4)&&(d=g[d>>>24]<<24^g[d>>16&255]<<16^g[d>>8&255]<<8^g[255&d],b%i===0&&(d=d<<8^d>>>24^j<<24,j=j<<1^283*(j>>7))),e[b]=e[b-i]^d;for(c=0;b;c++,b--)d=e[3&c?b:b-4],4>=b||4>c?f[c]=d:f[c]=h[0][g[d>>>24]]^h[1][g[d>>16&255]]^h[2][g[d>>8&255]]^h[3][g[255&d]]},d.prototype={_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var a,b,c,d,e,f,g,h,i,j=this._tables[0],k=this._tables[1],l=j[4],m=k[4],n=[],o=[];for(a=0;256>a;a++)o[(n[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!l[b];b^=d||1,c=o[c]||1)for(g=c^c<<1^c<<2^c<<3^c<<4,g=g>>8^255&g^99,l[b]=g,m[g]=b,f=n[e=n[d=n[b]]],i=16843009*f^65537*e^257*d^16843008*b,h=257*n[g]^16843008*g,a=0;4>a;a++)j[a][b]=h=h<<24^h>>>8,k[a][g]=i=i<<24^i>>>8;for(a=0;5>a;a++)j[a]=j[a].slice(0),k[a]=k[a].slice(0)},decrypt:function(a,b,c,d,e,f){var g,h,i,j,k=this._key[1],l=a^k[0],m=d^k[1],n=c^k[2],o=b^k[3],p=k.length/4-2,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(j=0;p>j;j++)g=s[l>>>24]^t[m>>16&255]^u[n>>8&255]^v[255&o]^k[q],h=s[m>>>24]^t[n>>16&255]^u[o>>8&255]^v[255&l]^k[q+1],i=s[n>>>24]^t[o>>16&255]^u[l>>8&255]^v[255&m]^k[q+2],o=s[o>>>24]^t[l>>16&255]^u[m>>8&255]^v[255&n]^k[q+3],q+=4,l=g,m=h,n=i;for(j=0;4>j;j++)e[(3&-j)+f]=w[l>>>24]<<24^w[m>>16&255]<<16^w[n>>8&255]<<8^w[255&o]^k[q++],g=l,l=m,m=n,n=o,o=g}},g=function(a,b,c){var e,f,g,i,j,k,l,m,n,o=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),p=new d(Array.prototype.slice.call(b)),q=new Uint8Array(a.byteLength),r=new Int32Array(q.buffer);for(e=c[0],f=c[1],g=c[2],i=c[3],n=0;n<o.length;n+=4)j=h(o[n]),k=h(o[n+1]),l=h(o[n+2]),m=h(o[n+3]),p.decrypt(j,k,l,m,r,n),r[n]=h(r[n]^e),r[n+1]=h(r[n+1]^f),r[n+2]=h(r[n+2]^g),r[n+3]=h(r[n+3]^i),e=j,f=k,g=l,i=m;return q},e=function(){this.jobs=[],this.delay=1,this.timeout_=null},e.prototype=new b.Hls.Stream,e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(b.bind(this,this.processJob_),this.delay):this.timeout_=null},e.prototype.push=function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(b.bind(this,this.processJob_),this.delay))},f=function(a,b,d,g){var i=f.STEP,j=new Int32Array(a.buffer),k=new Uint8Array(a.byteLength),l=0;for(this.asyncStream_=new e,this.asyncStream_.push(this.decryptChunk_(j.subarray(l,l+i),b,d,k,l)),l=i;l<j.length;l+=i)d=new Uint32Array([h(j[l-4]),h(j[l-3]),h(j[l-2]),h(j[l-1])]),this.asyncStream_.push(this.decryptChunk_(j.subarray(l,l+i),b,d,k));this.asyncStream_.push(function(){g(null,c(k))})},f.prototype=new b.Hls.Stream,f.prototype.decryptChunk_=function(a,b,c,d){return function(){var e=g(a,b,c);d.set(e,a.byteOffset)}},f.STEP=32e3,b.Hls.decrypt=g,b.Hls.Decrypter=f,b.Hls.AsyncStream=e}(window,window.videojs,window.pkcs7.unpad),function(a){var b={hexDump:function(a){for(var b,c,d=Array.prototype.slice.call(a),e=16,f=function(a,b){var c=a.toString(16);return"00".substring(0,2-c.length)+c+(b%2?" ":"")},g=function(a){return a>=32&&126>a?String.fromCharCode(a):"."},h="",i=0;i<d.length/e;i++)b=d.slice(i*e,i*e+e).map(f).join(""),c=d.slice(i*e,i*e+e).map(g).join(""),h+=b+" "+c+"\n";return h},tagDump:function(a){return b.hexDump(a.bytes)}};a.videojs.Hls.utils=b}(this),function(){videojs.plugin("hotkeys",function(a){var b=this,c={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0};a=a||{},b.el().hasAttribute("tabIndex")||b.el().setAttribute("tabIndex","-1"),b.on("play",function(){var a=b.el().querySelector(".iframeblocker");a&&""==a.style.display&&(a.style.display="block",a.style.bottom="39px")});var d=function(d){var e=a.volumeStep||c.volumeStep,f=a.seekStep||c.seekStep,g=a.enableMute||c.enableMute,h=a.enableFullscreen||c.enableFullscreen;if(b.controls()){var i=document.activeElement;if(i==b.el()||i==b.el().querySelector(".vjs-tech")||i==b.el().querySelector(".vjs-control-bar")||i==b.el().querySelector(".iframeblocker")||i!==b.el().querySelector(".vjs-mute-control")&&i!==b.el().querySelector(".vjs-resolutions-button"))if(32===d.which)d.preventDefault(),b.paused()?b.play():b.pause();else if(37!==d.which||b.advertInProgeres)39!==d.which||b.advertInProgeres?40===d.which?(d.preventDefault(),b.volume(b.volume()-e)):38===d.which?(d.preventDefault(),b.volume(b.volume()+e)):77===d.which?g&&(b.muted()?b.muted(!1):b.muted(!0)):70===d.which&&h&&(b.isFullscreen()?b.exitFullscreen():b.requestFullscreen()):(d.preventDefault(),b.currentTime(b.currentTime()+f));else{d.preventDefault();var j=b.currentTime()-f;b.currentTime()<=f&&(j=0),b.currentTime(j)}}},e=function(d){var e=a.enableFullscreen||c.enableFullscreen;if(b.controls()){var f=d.relatedTarget||d.toElement||document.activeElement;(f==b.el()||f==b.el().querySelector(".vjs-tech")||f==b.el().querySelector(".iframeblocker"))&&e&&(b.isFullscreen()?b.exitFullscreen():b.requestFullscreen())}};b.on("keydown",d),b.on("dblclick",e)})}.call(this),function(){videojs.plugin("progressTips",function(a){var b;b=function(){var a;if("Html5"===this.techName||"Shaka"===this.techName||"Dashjs"===this.techName){a=this;var b=a.options().spriteImg;if($("div#"+a.id()+" .vjs-progress-control").after($("      <div class='vjs-tip'>      <div class='vjs-tip-arrow'></div>      <div class='vjs-tip-inner'></div>      </div>    ")),b.hasSprite&&"undefined"!=typeof uDevice&&"desktop"===uDevice.toLowerCase()){b.images=[],b.images.push(b.img.url),a.on("videoBegin",function(){var c=a.duration(),d=c/3%100;if(d)for(var e=1;d>=e;e++){var f=e;e>9&&99>e&&(f="0"+e),10>e&&(f="00"+e),b.images.push(b.img.url.replace(/(-001)/,f))}});var c=new Image;c.src=b.img.url,c.onload=function(){b.img.fullWidth=c.width,b.img.fullHeight=c.height,b.img.singleWidth=b.img.fullWidth/10,b.img.singleHeight=b.img.singleWidth*(9/16),delete c,$("div#"+a.id()+" .vjs-tip .vjs-tip-inner").before($("<div>",{"class":"vjs-tip-image"})),$("div#"+a.id()+" .vjs-tip .vjs-tip-image").css({"background-image":"url("+b.img.url+")","background-repeat":"no-repeat",width:b.img.singleWidth+"px",height:b.img.singleHeight+"px"})}}$("div#"+a.id()+" .vjs-progress-control").on("mousemove",function(c){if(1!=a.advertInProgeres){var d,e,f,g,h,i;h=a.controlBar.progressControl.seekBar;var j=(c.pageX-$(h.el()).offset().left)/h.width();if(i=j*a.duration(),i===a.duration()&&(i-=.1),f=Math.floor(i/60),g=Math.floor(i-60*f),10>g&&(g="0"+g),0>f&&(f=0,g="00"),b.hasSprite&&"undefined"!=typeof uDevice&&"desktop"===uDevice.toLowerCase()){var k=0,l=0,m=0,n=0;m=k=Math.floor(i/3),m>9&&(m=k%10,n=Math.floor(k/10)),n>9&&(n-=10*Math.floor(n/10),$("div#"+a.id()+" .vjs-tip-image").css({"background-image":b.images[n]})),k=m*b.img.singleWidth,l=n*b.img.singleHeight,$("div#"+a.id()+" .vjs-tip-image").css({"background-position":"-"+k+"px -"+l+"px"})}$("div#"+a.id()+" .vjs-tip-inner").html(""+f+":"+g),d=$("div#"+a.id()+" .vjs-control-bar").height(),e=$("div#"+a.id()+" .vjs-control-bar").width();var o=0,p=0;b.hasSprite&&$(a.node).width()>=680?($("div#"+a.id()+" .vjs-tip").removeClass("vjs-hide-tip-image"),o=b.img.singleHeight,p=b.img.singleWidth/2-19):$("div#"+a.id()+" .vjs-tip").addClass("vjs-hide-tip-image");var q=c.pageX-$(this).offset().left-p-22,r=$("div#"+a.id()+" .vjs-tip"),s=r.find(".vjs-tip-inner"),t=r.width(),u=-5,v=e-t-5,w=-4,x=r.find(".vjs-tip-arrow");if(u>q||q>v){var y=-1*(t/2-2),z=t/2-x.width()-2;u>q?(w=q-u-4,q=u,y>w?s.addClass("vjs-no-border-bottom-left-radius"):s.removeClass("vjs-no-border-bottom-left-radius")):(w=q-v-4,q=v,w>z?s.addClass("vjs-no-border-bottom-right-radius"):s.removeClass("vjs-no-border-bottom-right-radius"))}x.css("margin-left",w),r.css({top:""+(c.pageY-$(this).offset().top-d-o-5)+"px",left:""+q+"px",visibility:"visible"})}}),$("div#"+a.id()+" .vjs-progress-control, div#"+a.id()+" .vjs-play-control").on("mouseout",function(){$("div#"+a.id()+" .vjs-tip").css({visibility:"hidden",left:0})})}},this.on("videoAllFirstStart",b)})}.call(this),"undefined"==typeof PLAYER_DEBUG&&(PLAYER_DEBUG=!1);var PARSER_DEBUG=!1,PLAYER_STATS_DEBUG=!1,PLAYER_EVENTS_DEBUG=!1,PLAYER_SONDA_SERVER="http://quiz.services.tvn.pl",quizDataStorage=[],PLAYER_DEFAULT_HOST="http://s1-player5.cdntvn.pl/",PLAYER_DEFAULT_OPACITY=1,PLAYER5_DEVICES_TYPE={mobile:["mobile","smartfon","telefon"],tablet:["tablet"]},IPAD_DEVICEMOTION=0;Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=arguments[1],d=0;b>d;d++)d in this&&a.call(c,this[d],d,this)});var hex_chr="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=md5("hello"),$(document).on("mouseenter",".video-js .imgHover",function(){var a=$(this),b=a.attr("src"),c=a.data("hover");a.attr("src",c),a.data("hover",b)}),$(document).on("mouseleave",".video-js .imgHover",function(){var a=$(this),b=a.attr("src"),c=a.data("hover");a.attr("src",c),a.data("hover",b)}),getCookieItem=function(a){if(!a||!hasCookieItem(a))return null;var b=new RegExp("(?:^|.*;\\s*)"+window.escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*");return window.unescape(document.cookie.replace(b,"$1"))},setCookieItem=function(a,b,c,d,e,f){if(a&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(a)){var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toGMTString()}document.cookie=window.escape(a)+"="+window.escape(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":"")}},canPlayMp4=function(){var a=!1,b=document.createElement("video");return b.canPlayType&&b.canPlayType("video/mp4").replace(/no/,"")&&(a=!0),a},hasCookieItem=function(a){return new RegExp("(?:^|;\\s*)"+window.escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},hasLocalStorage=function(){try{return window.localStorage.setItem("persistVolume","persistVolume"),window.localStorage.removeItem("persistVolume"),!0}catch(a){return!1}},getStorageItem=function(a){return hasLocalStorage()?window.localStorage.getItem(a):getCookieItem(a)},setStorageItem=function(a,b){return hasLocalStorage()?window.localStorage.setItem(a,b):setCookieItem(a,b,1/0,"/")},"undefined"==typeof errorLoadMovie&&(errorLoadMovie=function(){return'<div class="vjs-error-load-wrapper"><div class="vjs-error-load-container"><div class="vjs-error-load-content"><h2>materia jest niedostpny</h2><span class="vjs-error-load-icon"></span></div></div>'}),setBrandingSize=function(a,b){var c=$(b).siblings(".adoHide").find("div.tvn-advertisement").length,d=0,e=1,f=new Array(45,45,30,30,15,15,40,40,26,26,18,18),g=new Array(45,42,30,26,15,11,40,38,30,30,22,25),h=a.hasBranding;if(c&&!h.isBranding){var i=parseInt($(b).attr("data-branding-width"));("undefined"==typeof i||isNaN(i)||0===i)&&(i=parseInt($(b).width())),970==i&&(d=0,e=1),640==i&&(d=2,e=3),308==i&&(d=4,e=5),960==i&&(d=6,e=7),632==i&&(d=8,e=9),616==i&&(d=10,e=11);var j=i-2*f[d],k=Math.ceil(9*j/16),l=g[d],m=g[e];$(b).css({left:l,top:m,width:j,height:k}),$(b).find(".vjs-tech").css({width:j+1,height:k}),h.isBranding=!0,h.width=j,h.height=k,h.left=l,h.top=m}c&&h.isBranding&&$(b).css({left:h.left,top:h.top,width:h.width,height:h.height})};var vastParserProviders={tvn:function(a){function b(a,b,c){c=c||!1;var d=a;return a={},d&&(a.image=d),"undefined"!=typeof b&&(b.attributes.length&&(a.attribs=getAttribs(b)),b.getElementsByTagName("Image").length&&(a.image=extractCdata(b.getElementsByTagName("Image")[0])),b.getElementsByTagName("Normal").length&&(a.image=extractCdata(b.getElementsByTagName("Normal")[0])),b.getElementsByTagName("Hover").length&&(a.hover=extractCdata(b.getElementsByTagName("Hover")[0])),b.getElementsByTagName("ImageHoover").length&&(a.hover=extractCdata(b.getElementsByTagName("ImageHoover")[0])),b.getElementsByTagName("Link").length&&(a.link=extractCdata(b.getElementsByTagName("Link")[0])),b.getElementsByTagName("ClickThrough").length&&(a.link=extractCdata(b.getElementsByTagName("ClickThrough")[0])),(a.link||c)&&b.getElementsByTagName("StatUrl3").length&&(a.statUrl3=extractCdataArray(b.getElementsByTagName("StatUrl3"),!0))),a}function c(a,b){var c=document.createDocumentFragment(),d=[];if(a.length)for(var e=0;a.length>e;e++)a[e].parentNode.nodeName==b&&d.push(a[e]);for(var f=0;d.length>f;f++)c.appendChild(d[f]);return c.childNodes}function d(a,d){var e={};e.type=a[d].attributes.id.value;var h=getAttribs(a[d].getElementsByTagName("InLine")[0]);e.position=0,"undefined"!=typeof h.position&&(e.position=h.position),e.AdSystem=extractCdata(a[d].getElementsByTagName("AdSystem").item(0)),e.AdTitle=extractCdata(a[d].getElementsByTagName("AdTitle")[0]),e.Impression=extractCdataArray(c(a[d].getElementsByTagName("Impression"),"InLine"),!0),e.AdParameters=extractCdataArray(a[d].getElementsByTagName("AdParameters"));try{f=a[d].getElementsByTagName("Linear")[0],e.Duration=extractCdata(f.getElementsByTagName("Duration")[0]),e.MediaFile=extractCdata(f.getElementsByTagName("MediaFiles")[0].getElementsByTagName("MediaFile")[0]),e.ClickThrough=extractCdata(f.getElementsByTagName("VideoClicks")[0].getElementsByTagName("ClickThrough")[0],!0)}catch(i){}var j=a[d].getElementsByTagName("Tvn")[0];if("undefined"!=typeof j){var k,l,m=j.getElementsByTagName("InfoButtons")[0],n=j.getElementsByTagName("InfoButtons2")[0],o=j.getElementsByTagName("Sequential")[0];if(m){e.Interactive={attribs:{},buttons:[]},e.Interactive.attribs=getAttribs(m);for(var p=m.getElementsByTagName("Button"),q=0;q<p.length;q++)k=p[q],l={},l.icon=extractCdata(k.getElementsByTagName("Icon")[0]),l.title=extractCdata(k.getElementsByTagName("Title")[0]),l.statUrl=extractCdataArray(k.getElementsByTagName("StatUrl"),!0),l.url=extractCdata(k.getElementsByTagName("Url")[0],!0),e.Interactive.buttons.push(l)}else if(n){e.Interactive2={attribs:{},buttons:[]},e.Interactive2.attribs=getAttribs(n);for(var r=n.getElementsByTagName("Button"),s=0;s<r.length;s++){l={},k=r[s],l.attribs=getAttribs(k),l.icon=extractCdata(k.getElementsByTagName("Icon")[0]),l.title=extractCdata(k.getElementsByTagName("Title")[0]),l.statUrl=extractCdataArray(k.getElementsByTagName("StatUrl"),!0),l.statUrl2=extractCdataArray(k.getElementsByTagName("StatUrl2"),!0),l.url=extractCdata(k.getElementsByTagName("Url")[0],!0),l.slide={};var t=k.getElementsByTagName("Slide")[0];if("undefined"!=typeof t){l.slide.attribs=getAttribs(t),l.slide.background=extractCdata(t.getElementsByTagName("Background")[0]);var u={welcome:"Logo,Desc,Packshot,ActionButton",sonda:"color1,color2,color3,quiz_id,Logo,Desc,Packshot,VoteButton,ActionButton",survey:"color1,color2,color3,Survey_id,Logo,Desc,ActionButton",map:"BingDesc,BingTitle,Latitude,Longitude,Logo,ActionButton,Desc",gallery:"ActionButton"};if("billboard"==l.slide.attribs.id){l.slide.image=l.slide.background;var v=c(t.getElementsByTagName("ClickThrough"),"Slide");if(v.length&&(l.slide.link=extractCdataArray(v,!0)[0]),l.slide.link){var w=c(t.getElementsByTagName("StatUrl3"),"Slide");w.length&&(l.slide.statUrl3=extractCdataArray(w,!0))}}if("string"==typeof u[l.slide.attribs.id]){var x,y=u[l.slide.attribs.id].split(",");for(x in y)l.slide[y[x]]=extractCdata(t.getElementsByTagName(y[x])[0])}if("undefined"!=typeof l.slide.Packshot){var z=t.getElementsByTagName("Packshot")[0];l.slide.Packshot=b(l.slide.Packshot,z)}if("undefined"!=typeof l.slide.VoteButton){var A=t.getElementsByTagName("VoteButton")[0];l.slide.VoteButton=b(l.slide.VoteButton,A,!0)}if("survey"==l.slide.attribs.id){l.slide.redirects=[];var B=t.getElementsByTagName("Redirects").item(0);if(null!=B){var C,D=B.getElementsByTagName("Url");for(C=0;C<D.length;C++)l.slide.redirects.push({attribs:getAttribs(D.item(C)),url:extractCdata(D.item(C),!0)})}}if("gallery"==l.slide.attribs.id){l.slide.images=[];var E=t.getElementsByTagName("Image");if(E.length>0)for(var F=0;F<E.length;F++){var G={};G=extractCdata(E[F]),l.slide.images.push(G)}}if("undefined"!=typeof l.slide.ActionButton){var H=t.getElementsByTagName("ActionButton")[0],I=!1;"survey"==l.slide.attribs.id&&(I=!0),l.slide.ActionButton=b(l.slide.ActionButton,H,I)}if("undefined"!=typeof l.slide.Logo){var J=t.getElementsByTagName("Logo")[0];l.slide.Logo=b(l.slide.Logo,J)}l.slide.elements=[];for(var K=t.getElementsByTagName("Element"),L=0;L<K.length;L++){var M={};M=b(M,K[L]),l.slide.elements.push(M)}}e.Interactive2.buttons.push(l)}}else if(o){e.Sequential={},e.Sequential.attribs=getAttribs(o),e.Sequential.background=extractCdata(o.getElementsByTagName("Background")[0]),e.Sequential.elements=[];var N=o.getElementsByTagName("Elements").item(0);if(null!=N){var O,P=N.getElementsByTagName("Navigation").item(0),Q=N.getElementsByTagName("Element");for(O=0;O<Q.length;O++){var R={};R.attribs=getAttribs(Q.item(O));var S="Duration,ImageHoover,Image,Video,Background,ClickThrough".split(",");for(var T in S){var U=S[T];R[U]=extractCdata(Q.item(O).getElementsByTagName(U).item(0))}R.Impression=extractCdataArray(Q.item(O).getElementsByTagName("Impression"),!0),R.StatUrl=extractCdataArray(Q.item(O).getElementsByTagName("StatUrl"),!0),R.TrackingEvents=extractTrackingEvents(Q.item(O).getElementsByTagName("TrackingEvents"),!0),e.Sequential.elements.push(R)}}if(null!=P){e.Sequential.Navigation={};var V=P.getElementsByTagName("ButtonReturn").item(0);null!=V&&(e.Sequential.Navigation.ButtonReturn={},e.Sequential.Navigation.ButtonReturn.attribs=getAttribs(V),e.Sequential.Navigation.ButtonReturn.Image=extractCdata(V.getElementsByTagName("Image").item(0)),e.Sequential.Navigation.ButtonReturn.ImageHover=extractCdata(V.getElementsByTagName("ImageHover").item(0)),V.getElementsByTagName("StatUrl").length&&(e.Sequential.Navigation.ButtonReturn.StatUrl=extractCdataArray(V.getElementsByTagName("StatUrl"),!0)));var W=P.getElementsByTagName("ButtonSkip").item(0);null!=W&&(e.Sequential.Navigation.ButtonSkip={},e.Sequential.Navigation.ButtonSkip.attribs=getAttribs(W),e.Sequential.Navigation.ButtonSkip.Image=extractCdata(W.getElementsByTagName("Image").item(0)),e.Sequential.Navigation.ButtonSkip.ImageHover=extractCdata(W.getElementsByTagName("ImageHover").item(0)),W.getElementsByTagName("StatUrl").length&&(e.Sequential.Navigation.ButtonSkip.StatUrl=extractCdataArray(W.getElementsByTagName("StatUrl"),!0)))}}}"undefined"!=typeof f&&(e.TrackingEvents=extractTrackingEvents(f.getElementsByTagName("TrackingEvents"))),"Overlay"===e.type&&(f=a[d].getElementsByTagName("NonLinear").item(0),e.attribs=getAttribs(f),e.src=extractCdata(f.getElementsByTagName("StaticResource").item(0)),e.ClickThrough=extractCdata(f.getElementsByTagName("NonLinearClickThrough")[0],!0)),"Restboard"===e.type&&(f=a[d].getElementsByTagName("NonLinear").item(0),e.attribs=getAttribs(f),e.src=extractCdata(f.getElementsByTagName("StaticResource").item(0)),e.ClickThrough=extractCdata(f.getElementsByTagName("NonLinearClickThrough").item(0),!0)),g.push(e)}var e,f,g=[];if("object"!=typeof a||null==a){if(PLAYER_DEBUG)throw"Bd przy pobieraniu pliku VAST";return!1}e=a.getElementsByTagName("Ad");for(var h=0;h<e.length;h++){if("videoAd_wrapper"===e[h].attributes.id.value){var i={};return i.type="ima",i.Impression=extractCdataArray(c(e[h].getElementsByTagName("Impression"),"Wrapper"),!0),i.Error=extractCdataArray(c(e[h].getElementsByTagName("Error"),"Wrapper"),!0),i.urlToRedirect=extractCdata(e[h].getElementsByTagName("VASTAdTagURL")[0].getElementsByTagName("URL")[0]),i}d(e,h)}return g}};videojs.plugin("adBreak",function(a){var b=this;b.on("videoPlaying",function(){$.each(b.newAdStock,function(a){if("mid-roll"===this.type){var c=$("div#"+b.id()+" .vjs-control-bar"),d=this.timeStart/b.duration()*c.width();$("div#"+b.id()+" #vjsMidroll_"+a).length||$("div#"+b.id()+" .vjs-progress-control .vjs-play-progress").after($("<div>",{"class":"vjs-ad-midroll",id:"vjsMidroll_"+a,style:"left : "+Math.round(d)+"px;","data-start":this.timeStart,"data-duration":b.duration()}))}})}),b.on("videoPlayingAd",function(){var a=$("div#"+b.id()+" .vjs-ad-midroll");a.length&&a.css({visibility:"hidden"})}),b.on("videoCompleteAd",function(){var a=$("div#"+b.id()+" .vjs-ad-midroll");a.length&&a.css({visibility:"visible"})}),b.on("videoCompleteAd",function(){var a=$("div#"+b.id()+" .vjs-ad-midroll");a.length&&a.css({visibility:"visible"})}),b.on("videoFullScreen",function(){var a=$("div#"+b.id()+" .vjs-ad-midroll");if(a.length){var c=$("div#"+b.id()+" .vjs-control-bar");$.each(a,function(a,d){var e=parseInt($(d).data("start"),10),f=parseInt($(d).data("duration"),10),g="visible";b.advertInProgeres&&(g="hidden");var h=e/f*c.width();$(d).attr({style:"left : "+Math.round(h)+"px; visibility: "+g})})}})}),function(a){"function"==typeof define&&define.amd?define(["./video"],function(b){a(window,document,b)}):"object"==typeof exports&&"object"==typeof module?a(window,document,require("video.js")):a(window,document,videojs)}(function(a,b,c){var d=function(c){if(!c||!f(c))return null;var d=new RegExp("(?:^|.*;\\s*)"+a.escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*");return a.unescape(b.cookie.replace(d,"$1"))},e=function(c,d,e,f,g,h){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var i="";if(e)switch(e.constructor){case Number:i=e===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:i="; expires="+e;break;case Date:i="; expires="+e.toGMTString()}b.cookie=a.escape(c)+"="+a.escape(d)+i+(g?"; domain="+g:"")+(f?"; path="+f:"")+(h?"; secure":"")}},f=function(c){return new RegExp("(?:^|;\\s*)"+a.escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(b.cookie)},g=function(){try{return a.localStorage.setItem("persistVolume","persistVolume"),a.localStorage.removeItem("persistVolume"),!0}catch(b){return!1}},h=function(b){return g()?a.localStorage.getItem(b):d(b)},i=function(b,c){return g()?a.localStorage.setItem(b,c):e(b,c,1/0,"/")},j=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},k={namespace:""},l=function(a){var b=this;if(b.options().isMobile)return void b.muted(!1);var c=j({},k,a||{}),d=c.namespace+"-volume",e=c.namespace+"-mute";b.on("volumechange",function(){b.options().changeMute||(i(d,b.volume()),i(e,b.muted()))});var f=h(d);null!==f&&b.volume(f);var g=h(e);null!==g&&b.muted("true"===g),b.controlBar.muteToggle&&b.controlBar.muteToggle.update(),b.controlBar.volumeControl&&isDefined(b.controlBar.volumeControl.volumeBar)&&b.controlBar.volumeControl.volumeBar.update()};c.plugin("persistvolume",l)}),PlayersCollection.prototype={players:[],addPlayer:function(a){this.players.push(a)},pause:function(){$(this.players).each(function(a,b){b.pause()})},remove:function(){var a=this;$(this.players).each(function(b,c){"undefined"!=typeof a.players[b]&&(c.remove(),delete a.players[b])})},find:function(a){var b=null;return $(this.players).each(function(c,d){$(d.el()).attr("id")==a&&(b=d)}),b}};var PlayerTemplateFactory=function(){this.templates=this.getTemplatesCollection(),this.currentTemplate=!1};PlayerTemplateFactory.prototype.getTemplatesCollection=function(){return{"default":{extendable:!1,adProgressBar:!0,stopButton:!1,playPrevButton:!0,playNextButton:!1,shareButton:!1,className:"vjs-default-skin",buttons:{children:["playToggle","stopButton","playPrevButton","playNextButton","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","liveDisplay","progressControl","fullscreenToggle","volumeControl","muteToggle","playbackRateMenuButton","subtitlesButton","captionsButton","chaptersButton"]}},123:{extendable:!1,adProgressBar:!1,stopButton:!0,playPrevButton:!1,playNextButton:!0,shareButton:!1,className:"vjs-sl-skin",buttons:{children:{fullscreenToggle:!0,shareButton:!1,playToggle:!0,stopButton:!0,playPrevButton:!1,playNextButton:!0,liveDisplay:!1,progressControl:!0,volumeControl:!1,volumeMenuButton:{volumeBar:{vertical:!0}},durationDisplay:!0,timeDivider:!0,currentTimeDisplay:!0,remainingTimeDisplay:!1,muteToggle:!1,playbackRateMenuButton:!1}}},standard:{extendable:!0},inwestor:{shareButton:!1,buttons:{children:{shareButton:!1}}},tvnwarszawa:{defaultColor:"#B8D62C"},kontakt24:{defaultColor:"#00b200"},tvn24:{defaultColor:"#2471b9"},tvnmeteo:{defaultColor:"#097BC1"},tvn24bis:{defaultColor:"#c59d25"},veedo:{defaultColor:"#ca1300"},"standard-square":{shareButton:!1,className:"vjs-standard-skin vjs-standard-square",buttons:{children:{shareButton:!1}}},"standard-circle":{shareButton:!1,className:"vjs-standard-skin vjs-standard-circle",buttons:{children:{shareButton:!1}}},msn:{defaultColor:"#2471b9"}}},PlayerTemplateFactory.prototype.getTemplate=function(a){"undefined"==typeof PLAYER5_ID&&(PLAYER5_ID="default");var b={adProgressBar:!1,stopButton:!0,playPrevButton:!1,playNextButton:!1,shareButton:!0,className:"vjs-standard-skin",defaultColor:"",buttons:{children:{fullscreenToggle:!0,shareButton:!0,playToggle:!0,stopButton:!0,playPrevButton:!1,playNextButton:!1,liveDisplay:!1,progressControl:!0,muteToggle:!0,volumeControl:!0,currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,playbackRateMenuButton:!1}}};return"long"===a?this.currentTemplate="undefined"!=typeof this.templates[123]?this.templates[123]:this.templates["default"]:this.currentTemplate="undefined"!=typeof this.templates[PLAYER5_ID]?this.templates[PLAYER5_ID]:this.templates["default"],("undefined"==typeof this.currentTemplate.extendable||1==this.currentTemplate.extendable)&&(this.currentTemplate=this.mergeRecursive(b,this.currentTemplate)),this.setCustomColorVariant(),this.currentTemplate},PlayerTemplateFactory.prototype.setCustomColorVariant=function(){if("undefined"==typeof this.currentTemplate.defaultColor||""===this.currentTemplate.defaultColor)return!1;var a="."+this.currentTemplate.className.split(" ").join("."),b=this.currentTemplate.defaultColor,c=[[" .vjs-play-progress","background-color"],[" .vjs-shareboard-content h2","color"],[" .vjs-shareboard-content h2","border-color"],[" .vjs-big-play-button:hover","background-color","0.8"],[" .vjs-control:hover","background","0.85"],[".vjs-playing .vjs-play-control:hover","background","0.85"],[" .vjs-current-time:hover","background","0"],[" .vjs-duration:hover","background","0"],[" .vjs-remaining-time:hover","background","0"],[" .vjs-time-divider:hover","background","0"],[" .vjs-volume-level","background"],[" .vjs-volume-control:hover","background","0"],[" .vjs-menu-button ul li:focus","background","0.85"],[" .vjs-menu-button ul li:hover","background","0.85"],[" .vjs-menu-button ul li.vjs-selected","background","0.85"],[" .vjs-menu-button ul li.vjs-selected:focus","background","0.85"],[" .vjs-menu-button ul li.vjs-selected:hover","background","0.85"],[" .vjs-shareboard-content .vjs-share-link-button","background","0.8"]],d='<style type="text/css">';
for(var e in c){var f="undefined"!=typeof c[e][2]?0==c[e][2]?0:hexToRGB_MA(b,c[e][2]):b;d+=".video-js"+a+c[e][0]+"{"+c[e][1]+": "+f+";}"}d+="</style>",$(d).appendTo("head")},PlayerTemplateFactory.prototype.mergeRecursive=function(a,b){for(var c in b)try{b[c].constructor==Object?a[c]=PlayerTemplateFactory.prototype.mergeRecursive(a[c],b[c]):a[c]=b[c]}catch(d){a[c]=b[c]}return a};var tvnPlayerSocialMedia=function(){this.popup={open:function(a,b,c){var d,e;d=window.screen.width/2-(b/2+10),e=window.screen.height/2-(c/2+50),window.open(a,"Window2","status=no,height="+c+",width="+b+",resizable=yes,left="+d+",top="+e+",screenX="+d+",screenY="+e+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")}}};tvnPlayerSocialMedia.prototype.generatePopup=function(a,b,c){var d={facebook:"https://www.facebook.com/sharer/sharer.php?u=",gplus:"https://plus.google.com/share?url=",twitter:"https://twitter.com/share?url="},e=d[a];return e+=b,"twitter"==a&&(e+="&text="+c.replace("|"," ")),this.popup.open(e,545,460),!1},window.TvnPlayerSocialMedia=new tvnPlayerSocialMedia;var TvnPlayerEventsStats=function(a){this.collectors=a||[],this.definedCollectors=this.defineCollectors(this.collectors)};TvnPlayerEventsStats.GEMIUS_TRAFFIC="gemius",TvnPlayerEventsStats.GOOGLE_ANALYTICS="GA",TvnPlayerEventsStats.PIX2="pix2",TvnPlayerEventsStats.AVAILABLE_COLLECTORS=[TvnPlayerEventsStats.GEMIUS_TRAFFIC,TvnPlayerEventsStats.GOOGLE_ANALYTICS,TvnPlayerEventsStats.PIX2],TvnPlayerEventsStats.prototype.defineCollectors=function(a){var b=[];if($.isArray(a)&&a.length)for(var c=a.length,d=0;c>d;d++)$.inArray(a[d],TvnPlayerEventsStats.AVAILABLE_COLLECTORS)>-1&&b.push(a[d]);else"string"==typeof a&&$.inArray(a,TvnPlayerEventsStats.AVAILABLE_COLLECTORS)>-1&&b.push(a);return b},TvnPlayerEventsStats.prototype.getDefinedCollectors=function(){return this.definedCollectors},TvnPlayerEventsStats.prototype.trackGA=function(a,b){var c;if("undefined"!=typeof ga&&"function"==typeof ga){"undefined"!=typeof TvnUserUtils&&(ga("set","dimension1",b?"Yes":"No"),this.getUserHash()&&ga("set","dimension2",this.getUserHash())),c=["send","event"];for(key in a.GA)a.GA.hasOwnProperty(key)&&c.push(a.GA[key]);ga.apply(void 0,c)}if("undefined"!=typeof _gaq&&"function"==typeof _gaq.push){"undefined"!=typeof TvnUserUtils&&_gaq.push(["_setCustomVar",1,"logged_user",b?"Yes":"No"]),c=["_trackEvent"];for(key in a.GA)a.GA.hasOwnProperty(key)&&c.push(a.GA[key]);_gaq.push(c)}},TvnPlayerEventsStats.prototype.trackGemius=function(a,b,c){if("undefined"!=typeof gemius_event){var d=this.getGemiusCode(a);if(d!==!1){var e=["_view_",d];for(key in b.gemius)b.gemius.hasOwnProperty(key)&&e.push(key+"="+b.gemius[key]);"undefined"!=typeof TvnUserUtils&&(e.push("logged_user="+(c?"Yes":"No")),this.getUserHash()&&e.push("id="+this.getUserHash())),gemius_event.apply(void 0,e)}}},TvnPlayerEventsStats.prototype.trackPix2=function(a){if("undefined"!=typeof __pix2&&"undefined"!=typeof __pix2.event&&"undefined"!=typeof a.pix2&&"undefined"!=typeof a.pix2.event){var b={};for(key in a.pix2)"params"==key&&(b=a.pix2.params);window.__pix2.event(a.pix2.event,b)}},TvnPlayerEventsStats.prototype.track=function(a,b){"undefined"==typeof b&&(b=a);var c=this.isUserLogged();$.inArray(TvnPlayerEventsStats.GOOGLE_ANALYTICS,this.definedCollectors)>-1&&this.trackGA(b,c),$.inArray(TvnPlayerEventsStats.GEMIUS_TRAFFIC,this.definedCollectors)>-1&&this.trackGemius(a,b,c),$.inArray(TvnPlayerEventsStats.PIX2,this.definedCollectors)>-1&&this.trackPix2(b)},TvnPlayerEventsStats.prototype.isUserLogged=function(){if("undefined"!=typeof TvnUserUtils&&TvnUserUtils.getUser){var a=TvnUserUtils.getUser();if(a&&a.isAuthenticated)return a.isAuthenticated()}return!1},TvnPlayerEventsStats.prototype.getUserHash=function(){return"undefined"!=typeof Sso&&Sso.getStorageUserHash?Sso.getStorageUserHash():""},TvnPlayerEventsStats.prototype.getGemiusCode=function(a){if(!$.isArray(a))return!1;var b={Adblock:{Start:"ofuan7eAP2jXhYLy1WYF8qSfDot6pCcizN1vuzQW9b7.i7",StartAd:".KswPPCZUxXctxxLuLd4tqSfrhd6pGblbHofJORtxe..I7",StartAsset:"nAE6QQ.5Ly9GopLDr9cdCJa0DiEdxScWoe9v_L5hHTn.l7"}};for(var c in a)b.hasOwnProperty(a[c])&&(b=b[a[c]]);return"string"==typeof b?b:!1};var tvnAdBlockBoardUtils=function(){this.defaultCookieExpiration=120,this.cookieName="tvn_adblock"};tvnAdBlockBoardUtils.prototype=new TvnPlayerEventsStats([TvnPlayerEventsStats.GEMIUS_TRAFFIC,TvnPlayerEventsStats.GOOGLE_ANALYTICS,TvnPlayerEventsStats.PIX2]),tvnAdBlockBoardUtils.prototype.setCookie=function(a){if("undefined"==typeof jQuery.cookie)return!1;var a=a||this.defaultCookieExpiration,b=new Date;b.setTime(b.getTime()+60*a*1e3),$.cookie(this.cookieName,1,{useLocalStorage:!1,expires:b,path:"/"})},tvnAdBlockBoardUtils.prototype.removeCookie=function(){return"undefined"==typeof jQuery.cookie?!1:($.cookie(this.cookieName,null),!0)},tvnAdBlockBoardUtils.prototype.checkCookie=function(){return"undefined"==typeof jQuery.cookie?!1:$.cookie(this.cookieName)},tvnAdBlockBoardUtils.prototype.generateBoardHTML=function(a){if("function"==typeof adBlockBoard)return adBlockBoard();if("undefined"!=typeof adBlockBoard)return adBlockBoard;var b="undefined"!=typeof a.adBlockBanner?"background-image:url('"+a.adBlockBanner+"')":"";return $('<div class="vjs-abDetected" style="'+b+'"><a href="http://player.pl/faq/dlaczego-wideo-sie-nie-odtwarza,9374.html" title="Sprawd jak wyczy blokowanie reklam" class="vjs-off-adblock">&nbsp;</a></div>')},tvnAdBlockBoardUtils.prototype.adBlockBoardCallback=function(a){"function"==typeof adBlockBoardCallback?adBlockBoardCallback():($(a).trigger("video.adBlockBoard"),TvnAdBlockBoardUtils.setCookie(),TvnAdBlockBoardUtils.track(["Adblock","Start"],{gemius:{player_action:"Plansza Adblock Start"},GA:{category:"Plansza Adblok",action:"Wywietlenie"},pix2:{event:"Plansza Adblock Start"}}))},window.TvnAdBlockBoardUtils=new tvnAdBlockBoardUtils,function(a){function b(a,b,k){var l=0,m=[0],o="",p=null,o=k||"UTF8";if("UTF8"!==o&&"UTF16BE"!==o&&"UTF16LE"!==o)throw"encoding must be UTF8, UTF16BE, or UTF16LE";if("HEX"===b){if(0!==a.length%2)throw"srcString of HEX type must be in byte increments";p=d(a),l=p.binLen,m=p.value}else if("TEXT"===b||"ASCII"===b)p=c(a,o),l=p.binLen,m=p.value;else if("B64"===b)p=f(a),l=p.binLen,m=p.value;else{if("BYTES"!==b)throw"inputFormat must be HEX, TEXT, ASCII, B64, or BYTES";p=e(a),l=p.binLen,m=p.value}this.getHash=function(a,b,c,d){var e,f=null,k=m.slice(),o=l;if(3===arguments.length?"number"!=typeof c&&(d=c,c=1):2===arguments.length&&(c=1),c!==parseInt(c,10)||1>c)throw"numRounds must a integer >= 1";switch(b){case"HEX":f=g;break;case"B64":f=h;break;case"BYTES":f=i;break;default:throw"format must be HEX, B64, or BYTES"}if("SHA-1"!==a)throw"Chosen SHA variant is not supported";for(e=0;c>e;e+=1)k=n(k,o),o=160;return f(k,j(d))},this.getHMAC=function(a,b,k,p,q){var r,s,t,u,v=[],w=[];switch(r=null,p){case"HEX":p=g;break;case"B64":p=h;break;case"BYTES":p=i;break;default:throw"outputFormat must be HEX, B64, or BYTES"}if("SHA-1"!==k)throw"Chosen SHA variant is not supported";if(s=64,u=160,"HEX"===b)r=d(a),t=r.binLen,r=r.value;else if("TEXT"===b||"ASCII"===b)r=c(a,o),t=r.binLen,r=r.value;else if("B64"===b)r=f(a),t=r.binLen,r=r.value;else{if("BYTES"!==b)throw"inputFormat must be HEX, TEXT, ASCII, B64, or BYTES";r=e(a),t=r.binLen,r=r.value}if(a=8*s,b=s/4-1,t/8>s){if("SHA-1"!==k)throw"Unexpected error in HMAC implementation";for(r=n(r,t);r.length<=b;)r.push(0);r[b]&=4294967040}else if(s>t/8){for(;r.length<=b;)r.push(0);r[b]&=4294967040}for(s=0;b>=s;s+=1)v[s]=909522486^r[s],w[s]=1549556828^r[s];if("SHA-1"!==k)throw"Unexpected error in HMAC implementation";return k=n(w.concat(n(v.concat(m),a+l)),a+u),p(k,j(q))}}function c(a,b){var c,d,e,f,g=[],h=[],i=0;if("UTF8"===b)for(d=0;d<a.length;d+=1)for(c=a.charCodeAt(d),h=[],128>c?h.push(c):2048>c?(h.push(192|c>>>6),h.push(128|63&c)):55296>c||c>=57344?h.push(224|c>>>12,128|c>>>6&63,128|63&c):(d+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(d)),h.push(240|c>>>18,128|c>>>12&63,128|c>>>6&63,128|63&c)),e=0;e<h.length;e+=1){for(f=i>>>2;g.length<=f;)g.push(0);g[f]|=h[e]<<24-i%4*8,i+=1}else if("UTF16BE"===b||"UTF16LE"===b)for(d=0;d<a.length;d+=1){for(c=a.charCodeAt(d),"UTF16LE"===b&&(e=255&c,c=e<<8|c>>8),f=i>>>2;g.length<=f;)g.push(0);g[f]|=c<<16-i%4*8,i+=2}return{value:g,binLen:8*i}}function d(a){var b,c,d,e=[],f=a.length;if(0!==f%2)throw"String of HEX type must be in byte increments";for(b=0;f>b;b+=2){if(c=parseInt(a.substr(b,2),16),isNaN(c))throw"String of HEX type contains invalid characters";for(d=b>>>3;e.length<=d;)e.push(0);e[b>>>3]|=c<<24-b%8*4}return{value:e,binLen:4*f}}function e(a){var b,c,d,e=[];for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),d=c>>>2,e.length<=d&&e.push(0),e[d]|=b<<24-c%4*8;return{value:e,binLen:8*a.length}}function f(a){var b,c,d,e,f,g=[],h=0;if(-1===a.search(/^[a-zA-Z0-9=+\/]+$/))throw"Invalid character in base-64 string";if(c=a.indexOf("="),a=a.replace(/\=/g,""),-1!==c&&c<a.length)throw"Invalid '=' found in base-64 string";for(c=0;c<a.length;c+=4){for(f=a.substr(c,4),d=e=0;d<f.length;d+=1)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[d]),e|=b<<18-6*d;for(d=0;d<f.length-1;d+=1){for(b=h>>>2;g.length<=b;)g.push(0);g[b]|=(e>>>16-8*d&255)<<24-h%4*8,h+=1}}return{value:g,binLen:8*h}}function g(a,b){var c,d,e="",f=4*a.length;for(c=0;f>c;c+=1)d=a[c>>>2]>>>8*(3-c%4),e+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(15&d);return b.outputUpper?e.toUpperCase():e}function h(a,b){var c,d,e,f="",g=4*a.length;for(c=0;g>c;c+=3)for(e=c+1>>>2,d=a.length<=e?0:a[e],e=c+2>>>2,e=a.length<=e?0:a[e],e=(a[c>>>2]>>>8*(3-c%4)&255)<<16|(d>>>8*(3-(c+1)%4)&255)<<8|e>>>8*(3-(c+2)%4)&255,d=0;4>d;d+=1)f=8*c+6*d<=32*a.length?f+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6*(3-d)&63):f+b.b64Pad;return f}function i(a){var b,c,d="",e=4*a.length;for(b=0;e>b;b+=1)c=a[b>>>2]>>>8*(3-b%4)&255,d+=String.fromCharCode(c);return d}function j(a){var b={outputUpper:!1,b64Pad:"="};try{a.hasOwnProperty("outputUpper")&&(b.outputUpper=a.outputUpper),a.hasOwnProperty("b64Pad")&&(b.b64Pad=a.b64Pad)}catch(c){}if("boolean"!=typeof b.outputUpper)throw"Invalid outputUpper formatting option";if("string"!=typeof b.b64Pad)throw"Invalid b64Pad formatting option";return b}function k(a,b){return a<<b|a>>>32-b}function l(a,b){var c=(65535&a)+(65535&b);return((a>>>16)+(b>>>16)+(c>>>16)&65535)<<16|65535&c}function m(a,b,c,d,e){var f=(65535&a)+(65535&b)+(65535&c)+(65535&d)+(65535&e);return((a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(e>>>16)+(f>>>16)&65535)<<16|65535&f}function n(a,b){var c,d,e,f,g,h,i,j,n,o=[],p=[1732584193,4023233417,2562383102,271733878,3285377520];for(c=(b+65>>>9<<4)+15;a.length<=c;)a.push(0);for(a[b>>>5]|=128<<24-b%32,a[c]=b,n=a.length,i=0;n>i;i+=16){for(c=p[0],d=p[1],e=p[2],f=p[3],g=p[4],j=0;80>j;j+=1)o[j]=16>j?a[j+i]:k(o[j-3]^o[j-8]^o[j-14]^o[j-16],1),h=20>j?m(k(c,5),d&e^~d&f,g,1518500249,o[j]):40>j?m(k(c,5),d^e^f,g,1859775393,o[j]):60>j?m(k(c,5),d&e^d&f^e&f,g,2400959708,o[j]):m(k(c,5),d^e^f,g,3395469782,o[j]),g=f,f=e,e=k(d,30),d=c,c=h;p[0]=l(c,p[0]),p[1]=l(d,p[1]),p[2]=l(e,p[2]),p[3]=l(f,p[3]),p[4]=l(g,p[4])}return p}"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=exports=b:exports=b:a.jsSHA=b}(this);var requirejs,require,define;!function(ba){function G(a){return"[object Function]"===K.call(a)}function H(a){return"[object Array]"===K.call(a)}function v(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function T(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function t(a,b){return fa.call(a,b)}function n(a,b){return t(a,b)&&a[b]}function B(a,b){for(var c in a)if(t(a,c)&&b(a[c],c))break}function U(a,b,c,d){return b&&B(b,function(b,e){(c||!t(a,e))&&(!d||"object"!=typeof b||!b||H(b)||G(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),U(a[e],b,c,d)))}),a}function u(a,b){return function(){return b.apply(a,arguments)}}function ca(a){throw a}function da(a){if(!a)return a;var b=ba;return v(a.split("."),function(a){b=b[a]}),b}function C(a,b,c,d){return b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),b.requireType=a,b.requireModules=d,c&&(b.originalError=c),b}function ga(a){function b(a,b,c){var d,e,f,g,h,i,j,k,b=b&&b.split("/"),l=D.map,m=l&&l["*"];if(a){for(a=a.split("/"),e=a.length-1,D.nodeIdCompat&&Q.test(a[e])&&(a[e]=a[e].replace(Q,"")),"."===a[0].charAt(0)&&b&&(e=b.slice(0,b.length-1),a=e.concat(a)),e=a,f=0;f<e.length;f++)g=e[f],"."===g?(e.splice(f,1),f-=1):".."===g&&0!==f&&(1!==f||".."!==e[2])&&".."!==e[f-1]&&f>0&&(e.splice(f-1,2),f-=2);a=a.join("/")}if(c&&l&&(b||m)){e=a.split("/"),f=e.length;a:for(;f>0;f-=1){if(h=e.slice(0,f).join("/"),b)for(g=b.length;g>0;g-=1)if((c=n(l,b.slice(0,g).join("/")))&&(c=n(c,h))){d=c,i=f;break a}!j&&m&&n(m,h)&&(j=n(m,h),k=f)}!d&&j&&(d=j,i=k),d&&(e.splice(0,i,d),a=e.join("/"))}return(d=n(D.pkgs,a))?d:a}function c(a){z&&v(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===x.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=n(D.paths,a);return b&&H(b)&&1<b.length?(b.shift(),x.require.undef(a),x.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,c,d,e){var g,h,i=null,j=c?c.name:null,k=a,l=!0,m="";return a||(l=!1,a="_@r"+(P+=1)),a=f(a),i=a[0],a=a[1],i&&(i=b(i,j,e),h=n(K,i)),a&&(i?m=h&&h.normalize?h.normalize(a,function(a){return b(a,j,e)}):-1===a.indexOf("!")?b(a,j,e):a:(m=b(a,j,e),a=f(m),i=a[0],m=a[1],d=!0,g=x.nameToUrl(m))),d=!i||h||d?"":"_unnormalized"+(S+=1),{prefix:i,name:m,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+m:m)+d}}function h(a){var b=a.id,c=n(E,b);return c||(c=E[b]=new x.Module(a)),c}function i(a,b,c){var d=a.id,e=n(E,d);!t(K,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(K[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(v(c,function(b){(b=n(E,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d||e.onError(a))}function k(){R.length&&(ha.apply(J,[J.length,0].concat(R)),R=[])}function l(a){delete E[a],delete F[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,v(a.depMaps,function(d,e){var f=d.id,g=n(E,f);g&&!a.depMatched[e]&&!c[f]&&(n(b,f)?(a.defineDep(e,K[f]),a.check()):m(g,b,c))}),c[d]=!0)}function o(){var a,b,e=(a=1e3*D.waitSeconds)&&x.startTime+a<(new Date).getTime(),f=[],g=[],h=!1,i=!0;if(!s){if(s=!0,B(F,function(a){var j=a.map,k=j.id;if(a.enabled&&(j.isDefine||g.push(a),!a.error))if(!a.inited&&e)d(k)?h=b=!0:(f.push(k),c(k));else if(!a.inited&&a.fetched&&j.isDefine&&(h=!0,!j.prefix))return i=!1}),e&&f.length)return a=C("timeout","Load timeout for modules: "+f,null,f),a.contextName=x.contextName,j(a);i&&v(g,function(a){m(a,{},{})}),e&&!b||!h||!z&&!ea||A||(A=setTimeout(function(){A=0,o()},50)),s=!1}}function p(a){t(K,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=x.onScriptLoad;return a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),b=x.onScriptError,(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1),{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(k();J.length;){if(a=J.shift(),null===a[0])return j(C("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var s,w,x,y,A,D={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},F={},I={},J=[],K={},L={},O={},P=1,S=1;return y={require:function(a){return a.require?a.require:a.require=x.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?K[a.map.id]=a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return n(D.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},w=function(a){this.events=n(I,a.id)||{},this.map=a,this.shim=n(D.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,x.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(f)){if(this.events.error&&this.map.isDefine||e.onError!==ca)try{d=x.execCb(c,f,b,d)}catch(g){a=g}else d=x.execCb(c,f,b,d);if(this.map.isDefine&&void 0===d&&((b=this.module)?d=b.exports:this.usingExports&&(d=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else d=f;this.exports=d,this.map.isDefine&&!this.ignore&&(K[c]=d,e.onResourceLoad)&&e.onResourceLoad(x,this.map,this.depMaps),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",u(this,function(d){var f,k;k=n(O,this.map.id);var m=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=x.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(d.normalize&&(m=d.normalize(m,function(a){return b(a,o,!0)})||""),d=g(a.prefix+"!"+m,this.map.parentMap),i(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(k=n(E,d.id))&&(this.depMaps.push(d),this.events.error&&k.on("error",u(this,function(a){this.emit("error",a)})),k.enable())):k?(this.map.url=x.nameToUrl(k),this.load()):(f=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),f.error=u(this,function(a){this.inited=!0,this.error=a,a.requireModules=[c],B(E,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&l(a.map.id)}),j(a)}),f.fromText=u(this,function(b,d){var i=a.name,k=g(i),l=M;d&&(b=d),l&&(M=!1),h(k),t(D.config,c)&&(D.config[i]=D.config[c]);try{e.exec(b)}catch(m){return j(C("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}l&&(M=!0),this.depMaps.push(k),x.completeLoad(i),p([i],f)}),d.load(a.name,p,f,D))})),x.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){F[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=n(y,a.id))return void(this.depExports[b]=c(this));this.depCount+=1,i(a,"defined",u(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",u(this,this.errback)):this.events.error&&i(a,"error",u(this,function(a){this.emit("error",a)}))}c=a.id,d=E[c],!t(y,c)&&d&&!d.enabled&&x.enable(a,this)})),B(this.pluginMaps,u(this,function(a){var b=n(E,a.id);b&&!b.enabled&&x.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){v(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},x={config:D,contextName:a,registry:E,defined:K,urlFetched:L,defQueue:J,Module:w,makeModuleMap:g,nextTick:e.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=D.shim,c={paths:!0,bundles:!0,config:!0,map:!0};B(a,function(a,b){c[b]?(D[b]||(D[b]={}),U(D[b],a,!0,!0)):D[b]=a}),a.bundles&&B(a.bundles,function(a,b){v(a,function(a){a!==b&&(O[a]=b)})}),a.shim&&(B(a.shim,function(a,c){H(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=x.makeShimExports(a)),b[c]=a}),D.shim=b),a.packages&&v(a.packages,function(a){var b,a="string"==typeof a?{name:a}:a;b=a.name,a.location&&(D.paths[b]=a.location),D.pkgs[b]=a.name+"/"+(a.main||"main").replace(ia,"").replace(Q,"")}),B(E,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=g(b,null,!0))}),(a.deps||a.callback)&&x.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;return a.init&&(b=a.init.apply(ba,arguments)),b||a.exports&&da(a.exports)}},makeRequire:function(d,f){function i(b,c,k){var l,m;return f.enableBuildCallback&&c&&G(c)&&(c.__requireJsBuild=!0),"string"==typeof b?G(c)?j(C("requireargs","Invalid require call"),k):d&&t(y,b)?y[b](E[d.id]):e.get?e.get(x,b,d,i):(l=g(b,d,!1,!0),l=l.id,t(K,l)?K[l]:j(C("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+a+(d?"":". Use require([])")))):(r(),x.nextTick(function(){r(),m=h(g(null,d)),m.skipMap=f.skipMap,m.init(b,c,k,{enabled:!0}),o()}),i)}return f=f||{},U(i,{isBrowser:z,toUrl:function(a){var c,e=a.lastIndexOf("."),f=a.split("/")[0];return-1!==e&&("."!==f&&".."!==f||e>1)&&(c=a.substring(e,a.length),a=a.substring(0,e)),x.nameToUrl(b(a,d&&d.id,!0),c,!0)},defined:function(a){return t(K,g(a,d,!1,!0).id)},specified:function(a){return a=g(a,d,!1,!0).id,t(K,a)||t(E,a)}}),d||(i.undef=function(a){k();var b=g(a,d,!0),e=n(E,a);e.undefed=!0,c(a),delete K[a],delete L[b.url],delete I[a],T(J,function(b,c){b[0]===a&&J.splice(c,1)}),e&&(e.events.defined&&(I[a]=e.events),l(a))}),i},enable:function(a){n(E,a.id)&&h(a).enable()},completeLoad:function(a){var b,c,e=n(D.shim,a)||{},f=e.exports;for(k();J.length;){if(c=J.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);p(c)}if(c=n(E,a),!b&&!t(K,a)&&c&&!c.inited){if(D.enforceDefine&&(!f||!da(f)))return d(a)?void 0:j(C("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,f,g;if((d=n(D.pkgs,a))&&(a=d),d=n(O,a))return x.nameToUrl(d,b,c);if(e.jsExtRegExp.test(a))d=a+(b||"");else{for(d=D.paths,a=a.split("/"),f=a.length;f>0;f-=1)if(g=a.slice(0,f).join("/"),g=n(d,g)){H(g)&&(g=g[0]),a.splice(0,f,g);break}d=a.join("/"),d+=b||(/^data\:|\?/.test(d)||c?"":".js"),d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":D.baseUrl)+d}return D.urlArgs?d+((-1===d.indexOf("?")?"?":"&")+D.urlArgs):d},load:function(a,b){e.load(x,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ja.test((a.currentTarget||a.srcElement).readyState))&&(N=null,a=q(a),x.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:j(C("scripterror","Script error for: "+b.id,a,[b.id]))}},x.require=x.makeRequire(),x}var e,x,y,D,I,E,N,J,r,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},s={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;s=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(s=require,require=void 0),e=requirejs=function(a,b,c,d){var f,g="_";return!H(a)&&"string"!=typeof a&&(f=a,H(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),(d=n(F,g))||(d=F[g]=e.s.newContext(g)),f&&d.configure(f),d.require(a,b,c)},e.config=function(a){return e(a)},e.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=e),e.version="2.1.19",e.jsExtRegExp=/^\/|:|\?|\.js$/,e.isBrowser=z,x=e.s={contexts:F,newContext:ga},e({}),v(["toUrl","undef","defined","specified"],function(a){e[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),e.onError=ca,e.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},e.load=function(a,b,c){var d,f=a&&a.config||{};if(z)return d=e.createNode(f,b,c),f.onNodeCreated&&f.onNodeCreated(d,f,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(M=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,J=d,D?y.insertBefore(d,D):y.appendChild(d),J=null,d;if(ea)try{importScripts(c),a.completeLoad(b)}catch(g){a.onError(C("importscripts","importScripts failed for "+b+" at "+c,g,[b]))}},z&&!s.skipDataMain&&T(document.getElementsByTagName("script"),function(a){return y||(y=a.parentNode),(I=a.getAttribute("data-main"))?(r=I,s.baseUrl||(E=r.split("/"),r=E.pop(),O=E.length?E.join("/")+"/":"./",s.baseUrl=O),r=r.replace(Q,""),e.jsExtRegExp.test(r)&&(r=I),s.deps=s.deps?s.deps.concat(r):[r],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),H(b)||(c=b,b=null),!b&&G(c)&&(b=[],c.length&&(c.toString().replace(ka,"").replace(la,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),M&&((d=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?N=a:void 0}),d=N),d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])),(e?e.defQueue:R).push([a,b,c])},define.amd={jQuery:!0},e.exec=function(b){return eval(b)},e(s)}}(this),require.config({paths:{moduleMPD:"//s1-player5.cdntvn.pl/dsh628c1375e07284869e1d9edd94aabd00",moduleMPDtech:"//s1-player5.cdntvn.pl/00dbaa49dde9d1e96848270e5731c826dsht",moduleMPD2:"//s1-player5.cdntvn.pl/dshjs628c1375e07284869e1d9edd94aabd00",moduleMPDtech2:"//s1-player5.cdntvn.pl/00dbaa49dde9d1e96848270e5731c826dshjst",moduleHLS:"//s1-player5.cdntvn.pl/hls6675f506cff3d3c42f3132fb9c6443ff",moduleSL:"//s1-player5.cdntvn.pl/sl6f54975r5tk9g8f75435jhf98765lkjg",imaGoogle:"//imasdk.googleapis.com/js/sdkloader/ima3"}});var _PlayerSLCurrent=0,VideoPlayerState=function(){this.breakName="",this.breakNr=[],this.adIsPlaying=!1,this.materialIsPlaying=!1,this.adsCounter=0,this.firstAd=!1,this.watchingTime=-1,this.playbackTime=-1,this.progressIntervalId=null,this.registerAd=function(a){this.adIsPlaying||(this.adIsPlaying=!0,this.firstAd=0==this.adsCounter,this.adsCounter++,"undefined"==typeof this.breakNr[a]?this.breakNr[a]=1:this.breakNr[a]++,this.breakName=a+"/"+this.breakNr[a],this.materialIsPlaying=!1)},this.setPlayingMaterial=function(){this.materialIsPlaying=!0},this.getIsPlayingMaterial=function(){return this.materialIsPlaying},this.getActualBreak=function(){return 1==this.adIsPlaying?this.breakName:""},this.unregisterAd=function(){this.breakName="",this.adIsPlaying=!1},this.setWatchingTime=function(a){a&&!isNaN(parseInt(a,10))&&(this.watchingTime=a)},this.incrementWatchingTime=function(){this.watchingTime++},this.setPlaybackTime=function(a){isNaN(parseInt(a,10))||(this.playbackTime=a)}};Player=function(){this.brandingWidth=0,this.brandingHeight=0,this.state=new VideoPlayerState,this.eventEmitter=new TvnPlayerEventsStats([TvnPlayerEventsStats.PIX2])},Player.debugMode=!1,Player.prototype.disableEventEmitter=function(){this.eventEmitter=new TvnPlayerEventsStats([])},Player.prototype.getState=function(){return this.state},Player.prototype.resetState=function(){this.getState().progressIntervalId&&clearInterval(this.getState().progressIntervalId),this.state=new VideoPlayerState},Player.prototype.log=function(){!0===Player.debugMode&&"undefined"!=typeof console&&console.log(arguments)},Player.prototype.error=function(){!0===Player.debugMode&&"undefined"!=typeof console&&console.error(arguments)},Player.prototype.render=function(){},Player.prototype.show=function(){this.node&&$(this.node).show()},Player.prototype.hide=function(){this.node&&$(this.node).hide()},Player.prototype.play=function(){},Player.prototype.stop=function(){},Player.prototype.pause=function(){},Player.prototype.playingCallback=function(){$(this.node).trigger("video.playing",arguments),$(this.node).trigger("video.loadingEnd",arguments),this.getState().getIsPlayingMaterial()||(this.getState().unregisterAd(),this.getState().setPlayingMaterial(),"function"!=typeof this.getMaterialType||"undefined"!=typeof PlayerBrightCove&&this instanceof PlayerBrightCove||this.trackEvent("play_"+this.getMaterialType()),this.initProgress&&this.initProgress(),TvnAdBlockBoardUtils.checkCookie()&&TvnAdBlockBoardUtils.track(["Adblock","StartAsset"],{gemius:{player_action:"Plansza Adblock Start assetu"},GA:{category:"Plansza Adblok",action:"Start assetu"},pix2:{event:"Plansza Adblock Start assetu"}}))},Player.prototype.trackEvent=function(a){"function"==typeof this.getGstreamVideoId&&this.getGstreamVideoId&&$.inArray(TvnPlayerEventsStats.PIX2,this.eventEmitter.getDefinedCollectors())>-1?this.eventEmitter.track({pix2:{event:a,params:{asset_id:this.getGstreamVideoId()}}}):this.error("Some events could not be sent")},Player.prototype.stoppedCallback=function(){$(this.node).trigger("video.stopped",arguments),this.trackEvent("play_stop"),this.resetState()},Player.prototype.changeView=function(){$(this.node).trigger("video.changeView",arguments)},Player.prototype.completeCallback=function(){$(this.node).trigger("video.complete",arguments),this.trackEvent("play_end"),this.resetState()},Player.prototype.pausedCallback=function(){$(this.node).trigger("video.paused",arguments),this.trackEvent("play_pause")},Player.prototype.playingAdCallback=function(){if($(this.node).trigger("video.playingAd",arguments),!this.getState().adIsPlaying){var a="Preroll";"undefined"!=typeof arguments[0]&&(a=arguments[0]),this.getState().registerAd(a),TvnAdBlockBoardUtils.checkCookie()&&TvnAdBlockBoardUtils.track(["Adblock","StartAd"],{gemius:{player_action:"Plansza Adblock Start reklamy"},GA:{category:"Plansza Adblok",action:"Start reklamy",label:a},pix2:{event:"Plansza Adblock Start reklamy",params:{breakName:a}}})}},Player.prototype.completeAdCallback=function(){$(this.node).trigger("video.completeAd",arguments),this.getState().unregisterAd()},Player.prototype.pausedAdCallback=function(){$(this.node).trigger("video.pausedAd",arguments)},Player.prototype.seekCallback=function(){$(this.node).trigger("video.seek",arguments),this.trackEvent("play_seek")},Player.prototype.errorCallback=function(){$(this.node).trigger("video.error",arguments)},Player.prototype.licenseErrorCallback=function(){$(this.node).trigger("video.licenseError",arguments)},Player.prototype.fullscreenCallback=function(){$(this.node).trigger("video.fullScreen",arguments)},Player.prototype.playlistClipEndCallback=function(){$(this.node).trigger("video.playlistClipEnd",arguments),this.resetState()},Player.prototype.playlistEndCallback=function(){$(this.node).trigger("video.playlistEnd",arguments),this.resetState()},Player.prototype.renewLicenseErrorCallback=function(){$(this.node).trigger("video.renewLicenseError",arguments)},Player.prototype.notAvailableCallback=function(){$(this.node).trigger("video.notAvailableCallback",arguments)},Player.prototype.deviceLimitExceededCallback=function(){
$(this.node).trigger("video.deviceLimitExceededCallback",arguments)},Player.prototype.progressCallback=function(a,b){$(this.node).trigger("video.progress",arguments);var b=b||a.watchingTime;!isNaN(b)&&0==b%60&&b>0&&this.trackEvent("play_"+b+"s")},Player.prototype.adReceivedCallback=function(a){$(this.node).trigger("video.adReceived",arguments)},Player.prototype.remove=function(){},Player.prototype.isRendered=function(){return!1},Player.prototype.loadingCallback=function(){$(this.node).trigger("video.loadingStart")},Player.prototype.adBlockBoardCallback=function(){$(this.node).trigger("video.adBlockBoard",arguments),TvnAdBlockBoardUtils.setCookie(),TvnAdBlockBoardUtils.track(["Adblock","Start"],{gemius:{player_action:"Plansza Adblock Start"},GA:{category:"Plansza Adblok",action:"Wywietlenie"},pix2:{event:"Plansza Adblock Start"}})},Player.prototype.error=function(){$(this.node).trigger("video.error")},Player.prototype.width=function(){},Player.prototype.height=function(){},Player.prototype.setBrandingWidth=function(a){this.brandingWidth=a},Player.prototype.setBrandingHeight=function(a){this.brandingHeight=a},PlayerSL=function(node,vars,params){var vars=vars||{},params=params||{};this.x=0,this.y=1,this.playerFile="http://s1-player5.cdntvn.pl/player.xap","undefined"!=typeof SILVER_LIGHT_PLAYER&&(this.playerFile=SILVER_LIGHT_PLAYER),this.skin=null,this.isRendered()||(_PlayerSLCurrent=_PlayerSLCurrent++),this.id="_playerSLNode_"+_PlayerSLCurrent,this.node=node,node.PlayerSL=this,$("video",this.node).remove(),this.addEmptyDiv();var that=this,createCallbackFunction=function(type){var functionName="_PlayerSL_"+_PlayerSLCurrent+"_"+type;return eval(functionName+" = function(){ that[type].apply(that, arguments); }"),functionName};$(node).on("set-license-url",function(a,b){"undefined"!=typeof this.PlayerSL&&"undefined"!=typeof this.PlayerSL.vars&&(this.PlayerSL.vars.licenseUrl=b),$(this).data("license-url",b)}),this.events={onError:createCallbackFunction("onError"),onLoad:createCallbackFunction("onSLLoad")},this.loading=!1,this.vars=$.extend({},{playlist:$(node).data("video-playlist"),autostart:$(node).data("video-autostart")?!0:!1,stopButton:$(node).data("stop-button")?!0:!1,seekCallback:createCallbackFunction("seekCallback"),errorCallback:createCallbackFunction("errorCallback"),licenseErrorCallback:createCallbackFunction("licenseErrorCallback"),fullscreenCallback:createCallbackFunction("fullscreenCallback"),completeCallback:createCallbackFunction("completeCallback"),stoppedCallback:createCallbackFunction("stoppedCallback"),completeAdCallback:createCallbackFunction("completeAdCallback"),pausedCallback:createCallbackFunction("pausedCallback"),pausedAdCallback:createCallbackFunction("pausedAdCallback"),playingCallback:createCallbackFunction("playingCallback"),playingAdCallback:createCallbackFunction("playingAdCallback"),playlistClipEndCallback:createCallbackFunction("playlistClipEndCallback"),playlistEndCallback:createCallbackFunction("playlistEndCallback"),renewLicenseErrorCallback:createCallbackFunction("renewLicenseErrorCallback"),notAvailableCallback:createCallbackFunction("notAvailableCallback"),deviceLimitExceededCallback:createCallbackFunction("deviceLimitExceededCallback"),adBlockBoardCallback:createCallbackFunction("adBlockBoardCallback")},vars),this._width=$(node).data("width")||$(node).width(),this._height=$(node).data("height")||$(node).height(),$(node).data("tvn-vod")&&(this.vars.tvnVod=!0),$(node).data("license-url")&&(this.vars.licenseUrl=$(node).data("license-url")),"undefined"!=typeof $(node).data("disable-adblock")&&(1==$(node).data("disable-adblock")?this.vars.blocker="off":this.vars.blocker="on"),$(node).data("license-renew-url")&&(this.vars.licenseRenewUrl=$(node).data("license-renew-url")),$(node).data("video-gstream-account")&&(this.vars.gstreamAccount=$(node).data("video-gstream-account")),this.params=$.extend({},{enableGPUAcceleration:"true",autoUpgrade:"true",enableHtmlAccess:"true",background:"white",windowless:"true",version:"4.0",inplaceInstallPrompt:"true"},params)},PlayerSL.prototype=new Player,PlayerSL.prototype.addEmptyDiv=function(){this.playerNode=$('<div id="'+this.id+'"></div>'),$(this.node).append(this.playerNode)},PlayerSL.prototype.onSLLoad=function(){$(this.node).trigger("video.SLLoad")},PlayerSL.prototype.onError=function(){$(this.node).trigger("video.error")},PlayerSL.prototype.createObject=function(a,b,c,d,e,f){Silverlight.createObjectEx({source:a,parentElement:b,id:c,properties:d,events:e,initParams:f})},PlayerSL.prototype.render=function(a,b){if(!this.isRendered()){var a=a||{},b=b||{};a=$.extend({},this.vars,a),a.width=this._width,a.height=this._height,b=$.extend({},this.params,b),b.width=this._width,b.height=this._height;var c="";for(var d in a)c+=d+"="+a[d]+",";c&&c.length&&(c=c.substr(0,c.length-1));var e=this;window.Silverlight?this.createObject(this.playerFile,this.node,this.id,b,this.events,c):require(["moduleSL"],function(){e.createObject(e.playerFile,e.node,e.id,b,e.events,c)}),this.resetState()}},PlayerSL.prototype.isRendered=function(){var a=document.getElementById(this.id);return a&&a.nodeName&&"OBJECT"==a.nodeName},PlayerSL.prototype.play=function(){if(this.loading||(this.loadingCallback(),this.loading=!0),this.isRendered()){var a=document.getElementById(this.id);a&&a.content.SL.play()}else this.render({autostart:!0})},PlayerSL.prototype.initProgress=function(){var a=this;this.getState().progressIntervalId=null,this.getInformation&&(this.getState().progressIntervalId=setInterval(function(){a.progressCallback(a.getInformation())},1e3))},PlayerSL.prototype.stop=function(){var a=document.getElementById(this.id);a&&a.content.SL.stop()},PlayerSL.prototype.pause=function(){var a=document.getElementById(this.id);a&&a.content.SL.pause()},PlayerSL.prototype.remove=function(){$("#"+this.id).remove(),this.addEmptyDiv()},PlayerSL.prototype.setPlaylistUrl=function(a){this.vars.playlist=a},PlayerSL.prototype.width=function(a){$("#"+this.id).css("width",a-this.brandingWidth)},PlayerSL.prototype.height=function(a){$("#"+this.id).css("height",a-this.brandingHeight)},PlayerSL.prototype.getGstreamVideoId=function(){return-1!==this.getInformation().moveId?this.getInformation().moveId:"string"==typeof $(this.node).data("gstream-video-id")?$(this.node).data("gstream-video-id"):""},PlayerSL.prototype.getMaterialType=function(){return"long"},PlayerSL.prototype.getInformation=function(){var a={watchingTime:-1,playbackTime:-1,totalTime:-1,moveId:-1};try{var b=document.getElementById(this.id);b&&b.content&&(a.watchingTime=b.content.SL.getMovieWatchingTime(),a.playbackTime=b.content.SL.getMoviePlaybackTime(),a.totalTime=b.content.SL.getMovieTotalTime(),a.moveId=b.content.SL.getMovieId())}catch(c){}return a};var PlayerVJS=function(a,b){if(!a.initialRequest){if($(b).hasClass("player-initialized")){var c=videojs($(b).find(".vjs-tech").attr("id"));return setBrandingSize(c,b),c}$(b).addClass("player-initialized");var d=!1;"undefined"!=typeof a.embed&&a.embed===!0&&(d=!0);var e=!1;if(isDefined($(b).data("video-playlist"))){var f=$(b).data("video-playlist").replace(".xml",".json");$.ajax({url:f,dataType:"json",async:!1,success:function(a){e=a}}),"object"==typeof e&&e.hasOwnProperty("movies")&&(e={playlist:e}),isNotDefined(a.autoplay)&&"undefined"!=typeof e.playlist&&"undefined"!=typeof e.playlist.movies&&(a.autoplay=1===e.playlist.movies.autoplay?!0:!1)}a.adBlock=!1,a.adBlockBanner="",a.adBlockSendHit=!1,"undefined"!=typeof $(b).data("disable-adblock")&&0!=$(b).data("disable-adblock")||"function"!=typeof isAdBlockEnabled||1!=isAdBlockEnabled()||tvn24ScrollTvnCheck()||(a.adBlock=!0,a.adBlockBanner="http://s.tvn.pl/bc/ab/960x540_AdBlock-SplashScreen2.jpg"),"undefined"!=typeof $(b).data("disable-adblock")&&1==$(b).data("disable-adblock")&&(a.adBlockSendHit=!0),"undefined"==typeof a.adBlock||a.adBlock!==!0||tvn24ScrollTvnCheck()||($(b).append(TvnAdBlockBoardUtils.generateBoardHTML(a)),TvnAdBlockBoardUtils.adBlockBoardCallback(b)),"undefined"!=typeof $(b).data("share-url")?a.shareUrl=$(b).data("share-url"):d?a.shareUrl="":a.shareUrl=document.location.href,"undefined"!=typeof $(b).data("share-title")?a.shareTitle=$(b).data("share-title"):d?a.shareTitle="":a.shareTitle=document.title;var g=a.autoplay===!1?"":" autoplay ",h=a.muted===!0?" muted ":"",i=a.controls===!1?"":" controls ";"Smartfon"==detector.getDevice()&&(i=" ",a.autoplay=!1,g=" ");var j,k,l,m,n=Math.round(1e6*Math.random()),o="undefined"!=typeof $(b).data("poster")?$(b).data("poster"):"",p=o?'poster="'+o+'"':"",q=!1,r=!1,s=!1,t={},u=!1,v=!1,w="short",x=a.adbBannerOnVastError,y="undefined"!=typeof $(b).attr("data-change-mute")?$(b).attr("data-change-mute"):!1,z="undefined"!=typeof $(b).attr("data-hide-play-button-on-pause")?$(b).attr("data-hide-play-button-on-pause"):!1;if(m="undefined"!=typeof $(b).data("video-gstream-account")?$(b).data("video-gstream-account"):"undefined"!=typeof IDENTIFIER?IDENTIFIER:"",isNotDefined(x)&&(x=!0),e){var s,w="long";for(var A in e.playlist.movies){var B=e.playlist.movies[A];if(s=B,B.hasOwnProperty("start")&&1==B.start){s=B;var C=parseInt(A)+1;"undefined"!=typeof e.playlist.movies[C]&&(q=e.playlist.movies[C],r=e.playlist.movies[C-2]);break}}document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),-1!==document.location.origin.indexOf("player")&&(u=!0),("Live"==s.profiles.row.name||"Live_audio"==s.profiles.row.name||"Transmisja obrad Sejmu"==s.profiles.row.name)&&(v=!0),t={ads:{midBrakes:[],servers:[{apiAddress:s.adserver,provider:"tvn"}],skipAd:{enabled:!1,timeOut:1}},parentalRating:s.parental_rating,playlist:e},$(b).attr("data-src",s.profiles.wv.url);var D=s.ad_breaks;for(var E in D)t.ads.midBrakes.push({time:D[E]});"1"===s.show_product_placement&&"1"===s.has_product_placement&&(t.productPlacement={afterStart:{offset:5,duration:5,y:"20px"},beforeEnd:{offset:15,duration:5,y:"20px"}}),j=s.id,k=s.gstream,l={480:s.profiles.wv.url}}else t=$(b).data("vast"),"undefined"!=typeof a.parentalRating&&(t.parentalRating=a.parentalRating),"undefined"!=typeof a.productPlacement&&(t.productPlacement=a.productPlacement),l=$(b).data("quality"),j=$(b).data("video-material-id"),k=$(b).data("video-custom-package");var F={playlist:e.playlist,activeMovie:s},G=$(b).data("sprite");G="undefined"!=typeof G?{hasSprite:!0,img:{url:G}}:{hasSprite:!1,img:!1};var H=(new PlayerTemplateFactory).getTemplate(w);if("undefined"!=typeof $(b).data("share-button")){var I=1==$(b).data("share-button");H.shareButton=I,H.buttons.children.shareButton=I}var J="string"==typeof uDevice&&PLAYER5_DEVICES_TYPE.mobile.indexOf(uDevice.toLowerCase())>-1?!0:!1,K="string"==typeof uDevice&&PLAYER5_DEVICES_TYPE.tablet.indexOf(uDevice.toLowerCase())>-1?!0:!1,L=J===!0?" vjs-mobile ":"";K&&(L+=" vjs-tablet "),detectIE()?(L+=" vjs-ie ",detectIE()<11&&(L+=" vjs-ie-lt11 ")):(L+=" vjs-not-ie ",videojs.IS_IOS&&(L+=" vjs-ios ",(videojs.IS_IPHONE||videojs.IS_IPOD)&&(L+=" vjs-ios-mobile "),videojs.IS_IPAD&&(L+=" vjs-ios-tablet "))),d&&(L+=" vjs-embed ");var M=$(b).is(":visible");M?null:$(b).attr("style","display:block;");var N=getPlayerSizeType($(b).width());M?null:$(b).attr("style","");var O="",P=$(b).data("src"),Q="video/mp4",R=-1!=navigator.appVersion.indexOf("Edge"),S=window.isMobileDevice||"Firefox"==uBrowser||"Safari"==uBrowser||"MSIE"==uBrowser&&uVersion>=10||R;"undefined"==typeof $(b).attr("data-hls-src")||!S&&"undefined"==typeof FORCE_HLS||(P=$(b).attr("data-hls-src"),$(b).data("src",$(b).data("hls-src"))),"HLS"!=vjsIsTypeMovieDashOrHLS(P)||!S&&"undefined"==typeof FORCE_HLS||(videojs.options.techOrder.unshift("hls"),Q="application/x-mpegURL",O='<source src="'+P+'" type="'+Q+'">'),(!detectIE()&&videojs.IS_IOS&&7===parseInt(videojs.IOS_VERSION)||"MSIE"==uBrowser&&"Smartfon"==uDevice||"Tablet"==uDevice)&&(O='<source src="'+P+'" type="'+Q+'">'),"on"==getParameterByName("playerFlash")?setCookieItem("playerFlash",1):"off"==getParameterByName("playerFlash")&&setCookieItem("playerFlash",0),(!canPlayMp4()&&!vjsIsTypeMovieDashOrHLS(P)||1==getCookieItem("playerFlash"))&&(videojs.options.techOrder=["flash","html5"],videojs.options.flash.params={allowfullscreen:"true",wmode:"opaque",allowscriptaccess:"always"},O='<source src="'+P+'" type="video/mp4">');var T="",U="",V=parseInt((/WebKit\/([0-9]+)/.exec(navigator.appVersion)||0)[1],10)||void 0,W=navigator.userAgent.indexOf("Android")>=0,X=W&&534>=V&&0==navigator.vendor.indexOf("Google");X&&(U=" vjs-native-tablet"),"undefined"!=typeof window.uBrowser&&"Firefox"==window.uBrowser&&(T=" vjs-ff");var Y='<video id="player5_'+n+'" class="video-js '+H.className+L+N+T+U+'" '+h+g+i+' webkit-playsinline preload="none" width="100%" height="100%" '+p+" controls>"+O+" </video>",Z=$(b).data("license-wv"),_=$(b).data("video-additional-package"),aa={videoMaterialId:j,videoCustomPackage:k,videoAdditionalPackage:_},ba=!1;if("Smartfon"==detector.getDevice()||X)var ba=!0;var ca={nativeControlsForTouch:ba,adBlock:a.adBlock,adBlockSendHit:a.adBlockSendHit,shareUrl:a.shareUrl,shareTitle:a.shareTitle,quality:l,license:{url:Z},hash:objectToStringRecursive(window.navigator)+Math.random()+(new Date).getTime(),controlBar:H.buttons,plugins:{resolutions:!0,playerUtilsTvn:!0,spawnEntityTvn:!0,userUtilsTvn:!0,eventsTvn:F,coreTvn:t,statsTvn:aa,debug:!0,adBreak:!0},playlistData:e,activeMovie:s,nextMovie:q,prevMovie:r,isLive:v,isMobile:J,isTablet:K,adbBannerOnVastError:x,enabledRestboard:u,gStreamAccount:m,spriteImg:G,inactivityTimeout:3257,textTrackSettings:!1,isNativeAndroid:X,isAndroid:W,defaultPoster:o,changeMute:y,hidePlayButtonOnPause:z,embed:d,hasBranding:{isBranding:!1,width:void 0,height:void 0,left:void 0,top:void 0}};$(b).append(Y);var da=videojs("player5_"+n,ca,function(){this.node=b,this.clipId=$(b).data("clip-id"),isDefined(this.controlBar.stopButton)&&(this.controlBar.stopButton.requestStopButton=H.stopButton),isDefined(this.controlBar.playNextButton)&&(this.controlBar.playNextButton.requestPlayNextButton=q?H.playNextButton:!1),isDefined(this.controlBar.playPrevButton)&&(this.controlBar.playPrevButton.requestPlayPrevButton=r?H.playPrevButton:!1),isDefined(this.controlBar.shareButton)&&(this.controlBar.shareButton.requestShareButton=H.shareButton),this.adProgressBar=H.adProgressBar,this.progressTips(),"undefined"!=typeof ca.changeMute&&(this.changeMute=ca.changeMute),"undefined"!=typeof ca.hasBranding&&(this.hasBranding={isBranding:!1,width:void 0,height:void 0,left:void 0,top:void 0}),this.hotkeys({volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0}),this.hasMetaViewport=$("meta[name=viewport]").length;var a=this;if(setBrandingSize(this,b),J&&(this.on("fullscreenchange2",function(){a.isFullscreen()?a.hasMetaViewport||$("<meta>",{name:"viewport",content:"width=480, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}).appendTo("head"):a.hasMetaViewport||$("meta[name=viewport]").attr("content","user-scalable=yes")}),detectIE())){var c=this.node.find("video"),d=$("<div>",{"class":"vjs-control-bar-wrapper"}),e=c.siblings().not(".vjs-poster").detach();c.after(d),d.append(e)}});return da.persistvolume({namespace:"player5_"}),da}};if("undefined"!=typeof $){$.contextMenu({selector:".video-js",items:{tvn:{name:"TVN S.A.",disabled:!0}}});var playersCollection=new PlayersCollection;$.fn.player5=function(a){var b=null,a=a||{},c=this;return b=isBrowserPlayer5Ready()||"MPEG-DASH"!=vjsIsTypeMovieDashOrHLS(c.data("src"))?PlayerVJS(a,c):new PlayerSL(c[0],{}),b?(playersCollection.addPlayer(b),b):void 0}}else console.log("Player5 init error: jQuery not found..");videojs.ControlBar.prototype.options_={loadEvent:"play"},vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.msMaxTouchPoints>0),videojs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(("number"!=typeof b||b!==b||0>b||b===1/0)&&(b=0),a=b,c){var e,f,g,h=this.el_;if(this.options().vertical){var i=h.offsetHeight,j=c.el().offsetHeight;e=j?j/i:0,f=1-e,g=b*f,a=g+e/2,c.el().style.bottom=videojs.round(100*g,2)+"%"}else{var k=h.offsetWidth,l=c.el().offsetWidth;e=l?l/k:0,f=1-e,g=b*f,a=g+e/2,c.el().style.left=videojs.round(100*g,2)+"%"}this.options().vertical?d&&(d.el().style.height=videojs.round(100*a,2)+"%"):d&&(d.el().style.width=videojs.round(100*a,2)+"%")}}},videojs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=videojs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options().vertical){if(e=c.top,g=b.offsetHeight,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},videojs.SeekBar.prototype.onMouseDown=function(a){("undefined"==typeof window.uBrowser||"MSIE"!=window.uBrowser||"10"!=window.uVersion||-1===a.target.className.indexOf("vjs-progress-holder"))&&(this.player().scrubbing||this.player().seekLocked||(this.player().turnTransition(!1),this.player().setPreviousAction("seek-started"),this.player().allowSeekEvent=!0,videojs.Slider.prototype.onMouseDown.call(this,a),this.player().scrubbing=!0,this.videoWasPlaying=this.player().videoWasPlaying=!this.player().paused(),this.player().pause()))},videojs.SeekBar.prototype.onMouseMove=function(a){if(!this.player().seekLocked){var b=this.calculateDistance(a)*this.player().duration();b>=this.player().duration()&&(b=this.player().duration()-.1),this.player().currentTime(b)}},videojs.SeekBar.prototype.onMouseUp=function(a){this.player().scrubbing&&(this.player().seekLocked||(this.player().turnTransition(!0),this.player().allowSeekEvent=this.player().getPreviousAction("seek-started")?!0:!1,videojs.Slider.prototype.onMouseUp.call(this,a),this.player().scrubbing=!1,this.player().setPreviousAction("seek-ended"),this.videoWasPlaying&&this.player().play()))},videojs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()&&!this.player().seekLocked?(this.player().play(),this.player().options().enabledRestboard||this.player().bigPlayButton.addClass("vjs-hidden").hide()):(this.player().pause(),this.player().options().enabledRestboard||this.player().bigPlayButton.removeClass("vjs-hidden").show()))},videojs.getElementAttributes=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f?!0:!1),b[e]=f}return b},videojs.StopButton=videojs.Button.extend({init:function(a,b){videojs.Button.call(this,a,b),this.requestStopButton=!1,this.hide()}}),videojs.StopButton.prototype.buildCSSClass=function(){return"vjs-stop-control "+videojs.Button.prototype.buildCSSClass.call(this)},videojs.StopButton.prototype.buttonText="Stop",videojs.StopButton.prototype.onClick=function(){this.player().trigger("stopped"),$},videojs.PlayNextButton=videojs.Button.extend({init:function(a,b){videojs.Button.call(this,a,b),this.requestPlayNextButton=!1,this.hide()}}),videojs.PlayPrevButton=videojs.Button.extend({init:function(a,b){videojs.Button.call(this,a,b),this.requestPlayPrevButton=!1,this.hide()}}),videojs.PlayNextButton.prototype.createEl=function(){var a;return"undefined"!=typeof this.player().options().nextMovie&&(a=this.player().options().nextMovie.detail_path+"#play"),vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-play-next-control vjs-control",innerHTML:'<a href="'+a+'" class="vjs-play-next-href"></a></div>'})},videojs.PlayNextButton.prototype.buttonText="PlayNext",videojs.PlayNextButton.prototype.onClick=function(){this.player().options().nextMovie&&(this.player().resetPlayerAds(),$(this.player().node).trigger("video.playlistClipEnd"))},videojs.PlayPrevButton.prototype.createEl=function(){var a;return"undefined"!=typeof this.player().options().prevMovie&&(a=this.player().options().prevMovie.detail_path+"#play"),vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-play-prev-control vjs-control",innerHTML:'<a href="'+a+'" class="vjs-play-prev-href"></a></div>'})},videojs.PlayPrevButton.prototype.buttonText="PlayPrev",videojs.PlayPrevButton.prototype.onClick=function(){this.player().options().prevMovie&&(this.player().resetPlayerAds(),$(this.player().node).trigger("video.playlistClipEnd"))},videojs.ShareButton=videojs.MenuButton.extend({init:function(a,b){videojs.MenuButton.call(this,a,b),this.requestShareButton=!1,this.hide(),this.video_wrapper=$(a.el()),this.shareboardHandler=this.video_wrapper.find(".vjs-shareboard-container")}}),videojs.ShareButton.prototype.buttonText="Share Menu",videojs.ShareButton.prototype.className="vjs-share-button-control",videojs.ShareButton.prototype.close=function(){this.shareboardHandler.find(".vjs-shareboard-page.vjs-visible").removeClass("vjs-visible").addClass("vjs-hidden"),this.shareboardHandler.find(".vjs-shareboard-page-all").removeClass("vjs-hidden").addClass("vjs-visible"),this.shareboardHandler.find(".vjs-shareboard-back").removeClass("vjs-visible").addClass("vjs-hidden"),this.shareboardHandler.removeClass("vjs-visible").addClass("vjs-hidden"),this.video_wrapper.removeClass("vjs-shareboard-opened")},videojs.ShareButton.prototype.createMenu=function(){var a=new videojs.Menu(this.player_,{}),b=document.createElement("div"),c=this;return c.player().pausedBeforeShareboard=!1,b.className="vjs-shareboard-container",b.innerHTML='<div class="vjs-shareboard-controls"></div><div class="vjs-shareboard-content-wrapper"><div class="vjs-shareboard-content"><h2>Kopiuj link</h2><div class="vjs-shareboard-page vjs-shareboard-page-link"><textarea class="vjs-share-link-textarea">'+this.player().options().shareUrl+'</textarea><div class="vjs-share-link-ready">Skopiuj powyszy link: <button class="vjs-share-link-button">Gotowe</button></div></div></div></div>',this.player().el().appendChild(b),$(this.player().el()).find(".vjs-shareboard-content-wrapper").on("click",function(){c.close(),c.player().pausedBeforeShareboard||c.player().play()}),$(this.player().el()).find(".vjs-share-link-textarea").click(function(a){a.stopPropagation()}),a.addChild(new videojs.ShareButtonMenuItem(this.player(),{label:"Facebook",className:"vjs-share-facebook"})),a.addChild(new videojs.ShareButtonMenuItem(this.player(),{label:"Twitter",className:"vjs-share-twitter"})),a.addChild(new videojs.ShareButtonMenuItem(this.player(),{label:"Google +",className:"vjs-share-google"})),a.addChild(new videojs.ShareButtonMenuItem(this.player(),{label:"Kopiuj link",className:"vjs-share-link"})),a},videojs.ShareButtonMenuItem=videojs.MenuItem.extend({contentElType:"button",init:function(a,b){videojs.MenuItem.call(this,a,b),this.el_.setAttribute("class","vjs-menu-item "+b.className),this.video_wrapper=$(a.el()),this.shareUrl=a.options().shareUrl,this.shareboardHandler=this.video_wrapper.find(".vjs-shareboard-container")}}),videojs.ShareButtonMenuItem.prototype.onClick=function(){var a=this,b=this.shareUrl;a.player().pausedBeforeShareboard=a.player().paused(),this.player().paused()||this.player().pause(),this.hasClass("vjs-share-link")?this.shareLink():this.hasClass("vjs-share-facebook")?TvnPlayerSocialMedia.generatePopup("facebook",b):this.hasClass("vjs-share-twitter")?TvnPlayerSocialMedia.generatePopup("twitter",b,a.player().options().shareTitle):this.hasClass("vjs-share-google")&&TvnPlayerSocialMedia.generatePopup("gplus",b)},videojs.ShareButtonMenuItem.prototype.shareLink=function(){this.player().restboardHandler&&this.video_wrapper.find(".vjs-restboard-container").hide(),this.shareboardHandler.removeClass("vjs-hidden").addClass("vjs-visible"),this.video_wrapper.addClass("vjs-shareboard-opened"),this.shareboardHandler.find(".vjs-shareboard-page-all").removeClass("vjs-visible").addClass("vjs-hidden"),this.shareboardHandler.find(".vjs-shareboard-page-link").removeClass("vjs-hidden").addClass("vjs-visible"),this.shareboardHandler.find(".vjs-shareboard-back").removeClass("vjs-hidden").addClass("vjs-visible"),this.shareboardHandler.find(".vjs-share-link-textarea").on("mouseenter",function(){$(this).select()})},videojs.PosterImage.prototype.hide=function(){this.addClass("vjs-poster-hidden")},videojs.PosterImage.prototype.show=function(){this.removeClass("vjs-poster-hidden")},videojs.BigPlayButton.prototype.show=function(){this.addClass("vjs-visible")},videojs.BigPlayButton.prototype.hide=function(){this.removeClass("vjs-visible")},videojs.BigPlayButton.prototype.onClick=function(a){this.player_.play(),this.hide(),this.addClass("vjs-hidden"),"undefined"!=typeof a&&a!==!0&&this.player().el().focus()},videojs.FullscreenToggle.prototype.onClick=function(){var a=$("#vjs-cfullscreen-test");if("desktop"===uDevice.toLowerCase()&&detectIE()&&detectIE()<11){$("html").toggleClass("vjs-video-on-fullscreen"),$(this.player().el()).toggleClass("vjs-ie-fullscreen vjs-fullscreen"),$(this.player().el()).parent().toggleClass("vjs-fullscreen-parent"),this.player().isFullscreen_=!this.player().isFullscreen_;var b,c=this.player();if(c.videoParentElement=c.videoParentElement||c.node[0].parentElement,this.player().isFullscreen()){b=!c.paused(),c.blockIpadFullscreenEvent=!0,$("body").prepend(c.node[0]),b&&c.play();var d=$(this.player().el()).width(),e=$(this.player().el()).height();a.length&&(d=a.width(),e=a.height());var f=.5625*d;f>e&&(f=e);var g=(e-f)/2,h=$(this.player().el()).find("video");h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important");var i=this;$(window).on("resize.vjsfullscreen",function(){a.length?(d=a.width(),e=a.height()):(d=$(i.player().el()).width(),e=$(i.player().el()).height(),d<$(window).width()&&(d=$(window).width(),e=$(window).height())),f=.5625*d,f>e&&(f=e),g=(e-f)/2,h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important")})}this.player().isFullscreen()||(b=!c.paused(),c.blockIpadFullscreenEvent=!0,$(this.player().el()).find("video").attr("style",""),$(window).off("resize.vjsfullscreen"),$(c.videoParentElement).prepend(c.node[0]),b&&c.play()),this.player().trigger("fakefullscreenchange")}else if(videojs.IS_IPAD){$("html").toggleClass("vjs-video-on-fullscreen"),$(this.player().el()).toggleClass("vjs-ipad-fullscreen vjs-fullscreen"),$(this.player().el()).parent().toggleClass("vjs-fullscreen-parent"),this.player().isFullscreen_=!this.player().isFullscreen_;var b,c=this.player();if(c.videoParentElement=c.videoParentElement||c.node[0].parentElement,this.player().isFullscreen()){b=!c.paused(),c.blockIpadFullscreenEvent=!0,$("body").prepend(c.node[0]),b&&c.play();var d=$(this.player().el()).width(),e=$(this.player().el()).height();a.length&&(d=a.width(),e=a.height());var f=.5625*d;f>e&&(f=e);var g=(e-f)/2,h=$(this.player().el()).find("video");h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important");var i=this;$(window).on("resize.vjsfullscreen",function(){a.length?(d=a.width(),e=a.height()):(d=$(i.player().el()).width(),e=$(i.player().el()).height(),d<$(window).width()&&(d=$(window).width(),e=$(window).height())),f=.5625*d,f>e&&(f=e),g=(e-f)/2,h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important");var b=$(c.el());a.width()>a.height()&&"1"!==b.find(".vjs-control-bar").css("opacity")&&b.find(".vjs-overlay-y-bottom").css("bottom","0px")})}this.player().isFullscreen()||(b=!c.paused(),c.blockIpadFullscreenEvent=!0,$(this.player().el()).find("video").attr("style",""),$(window).off("resize.vjsfullscreen"),$(c.videoParentElement).prepend(c.node[0]),b&&c.play()),this.player().trigger("fakefullscreenchange")}else if("tablet"===uDevice.toLowerCase()){$("html").toggleClass("vjs-video-on-fullscreen"),$(this.player().el()).toggleClass("vjs-tablet-fullscreen vjs-fullscreen"),$(this.player().el()).parent().toggleClass("vjs-fullscreen-parent"),this.player().isFullscreen_=!this.player().isFullscreen_;var b,c=this.player();if(c.videoParentElement=c.videoParentElement||c.node[0].parentElement,this.player().isFullscreen()){b=!c.paused(),c.blockIpadFullscreenEvent=!0,$("body").prepend(c.node[0]),b&&c.play();var d=$(this.player().el()).width(),e=$(this.player().el()).height();a.length&&(d=a.width(),e=a.height());var f=.5625*d;f>e&&(f=e);var g=(e-f)/2,h=$(this.player().el()).find("video");h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important");var i=this;$(window).on("resize.vjsfullscreen",function(){a.length?(d=a.width(),e=a.height()):(d=$(i.player().el()).width(),e=$(i.player().el()).height(),d<$(window).width()&&(d=$(window).width(),e=$(window).height())),f=.5625*d,f>e&&(f=e),g=(e-f)/2,h[0].style.setProperty("margin-top","-"+f/2+"px"),h[0].style.setProperty("top","50%"),h[0].style.setProperty("height",f+"px","important");var b=$(c.el());a.width()>a.height()&&"1"!==b.find(".vjs-control-bar").css("opacity")&&b.find(".vjs-overlay-y-bottom").css("bottom","0px")})}this.player().isFullscreen()||(b=!c.paused(),c.blockIpadFullscreenEvent=!0,$(this.player().el()).find("video").attr("style",""),$(window).off("resize.vjsfullscreen"),$(c.videoParentElement).prepend(c.node[0]),b&&c.play()),this.player().trigger("fakefullscreenchange")}else this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"));this.player().el().focus()},videojs.Player.prototype.onPlay=function(){if(!this.player().vastInitialised){if(this.player().options().adBlock===!0)return void this.player().bigPlayButton.addClass("vjs-hidden").hide();$(this.player().el()).find("video").removeAttr("poster"),"function"==typeof this.player().initContinueWatching&&this.player().initContinueWatching()}this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0)};var mouseDown=!1;$(document).mousedown(function(){mouseDown=!0}),$(document).mouseup(function(){mouseDown=!1}),videojs.ControlBar.prototype.animateMute=function(a,b){var c=100,d=5,e=0,f=this.player().volume();detectIE()&&(c=10);var g=f/c,h=this.player();a?h.fadeStepVolume=g:("function"==typeof b&&b(),g=h.fadeStepVolume);var i=function(){e++;var j=a?f-e*g:e*g;h.volume(j),c>e?setTimeout(i,d):a&&"function"==typeof b&&b()};i()},videojs.PlayToggle.prototype.onClick=function(){this.player().fakePlayToggle?this.player().hasClass("vjs-playing")?(this.player().removeClass("vjs-playing"),this.player().trigger("fakePaused")):(isDefined(this.player().controlBar.shareButton)&&this.player().controlBar.shareButton.close(),this.player().addClass("vjs-playing"),this.player().trigger("fakePlaying")):this.player().paused()?(isDefined(this.player().controlBar.shareButton)&&this.player().controlBar.shareButton.close(),this.player().play()):this.player().pause()},videojs.VolumeMenuButton.prototype.createMenu=function(){var a=new videojs.Menu(this.player_,{contentElType:"div"}),b=new videojs.VolumeBar(this.player_,this.options_.volumeBar);b.on("focus",function(){a.lockShowing()}),b.on("blur",function(){a.unlockShowing()}),a.addChild(b);var c=this;return $(a.contentEl()).on("click",function(b){var d="undefined"!=typeof b.offsetY?b.offsetY:b.pageY-$(a.contentEl()).offset().top;20>=d&&(c.player_.muted()||1!==c.player_.volume())&&(c.player_.muted(!1),c.player_.volume(1)),d>=$(this).height()-20&&!c.player_.muted()&&c.player_.muted(!0)}),a},videojs.LoadingSpinner.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",innerHTML:'<div class="vjs-spinner-dot1"></div><div class="vjs-spinner-dot2"></div><div class="vjs-spinner-dot3"></div>'
})},videojs.Player.prototype.requestFullscreen=function(){var a=videojs.browser.fullscreenAPI;return this.isFullscreen(!0),a?(videojs.on(document,a.fullscreenchange,videojs.bind(this,function(b){this.isFullscreen(document[a.fullscreenElement]),this.isFullscreen()===!1&&videojs.off(document,a.fullscreenchange,arguments.callee),this.trigger("fullscreenchange2")})),this.el_[a.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange2")),this};var templateCache={},adsTemplates={interactive2_temp:function(a){},interactive2_action:function(a){var b,c,d=a.btnItem,e=a.defaultColor,f=a.defaultOpacity,g=parseInt(a.iconDistance),h=0!==parseInt(a.btnWidth)?a.btnWidth:60,i=0!==parseInt(a.btnHeight)?a.btnHeight:60,j=a.offset,k=a.pulsation,l=d.currentNode,m=(a.videoWrapperHeight,a.videoControlBarHeight,j),n="",o=6,p=1,q="undefined"!=typeof d.attribs["background-color"]?hexToRGBA(d.attribs["background-color"]):hexToRGB_MA(e,f),r="undefined"!=typeof d.attribs["background-color"]?hexToRGBA(d.attribs["background-color"]):hexToRGB_MA(e,PLAYER_DEFAULT_OPACITY),s=hexToRGBA("undefined"!=typeof d.attribs["icon-background-color"]?d.attribs["icon-background-color"]:d.attribs["background-color"]),t="undefined"!=typeof d.attribs["icon-active-color"]?hexToRGBA(d.attribs["icon-active-color"]):s,u=isDefined(d.attribs["time-start"])?d.attribs["time-start"]:0,v="object"!=typeof d.slide.attribs?"vjs-empty":"",w=rgbaToRgb(s),x=isDefined(d.slide.attribs)&&isDefined(d.slide.attribs.width)?parseInt(d.slide.attribs.width):0,y=isDefined(d.slide.attribs)&&isDefined(d.slide.attribs.height)?parseInt(d.slide.attribs.height):0,z=isDefined(d.attribs.offset)?parseInt(d.attribs.offset):0,A=isDefined(d.slide.attribs)&&isDefined(d.slide.attribs["close-color"])?d.slide.attribs["close-color"]:"";0===l&&(g=0),b=0==z?j+l*g+l*(parseInt(i)+2*o+2*p):z,m=0,c=b+(parseInt(i)+2*o+2*p),0===y&&(y=410),0!==y&&c>y&&(m=c-y,n="vjs-no-border-bottom-right");var B='style="top:'+b+'px; position: absolute;"',C="";return 0!=parseInt(i)&&0!=parseInt(h)&&(C=' style="width: '+h+"px; height: "+i+'px" '),0>b&&Math.abs(b)-parseInt(i)>5&&(m-=Math.abs(b)-parseInt(i)-5),5>m+y-c&&(n="vjs-no-border-bottom-right"),v?"<div "+B+' class="vjs-action '+v+k+'" data-board-class="'+n+'" data-board-width="'+x+'" data-board-height="'+y+'" data-falldown-color="'+A+'" data-stat='+JSON.stringify(d.statUrl).replace(/<br>/g,"\n")+' data-time-start="'+u+'"  data-default-color="'+q+'" data-border-color="'+w+'" data-icon-background-color="'+s+'" data-icon-active-color="'+t+'" data-default-full-color="'+r+'" data-item="'+d.currentNode+'" data-offset-top="'+m+'"><div class="vjs-wrap"><a href="'+d.url+'" target="_blank"><span class="vjs-int-text-wrapper"><span class="vjs-int-text">'+d.title+"</span></span><img "+C+' src="'+d.icon+'" /></a></div></div>':"<div "+B+' class="vjs-action '+v+k+'" data-board-class="'+n+'" data-board-width="'+x+'" data-board-height="'+y+'" data-falldown-color="'+A+'" data-stat-2='+JSON.stringify(d.statUrl2).replace(/<br>/g,"\n")+' data-time-start="'+u+'"  data-default-color="'+q+'" data-border-color="'+w+'" data-icon-background-color="'+s+'" data-icon-active-color="'+t+'" data-default-full-color="'+r+'" data-item="'+d.currentNode+'" data-offset-top="'+m+'"><div class="vjs-wrap" '+C+'><img src="'+d.icon+'" /></div></div>'},interactive2_gallery:function(a){var b=a.slide.images,c="",d=' style="left: 0"';if(b.length)for(var e=0;e<b.length;e++)0!==e&&(d=' style="left: '+e+'00%"'),c+='<div class="vjs-ads-gallery-item"'+d+'><div class="vjs-ads-gallery-img-wrapper"><img src="'+b[e]+'"/></div></div>';var f='<div class="vjs-ads-gallery-button-content"> '+render("build_img",a.slide.ActionButton)+"</div>";return'<div class="vjs-itemWrap vjs-ads-gallery vjs-itemWrap_'+a.currentNode+'"><div class="vjs-ads-gallery-wrapper"><div class="vjs-ads-gallery-content">'+c+"</div></div>"+f+"</div>"},interactive2_elements:function(a){var b="";if("undefined"!=typeof a.slide.elements)for(var c=0;c<a.slide.elements.length;c++){var d=a.slide.elements[c];b+='<div class="vjs-element" data-base-left="'+d.attribs.x+'" data-base-top="'+d.attribs.y+'" style="left:'+d.attribs.x+"px;top:"+d.attribs.y+'px;">'+render("build_img",d)+"</div>"}return b},interactive2_billboard:function(a){return'<div class="vjs-itemWrap vjs-billboard vjs-itemWrap_'+a.currentNode+'">'+render("build_img",a.slide)+render("interactive2_elements",a)+"</div>"},interactive2_sonda:function(a){var b=a.rescaleInfo;return b||(b={},b.ratio=1,b.baseWidth=960),a.slide.VoteButton.linkClassName="vjs-voteBtn vjs-cursor-pointer",'<div class="vjs-itemWrap vjs-sonda vjs-itemWrap_'+a.currentNode+'" data-color1="'+a.slide.color1+'" data-color2="'+a.slide.color2+'" data-color3="'+a.slide.color3+'"  data-quiz="'+a.slide.quiz_id+'"><div class="vjs-leftSide" ><div class="vjs-half vjs-left vjs-voting"><div class="vjs-empty-form-wrapper vjs-int2-popup-wrapper"><div class="vjs-popup-form-info">Zaznacz waciw odpowied!</div><div class="vjs-popup-form-close">zamknij</div></div></div><div class="vjs-half vjs-left vjs-button">'+render("build_img",a.slide.VoteButton)+'</div></div><div class="vjs-rightSide"><div class="vjs-half vjs-right vjs-results"><p class="vjs-resultMeter">0%</p><div class="vjs-quiz-bar" data-base-height="10" style="height: '+10*b.ratio+'px" color="#ff0000"><div class="vjs-level" style="width: 2%;background:'+a.slide.color1+';"></div></div><p class="vjs-resultMeter">0%</p><div class="vjs-quiz-bar" data-base-height="10" style="height: '+10*b.ratio+'px" color="#ff0000"><div class="vjs-level" style="width: 2%;background: '+a.slide.color2+';"></div></div><p class="vjs-resultMeter">0%</p><div class="vjs-quiz-bar" data-base-height="10" style="height: '+10*b.ratio+'px" color="#ff0000"><div class="vjs-level" style="width: 2%;background: '+a.slide.color3+';"></div></div></div><div class="vjs-half vjs-right vjs-info-wrapper"><div class="vjs-info"><p>'+a.slide.Desc+'</p></div></div><div class="vjs-half vjs-right vjs-logo">'+render("build_img",a.slide.Logo)+'</div><div class="vjs-half vjs-right vjs-button">'+render("build_img",a.slide.ActionButton)+'</div></div><div class="vjs-clearfix"></div></div>'},interactive2_map:function(a){return a.slide.Logo.imgStyle="width:auto; height: 100%;",'<div class="vjs-itemWrap vjs-itemWrap_'+a.currentNode+'"><div class="vjs-ads-map-content vjs-ads-radius-content"><iframe width="100%" height="100%" frameborder="0" src="http://www.bing.com/maps/embed/viewer.aspx?v=3&cp='+a.slide.Longitude.replace(",",".")+"~"+a.slide.Latitude.replace(",",".")+"&lvl=15&w=100%&h=100%&sty=r&typ=d&pp="+a.slide.BingTitle+"~"+a.slide.BingDesc+"~"+a.slide.Longitude.replace(",",".")+"~"+a.slide.Latitude.replace(",",".")+'&ps=&dir=0&mkt=pl-pl&src=O365&form=BMEMJS"></iframe></div><div class="vjs-ads-map-desc-content-wrapper vjs-ads-radius-content vjs-right"><div class="vjs-ads-map-desc-content">'+a.slide.Desc+'</div></div><div class="vjs-ads-radius-content vjs-ads-map-logo-content vjs-right"> '+render("build_img",a.slide.Logo)+'</div><div class="vjs-ads-map-button-content vjs-right"> '+render("build_img",a.slide.ActionButton)+"</div>"+render("interactive2_elements",a)+"</div>"},interactive2_sonda_question:function(a){var b=a.response.questions[0],c=a.rescaleInfo;return c||(c={},c.ratio=1,c.baseWidth=960),'<p class="vjs-question">'+b.question+'</p><ul class="vjs-interactive2-quiz" data-qqe-id="'+b.id+'" data-answer=""><li data-base-line-height="63" style="color:'+a.colors.color1+"; line-height: "+~~(63*c.ratio)+'px;"><div class="vjs-radio-0-2" data-base-size="63" data-value="'+b.value[0].id+'" style="width: '+~~(63*c.ratio)+"px; height:"+~~(63*c.ratio)+"px; background-size: "+100*c.ratio+"% "+100*c.ratio+'%;"></div>'+b.value[0].answer+'</li><li data-base-line-height="63" style="color:'+a.colors.color2+"; line-height: "+~~(63*c.ratio)+'px;"><div class="vjs-radio-0-2" data-base-size="63" data-value="'+b.value[1].id+'" style="width: '+~~(63*c.ratio)+"px; height:"+~~(63*c.ratio)+"px; background-size: "+100*c.ratio+"% "+100*c.ratio+'%;"></div>'+b.value[1].answer+'</li><li data-base-line-height="63" style="color:'+a.colors.color3+"; line-height: "+~~(63*c.ratio)+'px;"><div class="vjs-radio-0-2" data-base-size="63" data-value="'+b.value[2].id+'" style="width: '+~~(63*c.ratio)+"px; height:"+~~(63*c.ratio)+"px; background-size: "+100*c.ratio+"% "+100*c.ratio+'%;"></div>'+b.value[2].answer+"</li></ul>"},interactive2_sonda_results:function(a){var b=a.rescaleInfo;b||(b={},b.ratio=1,b.baseWidth=960);var c,d,e,f="",g=100,h=0;for(c in a.results)g-=parseInt(a.results[c]),a.results[c]>h&&(h=c);for(c in a.results)d="color"+(parseInt(c)+1),e=c===h?g:0,f+='<p class="vjs-resultMeter" style="font-size: '+18*b.ratio+'px">'+(parseInt(a.results[c])+parseInt(e))+'%</p><div class="vjs-quiz-bar" data-base-height="10" style="height: '+10*b.ratio+'px" color="#ff0000"><div class="vjs-level" style="width: '+a.results[c]+"%;background: "+a.colors[d]+';"></div></div>';return f},interactive2_welcome:function(a){return'<div class="vjs-itemWrap vjs-welcome vjs-itemWrap_'+a.currentNode+'"><div class="vjs-half vjs-left">'+render("build_img",a.slide.Packshot)+'</div><div class="vjs-half vjs-right vjs-logo">'+render("build_img",a.slide.Logo)+'</div><div class="vjs-half vjs-right vjs-info"><p>'+a.slide.Desc+'</p></div><div class="vjs-half vjs-right vjs-button">'+render("build_img",a.slide.ActionButton)+'</div><div class="vjs-clearfix"></div></div>'},interactive2_survey:function(a){return a.slide.ActionButton.linkClassName="voteBtnSurvey vjs-cursor-pointer",'<div class="vjs-itemWrap vjs-survey vjs-itemWrap_'+a.currentNode+"\" data-raw='"+JSON.stringify(a)+"' data-survey=\""+a.slide.Survey_id+'" data-color1="'+a.slide.color1+'" data-color2="'+a.slide.color2+'" data-color3="'+a.slide.color3+'"><div class="vjs-half vjs-left">'+buildImgOrSWF(a.slide.Logo.image,"logo-int-ad")+'</div><div class="vjs-half vjs-right vjs-form"><p class="vjs-question">'+a.slide.Desc+'</p><div class="vjs-form-content"></div><div class="vjs-empty-form-wrapper vjs-int2-popup-wrapper"><div class="vjs-popup-form-info">Zaznacz wszystkie odpowiedzi!</div><div class="vjs-popup-form-close">zamknij</div></div><div class="vjs-thank-form-wrapper vjs-int2-popup-wrapper"><div class="vjs-popup-form-info">Dzikujmy za wypenienie formularza.</div><div class="vjs-popup-form-close">zamknij</div></div></div><div class="vjs-half vjs-right vjs-button">'+render("build_img",a.slide.ActionButton)+'</div><div class="vjs-clearfix"></div></div>'},interactive2_survey_question:function(a){var b=a.rescaleInfo;b||(b={},b.ratio=1,b.baseWidth=960);var c,d,e,f=b.baseWidth,g=f/960,h=16*g,i=g*b.ratio*100>100?100:g*b.ratio*100,j=a.response.questions,k='<form class="vjs-survey"><input type="hidden" name="user_form[_id]" value="'+a.response.id+'" /><ul>';for(c in j){e=j[c],k+='<li data-queId="'+e.que_id+'" style="height: '+100/j.length+'%"><p style="font-size:'+h*b.ratio+'px;" data-base-font-size="'+h+'">'+e.question+'</p><div class="vjs-select-wrapper"><select data-base-height="'+~~(25*g)+'" style="height:'+~~(25*g*b.ratio)+"px;font-size:"+~~(h*b.ratio)+'px;" name="user_form['+e.id+']"><option></option>';var l=0;for(d in e.value)l++,k+='<option value="'+l+'">'+e.value[d].answer+"</option>";k+='</select><figure class="vjs-dropdown" style="background-size: '+i+"% "+i+'%"></figure></div></li>'}return k+="</ul></form>"},playlist_show_similar:function(a){var b=a.playlist.similar_programs,c="";for(var d in b){var e=b[d];c+='<a href="'+e.url+'"><img src="'+e.main_photo.url+'" /></a>'}return'<div class="vjs-similar-info">Moe zainteresuje Ci rwnie</div><div class="vjs-show-similiar"><div class="vjs-wrap">'+c+"</div></div>"},playlist_show_siblings:function(a){var b=a.playlist.movies,c=[];for(var d in b)"object"==typeof b[d]&&c.push(b[d]);var e,f,g,h,i="",j="",k=0,l=entitySpace.parentalRating;for(var m in c){var n=c[m],o=n.hasOwnProperty("splash_screen")&&n.splash_screen.hasOwnProperty("url")?n.splash_screen.url:"";e='<i class="vjs-icon-play vjs-blue"></i>',f="",g="",h="","object"==typeof n&&(""===j&&(j=n.title),"1"==n.start&&(k=m),1==n["protected"]&&(f=" vjs-yellow"),"18"==n.parental_rating&&(e+='<i class="vjs-icon-protected"></i>',h='<div class="vjs-onTopEntity vjs-icon-parental-rating" style="background-image: url('+PLAYER_DEFAULT_HOST+l.url+');"></div>'),"undefined"!=typeof n.percent&&k!==m&&(g='<div class="vjs-el-watched"><div class="vjs-el-progress" style="width: '+n.percent+'%;"></div><span class="vjs-el-watched-percent">Obejrzane '+n.percent+"%</span></div>"),"undefined"!=typeof n["new"]&&1===parseInt(n["new"])&&(g='<div class="vjs-el-watched vjs-new"><span class="vjs-el-watched-new">Nowy</span></div>'),i+='<li><a href="'+n.detail_path+'"'+("catchup"===n.type?' class="vjs-catchup"':"")+'><img src="'+o+'" />'+h+'<div class="vjs-el-description'+f+'">'+e+"<p>"+n.description+"</p></div></a><span>"+("undefined"!=typeof n.episode_name&&n.episode_name.length>0?n.episode_name+", ":"")+"Odcinek "+n.episode+(0!=n.season?", Sezon "+n.season:"")+("premiere"===n.type?"<i>Prapremiera</i>":"")+"</span>"+g+"</li>")}return'<div class="vjs-radial-progress-wrapper vjs-hidden"><span class="vjs-radial-progress-text">Ju za</span><div class="vjs-radial-progress" data-tvn-timer="wrapper"><div class="vjs-progress-circle"><div class="vjs-progress-mask vjs-full"><div class="vjs-progress-fill"></div></div><div class="vjs-progress-mask vjs-half"><div class="vjs-progress-fill"></div><div class="vjs-progress-fill-fix"></div></div></div><div class="vjs-progress-inset"><div class="vjs-progress-percentage"><span class="vjs-progress-number" data-tvn-timer="counter" data-tvn-timer-default="10">10</span></div></div></div><span class="vjs-radial-progress-control vjs-hidden" data-tvn-timer="pause">Zatrzymaj</span><span class="vjs-radial-progress-control" data-tvn-timer="start">Wznw</span></div><div class="vjs-playlist-siblings"><div class="vjs-wrap"><div class="vjs-siblings-title">'+j+'</div><div class="vjs-watching-now">Aktualnie ogldasz</div><ul data-pos="'+k+'">'+i+'</ul><div class="vjs-prev"></div><div class="vjs-next"></div></div></div>'},continue_watching:function(a){return'<div class="vjs-continue-watching" data-href="/moj-player/kontynuuj-ogladanie.html" ><div class="vjs-cw-title">Kontynuuj ogldanie</div><div class="vjs-cw-icon"></div><div class="vjs-cw-text">Musisz przerwa, a chcesz obejrze to wideo pniej? Skorzystaj z naszej funkcji "Kontynuuj ogldanie"!</div></div>'},continue_watching_screen:function(a){return'<div class="vjs-continue-watching-screen"><div class="vjs-wrap"><div class="vjs-cw-icon"></div><div class="vjs-cw-title">Kontynuuj ogldanie</div><div class="vjs-cw-text">Poprzednio obejrzae ten materia do '+secondsToHms(a.time,[" godz. "," min. "," sec. "])+'<span class="vjs-bigger">Czy chcesz kontynuowa ogldanie?</span><div class="vjs-cw-button vjs-yes">Tak</div><div class="vjs-cw-button vjs-no">Nie</div></div></div></div>'},build_img:function(a){var b="undefined"!=typeof a.imgStyle&&a.imgStyle?' style="'+a.imgStyle+'"':"",c="undefined"!=typeof a.link&&a.link?' href="'+a.link+'" target="_blank"':"",d="undefined"!=typeof a.linkClassName&&a.linkClassName?' class="'+a.linkClassName+'" ':"",e="undefined"!=typeof a.statUrl3&&a.statUrl3?" data-stat='"+JSON.stringify(a.statUrl3)+"'":"",f="undefined"!=typeof a.hover&&a.hover?'class="imgHover" data-hover="'+a.hover+'" ':"";return"<a"+c+e+d+'><img src="'+a.image+'"'+f+b+"/></a>"}};videojs.plugin("resolutions",function(a){if("undefined"!=typeof sessionStorage){var b=this;videojs.reduce=function(a,b,c,d){if(a&&0!==a.length){for(var e=0,f=a.length;f>e;e++)c=b.call(a,c,a[e],e);return c}},this.resolutions_={options_:{},stopStream:function(){switch(b.techName){case"Html5":break;case"Flash":b.tech.el_.vjs_stop()}b.src("")},removeSources:function(a){var c=b.el_.getElementsByTagName("video")[0];"Html5"!==b.techName&&"Flash"!==b.techName||!c},bucketByTypes:function(a){return videojs.reduce(a,function(a,b,c){return(a[b.type]=a[b.type]||[]).push(b),a},{},b)},selectSource:function(a){this.removeSources();var b=this.bucketByTypes(a),c=this.selectTypeAndTech(a);return c?(this.options_.sourceResolutions=b[c.type],this.selectResolution(this.options_.sourceResolutions)):!1},selectTypeAndTech:function(a){for(var c,d,e=0,f=b.options_.techOrder;e<f.length;e++)if(c=videojs.capitalize(f[e]),d=window.videojs[c],d.isSupported())for(var g=0,h=a;g<h.length;g++){var i=h[g];if(d.canPlaySource(i))return{type:i.type,tech:c}}},selectResolution:function(a){var c=0,d=!!window.localStorage;videojs.obj.each(a,function(a,b){b.index=parseInt(a,10),b["data-default"]&&(c=b.index)},b);var e=c;if(d){var f=window.localStorage.getItem("videojs_preferred_res");isNaN(f)||videojs.obj.each(a,function(a,b){b["data-res"]==f&&(e=a)})}var g=a.length-1,h=e>g?g:e;return a[h]}},b.resolution=function(){return this.cache_.src.res},b.changeResolutionDefault=function(a){typeSources=b.sources;var c=getStorageItem("videojs_preferred_res");if(null===c){var d="string"==typeof uDevice&&PLAYER5_DEVICES_TYPE.mobile.indexOf(uDevice.toLowerCase())>-1?!0:!1;c=d?360:480}var e=null,f=!0,g=null;videojs.obj.each(typeSources,function(a,b){return null===e?(e=b,g=b):parseInt(b["data-res"])>parseInt(g["data-res"])&&(g=b),parseInt(b["data-res"])==parseInt(c)?(e=b,f=!1,!1):void 0}),f&&(e=g),b.changeResolution(e,a)},b.supportQuality=function(){return b.sources.length>0},b.changeResolution=function(a,c){var d=(b.el_.getElementsByTagName("video"),a["data-res"]);if("AUTO"!=d&&d.indexOf("p")<0&&(d+="p"),"undefined"==typeof sessionStorage.manualChoice||"false"==sessionStorage.manualChoice?$($(b.el_).find(".vjs-resolutions-button .vjs-menu-content .vjs-menu-item:first")).text("auto ("+d+")"):$($(b.el_).find(".vjs-resolutions-button .vjs-menu-content .vjs-menu-item:first")).text("auto"),this.cache_.src===a.src)return this.trigger("resolutionchange"),this;"undefined"==typeof c&&(c=this.currentTime());var e=this.materialStarted?this.paused()&&!this.advertInProgeres:!1;this.pause();var f=a.src.replace("redir.atmcdn.pl","r.dcs.redcdn.pl");"Chrome"==uBrowser&&uVersion>=45&&(f=jsonRedirectRedcdn(f)),"Html5"===this.techName||"Shaka"===this.techName||"Dashjs"===this.techName||"Flash"===this.techName?this.src(f):this.loadTech(this.techName,{src:f}),b.blockInteraction=!0,e&&this.pause(),this.ready(function(){this.one("loadeddata",videojs.bind(this,function(){this.currentTime(c)})),this.one("loadstart",function(){b.hasStarted(!0)}),this.trigger("resolutionchange"),this.one("canplay",function(){b.blockInteraction=!1}),this.options().isAndroid&&"Chrome"==uBrowser&&(this.load(),e?this.pause():this.play())})};var c=videojs.MenuItem.extend({init:function(a,b){b.label=b.source["data-res"],"AUTO"!=b.label&&b.label.indexOf("p")<0&&(b.label+="p"),videojs.MenuItem.call(this,a,b),this.source=b.source,this.resolution=b.source["data-res"],this.player_.one("loadstart",videojs.bind(this,this.update)),this.player_.on("resolutionchange",videojs.bind(this,this.update))}});c.prototype.onClick=function(){videojs.MenuItem.prototype.onClick.call(this),"AUTO"!=this.source["data-res"]?(sessionStorage.manualChoice=!0,sessionStorage.selectedQuality=this.source["data-res"],this.player_.changeResolution(this.source),sessionStorage.manualChoice=!1,this.selected(!0)):(sessionStorage.manualChoice=!1,this.trigger("resolutionchange"))},c.prototype.update=function(){if("false"==sessionStorage.manualChoice||isNotDefined(sessionStorage.manualChoice))"AUTO"==this.source["data-res"]?this.selected(!0):this.selected(!1);else{var a=this.player_;a.cache_.src===this.source.src?this.selected(!0):this.selected(!1)}};var d=videojs.MenuButton.extend({init:function(a,b){videojs.MenuButton.call(this,a,b),this.items.length<=1&&this.hide()}});d.prototype.sourceResolutions=function(){return this.sourceResolutions_},d.prototype.onClick=function(a){if(a.target.className.match(/vjs-control-content/))this[this.el_.className.match(/touched/)?"removeClass":"addClass"]("touched");else{for(var b=document.getElementsByClassName("vjs-menu-button"),c=0;c<b.length;c++)videojs.removeClass(b[c],"touched");this.removeClass("touched")}},d.prototype.createItems=function(){var a=this.sourceResolutions_=this.player_.resolutions_.options_.sourceResolutions;if(a.length<=1)return[];if(a.length>1){a.reverse();var b={"data-res":"AUTO",controls:!0,src:"auto"};a.unshift(b)}var d=[];if("undefined"!=typeof a)for(var e=0;e<a.length;e++)d.push(new c(this.player_,{source:this.sourceResolutions_[e]}));return d},ResolutionsButton=d.extend({init:function(a,b,c){d.call(this,a,b,c),this.el_.setAttribute("aria-label","Resolutions Menu"),this.el_.setAttribute("id","vjs-resolutions-button"),this.el_.setAttribute("name","resolutionsButton")}}),ResolutionsButton.prototype.kind_="resolutions",ResolutionsButton.prototype.buttonText="Resolutions",ResolutionsButton.prototype.className="vjs-resolutions-button",videojs.obj.merge(b.controlBar.options_.children,{resolutionsButton:{}});var e=b.options().quality,f=[],g=1;for(var h in e)if(e.hasOwnProperty(h)){var j=e[h],k={};k.controls=!0,k["data-res"]=h,k.index=g,k.src=j,k.type="video/mp4",f.push(k),g++}b.sources=f;b.resolutions_.selectSource(f);b.ready(function(){if(f.length>1){var a=new ResolutionsButton(b);b.controlBar.addChild(a)}}),b.getCurrentQuality=function(){var a=b.src();for(i in f)if(f[i].src==a)return f[i];return!1},b.getHigherQuality=function(a){var b=parseInt(a["data-res"]);for(i in f){var c=parseInt(f[i]["data-res"]);if(c>b)return f[i]}return!1},b.getLowerQuality=function(a){var b=parseInt(a["data-res"]),c=a,d=!1;for(i in f){if(d)return c;var e=parseInt(f[i]["data-res"]);e==b?d=!0:c=f[i]}return c};var l=null,m=null,n=2;setStorageItem("connectionCheck",1);var o=!1;b.on("progress",function(a){if(1!=o&&b.getInformation().watchingTime>2&&b.getInformation().watchingTime<12){if(o=b.paused(),"true"==sessionStorage.manualChoice)return!1;var c=a.timeStamp/1e3,d=parseFloat(getStorageItem("connectionCheck"));if(d&&c>d+2){setStorageItem("connectionCheck",c);try{var e=$(b.el()).children("video")[0].buffered.length-1;l=$(b.el()).children("video")[0].buffered.end(e)}catch(a){return!1}m=b.currentTime();var f,g=l-m,h=b.getCurrentQuality(),i=function(a,b){nextValueReturn=!1;var c=a["p"+b];return $.each(a,function(a,d){nextValueReturn&&(c=d,nextValueReturn=!1),a=="p"+b&&(nextValueReturn=!0)}),c},j={};if(j.p240={},j.p240.time=2,j.p240.profile=240,j.p360={},j.p360.time=12,j.p360.profile=360,j.p480={},j.p480.time=15,j.p480.profile=480,0==$(b.el_).find("object").length&&"Desktop"==uDevice&&(j.p720={},j.p720.time=25,j.p720.profile=720),"undefined"!=typeof h&&"undefined"!=typeof h["data-res"]){var k=h["data-res"].replace("p",""),p=j["p"+k];n=i(j,k).time-p.time}g>n&&0!=n?(f=b.getHigherQuality(h),f&&setStorageItem("videojs_preferred_res",f["data-res"])):g>3?setStorageItem("videojs_preferred_res",h["data-res"]):3>g&&(f=b.getLowerQuality(h),f?setStorageItem("videojs_preferred_res",f["data-res"]):setStorageItem("videojs_preferred_res",h["data-res"]))}}})}}),videojs.plugin("userUtilsTvn",userUtilsTvn),videojs.plugin("playerUtilsTvn",playerUtilsTvn),vjsIsTypeMovieDashOrHLS=function(a){var b=a;b.indexOf(".mp4?")>0?a=b.slice(0,b.lastIndexOf(".mp4")+4):b.indexOf(".webm")>0&&(a=b.slice(0,b.lastIndexOf(".webm")+5));var c=a.substr(a.lastIndexOf(".")+1),d=a.substr(a.lastIndexOf("=")+1);return"mp4"!=c&&"webm"!=c&&"mp4"!=d?"m3u8"!=c&&"m3u8"!=d?"MPEG-DASH":"HLS":!1};var entitySpace={productPlacement:{type:"sprite",url:"img/pp.png",items:{0:{backgroundPosition:"-1px -0px",backgroundSize:"339px 69px",width:"337px",height:"33px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-1px -0px",backgroundSize:"339px 69px",width:"337px",height:"33px",x:"20px",y:"30px"}},1:{backgroundPosition:"-1px -34px",backgroundSize:"339px 69px",width:"320px",height:"33px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-1px -34px",backgroundSize:"339px 69px",width:"320px",height:"33px",x:"20px",y:"30px"}}}},parentalRating:{type:"sprite",url:"img/parental-rating.png",items:{0:{backgroundPosition:"-2px -0px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-3px -0px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"33px",y:"50px"}},12:{backgroundPosition:"-34px -0px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-57px -0px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"33px",y:"50px"}},16:{backgroundPosition:"-2px -32px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-3px -53px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"33px",y:"50px"}},18:{backgroundPosition:"-34px -32px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-57px -53px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"33px",y:"50px"}},7:{backgroundPosition:"-2px -64px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-3px -107px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"33px",y:"50px"}},off:{backgroundPosition:"-34px -64px",width:"30px",height:"30px",x:"20px",y:"30px",fullscreen:{backgroundPosition:"-57px -107px",backgroundSize:"113px 160px",width:"50px",height:"50px",x:"3px",y:"50px"}}}}};videojs.plugin("spawnEntityTvn",spawnEntityTvn),videojs.plugin("eventsTvn",eventsTvn),videojs.plugin("statsTvn",statsTvn),function(a,b,c,d){"use strict";var e=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},f=function(a,b,c){var d,e,f=Object.prototype.toString.call(b),g=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c);else if(a.on)a.on(b,c);else{if(!a.attachEvent)throw new Error("object has no mechanism for adding event listeners");a.attachEvent("on"+b,c)}};switch(f){case"[object String]":g(a,b,c);break;case"[object Array]":for(d=0,e=b.length;e>d;d++)g(a,b[d],c);break;case"[object Object]":for(d in b)b.hasOwnProperty(d)&&g(a,d,b[d]);break;default:throw new Error("Unrecognized events parameter type: "+f)}return a},g=function(b){return(a.setImmediate||a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.setTimeout)(b,0)},h=function(b){return(a.clearImmediate||a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.clearTimeout)(b)},i=function(a){a.ads.cancelPlayTimeout||(a.ads.cancelPlayTimeout=g(function(){a.ads.cancelPlayTimeout=null,a.paused()||a.pause()}))},j=function(a){var b=a.el().querySelector(".vjs-tech"),c={src:a.currentSrc(),currentTime:a.currentTime(),type:a.currentType()};return b&&(c.nativePoster=b.poster),c},k=function(a,b){for(var c=a.className.split(/\s+/),d=c.length,e=[];d--;)c[d]!==b&&e.push(c[d]);a.className=e.join(" ")},l=function(a,b){var c,e=a.el().querySelector(".vjs-tech"),f=20,g=function(){a.currentTime(b.currentTime),a.ended()||a.play()},h=function(){return e.seekable===d?void g():e.seekable.length>0?void g():void(f--&&setTimeout(h,50))};b.nativePoster&&(e.poster=b.nativePoster),c=a.src()?a.src()!==b.src:a.currentSrc()!==b.src,c?(a.src({src:b.src,type:b.type}),a.load(),a.one("loadedmetadata",h)):a.ended()||a.play()},m=function(a){var b=a.el().querySelector(".vjs-tech");b&&b.removeAttribute("poster")},n={timeout:5e3,prerollTimeout:100,debug:!1},o=function(b){var c,d=this,o=e({},n,b||{});d.ads={state:"content-set",startLinearAdMode:function(){d.trigger("adstart")},endLinearAdMode:function(){d.trigger("adend")}},c=function(b){var c={"content-set":{events:{adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",i(d),m(d)}}},"ads-ready":{events:{play:function(){this.state="preroll?",i(d)}}},"preroll?":{enter:function(){d.el().className+=" vjs-ad-loading",d.ads.timeout=a.setTimeout(function(){d.trigger("adtimeout")},o.prerollTimeout),d.trigger("readyforpreroll")},leave:function(){a.clearTimeout(d.ads.timeout),h(d.ads.cancelPlayTimeout),d.ads.cancelPlayTimeout=null,k(d.el(),"vjs-ad-loading")},events:{play:function(){i(d)},adstart:function(){this.state="ad-playback",d.el().className+=" vjs-ad-playing"},adtimeout:function(){this.state="content-playback",d.play()}}},"ads-ready?":{enter:function(){d.el().className+=" vjs-ad-loading",d.ads.timeout=a.setTimeout(function(){d.trigger("adtimeout")},o.timeout)},leave:function(){a.clearTimeout(d.ads.timeout),k(d.el(),"vjs-ad-loading")},events:{play:function(){i(d)},adsready:function(){this.state="preroll?"},adtimeout:function(){this.state="ad-timeout-playback"}}},"ad-timeout-playback":{events:{adsready:function(){d.paused()?this.state="ads-ready":this.state="preroll?"},contentupdate:function(){d.paused()?this.state="content-set":this.state="ads-ready?"}}},"ad-playback":{enter:function(){this.snapshot=j(d),m(d)},leave:function(){k(d.el(),"vjs-ad-playing"),l(d,this.snapshot)},events:{adend:function(){this.state="content-playback"}}},"content-playback":{events:{adstart:function(){this.state="ad-playback",d.el().className+=" vjs-ad-playing",m(d)},contentupdate:function(){d.paused()?this.state="content-set":this.state="ads-ready?"}}}};!function(a){var e=function(){};(c[a].events[b.type]||e).apply(d.ads),a!==d.ads.state&&((c[a].leave||e).apply(d.ads),(c[d.ads.state].enter||e).apply(d.ads),o.debug&&videojs.log("ads",a+" -> "+d.ads.state))}(d.ads.state)},f(d,["adtimeout","contentupdate","adsready","adstart","adend"],c),d.ads.contentSrc=d.currentSrc(),function(){var a=function(){var a;"ad-playback"!==d.ads.state&&(a=d.currentSrc(),a!==d.ads.contentSrc&&(d.trigger({type:"contentupdate",oldValue:d.ads.contentSrc,newValue:a}),d.ads.contentSrc=a))};d.on("loadstart",a),g(a)}(),d.paused()||c({type:"play"})};c.plugin("ads",o)}(window,document,videojs),function(a){"use strict";var b=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},c={debug:!1,timeout:5e3,prerollTimeout:100},d=function(a,b){for(var c=a.className.split(/\s+/),d=c.length,e=[];d--;)c[d]!==b&&e.push(c[d]);a.className=e.join(" ")},e=function(a,e){var f=this,g=$(this.el());f.ima.createAdContainer_=function(){k=f.getChild("controlBar"),l=k.el().parentNode.insertBefore(document.createElement("div"),k.el()),l.className="ima-ad-container",l.style.width=f.width()+"px",l.style.height=f.height()+"px",f.ima.createControls_(),t=new google.ima.AdDisplayContainer(l,i)},f.ima.createControls_=function(){m=document.createElement("div"),m.className="ima-controls-div",m.style.width="100%",n=document.createElement("div"),n.className="ima-countdown-div",n.innerHTML="Reklama",n.style.display=j?"block":"none",o=document.createElement("div"),o.className="ima-seek-bar-div",o.style.width="100%",p=document.createElement("div"),p.className="ima-progress-div",q=document.createElement("div"),q.className="ima-play-pause-div",q.className+=" ima-playing",q.addEventListener("click",f.ima.onAdPlayPauseClick_,!1),r=document.createElement("div"),r.className="ima-mute-div",r.className+=" ima-non-muted",r.addEventListener("click",f.ima.onAdMuteClick_,!1),s=document.createElement("div"),s.className="ima-fullscreen-div",s.className+=" ima-non-fullscreen",s.addEventListener("click",f.ima.onAdFullscreenClick_,!1),l.insertBefore(m,"undefined"!=typeof l.childNodes[l.childNodes.length]?l.childNodes[l.childNodes.length]:null),m.insertBefore(n,"undefined"!=typeof m.childNodes[m.childNodes.length]?m.childNodes[m.childNodes.length]:null),m.insertBefore(o,"undefined"!=typeof m.childNodes[m.childNodes.length]?m.childNodes[m.childNodes.length]:null),m.insertBefore(q,"undefined"!=typeof m.childNodes[m.childNodes.length]?m.childNodes[m.childNodes.length]:null),m.insertBefore(r,"undefined"!=typeof m.childNodes[m.childNodes.length]?m.childNodes[m.childNodes.length]:null),m.insertBefore(s,"undefined"!=typeof m.childNodes[m.childNodes.length]?m.childNodes[m.childNodes.length]:null),o.insertBefore(p,"undefined"!=typeof o.childNodes[m.childNodes.length]?o.childNodes[m.childNodes.length]:null);
},f.ima.initializeAdDisplayContainer=function(){B=!0,t.initialize()},f.ima.requestAds=function(){B||t.initialize();var a=new google.ima.AdsRequest;a.adTagUrl=h.adTagUrl,a.linearAdSlotWidth=f.width(),a.linearAdSlotHeight=f.height(),a.nonLinearAdSlotWidth=h.nonLinearWidth||f.width(),a.nonLinearAdSlotHeight=h.nonLinearHeight||f.height()/3,u.requestAds(a)},f.ima.onAdsManagerLoaded_=function(a){v=a.getAdsManager(J,C),v.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,f.ima.onAdError_),v.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,f.ima.onContentPauseRequested_),v.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,f.ima.onContentResumeRequested_),v.addEventListener(google.ima.AdEvent.Type.LOADED,f.ima.onAdLoaded_),v.addEventListener(google.ima.AdEvent.Type.STARTED,f.ima.onAdStarted_),v.addEventListener(google.ima.AdEvent.Type.CLICK,f.ima.onAdPlayPauseClick_),v.addEventListener(google.ima.AdEvent.Type.COMPLETE,f.ima.onAdComplete_),v.addEventListener(google.ima.AdEvent.Type.SKIPPED,f.ima.onAdComplete_),f.trigger("adsready")},f.ima.start=function(){try{v.init(f.width(),f.height(),google.ima.ViewMode.NORMAL),v.setVolume(f.muted()?0:f.volume()),v.start()}catch(a){f.ima.onAdError_(a)}},f.ima.onAdsLoaderError_=function(a){window.console.log("AdsLoader error: "+a.getError()),v&&v.destroy(),l.style.display="none",f.trigger("adserror"),l.remove()},f.ima.onAdError_=function(a){window.console.log("Ad error: "+a.getError()),v.destroy(),l.style.display="none",f.trigger("adserror"),v.destroy()},f.ima.onContentPauseRequested_=function(a){D=!0,E=!0,f.off("ended",L),-1!=a.getAd().getAdPodInfo().getPodIndex()&&f.ads.startLinearAdMode(),g.addClass("vjs-ima-active"),l.style.display="block",m.style.display="block",k.hide(),f.pause()},f.ima.onContentResumeRequested_=function(a){D=!1,E=!1,f.on("ended",L),l.style.display="none",g.removeClass("vjs-ima-active"),k.show(),w?G||-1==w.getAdPodInfo().getPodIndex()||f.ads.endLinearAdMode():f.ads.endLinearAdMode(),n.innerHTML=""},f.ima.onAdLoaded_=function(a){a.getAd().isLinear()||f.play()},f.ima.onAdStarted_=function(a){w=a.getAd(),w.isLinear()?(x=setInterval(f.ima.onAdPlayheadTrackerInterval_,250),l.className=""):l.className="bumpable-ima-ad-container"},f.ima.onAdComplete_=function(a){w.isLinear()&&clearInterval(x)},f.ima.onAdPlayheadTrackerInterval_=function(){var a=v.getRemainingTime(),b=w.getDuration(),c=b-a;c=c>0?c:0;var d,e,f=!1;w.getAdPodInfo()&&(f=!0,d=w.getAdPodInfo().getAdPosition(),e=w.getAdPodInfo().getTotalAds());var g=Math.floor(a/60),h=Math.floor(a%60);h.toString().length<2&&(h="0"+h);var i=": ";f&&(i=" ("+d+" z "+e+"): "),n.innerHTML="Reklama"+i+g+":"+h;var j=c/b,k=100*j;p.style.width=k+"%"},f.ima.hideAdControls_=function(){q.style.display="none",r.style.display="none",s.style.display="none",m.style.height="14px"},f.ima.showAdControls_=function(){m.style.height="37px",q.style.display="block",r.style.display="block",s.style.display="block"},f.ima.onAdPlayPauseClick_=function(){E?(d(q,"ima-playing"),q.className+=" ima-paused",v.pause(),E=!1):(d(q,"ima-paused"),q.className+=" ima-playing",v.resume(),E=!0)},f.ima.onAdMuteClick_=function(){F?(d(r,"ima-muted"),r.className+=" ima-non-muted",v.setVolume(1),f.muted(!1),F=!1):(d(r,"ima-non-muted"),r.className+=" ima-muted",v.setVolume(0),f.muted(!0),F=!0)},f.ima.onAdFullscreenClick_=function(){f.isFullscreen()?f.exitFullscreen():f.requestFullscreen()},f.ima.onFullscreenChange_=function(){f.isFullscreen()?(d(s,"ima-non-fullscreen"),s.className+=" ima-fullscreen",l.style.width=window.screen.width+"px",l.style.height=window.screen.height+"px",v.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(d(s,"ima-fullscreen"),s.className+=" ima-non-fullscreen",l.style.width=f.width()+"px",l.style.height=f.height()+"px",v.resize(f.width(),f.height(),google.ima.ViewMode.NORMAL))},f.ima.onVolumeChange_=function(){var a=f.muted()?0:f.volume();v&&v.setVolume(a)},f.ima.seekContentToZero_=function(){f.off("loadedmetadata",f.ima.seekContentToZero_),f.currentTime(0)},f.ima.playContentFromZero_=function(){f.off("loadedmetadata",f.ima.playContentFromZero_),f.currentTime(0),f.play()},f.ima.resetIMA_=function(){v&&(v.destroy(),v=null),u&&!G&&u.contentComplete(),G=!1,l.remove()},f.ima.addEventListener=function(a,b){v&&v.addEventListener(a,b)},f.ima.getAdsManager=function(){return v},f.ima.setContent=function(a,b,c){f.ima.resetIMA_(),h.adTagUrl=b?b:h.adTagUrl,f.currentSrc()&&f.pause(),a&&f.src(a),c?f.on("loadedmetadata",f.ima.playContentFromZero_):f.on("loadedmetadata",f.ima.seekContentToZero_)},f.ima.addContentEndedListener=function(a){K.push(a)},f.ima.pauseAd=function(){D&&E&&(q.className="ima-paused",v.pause(),E=!1)},f.ima.resumeAd=function(){D&&!E&&(q.className="ima-playing",v.resume(),E=!0)},f.ima.setUpPlayerIntervals_=function(){y=setInterval(f.ima.updateCurrentTime,H),z=setInterval(f.ima.checkForSeeking,H)},f.ima.updateCurrentTime=function(){J.seeking||(J.currentTime=f.currentTime())},f.ima.checkForSeeking=function(){var a=f.currentTime(),b=1e3*(a-J.previousTime);Math.abs(b)>H+I?J.seeking=!0:J.seeking=!1,J.previousTime=f.currentTime()},f.ima.setShowCountdown=function(a){j=a,n.style.display=j?"block":"none"};var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A="0.2.0",B=!1,C=null,D=!1,E=!1,F=!1,G=!1,H=1e3,I=100,J={currentTime:0,previousTime:0,seeking:!1,duration:0},K=[],L=function(){u&&!G&&(u.contentComplete(),G=!0);for(var a in K)K[a]();clearInterval(y),clearInterval(z),f.one("play",f.ima.setUpPlayerIntervals_)};if(h=b({},c,a||{}),!h.id)return void window.console.log("Error: must provide id of video.js div");i=document.getElementById(h.id+"_html5_api"),j=!0,0==h.showCountdown&&(j=!1),f.one("play",f.ima.setUpPlayerIntervals_),f.on("ended",L);var M={debug:h.debug,timeout:h.timeout,prerollTimeout:h.prerollTimeout},N=b({},M,a.contribAdsSettings||{});if("function"==typeof f.ads&&f.ads(N),C=new google.ima.AdsRenderingSettings,C.restoreCustomPlaybackStateOnAdBreakComplete=!0,h.adsRenderingSettings)for(var O in h.adsRenderingSettings)C[O]=h.adsRenderingSettings[O];h.locale&&google.ima.settings.setLocale(h.locale),f.ima.createAdContainer_(),u=new google.ima.AdsLoader(t),u.getSettings().setVpaidAllowed(!0),0==h.vpaidAllowed&&u.getSettings().setVpaidAllowed(!1),h.locale&&u.getSettings().setLocale(h.locale),u.getSettings().setPlayerType("videojs-ima"),u.getSettings().setPlayerVersion(A),u.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,f.ima.onAdsManagerLoaded_,!1),u.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,f.ima.onAdsLoaderError_,!1),e||(e=f.ima.start),f.on("readyforpreroll",e),f.on("fullscreenchange2",f.ima.onFullscreenChange_),f.on("volumechange",f.ima.onVolumeChange_)};a.plugin("ima",e)}(window.videojs),VideoAdsHandler.prototype.addGroup=function(a,b){var c,d,e,f,g,h=this;if(c=h.getAdGroupIndex(a),f=0===a?"pre-roll":"end"===a?"post-roll":"mid-roll",g=b.type,h.getAdGroupIndex(a)===!1&&(d={timeStart:a,totalDuration:0,active:!0,type:f,typeName:g,items:[]},isDefined(b.breakNumber)&&(d.breakNumber=b.breakNumber+1),h.player.newAdStock.push(d),c=h.getAdGroupIndex(a)),c!==!1){e={source:b.MediaFile,active:!0,ClickThrought:b.ClickThrough,fullObj:b};var i=makeSeconds(b.Duration);if("undefined"!=typeof b.Sequential&&("undefined"!=typeof b.Sequential.attribs.skipMainVideo&&"true"==b.Sequential.attribs.skipMainVideo&&(i=0,b.Duration="00:00:00"),"undefined"!=typeof b.Sequential.attribs.boardPause&&(b.Sequential.attribs.boardPauseForTotalDuration=2*parseInt(b.Sequential.attribs.boardPause),i+=b.Sequential.attribs.boardPauseForTotalDuration),"undefined"!=typeof b.Sequential.elements)){for(var j=0,k=b.Sequential.elements,l=0;k.length>l;l++){var m=makeSeconds(k[l].Duration);j=m>j?m:j}i+=j,b.Sequential.additionalDuration=j}h.player.newAdStock[c].totalDuration+=i,h.player.newAdStock[c].items.push(e)}},VideoAdsHandler.prototype.getAdGroupIndex=function(a){var b=this;if(b.player.newAdStock.length>0)for(var c=0;c<b.player.newAdStock.length;c++)if(b.player.newAdStock[c].timeStart===a)return c;return!1},VideoAdsHandler.prototype.getFirstActiveGroupIndex=function(){var a=this;if(a.player.newAdStock.length>0)for(var b=0;b<a.player.newAdStock.length;b++)if(a.player.newAdStock[b].active===!0)return b;return!1},VideoAdsHandler.prototype.getFirstActiveItemIndex=function(){var a=this,b=a.player.newAdStock[a.player.currentAdGroupIndex].items;if(b.length>0)for(var c=0;c<b.length;c++)if(b[c].active===!0)return c;return!1},VideoAdsHandler.prototype.getRemainingTime=function(){var a,b,c,d,e,f,g=this,h=g.player;if(h.newAdStock.length&&h.currentAdGroupIndex!==!1){if(a=h.newAdStock[h.currentAdGroupIndex].totalDuration,b=parseInt(h.currentTime()),c=0,d=0,a){for(e=h.newAdStock[h.currentAdGroupIndex].items,f=0;f<e.length;f++)e[f].active===!1&&(c+=makeSeconds(e[f].fullObj.Duration));d=a-c-b+h.currentAdTime,0>d&&(d=0)}return secondsToHms(d)+" "}return!1},VideoAdsHandler.prototype.handleTracking=function(){var a=this,b=a.player,c=b.getInformation(),d=b.currentTime()/c.totalTime*100;d>=0&&25>d&&"undefined"==typeof b.trackingFlags.start?(b.trackingFlags.start=!0,b.trigger("tracking.start")):d>=25&&50>d&&"undefined"==typeof b.trackingFlags.firstQuartile?(b.trackingFlags.firstQuartile=!0,b.trigger("tracking.firstQuartile")):d>=50&&74>d&&"undefined"==typeof b.trackingFlags.midpoint?(b.trackingFlags.midpoint=!0,b.trigger("tracking.midpoint")):d>=75&&100>d&&"undefined"==typeof b.trackingFlags.thirdQuartile?(b.trackingFlags.thirdQuartile=!0,b.trigger("tracking.thirdQuartile")):d>=99&&100>=d&&"undefined"==typeof b.trackingFlags.complete&&(b.trackingFlags.complete=!0,b.trigger("tracking.complete"))},VideoAdsHandler.prototype.recalculateTotalTimeOfCurrentGroup=function(){var a=this,b=a.player,c=b.newAdStock[b.currentAdGroupIndex];if(c&&(c.totalDuration=0,c.items.length))for(var d=0;c.items.length>d;d++)"undefined"!=typeof c.items[d].fullObj.Sequential&&("undefined"!=typeof c.items[d].fullObj.Sequential.attribs.boardPause&&(c.totalDuration+=parseInt(c.items[d].fullObj.Sequential.attribs.boardPauseForTotalDuration)),c.totalDuration+=parseInt(c.items[d].fullObj.Sequential.additionalDuration)),c.totalDuration+=makeSeconds(c.items[d].fullObj.Duration)},VideoAdsHandler.prototype.buildAdInfoBlock=function(a){var b=this,c=b.player,d=b.video_wrapper,e=d,f="";d.find(".vjs-control-bar-wrapper").length&&(e=d.find(".vjs-control-bar-wrapper")),"undefined"!=typeof a.ads.skipAd&&a.ads.skipAd.enabled&&(f='<a href="#" class="vjs-skipAd-button">Pomi&#324; (za '+a.ads.skipAd.timeOut+" sekund)</a>"),e.append('<div class="vjs-ad-legal"><span class="vjs-ad-legal-label"></span> <span class="vjs-ad-legal-remaining"></span>'+f+"</div>"),d.find(".vjs-skipAd-button").on("click",function(a){a.preventDefault(),c.skipAllowed&&(c.trigger("ended"),c.skipAllowed=!1)});var g='<a class="vjs-click-through-button vjs-cursor-pointer" target="_blank"></a>';if("undefined"!=typeof uDevice&&"Desktop"!==uDevice&&(g='<a href="" class="vjs-click-through-button vjs-mobile-ctb vjs-cursor-pointer" target="_blank"></a>',"Tablet"!==uDevice||c.options().isNativeAndroid)){var h='<div class="vjs-pause-overlay"></div>';$(h).insertAfter(d.find(".vjs-tech"))}d.append(g),c.refreshButtonAds(),$(d).find(".vjs-click-through-button").on("click",function(){var a=$(this).attr("data-href").replace("_AONOVTMVALUE_",parseInt(c.currentTime()));$(this).attr("href",a),c.paused()||(c.pause(),c.bigPlayButton.removeClass("vjs-hidden").show())}),d.find(".vjs-pause-overlay").on("click",function(){c.play()})},VideoAdsHandler.prototype.handleSkipButton=function(a){var b=this,c=b.player,d=b.video_wrapper;if("undefined"!=typeof a.ads&&"undefined"!=typeof a.ads.skipAd&&a.ads.skipAd.enabled&&c.skipAllowed===!1){var e=a.ads.skipAd.timeOut-c.currentTime();0>=e?(d.find(".vjs-skipAd-button").html("Pomi&#324; teraz"),c.skipAllowed=!0):d.find(".vjs-skipAd-button").html("Pomi&#324; (za "+parseInt(e)+" sekund)")}};var P5version="1.7.4";(detectIE()||vjs.IS_IPAD)&&($.support.cors=!0);var player5TestDiv=$("<div>",{id:"vjs-cfullscreen-test",style:"width: 100%; height: 100%; left: 0; top: 0; position: fixed; visibility: hidden; z-index: -100;"});$(document).ready(function(){$("body").append(player5TestDiv)});var adHandlers={interactive:function(){},interactive2:function(){},overlay:function(){},sequential:function(){},restboard:function(){}};videojs.plugin("coreTvn",coreTvn),adHandlers.interactive=function(a,b){this.videoObj=a,this.player=b;var c=$(b.el());return this.clear=function(){c.find(".vjs-interactive").remove()},this.build=function(a){c.find(".vjs-interactive").remove();var d=a.fullObj,e="",f=this;if("undefined"==typeof d.Interactive)return!1;if(!d.Interactive.buttons.length)return!1;for(var g=0;g<d.Interactive.buttons.length;g++){var h=d.Interactive.buttons[g],i=d.Interactive.attribs.width||!1,j=d.Interactive.attribs.height||!1,k="";(i||j)&&(k=' style="',k+=i?"width: "+i+"px;":"",k+=j?"height: "+j+"px;":"",k+='"');var l='<span class="vjs-img-wrapper"'+k+'><img src="'+h.icon+'"/></span>',m='<span class="vjs-int-text-wrapper"><span class="vjs-int-text">'+h.title+"</span></span>";e+='<div class="vjs-action"><a href="'+h.url+'" target="_blank" data-stat='+JSON.stringify(h.statUrl)+">"+m+l+"</a></div>"}var n='<div class="vjs-interactive">'+e+"</div>";this.videoObj.find(".vjs-control-bar-wrapper").length?this.videoObj.find(".vjs-control-bar-wrapper").append(n):this.videoObj.append(n);var o,p=c.find(".vjs-interactive"),q=p.find(".vjs-action");p.show();for(var r=0;r<q.length;r++){$(q[r]).removeClass("vjs-hidden");var s=$(q[r]).find(".vjs-int-text-wrapper .vjs-int-text"),t=""===s.text()?0:s.outerWidth(!1)+12;s.attr("data-width",t).attr("data-base-width",t).css("width",0),$(q[r]).addClass("vjs-hidden"),$(q[r]).find(".vjs-int-text-wrapper").hide()}return f.rescale(),p.on("click","a",function(){var a=$(this),c=a.data("stat");c&&(b.runTracking(c),b.debug("ads","stat",c)),b.paused()||b.pause()}),p.on("mouseenter",".vjs-action",function(){var a=$(this).find(".vjs-int-text");0!=a.attr("data-width")&&($(this).find(".vjs-int-text-wrapper").show(0),$(this).addClass("vjs-interactive-btn-hovered"),a.css("width",a.attr("data-width"))),clearTimeout(o)}),p.on("mouseleave",".vjs-action",function(){$(this).removeClass("vjs-interactive-btn-hovered");var a=$(this).find(".vjs-int-text");a.css("width",0);var b=$(this);o=setTimeout(function(){b.find(".vjs-int-text-wrapper").hide()},400)}),function u(a){if(a=a||0,q[a]){var b=($(q[a]).find(".vjs-int-text"),700);0==a&&(b=0),setTimeout(function(){$(q[a]).removeClass("vjs-hidden");var b=$(q[a]).find(".vjs-int-text");$(q[a]).find(".vjs-int-text-wrapper").show(),setTimeout(function(){b.css("width",b.attr("data-width")),a++,u(a)},1e3)},2*b)}else setTimeout(function(){for(var a=0;a<q.length;a++){var b=$(q[a]);b.hasClass("vjs-interactive-btn-hovered")||b.find(".vjs-int-text").css("width",0)}},3e3)}(),!0},this.rescale=function(){function a(a){var b=a.find(".vjs-img-wrapper"),c="undefined"!=typeof i.width?parseInt(i.width):!1,d="undefined"!=typeof i.height?parseInt(i.height):!1;"undefined"==typeof a.data("base-margin-top")&&a.data("base-margin-top",parseInt(a.css("margin-top"))),"undefined"==typeof b.data("base-padding")&&b.data("base-padding",parseInt(b.css("padding"))),c&&d&&(b.css({width:c*j.ratio+"px",height:d*j.ratio+"px",padding:parseInt(b.data("base-padding"))*j.ratio}),a.attr("style","margin-top: "+parseInt(a.data("base-margin-top"))*j.ratio+"px!important;"))}function b(a){var b=a.find(".vjs-int-text-wrapper");"undefined"==typeof b.data("base-font-size")&&b.data("base-font-size",parseInt(b.css("font-size")));var c=b.data("base-font-size");b.css("font-size",Math.round(c*j.ratio)+"px");var d,e=a.is(":visible");!e&&a.removeClass("vjs-hidden"),a.find(".vjs-int-text-wrapper").show(),a.find(".vjs-int-text").css("width","auto"),d=""==a.find(".vjs-int-text").text()?0:parseInt(a.find(".vjs-int-text").outerWidth(!1)+22),"desktop"===uDevice.toLowerCase()&&detectIE()&&11==detectIE()&&g.isEmbed()&&(d=""==a.find(".vjs-int-text").text()?0:parseInt(a.find(".vjs-int-text")[0].clientWidth+22)),a.find(".vjs-int-text").attr("data-width",d).css("width",0),a.find(".vjs-int-text-wrapper").hide(),!e&&a.addClass("vjs-hidden")}function d(){"undefined"==typeof e.attr("data-base-top")&&e.attr("data-base-top",parseInt(e.css("top"))),"undefined"==typeof e.attr("data-base-right")&&e.attr("data-base-right",parseInt(e.css("right")));var a=e.attr("data-base-right");e.attr("data-base-top");e.css({right:j.horizontalOffset+a*j.ratio,top:j.verticalOffset+e.attr("data-base-top")*j.ratio})}var e=c.find(".vjs-interactive");if(e.length){var f=this,g=f.player,h=$("#vjs-cfullscreen-test");if(g.currentAdGroupIndex!==!1){var i=g.newAdStock[g.currentAdGroupIndex].items[g.currentAdItemIndex].fullObj.Interactive.attribs,j=g.getAdsRescaleInfo(i);g.isFullscreen()&&detectIE()&&$(g.el()).find(".vjs-tech").height()===j.trueHeight&&h.length&&(j.verticalOffset=(h.height()-j.trueHeight)/2);var k=e.find(".vjs-action");if(j){for(var l=0;l<k.length;l++)b($(k[l])),a($(k[l]));d()}}}},this},adHandlers.interactive2=function(a,b){this.videoObj=a,this.player=b;var c=$(b.el());return this.video_wrapper=$(b.el()),this.clear=function(){c.find(".vjs-interactive2").remove()},this.build=function(a){this.clear();var d=this,e=a.fullObj;if("undefined"==typeof e.Interactive2)return!1;var f,g="",h="",i=isDefined(e.Interactive2.attribs.opacity)?parsePercentage(e.Interactive2.attribs.opacity):PLAYER_DEFAULT_OPACITY,j=isDefined(e.Interactive2.attribs["background-color"])?e.Interactive2.attribs["background-color"]:"#ffffff",k=isDefined(e.Interactive2.attribs.width)?e.Interactive2.attribs.width:0,l=isDefined(e.Interactive2.attribs.height)?e.Interactive2.attribs.height:0,m="string"==typeof e.Interactive2.attribs["icon-pulsation"]&&"true"==e.Interactive2.attribs["icon-pulsation"]?" vjs-pulsation":"",n="undefined"!=typeof e.Interactive2.attribs["icon-distance"]?e.Interactive2.attribs["icon-distance"]:0,o=isDefined(e.Interactive2.attribs.offset)?parseInt(e.Interactive2.attribs.offset):7,p="undefined"!=typeof e.Interactive2.attribs.color?e.Interactive2.attribs.color:0;for(f=0;f<e.Interactive2.buttons.length;f++){var q=e.Interactive2.buttons[f];q.currentNode=f;var r=b.newAdStock[b.currentAdGroupIndex].items[b.currentAdItemIndex].fullObj.Interactive2.attribs,s=b.getAdsRescaleInfo(r);q.rescaleInfo=s,"object"==typeof q.slide.attribs&&adsTemplates.hasOwnProperty("interactive2_"+q.slide.attribs.id)&&(g+=render("interactive2_"+q.slide.attribs.id,q)),h+=render("interactive2_action",{btnItem:q,defaultOpacity:i,defaultColor:j,btnWidth:k,btnHeight:l,pulsation:m,iconDistance:n,offset:o,fontColor:p,videoWrapperHeight:this.video_wrapper.height(),videoControlBarHeight:this.video_wrapper.find(".vjs-control-bar").height()})}var t=p?'style="color: '+p+'"':"",u='<div id="vjs-interactive2_1" class="vjs-interactive2"><div class="vjs-actions">'+h+'</div><div class="vjs-interactive2-main-container"><div class="vjs-fallDown"'+t+'>zwi</div><div class="vjs-interactive2-inner"><div class="vjs-board">'+g+"</div></div></div></div>";this.videoObj.find(".vjs-control-bar-wrapper").length?this.videoObj.find(".vjs-control-bar-wrapper").append(u):this.videoObj.append(u);var v=c.find(".vjs-interactive2");this.runQuiz(),this.runSurvey();var w=860,x=410;"undefined"!=typeof q.slide.attribs&&("undefined"!=typeof q.slide.attribs.width&&(w=q.slide.attribs.width,v.find(".vjs-board").css("width",q.slide.attribs.width+"px")),"undefined"!=typeof q.slide.attribs.height&&v.find(".vjs-board").css("height",q.slide.attribs.height+"px")),v.find(".vjs-board").css({width:w+"px",height:x+"px"});var y=1;v.find(".vjs-fallDown").css("background-color",hexToRGB_MA(e.Interactive2.attribs["background-color"],y)),v.find(".vjs-board").css("background-color",hexToRGB_MA(e.Interactive2.attribs["background-color"],y)),v.find(".vjs-action").data("active-color",hexToRGB_MA(e.Interactive2.attribs["background-color"],y)),v.find(".vjs-action").each(function(){$(this).css("background",$(this).data("icon-background-color")),$(this).find(".vjs-wrap").css("border-color",$(this).data("border-color"))}),v.find(".vjs-action.vjs-empty, a").on("click",function(){var a=$(this);if(a.hasClass("voteBtnSurvey")||a.hasClass("vjs-voteBtn"))return!1;var c=a.data("stat");return"undefined"!=typeof a.data("alreadyVote")?!1:void(c&&b.runTracking(c))});var z=c.find(".vjs-click-through-button.vjs-mobile-ctb");v.find(".vjs-fallDown").on("click",function(){clearTimeout(A),v.find(".vjs-interactive2-inner").removeClass("vjs-no-transition"),v.data("orgWidth",v.css("width")),v.find(".vjs-fallDown").hide(),$(this).parents(".vjs-board").hide().find(".vjs-itemWrap").removeClass("vjs-ads-active-board"),setTimeout(function(){v.find(".vjs-action").removeClass("vjs-active"),v.find(".vjs-action").each(function(a){$(this).css("background",$(this).data("icon-background-color"))})},500),v.find(".vjs-interactive2-inner").css("width",0),b.controlBar.animateMute(!1,function(){b.play(),b.controlBar.playToggle.show(),b.interactive2BoardVisible=!1}),z.length&&z.show()});var A,B,C,D=2e3;v.find(".vjs-interactive2-inner").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){0!==v.find(".vjs-interactive2-inner").width()?$(this).addClass("vjs-no-transition"):$(this).removeClass("vjs-no-transition")}),v.find(".vjs-action").on("mouseenter",function(a){var d=$(this);d.hasClass("vjs-pulsation")?d.removeClass("vjs-pulsation"):"",b.interactive2BoardVisible=!0,clearTimeout(A),clearTimeout(B),clearTimeout(C);var e=d.data("stat-2");if(d.hasClass("vjs-empty"))return!1;var f=function(){b.runTracking(e),b.debug("ads","stat",e)};d.hasClass("vjs-active")||(A=setTimeout(f,D));var g=0!==parseInt(d.attr("data-board-width"))?d.attr("data-board-width"):"",h=0!==parseInt(d.attr("data-board-height"))?d.attr("data-board-height"):"",i=d.data("falldown-color"),j=d.data("board-class");v.find(".vjs-action").removeClass("vjs-active"),v.find(".vjs-itemWrap").removeClass("vjs-ads-active-board"),v.find(".vjs-action").each(function(){var a=$(this);a.css("background",a.data("icon-background-color")),a.find(".vjs-wrap").css("border-color",a.data("border-color"))}),v.find(".vjs-fallDown").css("color",i),v.find(".vjs-fallDown").show(),d.addClass("vjs-active");var k=d.data("default-color"),l=d.data("icon-active-color");d.css("background-color",l),v.find(".vjs-fallDown").css("background-color",k),v.find(".vjs-board").css({"background-color":k,width:g||w+"px",height:h||x+"px"}),v.find(".vjs-interactive2-main-container").css({top:$(this).attr("data-offset-top")+"px"}),""===j?v.find(".vjs-interactive2-main-container").removeAttr("class").addClass("vjs-interactive2-main-container"):v.find(".vjs-interactive2-main-container").addClass(j);var m=parseInt(v.find(".vjs-interactive2-inner").css("width"));m>(g||w)?(v.find(".vjs-interactive2-inner").addClass("vjs-no-transition"),v.find(".vjs-interactive2-inner").css({width:(g||w)/2+"px",height:h||x+"px"}),setTimeout(function(){v.find(".vjs-interactive2-inner").removeClass("vjs-no-transition"),v.find(".vjs-interactive2-inner").css({width:g||w+"px",height:h||x+"px"})},20)):v.find(".vjs-interactive2-inner").css({width:g||w+"px",height:h||x+"px"}),v.find(".vjs-board").show(),c.find(".vjs-itemWrap").hide();var n=d.data("item"),o=c.find(".vjs-itemWrap_"+n);o.show().addClass("vjs-ads-active-board"),o.hasClass("vjs-ads-gallery")&&o.trigger("vjs-ads-gallery-activated"),b.controlBar.playToggle.hide(),b.paused()||b.controlBar.animateMute(!0,function(){b.pause(),b.bigPlayButton.addClass("vjs-hidden")}),z.length&&z.hide()}),v.find(".vjs-action.vjs-empty").on("mouseenter",function(){$(this).addClass("vjs-interactive-btn-hovered"),$(this).find(".vjs-int-text-wrapper").show(0);var a=$(this).find(".vjs-int-text");a.css("width",a.attr("data-width")),b.controlBar.playToggle.hide(),b.paused()||b.controlBar.animateMute(!0,function(){b.pause(),b.bigPlayButton.addClass("vjs-hidden")}),v.find(".vjs-interactive2-inner").removeClass("vjs-no-transition"),v.data("orgWidth",v.css("width")),v.find(".vjs-fallDown").hide(),$(this).parents(".vjs-board").hide().find(".vjs-itemWrap").removeClass("vjs-ads-active-board"),B=setTimeout(function(){v.find(".vjs-action").removeClass("vjs-active"),v.find(".vjs-action").each(function(a){var b=$(this);b.hasClass("vjs-empty")||(b.css("background",b.data("icon-background-color")),b.find(".vjs-wrap").css("border-color",b.data("border-color")))})},500),v.find(".vjs-interactive2-inner").css("width",0)}),v.find(".vjs-action.vjs-empty").on("mouseleave",function(){var a=$(this);a.removeClass("vjs-interactive-btn-hovered"),a.find(".vjs-int-text").css("width",0),C=setTimeout(function(){b.controlBar.playToggle.show(),b.controlBar.animateMute(!1,function(){b.play(),b.interactive2BoardVisible=!1}),a.find(".vjs-int-text-wrapper").hide()},500)}),v.show();var E,F,G=v.find(".vjs-action"),H=v.find(".vjs-action.vjs-empty");if(H.each(function(){var a,b=$(this);b.show().css("opacity","0"),a=parseInt(b.find(".vjs-int-text").outerWidth(!1)+22),b.find(".vjs-int-text").attr("data-width",a).css("width",0),F=b.outerWidth(!1);var c=b.find(".vjs-int-text-wrapper");c.attr("data-base-font-size",parseInt(c.css("font-size"))),b.css({width:"",opacity:""}).hide(),b.find(".vjs-int-text-wrapper").hide()}),F)v.find(".vjs-actions, .vjs-actions .vjs-action:not(.vjs-empty)").css("width",F),v.find(".vjs-interactive2-main-container").css({marginRight:F});else{var I=0;$.each(G,function(){$(this).width()>I&&(I=$(this).width())}),v.find(".vjs-actions, .vjs-actions .vjs-action:not(.vjs-empty)").css("width",I),v.find(".vjs-interactive2-main-container").css({marginRight:I})}return b.on("timeupdate",function(){E=this.currentTime();for(var a=0;a<G.length;a++){var b=$(G[a]);E>=b.data("timeStart")&&b.is(":hidden")&&b.fadeIn()}}),d.rescale(),c.find(".vjs-ads-gallery").adsGallerySlider(),!0},this.rescale=function(){function a(a){var b=a.find(".vjs-wrap"),c="undefined"!=typeof h.width?parseInt(h.width):!1,d="undefined"!=typeof h.height?parseInt(h.height):!1;if("undefined"==typeof a.attr("data-base-top")&&a.attr("data-base-top",parseInt(a.css("top"))),"undefined"==typeof b.attr("data-base-padding")&&b.attr("data-base-padding",6),c&&d){if(e.find(".actions").css("width",~~(c*l.ratio)),a.css("top",~~(parseInt(a.attr("data-base-top"))*l.ratio)),a.hasClass("vjs-empty")){b.css({padding:~~(parseInt(b.attr("data-base-padding"))*l.ratio*k)}),a.find("img").css({width:~~(c*l.ratio),height:~~(d*l.ratio)});var f=a.find(".vjs-int-text-wrapper");f.css("font-size",parseInt(f.attr("data-base-font-size"))*l.ratio+"px");var g,i=a.is(":visible");!i&&a.show().css("opacity","0"),a.find(".vjs-int-text-wrapper").show(),a.find(".vjs-int-text").css("width","auto"),g=parseInt(a.find(".vjs-int-text").outerWidth(!1)+22),a.find(".vjs-int-text").attr("data-width",g).css("width",0),a.find(".vjs-int-text-wrapper").hide(),!i&&a.css({width:"",opacity:""}).hide()}else"undefined"==typeof a.attr("data-base-board-width")&&a.attr("data-base-board-width",parseInt(a.attr("data-board-width"))||860),"undefined"==typeof a.attr("data-base-board-height")&&a.attr("data-base-board-height",parseInt(a.attr("data-board-height"))||410),a.attr("data-board-width",~~(parseInt(a.attr("data-base-board-width"))*l.ratio)),a.attr("data-board-height",~~(parseInt(a.attr("data-base-board-height"))*l.ratio)),b.css({width:~~(c*l.ratio),height:~~(d*l.ratio),padding:~~(parseInt(b.attr("data-base-padding"))*l.ratio*k)});b.outerWidth(!1)>n&&(n=b.outerWidth(!1)),e.find(".vjs-actions, .vjs-actions .vjs-action:not(.vjs-empty)").css("width",n),e.find(".vjs-interactive2-main-container").css({marginRight:n}),a.hasClass("vjs-active")&&e.find(".vjs-board,.vjs-interactive2-inner").css({width:~~(parseInt(a.attr("data-base-board-width"))*l.ratio),height:~~(parseInt(a.attr("data-base-board-height"))*l.ratio)}),"undefined"==typeof a.attr("data-base-offset-top")&&a.attr("data-base-offset-top",a.attr("data-offset-top"));var j=parseInt(e.find(".vjs-action.vjs-active").attr("data-base-offset-top"))*l.ratio;isNaN(j)&&(j=0);var m=~~(a.attr("data-base-offset-top")*l.ratio);a.attr("data-offset-top",m),e.find(".vjs-interactive2-main-container").css({top:m+"px"})}}function b(){if("undefined"==typeof e.attr("data-base-top")){var a=Math.ceil(parseFloat(e.css("top"))*k);e.attr("data-base-top",a)}"undefined"==typeof e.attr("data-base-right")&&e.attr("data-base-right",parseInt(e.css("padding-right")));var b=parseInt(e.attr("data-base-right"));e.css("padding-right",~~((l.horizontalOffset+b*l.ratio)*k));var c=parseInt(e.attr("data-base-top"));e.css("top",~~(l.verticalOffset+c*l.ratio))}function d(){for(var a=e.find(".vjs-board"),b=a.find(".vjs-element"),c=0;c<b.length;c++){var d="undefined"!=typeof $(b[c]).attr("data-base-top")?parseInt($(b[c]).attr("data-base-top")):!1,f="undefined"!=typeof $(b[c]).attr("data-base-left")?parseInt($(b[c]).attr("data-base-left")):!1;d&&f&&$(b[c]).css({top:~~(d*l.ratio),left:~~(f*l.ratio)})}a.css("padding",~~(10*l.ratio*k)),a.find(".vjs-button img,.vjs-element img,.vjs-ads-gallery-button-content img,.vjs-voteBtn img,.vjs-ads-map-button-content img,.voteBtnSurvey img,.vjs-billboard img").each(function(){var a=$(this);"undefined"==typeof a.attr("data-base-width")?a.on("load",function(){a.attr("data-base-width",a[0].naturalWidth),a.width(a.attr("data-base-width")*l.ratio),a.off("load")}):a.width(a.attr("data-base-width")*l.ratio)}),a.find("b,p:not(.vjs-question),span,i,.vjs-half.vjs-left.vjs-voting,.vjs-popup-form-info").each(function(){var a=$(this);"undefined"==typeof a.attr("data-base-font-size")&&a.attr("data-base-font-size",parseInt(a.css("font-size")));var b=a.attr("data-base-font-size")||16;b&&a.css("font-size",b*l.ratio)}),a.find(".vjs-survey select,.vjs-quiz-bar").each(function(){var a=$(this);"undefined"==typeof a.attr("data-base-height")&&a.attr("data-base-height",parseInt(a.css("height"))),a.css("height",~~(parseInt(a.attr("data-base-height"))*l.ratio)),a.css("font-size",16*(i/960)*l.ratio)});var g=k*l.ratio*100>100?100:k*l.ratio*100;a.find(".vjs-survey .vjs-dropdown").each(function(){$(this).css("background-size",g+"% "+g+"%")}),a.find(".vjs-interactive2-quiz li").each(function(){$(this).css("line-height",~~(parseInt($(this).attr("data-base-line-height"))*l.ratio)+"px");var a=$(this).find(".vjs-radio-0-2"),b=parseInt(a.attr("data-base-size"));a.css({width:~~(b*l.ratio),height:~~(b*l.ratio),backgroundSize:100*l.ratio+"% "+100*l.ratio+"%"})})}var e=c.find(".vjs-interactive2");if(e.length){var f=this,g=f.player;if(g.currentAdGroupIndex!==!1){var h=g.newAdStock[g.currentAdGroupIndex].items[g.currentAdItemIndex].fullObj.Interactive2.attribs,i=parseInt(h.base_width||h.baseWidth),j=960,k=i/j,l=g.getAdsRescaleInfo(h);if(l){var m=e.find(".vjs-action"),n=(e.find(".vjs-board"),0);"undefined"==typeof c.attr("data-base-font-size")&&c.attr("data-base-font-size",parseInt(c.css("font-size"))),c.css("font-size",c.attr("data-base-font-size")*l.ratio);for(var o=0;o<m.length;o++)a($(m[o]));b(),d()}}}},this},"undefined"!=typeof $&&!function(a,b,c,d){function e(b,c){this.el=b,this.options=a.extend({},g,c),this.minOffset=0,this.curOffset=0,this.maxOffset=0,this.arrowLeft="",this.arrowRight="",this.playPause="",this.playing=0,this.changeTime=5e3,this.interval="",this.dots=[],this.activeBoardClass="vjs-ads-active-board",this.userPlaying=1,this.hidden="",this.visibilityChange="",this.cssPrefix=this.getCssPrefix(),this.init()}var f="adsGallerySlider",g={};e.prototype={init:function(){var b=this;b.items=a(b.el).find(".vjs-ads-gallery-item"),b.content=a(b.el).find(".vjs-ads-gallery-content"),b.wrapper=a(b.el).find(".vjs-ads-gallery-wrapper"),b.maxOffset=b.getMaxOffset(),b.setVisibilityVars(),b.buildArrows(),b.buildPaginator(),b.initializeEvents()},getCssPrefix:function(){for(var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=0;b<a.length;b++)if(c.createElement("div").style[a[b]]!==d){var e;switch(a[b]){case"transform":e="";break;
case"WebkitTransform":e="-webkit-";break;case"MozTransform":e="-moz-";break;case"OTransform":e="-o-";break;case"msTransform":e="-ms-"}return e}return!1},getMaxOffset:function(){return this.items.length-1},setCurOffset:function(b){var c,d=this;return a(d.el).hasClass(d.activeBoardClass)?(b>d.maxOffset&&(b=d.minOffset),b<d.minOffset&&(b=d.maxOffset),d.curOffset=b,c=0===d.curOffset?0:d.curOffset+"00%",d.cssPrefix!==!1?a(d.content).css(d.cssPrefix+"transform","translate(-"+c+",0)"):a(d.content).css("left","-"+c),void(d.dots&&(a(d.dots).removeClass("vjs-dot-active"),a(d.dots[d.curOffset]).addClass("vjs-dot-active")))):void(1===d.playing?d.stopAutoChange():"")},scrollLeft:function(){var a=this;a.resetAutoChange(),a.setCurOffset(a.curOffset-1)},scrollRight:function(){var a=this;a.resetAutoChange(),a.setCurOffset(a.curOffset+1)},scrollToPosition:function(a){var b=this;b.resetAutoChange(),b.setCurOffset(a)},buildArrows:function(){var b=this;if(b.items.length>1){var c='<div class="vjs-ads-gallery-arrow vjs-ads-gallery-arrow-left"></div><div class="vjs-ads-gallery-arrow vjs-ads-gallery-arrow-right"></div>';a(b.wrapper).append(c),b.arrowLeft=a(b.el).find(".vjs-ads-gallery-arrow-left"),b.arrowRight=a(b.el).find(".vjs-ads-gallery-arrow-right")}},buildPaginator:function(){var b=this;if(b.items.length){for(var c='<div class="vjs-ads-gallery-paginator-wrapper"></div>',d="",e=0;e<b.items.length;e++)d+='<span class="vjs-ads-gallery-paginator-dot" data-index="'+e+'"></span>';var f='<span class="vjs-ads-gallery-paginator-play-pause"></span>';a(b.wrapper).append(a(c).html(d+f)),b.dots=a(b.wrapper).find(".vjs-ads-gallery-paginator-dot"),b.playPause=a(b.wrapper).find(".vjs-ads-gallery-paginator-play-pause"),a(b.dots[0]).addClass("vjs-dot-active")}},startAutoChange:function(){var b=this;return a(b.el).hasClass(b.activeBoardClass)?(b.playing=1,a(b.playPause).removeClass("vjs-ads-gallery-paused"),void(b.interval=setInterval(function(){b.scrollRight()},b.changeTime))):void(1===b.playing?b.stopAutoChange():"")},stopAutoChange:function(){var b=this;b.playing=0,a(b.playPause).addClass("vjs-ads-gallery-paused"),clearInterval(b.interval),b.interval=null},resetAutoChange:function(){var a=this;a.playing&&(a.stopAutoChange(),a.startAutoChange())},setVisibilityVars:function(){var a=this;"undefined"!=typeof c.hidden?(a.hidden="hidden",a.visibilityChange="visibilitychange"):"undefined"!=typeof c.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):"undefined"!=typeof c.msHidden?(a.hidden="msHidden",a.visibilityChange="msvisibilitychange"):"undefined"!=typeof c.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange")},initializeEvents:function(){var b=this;a(c).on(b.visibilityChange,function(){b.visibility()}),a(b.arrowLeft).on("click",function(){b.scrollLeft()}),a(b.arrowRight).on("click",function(){b.scrollRight()}),a(b.dots).on("click",function(){b.scrollToPosition(a(this).data("index"))}),a(b.playPause).on("click",function(){b.playing?b.userPlaying=0:b.userPlaying=1,b.playing?b.stopAutoChange():b.startAutoChange()}),a(b.el).on("vjs-ads-gallery-activated",function(){b.stopAutoChange(),b.userPlaying?b.startAutoChange():""})},visibility:function(){var a=this;c[a.hidden]?a.stopAutoChange():a.userPlaying&&a.startAutoChange()}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document),adHandlers.interactive2.prototype.showResults=function(a){var b,c,d=a.response.questions[0],e=1,f=[],g=a.selectedAnswer;for(b in d.value)e+=parseInt(d.value[b].counter);for(b in d.value){var h=d.value[b];c=h.id==g?1:0,f[b]=(parseInt(h.counter)+c)/e*100}this.video_wrapper.find(".vjs-interactive2 .vjs-sonda .vjs-results").html(render("interactive2_sonda_results",{colors:a.colors,results:f,rescaleInfo:a.rescaleInfo}))},adHandlers.interactive2.prototype.sendQuizAnswer=function(a){var b={user_form:{}};b.user_form[a.qqeId]=a.answer,b.user_form._id=a.quiz_id;var c=PLAYER_SONDA_SERVER+"/jsonquizsave/";$.ajax(c,{type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:b,success:function(a){"function"==typeof a.callback&&a.callback(a)},error:function(a){}})},adHandlers.interactive2.prototype.runQuiz=function(){var a=this.video_wrapper,b=this,c=b.player,d=a.find(".vjs-interactive2"),e=c.newAdStock[c.currentAdGroupIndex].items[c.currentAdItemIndex].fullObj.Interactive2.attribs,f=c.getAdsRescaleInfo(e);d.find(".vjs-sonda").each(function(){var d=$(this),e=$(this).data("quiz"),g=PLAYER_SONDA_SERVER+"/quiz/";$.ajax(g,{type:"GET",dataType:"json",xhrFields:{withCredentials:!0},data:{id:e,type:"quiz",referer:document.location.origin},success:function(g){g.colors={color1:d.data("color1"),color2:d.data("color2"),color3:d.data("color3")},g.rescaleInfo=f,d.find(".vjs-voting").each(function(){var f=d.find(".voteBtnSurvey .imgHover");f.length&&f.data("real-hover",f.data("hover")),$(this).prepend(render("interactive2_sonda_question",g));var h=d.find(".vjs-empty-form-wrapper"),i=a.find(".vjs-interactive2-quiz"),j=a.find(".vjs-interactive2-quiz li .vjs-radio-0-2"),k=d.find(".vjs-int2-popup-wrapper"),l=d.find(".vjs-popup-form-close");l.on("click",function(){k.hide()}),j.on("click",function(){i.data("answer",$(this).data("value")),j.removeClass("vjs-active"),$(this).addClass("vjs-active")}),a.find(".vjs-voteBtn").on("click",function(a){a.preventDefault();var d=$(this);if("undefined"!=typeof d.data("alreadyVote"))return!1;var f=i.data("answer"),j=i.data("qqe-id");if(g.selectedAnswer=f,!g.selectedAnswer)return void h.css("display","table");d.data("alreadyVote",!0),d.removeClass("vjs-cursor-pointer");var k=d.find(".imgHover");k.length&&k.attr("src",k.data("real-hover")).removeClass("imgHover");var l=d.data("stat");if(l&&c.runTracking(l),b.showResults(g),""!==f)try{b.sendQuizAnswer({qqeId:j,answer:f,quiz_id:e,callback:function(a){}})}catch(a){}})})},error:function(a){}})})},adHandlers.interactive2.prototype.runSurvey=function(){var a=this.video_wrapper,b=this,c=a.find(".vjs-interactive2"),d=b.player,e=d.newAdStock[d.currentAdGroupIndex].items[d.currentAdItemIndex].fullObj.Interactive2.attribs,f=d.getAdsRescaleInfo(e);c.find(".vjs-survey").each(function(){var a=$(this),c=$(this).data("survey"),e=PLAYER_SONDA_SERVER+"/quiz/";$.ajax(e,{type:"GET",dataType:"json",xhrFields:{withCredentials:!0},data:{id:c,type:"sonda",referer:document.location.origin},success:function(c){c.colors={color2:a.data("color2"),color3:a.data("color3")},c.rescaleInfo=f,a.find(".vjs-form-content").each(function(){var e=a.find(".voteBtnSurvey .imgHover");e.length&&e.data("real-hover",e.data("hover")),$(this).html(render("interactive2_survey_question",c)),$(this).find("b,p:not(.vjs-question),span,i").each(function(){var a=$(this);"undefined"==typeof a.attr("data-base-font-size")&&(a.attr("data-base-font-size",parseInt(a.css("font-size"))),a.css("font-size",a.attr("data-base-font-size")*f.ratio))});var g=a.find(".vjs-empty-form-wrapper"),h=a.find(".vjs-thank-form-wrapper"),i=a.find(".vjs-int2-popup-wrapper"),j=a.find(".vjs-popup-form-close");j.on("click",function(){i.hide()}),a.find(".voteBtnSurvey").on("click",function(c){c.preventDefault();var e,f,i=$(this).attr("href"),j=$(this).parents(".vjs-survey").data("raw"),k=a.find("form.vjs-survey"),l=k.serializeArray(),m=[],n=!1;for(e in l)if("user_form[_id]"!==l[e].name&&(m.push(l[e].value),""==l[e].value)){n=!0;break}if(n)return void g.css("display","table");if("undefined"==typeof $(this).data("alreadyVote")){m=m.join("");for(f in j.slide.redirects)-1!==j.slide.redirects[f].attribs.answers.indexOf(m)&&(i=j.slide.redirects[f].url);b.sendSurveyAnswer(k.serialize(),function(){}),$(this).data("alreadyVote",!0),$(this).removeClass("vjs-cursor-pointer");var o=$(this).find(".imgHover");o.length&&o.attr("src",o.data("real-hover")).removeClass("imgHover"),h.css("display","table");var p=$(this).data("stat");if(p){for(s in p)p[s]=p[s].replace("[answers]",m);d.runTracking(p)}i&&window.open(i,"_blank")}})})},error:function(a){}})})},adHandlers.interactive2.prototype.sendSurveyAnswer=function(a,b){var c=PLAYER_SONDA_SERVER+"/jsonquizsave/";$.ajax(c,{type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:a,success:function(a){"function"==typeof b&&b(a)},error:function(a){}})},adHandlers.sequential=function(a,b){var c=this;c.videoObj=a,c.player=b,c.adAttribs={},c.adHandler=!1,c.fakeCountDownDuration=0,c.fakeCountDownCallback=!1,c.eventPauseOccured=!1,c.remainingWrap=c.videoObj.find(".vjs-ad-legal .vjs-ad-legal-remaining"),c.fakeCountDownInterval=!1,c.splashScreenInitialized=!1,c.skipMainVideo=!1,c.player.on("seqEnded",function(){c.onSeqEnded()}),c.player.on("seqPause",function(){c.onSeqPause()}),c.player.on("seqPlaying",function(){c.onSeqPlaying()}),c.player.on("fakePlaying",function(){c.startFakeCountDown()}),c.player.on("fakePaused",function(){c.pauseFakeCountDown()})},adHandlers.sequential.prototype.clear=function(){var a=this;a.videoObj.find(".vjs-sequential").remove(),a.videoObj.find(".vjs-sequence-btn").remove(),a.player.off("seqPause"),a.player.off("seqEnded"),a.player.off("seqPlaying"),a.player.off("fakePlaying"),a.player.off("fakePaused"),a.player.fakePlayToggle=!1,a.fakeCountDownInterval=!1,a.splashScreenInitialized=!1,a.skipMainVideo=!1},adHandlers.sequential.prototype.build=function(a){var b=this,c=$(b.player.el());if(b.item=a.fullObj,"undefined"==typeof b.item.Sequential)return!1;b.player.sequentialInProgress=!0,b.player.sequentialStage="beginSplash",b.boardPause=b.item.Sequential.attribs.boardPause,b.player.fakePlayToggle=!1,b.adAttribs=b.item.Sequential.attribs,b.adAttribs.scale_up=b.adAttribs.scale_up||"true",b.adAttribs.scale_down=b.adAttribs.scale_down||"true";var d="";for(var e in b.item.Sequential.elements)d+='<div class="vjs-sequence-choose" data-obj=\''+JSON.stringify(b.item.Sequential.elements[e])+"'></div>";var f="";if("undefined"!=typeof b.item.Sequential.Navigation.ButtonReturn){var g=b.item.Sequential.Navigation.ButtonReturn,h=g.StatUrl?"data-stat='"+JSON.stringify(g.StatUrl)+"' ":"";f+='<div class="vjs-sequence-return vjs-sequence-btn" '+h+'data-x="'+g.attribs.x+'" data-y="'+g.attribs.y+'"><img src="'+g.Image+'" data-hover="'+g.ImageHover+'" class="imgHover" /></div>'}if("undefined"!=typeof b.item.Sequential.Navigation.ButtonSkip){var i=b.item.Sequential.Navigation.ButtonSkip,j=i.StatUrl?"data-stat='"+JSON.stringify(i.StatUrl)+"' ":"";f+='<div class="vjs-sequence-skip vjs-sequence-btn" '+j+'data-x="'+i.attribs.x+'" data-y="'+i.attribs.y+'"><img src="'+i.Image+'" data-hover="'+i.ImageHover+'" class="imgHover" /></div>'}var k='<div class="vjs-sequential"><div class="vjs-btnWrapper">'+d+"</div></div>"+f;b.videoObj.append(k),b.adHandler=c.find(".vjs-sequential");var l=b.adHandler.width()/b.item.Sequential.attribs.baseWidth,m=b.adHandler.height()/b.item.Sequential.attribs.baseHeight;b.adHandler.css("background-image","url('"+b.item.Sequential.background+"')"),b.adHandler.css("background-repeat","no-repeat"),b.adHandler.css("background-size","100% auto"),b.adHandler.css("background-position","center center"),b.vjsSeqChoose=c.find(".vjs-sequence-choose"),b.vjsSeqButtons=c.find(".vjs-sequence-btn"),b.vjsSkipBtn=c.find(".vjs-sequence-skip"),b.vjsReturnBtn=c.find(".vjs-sequence-return"),b.returnBtnClicked=!1,b.vjsSeqChoose.each(function(){var a=$(this),b=a.data("obj");a.append('<span class="vjs-cursor-pointer" data-video="'+b.Video+'"><img src="'+b.Image+'" data-hover="'+b.ImageHoover+'" class="imgHover" /></span>'),a.css("left",parseInt(b.attribs.x*l)+"px"),a.css("top",parseInt(b.attribs.y*m)+"px")}),b.vjsSeqChoose.on("click","span",function(a,d){a.preventDefault(),b.pauseFakeCountDown();var e=$(this).data("video"),f=$(this).parents(".vjs-sequence-choose").data("obj");b.player.getThisItemForEventTracking=f,b.player.src(e),b.player.on("canplay",function(){b.hideSplashScreen(),b.vjsSeqButtons.show(),b.player.trigger("sendImpression"),("undefined"==typeof d||"autoChoose"!==d)&&b.player.runTracking(f.StatUrl),"undefined"!=typeof f.ClickThrough?(b.player.adClickUrl=f.ClickThrough,c.find(".vjs-click-through-button").attr("data-href",b.player.adClickUrl),"undefined"!=typeof b.player.adClickUrl&&b.player.adClickUrl.length?c.find(".vjs-click-through-button").css("display","block"):c.find(".vjs-click-through-button").css("display","none")):(b.player.adClickUrl="",c.find(".vjs-click-through-button").attr("data-href",b.player.adClickUrl),"undefined"!=typeof b.player.adClickUrl&&b.player.adClickUrl.length?c.find(".vjs-click-through-button").css("display","block"):c.find(".vjs-click-through-button").css("display","none")),b.player.off("canplay"),b.item.Duration="00:00:00",b.item.Sequential.additionalDuration=makeSeconds(f.Duration),b.player.currentAdTime=0,b.player.videoAdsHandler.recalculateTotalTimeOfCurrentGroup()})}),b.vjsSeqButtons.each(function(){var a=$(this);a.css("left",a.data("x")*l+"px"),a.css("top",a.data("y")*m*.94+"px"),a.hide()}),b.vjsReturnBtn.on("click",function(){var a=$(this),c=a.data("stat");c&&b.player.runTracking(c),b.returnBtnClicked=!0,b.player.sequentialStage="beginSplash",b.player.trigger("ended")}),b.vjsSkipBtn.on("click",function(){var a=$(this),c=a.data("stat");c&&b.player.runTracking(c),b.pauseFakeCountDown(),b.player.sequentialInProgress=!1,b.player.skipAllowed=!0;var d=function(){b.player.trigger("ended"),b.vjsSeqButtons.hide()};setTimeout(d,50)}),b.rescale=function(){var a=b.player.getAdsRescaleInfo(b.adAttribs);b.vjsSeqButtons.each(function(){var c=$(this);c.find("img").each(function(){b.recalculateImgSize($(this),a)}),c.css("left",c.data("x")*a.ratio+a.horizontalOffset+"px"),c.css("top",c.data("y")*a.ratio*.94+a.verticalOffset+"px")}),b.vjsSeqChoose.each(function(){var c=$(this),d=c.data("obj");c.find("img").each(function(){b.recalculateImgSize($(this),a)}),c.css("left",d.attribs.x*a.ratio+a.horizontalOffset+"px"),c.css("top",d.attribs.y*a.ratio+a.verticalOffset+"px")})},b.recalculateImgSize=function(a,b){var c=!1;"undefined"!=typeof a.data("width")?(c=a.data("width"),a.css("width",c*b.ratio)):(c="undefined"!=typeof a[0].naturalWidth?a[0].naturalWidth:a[0].width,0===c?a.one("load",function(){c="undefined"!=typeof a[0].naturalWidth?a[0].naturalWidth:a[0].width,a.data("width",c),a.css("width",c*b.ratio)}):(a.data("width",c),a.css("width",c*b.ratio)))}},adHandlers.sequential.prototype.onSeqPause=function(){var a=this;a.eventPauseOccured=!0},adHandlers.sequential.prototype.onSeqPlaying=function(){var a=this;a.eventPauseOccured=!1},adHandlers.sequential.prototype.onSeqEnded=function(){var a=this;a.player.getThisItemForEventTracking="",a.player.sequentialInProgress?a.showSplashScreen():(a.item.Sequential.additionalDuration=0,a.player.videoAdsHandler.recalculateTotalTimeOfCurrentGroup(),a.hideSplashScreen())},adHandlers.sequential.prototype.showSplashScreen=function(){var a=this;a.allowOnPause=!0,a.splashScreenInitialized||(a.splashScreenInitialized=!0,a.player.fakePlayToggle=!0,a.adHandler.show(),a.rescale(a.adHandler),a.vjsReturnBtn.hide(),a.fakeCountDownDuration=0,a.eventPauseOccured?(a.returnBtnClicked&&(a.item.Sequential.attribs.boardPauseForTotalDuration=2*parseInt(a.item.Sequential.attribs.boardPause),a.player.videoAdsHandler.recalculateTotalTimeOfCurrentGroup(),a.setSeqRemainingTime()),a.player.controlBar.playToggle.onClick()):a.player.one("pause",function(){a.allowOnPause&&(a.allowOnPause=!1,a.returnBtnClicked&&(a.item.Sequential.attribs.boardPauseForTotalDuration=2*parseInt(a.item.Sequential.attribs.boardPause),a.player.videoAdsHandler.recalculateTotalTimeOfCurrentGroup(),a.setSeqRemainingTime()),a.player.controlBar.playToggle.onClick())}),a.skipMainVideo&&(a.player.pause(),a.player.controlBar.playToggle.onClick(),a.skipMainVideo=!1),"beginSplash"===a.player.sequentialStage?(a.player.sequentialStage="endSplash",a.returnBtnClicked&&a.vjsSkipBtn.show(),a.fakeCountDownCallback=function(){if("undefined"!=typeof a.adAttribs.spotRandom&&"true"===a.adAttribs.spotRandom){var b=0===a.vjsSeqChoose.length?0:a.vjsSeqChoose.length-1;$(a.vjsSeqChoose[getRandomInt(0,b)]).children("span").trigger("click","autoChoose")}else $(a.vjsSeqChoose[0]).children("span").trigger("click","autoChoose")}):a.fakeCountDownCallback=function(){a.vjsSkipBtn.trigger("click")})},adHandlers.sequential.prototype.hideSplashScreen=function(){var a=this;a.player.trackingFlags={},a.splashScreenInitialized=!1,a.player.fakePlayToggle=!1,a.adHandler.hide(),a.pauseFakeCountDown(),a.item.Sequential.attribs.boardPauseForTotalDuration!==parseInt(a.item.Sequential.attribs.boardPause)&&(a.item.Sequential.attribs.boardPauseForTotalDuration=parseInt(a.item.Sequential.attribs.boardPause),a.player.videoAdsHandler.recalculateTotalTimeOfCurrentGroup()),a.eventPauseOccured=!1,a.returnBtnClicked=!1,a.player.bigPlayButton.addClass("vjs-hidden"),a.player.bigPlayButton.hide()},adHandlers.sequential.prototype.startFakeCountDown=function(){var a=this,b=0;a.fakeCountDownInterval=setInterval(function(){a.fakeCountDownDuration++,a.fakeCountDownDuration>=a.boardPause&&(a.pauseFakeCountDown(),"function"==typeof a.fakeCountDownCallback&&a.fakeCountDownCallback()),b=parseInt(makeSeconds(a.remainingWrap.text()))-1,b=0>b?0:b,a.remainingWrap.text(secondsToHms(b)+" ")},1e3)},adHandlers.sequential.prototype.pauseFakeCountDown=function(){var a=this;clearInterval(a.fakeCountDownInterval)},adHandlers.sequential.prototype.setSeqRemainingTime=function(){var a=this,b=a.player.newAdStock[a.player.currentAdGroupIndex].totalDuration,c=0,d=0;if(b){for(var e=a.player.newAdStock[a.player.currentAdGroupIndex].items,f=0;f<e.length;f++)e[f].active===!1&&(c+=makeSeconds(e[f].fullObj.Duration));d=b-c+a.player.currentAdTime,0>d&&(d=0)}a.remainingWrap.text(secondsToHms(d)+" ")},adHandlers.overlay=function(a,b,c){this.player=b,this.video_wrapper=a,this.clear=function(){var a=this.video_wrapper.find(".vjs-overlay-container");a.length?a.remove():""};var d=this;return b.one("videoBegin",function(){d.adjustTimeStart()}),this.build=function(a,c){var d=a.src,e="",f="",g="center",h="bottom",i=0,j=0,k=0,l=0,m=0,n=0,o=b.getAdsRescaleInfo(a.attribs);o||(o={ratio:1}),("undefined"!=typeof a.attribs.tvn_align_y||"true"==a.attribs.tvn_align_y)&&(e='<span class="vjs-close"></span>'),"undefined"!=typeof a.attribs.tvn_advert_label&&"true"==a.attribs.tvn_advert_label&&(f='<div class="vjs-overlay-legal" style="display: block;">Reklama</div>');var p=buildImgOrSWF(d,"overlay-ad",{width:a.attribs.width*o.ratio,height:a.attribs.height*o.ratio}),q='<div class="vjs-overlay-container"  id="overlay_'+c+'"><div class="vjs-overlay-wrapper" style="width:'+a.attribs.width*o.ratio+"px; height:"+a.attribs.height*o.ratio+'px; ">'+f+e+' <a href="'+a.ClickThrough+'" class="vjs-impression-action" target="_blank">'+p+"</a></div></div>",r=$(q);return"true"==a.attribs.tvn_transparent_background&&r.addClass("vjs-overlay-background"),"undefined"!=typeof a.attribs.tvn_align_x&&(g=a.attribs.tvn_align_x.toLowerCase()),"undefined"!=typeof a.attribs.tvn_align_y&&(h=a.attribs.tvn_align_y.toLowerCase()),"center"==g&&(i=parseInt("-"+a.attribs.width/2)*o.ratio),"center"==h&&(j=parseInt("-"+a.attribs.height/2)*o.ratio),g="vjs-overlay-x-"+g,h="vjs-overlay-y-"+h,"undefined"!=typeof a.attribs.tvn_margin_top&&(k=this.convertMargin(a.attribs.tvn_margin_top)*o.ratio),"undefined"!=typeof a.attribs.tvn_margin_bottom&&(l=this.convertMargin(a.attribs.tvn_margin_bottom)*o.ratio),"undefined"!=typeof a.attribs.tvn_margin_left&&(m=this.convertMargin(a.attribs.tvn_margin_left)*o.ratio),"undefined"!=typeof a.attribs.tvn_margin_right&&(n=this.convertMargin(a.attribs.tvn_margin_right)*o.ratio),j+=k,j-=l,i+=m,i-=n,r.find(".vjs-overlay-wrapper").css("margin-left",i+"px"),r.css("margin-top",j+"px"),r.find(".vjs-overlay-wrapper").addClass(g),r.addClass(h),r.on("click","span.vjs-close",function(a){a.stopPropagation(),$(a.currentTarget).parents("div.vjs-overlay-container").hide(),b.isShowedOverlay=!1}),r},this.convertMargin=function(b){var c=0;return null!=b&&""!=b&&(c=-1!=b.indexOf("%")?b.replace("%","")*a.height()/100:b.replace("px","")),parseInt(c)},this.handleOverlays=function(c){var d=!1;"undefined"==typeof b.isShowedOverlay&&(b.isShowedOverlay=!1);for(var e=0;e<b.newAdStock.overlay.length;e++){var f=b.newAdStock.overlay[e];d=f.attribs.timeStart;var g=a.find("#overlay_"+e);c>=d&&1!=g.data("showed")&&0==b.isShowedOverlay&&(b.runTracking(f.Impression),b.isShowedOverlay=!0,g.show(),g.data("showed",!0),g.data("closeTime",b.getInformation().watchingTime+makeSeconds(f.attribs.minSuggestedDuration))),"undefined"!=typeof g.data("closeTime")&&g.data("closeTime")<=b.getInformation().watchingTime&&g.is(":visible")&&(g.hide(),b.isShowedOverlay=!1),"true"===f.attribs.tvn_close_button&&g.find("span.vjs-close").show()}},this.adjustTimeStart=function(){function d(){-1==g?(i=parseInt(b.duration())-makeSeconds(h.substr(1)),f.attribs.timeStart=i):(i=makeSeconds(h.substr(1)),f.attribs.timeStart=i)}for(var e=0;e<b.newAdStock.overlay.length;e++){var f=b.newAdStock.overlay[e],g="-"==f.attribs.timeStart[0]?-1:1,h=f.attribs.timeStart,i=0;if("undefined"!=typeof f.attribs.show_after)if(/Midroll/.test(f.attribs.show_after)){var j=parseInt(f.attribs.show_after.replace("Midroll_",""))-1;if("undefined"!=typeof c[j]){var k=c[j];i=makeSeconds(k.time)+makeSeconds(h.substr(1))*g,f.attribs.timeStart=i}else b.newAdStock.overlay.splice(e,1)}else"Middle"==f.attribs.show_after?(i=parseInt(b.duration())/2+makeSeconds(h.substr(1))*g,f.attribs.timeStart=i):(delete f.attribs.show_after,d());else d()}b.newAdStock.overlay=fixTimeShifts(b.newAdStock.overlay);for(var l=0;l<b.newAdStock.overlay.length;l++)a.append(b.overlayHandler.build(b.newAdStock.overlay[l],l))},this.rescale=function(){var b=a.find(".vjs-overlay-container");if(b.length)for(var c=this,d=c.player,e=d.newAdStock.overlay,f=0;e.length>f;f++){var g=e[f],h=a.find("#overlay_"+f),i=g.attribs,j=d.getAdsRescaleInfo(i),k="center",l="bottom",m=0,n=0,o=0,p=0,q=0,r=0;if(j){if(h.find(".vjs-overlay-wrapper").css({width:parseInt(i.width)*j.ratio+"px",height:parseInt(i.height)*j.ratio+"px"}),h.find("img,video").css({width:parseInt(i.width)*j.ratio+"px",height:parseInt(i.height)*j.ratio+"px"}),"undefined"!=typeof i.tvn_align_x&&(k=i.tvn_align_x.toLowerCase()),"undefined"!=typeof i.tvn_align_y&&(l=i.tvn_align_y.toLowerCase()),"center"==k&&(m=parseInt("-"+i.width/2)*j.ratio),"center"==l&&(n=parseInt("-"+i.height/2)*j.ratio),"undefined"!=typeof i.tvn_margin_top&&(o=this.convertMargin(i.tvn_margin_top)*j.ratio),"undefined"!=typeof i.tvn_margin_bottom&&(p=this.convertMargin(i.tvn_margin_bottom)*j.ratio),(videojs.TOUCH_ENABLED||d.options().isMobile)&&d.options().nativeControlsForTouch===!0||d.options().isTablet){var s;if(d.isFullscreen()){s="undefined"==typeof h.attr("data-base-bottom")?h.css("bottom"):h.attr("data-base-bottom"),h.attr("data-base-bottom",s),h.css("bottom",j.verticalOffset+"px");var t=40;d.options().isTablet&&(t=$(d.controlBar.el()).height()+$(d.controlBar.el()).find(".vjs-progress-control").height()),j.verticalOffset<parseInt(t)&&h.css({bottom:parseInt(t)+"px"})}else h.css({bottom:""})}"undefined"!=typeof i.tvn_margin_left&&(q=this.convertMargin(i.tvn_margin_left)*j.ratio),"undefined"!=typeof i.tvn_margin_right&&(r=this.convertMargin(i.tvn_margin_right)*j.ratio),n+=o,n-=p,m+=q,m-=r,h.find(".vjs-overlay-wrapper").css("margin-left",m+"px"),h.css("margin-top",n+"px")}}},this},adHandlers.restboard=function(a,b,c){function d(a,b){var c=["-webkit-transform","-ms-transform","transform"];for(var d in c)a.find(".vjs-progress-mask.vjs-full").css(c[d],"rotate("+b+"deg)"),a.find(".vjs-progress-fill").not(".vjs-fix").css(c[d],"rotate("+b+"deg)"),a.find(".vjs-progress-fill.vjs-fix").css(c[d],"rotate("+b+"deg)")}this.videoObj=a,this.player=b;var e=$(b.el()),f=this;return this.clear=function(){e.find(".vjs-restboard-container").remove()},this.build=function(){var a=this.player,b="",d="",g="",h="";if(a.newAdStock.restboard){var i="";isDefined(c.playlist)&&(i="-playlist");var j='<span class="vjs-__info'+i+'">REKLAMA</span>';"false"===a.newAdStock.restboard.attribs.tvn_advert_label&&(j="");var k=buildImgOrSWF(a.newAdStock.restboard.src,"vjs-restboard-ad",{width:a.newAdStock.restboard.attribs.width,height:a.newAdStock.restboard.attribs.height,clickTags:a.newAdStock.restboard.AdParameters[0]}),l=a.newAdStock.restboard.ClickThrough&&!isDefined(a.newAdStock.restboard.AdParameters[0])?' href="'+a.newAdStock.restboard.ClickThrough:"";h='<div class="vjs-restboard-wrap'+i+'">'+(""!==i?'<div class="vjs-restboard-ad-wrap-table"><div class="vjs-restboard-ad-wrap-cell">':"")+j+'<div class="vjs-impression-action-wrapper">'+(l.length&&""!==l?'<a class="vjs-impression-action"'+l+'" target="_blank"></a>':"")+k+"</div>"+(""!==i?"</div></div>":"")+"</div>"}if(isDefined(c.playlist)&&a.options().enabledRestboard&&(d=render("playlist_show_siblings",c.playlist),g=render("continue_watching",c.playlist),isDefined(c.playlist.playlist.movies[0])&&c.playlist.playlist.movies[0].one_episode===!0&&$(a.el()).addClass("vjs-one-episode"),b=a.newAdStock.restboard?"":render("playlist_show_similar",c.playlist)),isDefined(c.playlist)&&a.options().enabledRestboard||a.newAdStock.restboard){var m='<div class="vjs-active-movie-info"></div><div class="vjs-restboard-container">'+h+d+b+g+"</div>";e.append(m);var n=e.find(".vjs-restboard-container");e.find(".vjs-control-bar").height();n.find(".vjs-continue-watching").on("click",function(){window.location.href=$(this).data("href")}),function(){var a=n.find(".vjs-playlist-siblings"),b=a.find("ul"),c=b.find("li").length,d=a.find(".vjs-watching-now"),e=a.find(".vjs-next"),f=a.find(".vjs-prev"),g=b.data("pos"),h=0,i=!1;d.hide(),f.hide(),(1===c||c===g+1)&&e.hide(),0!=g&&(f.show(),b.css({left:"-="+330*parseInt(g),width:330*c+"px"}),h==c-2&&e.hide(),h=g,d.show()),e.on("click",function(){if(!i){i=!0,f.show();var j=a.width();b.css("left","-="+j),h==c-2&&e.hide(),h++,h==g?d.show():d.hide(),b.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i=!1})}}),f.on("click",function(){if(!i){i=!0;var j=a.width();b.css("left","+="+j),h--,0==h&&f.hide(),c>1&&c>h&&e.show(),h==g?d.show():d.hide(),b.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){i=!1})}})}()}a.newAdStock.restboard&&"true"===a.newAdStock.restboard.attribs.tvn_transparent_background&&n.addClass("vjs-bg-transparent");var o=!1;a.on("pause",function(){a.blockInteraction||isDefined(a.controlBar.shareButton)&&a.controlBar.shareButton.shareboardHandler.hasClass("vjs-visible")||(o=!0,a.seeking()||a.endReached!==!1||a.advertInProgeres||e.hasClass("vjs-switching")||a.options().isLive!==!1||("undefined"!=typeof a.newAdStock.restboard&&a.runTracking(a.newAdStock.restboard.Impression),f.showElHandler(n)),a.seeking()||a.endReached!==!1||a.advertInProgeres||e.hasClass("vjs-switching")||a.options().isLive!==!0||a.bigPlayButton.removeClass("vjs-hidden").addClass("vjs-visible"))}),a.on("play",function(){var b=a.options().activeMovie,c=e.find(".vjs-active-movie-info");if(a.advertInProgeres||isNotDefined(b.title))c.addClass("vjs-hidden");else{var d="undefined"!=typeof b.episode&&"0"!==b.episode?"Odcinek "+b.episode:"",f="undefined"!=typeof b.season&&0!=b.season?", Sezon "+b.season:"",g='<div class="vjs-active-movie-title">'+("undefined"!=typeof b.episode_name&&b.episode_name.length>1?b.episode_name:b.title)+"</div>"+(d.length>1||f.length>1?'<div class="vjs-active-movie-episode">'+d+f+"</div>":"");c.removeClass("vjs-hidden").html(g)}o&&(o=!1,isDefined(n)&&(n.hide(),a.bigPlayButton.addClass("vjs-hidden").removeClass("vjs-visible")))}),a.on("fullscreenchange2",function(){if("undefined"!=typeof n){var a,b=n.find(".vjs-impression-action");a=b.length?b.next().height()+n.find("span.vjs-__info").height():n.find(".vjs-impression-action-wrapper").children().first().height()+n.find("span.vjs-__info").height();var d=(n.height()-a)/2;n.find("div.vjs-restboard-wrap").css({top:d+"px"}),isDefined(c.playlist)?b.css({width:b.next().width(),left:(b.parent().width()-b.next().width())/2+"px"}):b.css({width:b.next().width(),"margin-left":"-"+b.next().width()/2+"px"})}})},this.showElHandler=function(a){if(isNotDefined(a))return!1;a.show();var b,d=a.find(".vjs-impression-action");b=d.length?d.next().height()+a.find("span.vjs-__info").height():a.find(".vjs-impression-action-wrapper").children().first().height()+a.find("span.vjs-__info").height();var e=(a.height()-b)/2;a.find("div.vjs-restboard-wrap").css({top:e+"px"}),isDefined(c.playlist)?d.css({width:d.next().width(),left:(d.parent().width()-d.next().width())/2+"px"}):d.css({width:d.next().width(),"margin-left":"-"+d.next().width()/2+"px"})},this.handleTimer=function(a){var b=this.player;a.find(".vjs-radial-progress-wrapper").removeClass("vjs-hidden");var c=a.find(".vjs-progress-number").timerCountDown({timerElement:$('[data-tvn-timer="counter"]'),startTime:10,callback:function(b){var c=18*b;d(a,c)},endCallback:function(){c.reset(),d(a,180),a.find(".vjs-radial-progress-wrapper").addClass("vjs-hidden"),b.resetPlayerAds(),b.options().activeMovie.detail_path=b.options().nextMovie.detail_path+"#play",$(b.node).trigger("video.playlistClipEnd")}});a.find('[data-tvn-timer="pause"]').removeClass("vjs-hidden").on("click",function(){$(this).addClass("vjs-hidden"),a.find('[data-tvn-timer="start"]').removeClass("vjs-hidden")}),a.find('[data-tvn-timer="start"]').on("click",function(){$(this).addClass("vjs-hidden"),a.find('[data-tvn-timer="pause"]').removeClass("vjs-hidden")}).trigger("click")},this},videojs.plugin("debug",function(a){var b=this;b.debug=function(a,b,d){c.addLog(a,b,d)};var c={debugId:PLAYER_DEBUG?b.options().id.replace("player5","debug"):"",addLog:function(a,b,c){if(0!=PLAYER_DEBUG){console.log(this.debugId),console.log(PLAYER_DEBUG);var d=document.getElementById(this.debugId);if(null!==d){var e=$(d).outerHeight(),f=d.scrollTop,g=d.scrollHeight;$(d).append("<div>"+(new Date).toTimeString().split(" ")[0]+': <span class="vjs-debug-title alert-danger">'+a+'</span> <span class="vjs-debug-subtitle alert-warning">'+b+'</span> <span class="vjs-debug-params alert-info">'+this.arrayToString(c)+"</span></div>"),e+f===g&&$(d).scrollTop(d.scrollHeight)}}},arrayToString:function(a){if("string"==typeof stringValue)return a;var b=[];for(var c in a){var d=c+":"+a[c];b.push(d)}return b.join(", ")}};$(".player-initialized").each(function(){if("undefined"!=typeof DEBUG_VIDEOJS&&1==DEBUG_VIDEOJS){var a=$(this).find("video").first().attr("id").replace("_html5_api","").replace("player5_","");"undefined"!=typeof DEBUG_VIDEOJS&&0==$("#debug_"+a).length&&$(this).after('DEBUG:<div style="max-height: 200px; width: 1024px; overflow-x:hidden; word-break: break-all" class="modal-body" id="debug_'+a+'">')}})});