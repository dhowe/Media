/*! DPCDN - v1.2.1 - 2017-02-24 14:08:28 */function createGraph(series){var options={xaxis:{mode:"time",timeformat:"%d/%m"},legend:{show:!0,noColumns:2,container:$("#downloadsChartLegend")},grid:{show:!0,aboveData:!0,color:"#545454",borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:0,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2},series:{lines:{lineWidth:3,fill:!0,fillColor:null,steps:!1,show:!0},points:{show:!0},shadowSize:1}};$.plot($("#downloadsChart"),series,options)}!function(){var Client={name:"DP.ServiceWorker@CLIENT",log:"DP.ServiceWorker@CLIENT:",version:"0.1",debug:!0},_Server={registered:!1,name:"DP.ServiceWorker@SERVER",log:"DP.ServiceWorker@SERVER:",URI:"DP.Service.Worker.js"};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./"+_Server.URI,{scope:"./"}).then(function(registration){return navigator.serviceWorker.controller?(Client.debug&&console.info(Client.log,"registered",_Server.name,"successful with scope",registration.scope),void(_Server.registered=registration)):(Client.debug&&console.warn(Client.log,"[WARNING]","Client was not claimed by",_Server.name,"reloading page..."),window.location.reload())}).catch(function(err){console.info(Client.log,_Server.name,"registration failed:",err)}).then(function(){if(_Server.registered!==!1)return _init()})}),_init=function(){Client.debug&&console.info(Client.log,"DONE :-)"),Dp.ServiceWorker={instance:_Server.registered}}}(),!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function D(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):C.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}function J(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}function R(){d.removeEventListener("DOMContentLoaded",R),a.removeEventListener("load",R),r.ready()}function U(){this.expando=r.expando+U.uid++}function Z(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:X.test(a)?JSON.parse(a):a)}function $(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=Z(c)}catch(e){}W.set(a,b,c)}else c=void 0;return c}function ea(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&aa.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function ga(a){var b,c=a.ownerDocument,d=a.nodeName,e=fa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fa[d]=e,e)}function ha(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ca(d)&&(e[f]=ga(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function ma(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function na(a,b){for(var c=0,d=a.length;c<d;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}function pa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(oa.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(ja.exec(f)||["",""])[1].toLowerCase(),i=la[h]||la._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=ma(l.appendChild(f),"script"),j&&na(g),c)for(k=0;f=g[k++];)ka.test(f.type||"")&&c.push(f);return l}function ua(){return!0}function va(){return!1}function wa(){try{return d.activeElement}catch(a){}}function xa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)xa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=va;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}function Da(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Ea(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Fa(a){var b=Ba.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ga(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ha(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ia(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Aa.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ia(f,b,c,d)});if(m&&(e=pa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(ma(e,"script"),Ea),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,ma(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Fa),l=0;l<i;l++)j=h[l],ka.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ca,""),k))}return a}function Ja(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(ma(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&na(ma(d,"script")),d.parentNode.removeChild(d));return a}function Na(a,b,c){var d,e,f,g,h=a.style;return c=c||Ma(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&La.test(g)&&Ka.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Oa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ua(a){if(a in Ta)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=Sa.length;c--;)if(a=Sa[c]+b,a in Ta)return a}function Va(a,b,c){var d=aa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Wa(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ba[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ba[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ba[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ba[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ba[f]+"Width",!0,e)));return g}function Xa(a,b,c){var d,e=!0,f=Ma(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=Na(a,b,f),(d<0||null==d)&&(d=a.style[b]),La.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Wa(a,b,c||(g?"border":"content"),e,f)+"px"}function Ya(a,b,c,d,e){return new Ya.prototype.init(a,b,c,d,e)}function bb(){$a&&(a.requestAnimationFrame(bb),r.fx.tick())}function cb(){return a.setTimeout(function(){Za=void 0}),Za=r.now()}function db(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ba[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function eb(a,b,c){for(var d,e=(hb.tweeners[b]||[]).concat(hb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ca(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],_a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ha([a],!0),j=a.style.display||j,k=r.css(a,"display"),ha([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ha([a],!0),m.done(function(){p||ha([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=eb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function gb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function hb(a,b,c){var d,e,f=0,g=hb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Za||cb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Za||cb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(gb(k,j.opts.specialEasing);f<g;f++)if(d=hb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,eb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function mb(a){var b=a.match(K)||[];return b.join(" ")}function nb(a){return a.getAttribute&&a.getAttribute("class")||""}function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Gb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={},q="3.1.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a)||(b=e(a))&&(c=l.call(b,"constructor")&&b.constructor,"function"!=typeof c||m.call(c)!==n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a))for(c=a.length;d<c&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});var x=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){for((k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;h--;)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=c.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function ra(){}function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=wa(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f&&!d.relative[a[e].type];e++);return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){for(o=0,g||l.ownerDocument===n||(m(l),h=!p);q=a[o++];)if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){for(o=0;q=b[o++];)q(t,u,g,h);if(f){if(r>0)for(;s--;)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"ï¿½":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)h.unshift(c);for(;g[d]===h[d];)d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,
l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);return ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}for(f=V.needsContext.test(a)?0:i.length;f--&&(j=i[f],!d.relative[k=j.type]);)if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/[^\x20\t\r\n\f]+/g;r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1)for(c=g.shift();++h<f.length;)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){for(var c;(c=r.inArray(b,f,c))>-1;)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}var f=0;return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();for(;c--;)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a).catch(function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then,"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),$(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=$(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var _=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),ba=["Top","Right","Bottom","Left"],ca=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},fa={};r.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ca(this)?r(this).show():r(this).hide()})}});var ia=/^(?:checkbox|radio)$/i,ja=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ka=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option,la.tbody=la.tfoot=la.colgroup=la.caption=la.thead,la.th=la.td;var oa=/<|&#?\w+;/;!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var qa=d.documentElement,ra=/^key/,sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(qa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;j--;)h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){for(b=(b||"").match(K)||[""],j=b.length;j--;)if(h=ta.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var c,d,e,f,g,h,b=r.event.fix(a),i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){for(h=r.event.handlers.call(this,b,j),c=0;(f=h[c++])&&!b.isPropagationStopped();)for(b.currentTarget=f.elem,d=0;(g=f.handlers[d++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r.nodeName(this,"input"))return this.click(),!1},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ua:va,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ua,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ua,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ua,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ra.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return xa(this,a,b,c,d)},one:function(a,b,c,d){return xa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=va),this.each(function(){r.event.remove(this,a,c,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,za=/<script|<style|<link/i,Aa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ba=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;r.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=ma(h),f=ma(a),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);if(b)if(c)for(f=f||ma(a),g=g||ma(h),d=0,e=f.length;d<e;d++)Ga(f[d],g[d]);else Ga(a,h);return g=ma(h,"script"),g.length>0&&na(g,!i&&ma(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ja(this,a,!0)},remove:function(a){return Ja(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.appendChild(a)}})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Da(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(ma(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!za.test(a)&&!la[(ja.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(ma(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(ma(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ka=/^margin/,La=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),Ma=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",qa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,qa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();var Pa=/^(none|table(?!-c[ea]).+)/,Qa={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"},Sa=["Webkit","Moz","ms"],Ta=d.createElement("div").style;r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=aa.exec(c))&&e[1]&&(c=ea(a,b,e),f="number"),void(null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ua(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Na(a,b,d)),"normal"===e&&b in Ra&&(e=Ra[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Pa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Xa(a,b,d):da(a,Qa,function(){return Xa(a,b,d)})},set:function(a,c,d){var e,f=d&&Ma(a),g=d&&Wa(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=aa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Va(a,c,g)}}}),r.cssHooks.marginLeft=Oa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Na(a,"marginLeft"))||a.getBoundingClientRect().left-da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ba[d]+b]=f[d]||f[d-2]||f[0];return e}},Ka.test(a)||(r.cssHooks[a+b].set=Va)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=Ma(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}}),r.Tween=Ya,Ya.prototype={constructor:Ya,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Ya.propHooks[this.prop];return a&&a.get?a.get(this):Ya.propHooks._default.get(this)},run:function(a){var b,c=Ya.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ya.propHooks._default.set(this),this}},Ya.prototype.init.prototype=Ya.prototype,Ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Ya.propHooks.scrollTop=Ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Ya.prototype.init,r.fx.step={};var Za,$a,_a=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;r.Animation=r.extend(hb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return ea(c.elem,a,aa.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;d<e;d++)c=a[d],hb.tweeners[c]=hb.tweeners[c]||[],hb.tweeners[c].unshift(b)},prefilters:[fb],prefilter:function(a,b){b?hb.prefilters.unshift(a):hb.prefilters.push(a);
}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in r.fx.speeds?e.duration=r.fx.speeds[e.duration]:e.duration=r.fx.speeds._default),null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=hb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(db(b,!0),a,d,e)}}),r.each({slideDown:db("show"),slideUp:db("hide"),slideToggle:db("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Za=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Za=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){$a||($a=a.requestAnimationFrame?a.requestAnimationFrame(bb):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame($a):a.clearInterval($a),$a=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var ib,jb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||r.find.attr;jb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=jb[g],jb[g]=e,e=null!=c(a,b,d)?g:null,jb[g]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this}),r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,nb(this)))});if("string"==typeof a&&a)for(b=a.match(K)||[];c=this[i++];)if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=mb(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,nb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(K)||[];c=this[i++];)if(e=nb(c),d=1===c.nodeType&&" "+mb(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=mb(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,nb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=r(this),f=a.match(K)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=nb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+mb(nb(c))+" ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)):void 0}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:mb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){for(var c,d,e=a.options,f=r.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=o[g++])&&!b.isPropagationStopped();)b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ia.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href,r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Bb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,"$1"),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;if(o.cors||Pb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=pa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=mb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];return f?f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===r.css(a,"position");)a=a.offsetParent;return a||qa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Oa(o.pixelPosition,function(a,c){if(c)return c=Na(a,b),La.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r}),function(jQuery,window){"use strict";function migrateWarn(msg){var console=window.console;if(!warnedAbout[msg]&&(warnedAbout[msg]=!0,jQuery.migrateWarnings.push(msg),console&&console.warn&&!jQuery.migrateMute)){var warn={hitType:"event",eventCategory:"jQuery Migrate Warn",eventAction:msg,eventLabel:document.location.href};Dp&&"function"==typeof ga&&Dp.env&&Dp.env.app&&ga("send","exception",{exDescription:msg.replace(/\"/g,""),exFatal:!1}),jQuery.migrateTrace&&console.trace&&(console.info(warn),console.trace())}}function migrateWarnProp(obj,prop,value,msg){Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:function(){return migrateWarn(msg),value}})}jQuery.migrateVersion="3.0.0",function(){var log=window.console&&window.console.log&&function(){window.console.log.apply(window.console,arguments)},rbadVersions=/^[12]\./;log&&(jQuery&&!rbadVersions.test(jQuery.fn.jquery)||log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),jQuery.migrateWarnings&&log("JQMIGRATE: Migrate plugin loaded multiple times"),log("JQMIGRATE: Migrate is installed"+(jQuery.migrateMute?"":" with logging active")+", version "+jQuery.migrateVersion))}();var warnedAbout={};jQuery.migrateWarnings=[],void 0===jQuery.migrateTrace&&(jQuery.migrateTrace=!0),jQuery.migrateReset=function(){warnedAbout={},jQuery.migrateWarnings.length=0},"BackCompat"===document.compatMode&&migrateWarn("jQuery is not compatible with Quirks Mode");var oldInit=jQuery.fn.init,oldIsNumeric=jQuery.isNumeric,oldFind=jQuery.find,rattrHashTest=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,rattrHashGlob=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;jQuery.fn.init=function(arg1){var args=Array.prototype.slice.call(arguments);return"string"==typeof arg1&&"#"===arg1&&(migrateWarn("jQuery( '#' ) is not a valid selector"),args[0]=[]),oldInit.apply(this,args)},jQuery.fn.init.prototype=jQuery.fn,jQuery.find=function(selector){var args=Array.prototype.slice.call(arguments);if("string"==typeof selector&&rattrHashTest.test(selector))try{document.querySelector(selector)}catch(err1){selector=selector.replace(rattrHashGlob,function(_,attr,op,value){return"["+attr+op+'"'+value+'"]'});try{document.querySelector(selector),migrateWarn("Attribute selector with '#' must be quoted: "+args[0]),args[0]=selector}catch(err2){migrateWarn("Attribute selector with '#' was not fixed: "+args[0])}}return oldFind.apply(this,args)};var findProp;for(findProp in oldFind)Object.prototype.hasOwnProperty.call(oldFind,findProp)&&(jQuery.find[findProp]=oldFind[findProp]);jQuery.fn.size=function(){return migrateWarn("jQuery.fn.size() is deprecated; use the .length property"),this.length},jQuery.parseJSON=function(){return migrateWarn("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},jQuery.isNumeric=function(val){function isNumeric2(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0}var newValue=oldIsNumeric(val),oldValue=isNumeric2(val);return newValue!==oldValue&&migrateWarn("jQuery.isNumeric() should not be called on constructed objects"),oldValue},migrateWarnProp(jQuery,"unique",jQuery.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),migrateWarnProp(jQuery.expr,"filters",jQuery.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),migrateWarnProp(jQuery.expr,":",jQuery.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var oldAjax=jQuery.ajax;jQuery.ajax=function(){var jQXHR=oldAjax.apply(this,arguments);return jQXHR.promise&&(migrateWarnProp(jQXHR,"success",jQXHR.done,"jQXHR.success is deprecated and removed"),migrateWarnProp(jQXHR,"error",jQXHR.fail,"jQXHR.error is deprecated and removed"),migrateWarnProp(jQXHR,"complete",jQXHR.always,"jQXHR.complete is deprecated and removed")),jQXHR};var oldRemoveAttr=jQuery.fn.removeAttr,oldToggleClass=jQuery.fn.toggleClass,rmatchNonSpace=/\S+/g;jQuery.fn.removeAttr=function(name){var self=this;return jQuery.each(name.match(rmatchNonSpace),function(i,attr){jQuery.expr.match.bool.test(attr)&&(migrateWarn("jQuery.fn.removeAttr no longer sets boolean properties: "+attr),self.prop(attr,!1))}),oldRemoveAttr.apply(this,arguments)},jQuery.fn.toggleClass=function(state){return void 0!==state&&"boolean"!=typeof state?oldToggleClass.apply(this,arguments):(migrateWarn("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var className=this.getAttribute&&this.getAttribute("class")||"";className&&jQuery.data(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||state===!1?"":jQuery.data(this,"__className__")||"")}))};var internalSwapCall=!1;jQuery.swap&&jQuery.each(["height","width","reliableMarginRight"],function(_,name){var oldHook=jQuery.cssHooks[name]&&jQuery.cssHooks[name].get;oldHook&&(jQuery.cssHooks[name].get=function(){var ret;return internalSwapCall=!0,ret=oldHook.apply(this,arguments),internalSwapCall=!1,ret})}),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};internalSwapCall||migrateWarn("jQuery.swap() is undocumented and deprecated");for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var oldData=jQuery.data;jQuery.data=function(elem,name,value){var curData;return name&&name!==jQuery.camelCase(name)&&(curData=jQuery.hasData(elem)&&oldData.call(this,elem),curData&&name in curData)?(migrateWarn("jQuery.data() always sets/gets camelCased names: "+name),arguments.length>2&&(curData[name]=value),curData[name]):oldData.apply(this,arguments)};var oldTweenRun=jQuery.Tween.prototype.run;jQuery.Tween.prototype.run=function(percent){jQuery.easing[this.easing].length>1&&(migrateWarn('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),jQuery.easing[this.easing]=jQuery.easing[this.easing].bind(jQuery.easing,percent,this.options.duration*percent,0,1,this.options.duration)),oldTweenRun.apply(this,arguments)};var oldLoad=jQuery.fn.load,originalFix=jQuery.event.fix;jQuery.event.props=[],jQuery.event.fixHooks={},jQuery.event.fix=function(originalEvent){var event,type=originalEvent.type,fixHook=this.fixHooks[type],props=jQuery.event.props;if(props.length)for(migrateWarn("jQuery.event.props are deprecated and removed: "+props.join());props.length;)jQuery.event.addProp(props.pop());if(fixHook&&!fixHook._migrated_&&(fixHook._migrated_=!0,migrateWarn("jQuery.event.fixHooks are deprecated and removed: "+type),(props=fixHook.props)&&props.length))for(;props.length;)jQuery.event.addProp(props.pop());return event=originalFix.call(this,originalEvent),fixHook&&fixHook.filter?fixHook.filter(event,originalEvent):event},jQuery.each(["load","unload","error"],function(_,name){jQuery.fn[name]=function(){var args=Array.prototype.slice.call(arguments,0);return"load"===name&&"string"==typeof args[0]?oldLoad.apply(this,args):(migrateWarn("jQuery.fn."+name+"() is deprecated"),args.splice(0,0,name),arguments.length?this.on.apply(this,args):(this.triggerHandler.apply(this,args),this))}}),jQuery(function(){jQuery(document).triggerHandler("ready")}),jQuery.event.special.ready={setup:function(){this===document&&migrateWarn("'ready' event is deprecated")}},jQuery.fn.extend({bind:function(types,data,fn){return migrateWarn("jQuery.fn.bind() is deprecated"),this.on(types,null,data,fn)},unbind:function(types,fn){return migrateWarn("jQuery.fn.unbind() is deprecated"),this.off(types,null,fn)},delegate:function(selector,types,data,fn){return migrateWarn("jQuery.fn.delegate() is deprecated"),this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return migrateWarn("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var oldOffset=jQuery.fn.offset;jQuery.fn.offset=function(){var docElem,elem=this[0],origin={top:0,left:0};return elem&&elem.nodeType?(docElem=(elem.ownerDocument||document).documentElement,jQuery.contains(docElem,elem)?oldOffset.apply(this,arguments):(migrateWarn("jQuery.fn.offset() requires an element connected to a document"),
origin)):(migrateWarn("jQuery.fn.offset() requires a valid DOM element"),origin)};var oldParam=jQuery.param;jQuery.param=function(data,traditional){var ajaxTraditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;return void 0===traditional&&ajaxTraditional&&(migrateWarn("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),traditional=ajaxTraditional),oldParam.call(this,data,traditional)};var oldSelf=jQuery.fn.andSelf||jQuery.fn.addBack;jQuery.fn.andSelf=function(){return migrateWarn("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),oldSelf.apply(this,arguments)};var oldDeferred=jQuery.Deferred,tuples=[["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory")]];jQuery.Deferred=function(func){var deferred=oldDeferred(),promise=deferred.promise();return deferred.pipe=promise.pipe=function(){var fns=arguments;return migrateWarn("deferred.pipe() is deprecated"),jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},func&&func.call(deferred,deferred),deferred}}(jQuery,window),function(window,undefined){"$:nomunge";var jq_throttle,$=window.jQuery||window.Cowboy||(window.Cowboy={});$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){function wrapper(){function exec(){last_exec=+new Date,callback.apply(that,args)}function clear(){timeout_id=undefined}var that=this,elapsed=+new Date-last_exec,args=arguments;debounce_mode&&!timeout_id&&exec(),timeout_id&&clearTimeout(timeout_id),debounce_mode===undefined&&elapsed>delay?exec():no_trailing!==!0&&(timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay))}var timeout_id,last_exec=0;return"boolean"!=typeof no_trailing&&(debounce_mode=callback,callback=no_trailing,no_trailing=undefined),$.guid&&(wrapper.guid=callback.guid=callback.guid||$.guid++),wrapper},$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,!1):jq_throttle(delay,callback,at_begin!==!1)}}(this),function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.4.4";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,!0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker}),!!result)};_.contains=_.include=function(obj,target){return null!=obj&&(nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf(target)!=-1:any(obj,function(value){return value===target}))},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?null:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={},iterator=lookupIterator(value||_.identity);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})},_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){_.has(result,key)||(result[key]=0),result[key]++})},_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;low<high;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return each(input,function(value){_.isArray(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length),i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,l=list.length;i<l;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,l=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=isSorted<0?Math.max(0,l+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<l;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);idx<len;)range[idx++]=start,start+=step;return range},_.bind=function(func,context){if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return 0===funcs.length&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return times<=0?func():function(){if(--times<1)return func.apply(this,arguments)}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){var values=[];for(var key in obj)_.has(obj,key)&&values.push(obj[key]);return values},_.pairs=function(obj){var pairs=[];for(var key in obj)_.has(obj,key)&&pairs.push([key,obj[key]]);return pairs},_.invert=function(obj){var result={};for(var key in obj)_.has(obj,key)&&(result[obj[key]]=key);return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)null==obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(n),i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),window.Modernizr=function(window,document,undefined){function setCss(str){mStyle.cssText=str}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined)return"pfx"!=prefixed||prop}return!1}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined)return elem===!1?props[i]:is(item,"function")?item.bind(elem||obj):item}return!1}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed):(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),testDOMProps(props,prefixed,elem))}var inputElem,featureName,hasOwnProp,version="2.8.3",Modernizr={},enableClasses=!0,docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,prefixes=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),omPrefixes="Webkit Moz O ms",cssomPrefixes=omPrefixes.split(" "),domPrefixes=omPrefixes.toLowerCase().split(" "),tests={},classes=[],slice=classes.slice,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement("div"),body=document.body,fakeBody=body||document.createElement("body");if(parseInt(nodes,10))for(;nodes--;)node=document.createElement("div"),node.id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=["&#173;",'<style id="s',mod,'">',rule,"</style>"].join(""),div.id=mod,(body?div:fakeBody).innerHTML+=style,fakeBody.appendChild(div),body||(fakeBody.style.background="",fakeBody.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(fakeBody)),ret=callback(div,rule),body?div.parentNode.removeChild(div):(fakeBody.parentNode.removeChild(fakeBody),docElement.style.overflow=docOverflow),!!ret},isEventSupported=function(){function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div"),eventName="on"+eventName;var isSupported=eventName in element;return isSupported||(element.setAttribute||(element=document.createElement("div")),element.setAttribute&&element.removeAttribute&&(element.setAttribute(eventName,""),isSupported=is(element[eventName],"function"),is(element[eventName],"undefined")||(element[eventName]=undefined),element.removeAttribute(eventName))),element=null,isSupported}var TAGNAMES={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return isEventSupported}(),_hasOwnProperty={}.hasOwnProperty;hasOwnProp=is(_hasOwnProperty,"undefined")||is(_hasOwnProperty.call,"undefined")?function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}:function(object,property){return _hasOwnProperty.call(object,property)},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError;var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(slice.call(arguments)))};return bound}),tests.touch=function(){var bool;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?bool=!0:injectElementWithStyles(["@media (",prefixes.join("touch-enabled),("),mod,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(node){bool=9===node.offsetTop}),bool},tests.draganddrop=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div},tests.backgroundsize=function(){return testPropsAll("backgroundSize")},tests.borderradius=function(){return testPropsAll("borderRadius")},tests.boxshadow=function(){return testPropsAll("boxShadow")},tests.cssgradients=function(){var str1="background-image:",str2="gradient(linear,left top,right bottom,from(#9f9),to(white));",str3="linear-gradient(left top,#9f9, white);";return setCss((str1+"-webkit- ".split(" ").join(str2+str1)+prefixes.join(str3+str1)).slice(0,-str1.length)),contains(mStyle.backgroundImage,"gradient")},tests.csstransforms=function(){return!!testPropsAll("transform")},tests.csstransforms3d=function(){var ret=!!testPropsAll("perspective");return ret&&"webkitPerspective"in docElement.style&&injectElementWithStyles("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(node,rule){ret=9===node.offsetLeft&&3===node.offsetHeight}),ret},tests.csstransitions=function(){return testPropsAll("transition")},tests.fontface=function(){var bool;return injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}',function(node,rule){var style=document.getElementById("smodernizr"),sheet=style.sheet||style.styleSheet,cssText=sheet?sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||"":"";bool=/src/i.test(cssText)&&0===cssText.indexOf(rule.split(" ")[0])}),bool};for(var feature in tests)hasOwnProp(tests,feature)&&(featureName=feature.toLowerCase(),Modernizr[featureName]=tests[feature](),classes.push((Modernizr[featureName]?"":"no-")+featureName));return Modernizr.addTest=function(feature,test){if("object"==typeof feature)for(var key in feature)hasOwnProp(feature,key)&&Modernizr.addTest(key,feature[key]);else{if(feature=feature.toLowerCase(),Modernizr[feature]!==undefined)return Modernizr;test="function"==typeof test?test():test,"undefined"!=typeof enableClasses&&enableClasses&&(docElement.className+=" "+(test?"":"no-")+feature),Modernizr[feature]=test}return Modernizr},setCss(""),modElem=inputElem=null,function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,version="3.7.0",options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return"undefined"==typeof frag.cloneNode||"undefined"==typeof frag.createDocumentFragment||"undefined"==typeof frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:version,shivCSS:options.shivCSS!==!1,supportsUnknownElements:supportsUnknownElements,shivMethods:options.shivMethods!==!1,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment};window.html5=html5,shivDocument(document)}(this,document),Modernizr._version=version,Modernizr._prefixes=prefixes,Modernizr._domPrefixes=domPrefixes,Modernizr._cssomPrefixes=cssomPrefixes,Modernizr.hasEvent=isEventSupported,Modernizr.testProp=function(prop){return testProps([prop])},Modernizr.testAllProps=testPropsAll,Modernizr.testStyles=injectElementWithStyles,docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(enableClasses?" js "+classes.join(" "):""),Modernizr}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a);
}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};B=function(a){function b(a){var e,f,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a};for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},document.documentMode&&!function(root){function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;return 0===self._state?void self._deferreds.push(deferred):(self._handled=!0,void Promise._immediateFn(function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null===cb)return void(1===self._state?resolve:reject)(deferred.promise,self._value);var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}))}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve(bind(then,newValue),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}var setTimeoutFunc=setTimeout;Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0===--remaining&&resolve(args)}catch(ex){reject(ex)}}if(0===args.length)return resolve([]);for(var remaining=args.length,i=0;i<args.length;i++)res(i,args[i])})},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++)values[i].then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)},Promise._setImmediateFn=function(fn){Promise._immediateFn=fn},Promise._setUnhandledRejectionFn=function(fn){Promise._unhandledRejectionFn=fn},"undefined"!=typeof module&&module.exports?module.exports=Promise:root.Promise||(root.Promise=Promise)}(this);var Dp={_hiddenVar:null,_visibilityChangeEvent:null,pageVisible:!0,pageVariant:"variant-desktop",isMobile:!1,os:window.localStorage.getItem("os"),os_arch:window.localStorage.getItem("os_arch"),browser:JSON.parse(window.localStorage.getItem("browser")),speech:null,dockMode:window.localStorage.getItem("dockMode"),dockState:"pageTop",detectBrowser:function(){if(null===window.localStorage.getItem("os")&&(this.os="unknown",window.navigator.userAgent.indexOf("Windows")!==-1?this.os="windows":window.navigator.userAgent.indexOf("Linux")!==-1?window.navigator.userAgent.indexOf("Android")!==-1?this.os="android":this.os="linux":window.navigator.userAgent.indexOf("OS X")!==-1?this.os="osx":window.navigator.userAgent.indexOf("iPhone")===-1&&window.navigator.userAgent.indexOf("iPad")===-1||(this.os="iOS"),window.localStorage.setItem("os",this.os)),null===window.localStorage.getItem("browser")){var uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};matched=uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.browser=browser,window.localStorage.setItem("browser",JSON.stringify(this.browser))}jQuery&&(jQuery.browser=this.browser),this.detectSpeech()},page:function(){"undefined"!=typeof document.hidden?(this._hiddenVar="hidden",this._visibilityChangeEvent="visibilitychange"):"undefined"!=typeof document.mozHidden?(this._hiddenVar="mozHidden",this._visibilityChangeEvent="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this._hiddenVar="msHidden",this.visibilityChangeEvent="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this._hiddenVar="webkitHidden",this._visibilityChangeEvent="webkitvisibilitychange"),null!==this._hiddenVar?(this.handleVisibiltyChange(),document.addEventListener(this._visibilityChangeEvent,function(){Dp.handleVisibiltyChange()},!1)):this.pageVisible=!0,null===this.dockMode&&this.setDockMode("follow")},handleVisibiltyChange:function(){document[this._hiddenVar]?this.pageVisible=!1:this.pageVisible=!0},detectSpeech:function(){return void 0===document.createElement("input").webkitSpeech?this.speech=!1:this.speech=!0},setDockMode:function(arg){window.localStorage.setItem("dockMode",arg),this.dockMode=arg},init:function(){this.detectBrowser(),this.page()},confirm:function(options){return new Promise(function(resolve,reject){if(options&&options.bubbles)return resolve(!1);$("#askModal").length&&$("#askModal").remove();var modal,cancelled=!1,html="",settings={title:"PotwierdÅº swÃ³j wybÃ³r",question:"Czy na pewno chcesz wykonaÄ wybranÄ akcjÄ?",confirm:"Potwierdzam",cancel:"Anuluj",browserConfirm:!1};return options&&(settings=$.extend(settings,options)),settings.browserConfirm?resolve(confirm(settings.question)?!0:!1):(html='<div id="askModal" class="modal hide fade modal-dp variant-tight modal-in-page" tabindex="-1" role="dialog" aria-labelledby="confirm-modal" aria-hidden="true">',html+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã</button>',html+='<div class="modal-watermark"><i class="icon-dobreprogramy"></i></div>',html+='<div class="modal-header"><span style="font-size:26px;">'+settings.title+"</span></div>",html+='<div class="modal-body"><p>'+settings.question+"</p></div>",html+='<div class="modal-footer">',settings.confirm.length&&(html+='<a role="button" class="button action float-right normal" data-confirm="modal" href="#">'+settings.confirm+"</a>"),settings.cancel.length&&(html+='<a role="button" class="button float-right normal as-link cancel" data-dismiss="modal" href="#">'+settings.cancel+"</a>"),html+="</div></div>",$("body").append(html),modal=$("#askModal"),modal.modal({show:!0,backdrop:!0}),modal.find('[data-confirm="modal"]').one("click",function(e){return e.preventDefault(),cancelled=!1,modal.modal("hide"),$("#askModal").length&&$("#askModal").remove(),resolve(!0),!1}),modal.find('[data-dismiss="modal"]').one("click",function(e){return e.preventDefault(),cancelled=!0,modal.modal("hide"),$("#askModal").length&&$("#askModal").remove(),resolve(!1),!1}),void(modal.parent().hasClass("modal-scrollable")&&modal.parent().one("click",function(e){cancelled=!0,resolve(!1),$("#askModal").length&&$("#askModal").remove()})))})},inject:{shadowRoot:{storage:[],styles:function(){var storage=this.storage;if(!(storage.length<1)){var thisDocument=document.documentElement,shadowRoot=thisDocument.createShadowRoot(),style=document.createElement("style");style.styleSheet?style.styleSheet.cssText=storage.join("\n"):style.appendChild(document.createTextNode(storage.join("\n")));var _prototype=Object.getOwnPropertyDescriptor(Element.prototype,"shadowRoot"),_shadowRoot=Function.prototype.call.bind(_prototype.get);return Object.defineProperty(Element.prototype,"shadowRoot",{configurable:!0,enumerable:!0,get:function(){var shadow=_shadowRoot(this);return shadow==shadowRoot?null:shadow}}),shadowRoot.appendChild(document.createElement("shadow")),shadowRoot.appendChild(style),delete this.styles&&delete this.storage}}},style:function(css,shadowRoot){if(css){var storage=this.shadowRoot.storage;if(shadowRoot&&storage)return storage.push(css);var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");return style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style)}}},screening:function(options){return this.newScreening.call(this,options)},unBlocker:function(){if(document.documentMode)return!0;for(var stylesheet,cssRules,css,elementsToUnhide=[".wp-player","#phContent_divQR","body > form > #slide-menu > :empty",".count-to",".gamescarousel-wrapper","#panReklama > div","#phContent_avastBadge",".forum-help-cta",'[style="width: 300px; margin: auto;"]','[style="height: 150px; width: 630;"]','DIV[style="color: #A9A9A9; text-align:center;font-size:11px;"]','[id$="_divAdTop"]','.list.block-content > div[style$="height: 180px; width: 630;"]','.block > div[style$="height: 600px; width: 300;"]','.page-element.center.target > div[style$="height: 250px; width: 970;"]','div[id="slide-menu"] > a[id][href="#"]','#slide-menu > * div[id^="c"][style^="height:"][style*="width:"]:not([id^="cbox"]):not([id="colorbox"])',"div#slide-menu > [id]:not([class]):not([style])"],stylesheets=document.styleSheets,selectors="",blockedStyleSheets=[],injectToShadowRoot="function"==typeof Element.prototype.createShadowRoot,i=0;i<stylesheets.length;i++){stylesheet=stylesheets[i];try{cssRules=stylesheet.cssRules}catch(e){"SecurityError"!==e.name&&console.warn(e);continue}if(cssRules)for(var j=0;j<cssRules.length;j++){try{css=cssRules[j].cssText}catch(e){console.warn("cssRules["+j+"].cssText:",typeof cssRules[j].cssText);continue}css.indexOf(":root")>=0&&stylesheet.ownerNode&&stylesheet.ownerNode.parentNode&&(blockedStyleSheets.push(stylesheet.ownerNode),stylesheet.ownerNode.parentNode.removeChild(stylesheet.ownerNode))}}for(var k=0;k<elementsToUnhide.length;k++)selectors+=(k>0?", ":" ")+(injectToShadowRoot?"::content ":"")+elementsToUnhide[k];return css=selectors+" { display: block !important; } ::content .no-filter { display: table-row !important}",Dp.inject.style(css,!!injectToShadowRoot),injectToShadowRoot&&Dp.inject.shadowRoot.styles(),!0},newScreening:function(options){if(this.isMobile)return!1;var _this=document.querySelector("#slide-menu"),screenCenter=(function(){return!!document.documentMode}(),Math.round(_this.offsetWidth/2)),hostname=window.top.location.hostname;String.prototype.trunc=function(n){return this.substr(0,n-1)+(this.length>n?"...":"")};var extend=function(target,source){target=target||{};for(var prop in source)"object"==typeof source[prop]?target[prop]=extend(target[prop],source[prop]):target[prop]=source[prop];return target.extend&&delete target.extend,target.css&&target.css.extend&&delete target.css.extend,target},addEvent=function(elem,event,fn){elem.addEventListener?elem.addEventListener(event,fn,!1):elem.attachEvent("on"+event,function(){return fn.call(elem,window.event)})},settings={name:"DP Unknown Screening",both:!1,left:!1,right:!1,debug:hostname.indexOf("ng.dobreprogramy")>-1||hostname.indexOf("ngssl.dobreprogramy")>-1,truncUrlTo:64};return settings=extend(settings,options),settings.left||settings.right||settings.both||!settings.url||(settings.both=settings.url),(settings.both||settings.left||settings.right)&&(addEvent(window,"resize scroll",function(event){screenCenter=Math.round(_this.offsetWidth/2)}),addEvent(_this,"mouseover",function(event){if(event=event||window.event,event.target=event.target||event.srcElement,null==event.pageX&&null!=event.clientX){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if("undefined"!=typeof event.isTrusted&&!event.isTrusted||event.target.id!==_this.id)return _this.style.cursor="auto",_this.removeAttribute("title"),!1;var title=settings.name+" (reklama)\nKliknij, aby przejÅÄ do: ";!settings.both||settings.left||settings.right?settings.left&&event.pageX<screenCenter?_this.title=title+settings.left.trunc(settings.truncUrlTo):_this.title=title+settings.right.trunc(settings.truncUrlTo):_this.title=title+settings.both.trunc(settings.truncUrlTo),_this.style.cursor="pointer"}),addEvent(_this,"mouseout",function(event){return event=event||window.event,event.target=event.target||event.srcElement,!("undefined"!=typeof event.isTrusted&&!event.isTrusted||event.target.id!==_this.id)&&(_this.style.cursor="auto",void _this.removeAttribute("title"))}),addEvent(_this,"click",function(event){if(event=event||window.event,event.target=event.target||event.srcElement,null==event.pageX&&null!=event.clientX){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}return!("undefined"!=typeof event.isTrusted&&!event.isTrusted||event.target.id!==_this.id)&&(!settings.both||settings.left||settings.right?settings.left&&event.pageX<screenCenter?(settings.debug&&console.info("Screening:",settings.name,"was clicked on LEFT!"),"undefined"==typeof ga||settings.debug||ga("send","event","Screening","ClickLeft",settings.name),window.location.href=settings.left||settings.right):(settings.debug&&console.info("Screening:",settings.name,"was clicked on RIGHT!"),"undefined"==typeof ga||settings.debug||ga("send","event","Screening","ClickRight",settings.name),window.location.href=settings.right||settings.left):(settings.debug&&console.info("Screening:",settings.name,"was clicked!"),"undefined"==typeof ga||settings.debug||ga("send","event","Screening","Click",settings.name),window.location.href=settings.both))})),_this},oldScreening:function(options){console.info(options.name+": using old screening...");var selectedAttribute,cssSelector,random={number:function(min,max){return Math.floor(Math.random()*(max-min+1)+min)},string:function(){var stringLength=Math.floor(12*Math.random())+6,string=String.fromCharCode(Math.floor(25*Math.random()+65));do{var ascicode=Math.floor(42*Math.random()+48);(ascicode<58||ascicode>64)&&(string+=String.fromCharCode(ascicode))}while(string.length<stringLength);return string.toLowerCase()},fromArray:function(array){return array[Math.floor(Math.random()*array.length)]}},inject={css:function(css){if(css){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");return style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style)}}},extend=function(target,source){target=target||{};for(var prop in source)"object"==typeof source[prop]?target[prop]=extend(target[prop],source[prop]):target[prop]=source[prop];return target.extend&&delete target.extend,target.css&&target.css.extend&&delete target.css.extend,target},attributes=["id","class","data-attribute","data-"+random.string()],tagNames=["div","p","a","span","i","b","strong","ul","ol","code","ins","abbr","table","em","figure","caption"],styles=["display:block;","background: transparent;","background: rgba(0,0,0,0);","font-size: 1em;","visibility: visible;","color: transparent;","font-weight: normal;","list-style: none;"],tagName=random.fromArray(tagNames),randomString=random.string(),settings={container:"#slide-menu",url:"//dobreprogramy.pl",css:{position:"absolute !important",display:"block !important",top:"0 !important",left:"0 !important",right:"0 !important",bottom:"0 !important",cursor:"pointer !important","z-index":"-1 !important",width:"100% !important",height:"100% !important",background:"transparent !important",visibility:"visible !important",padding:"0 !important",margin:"0 !important","-webkit-transition":"none !important","-moz-transition":"none !important","-o-transition":"none !important",transition:"none !important"}},_this=document.createElement(tagName);switch(settings=extend(settings,options),selectedAttribute=random.fromArray(attributes)){case"id":_this.id=randomString,cssSelector="#"+randomString;break;case"class":_this.classList=randomString,cssSelector="."+randomString;break;case"data-attribute":_this.setAttribute("data-attribute",randomString),cssSelector='[data-attribute="'+randomString+'"]';break;case"data-"+randomString:default:_this.setAttribute("data-"+randomString,random.string()),cssSelector="[data-"+randomString+"]"}if(settings.css){var string="";Object.keys(settings.css).forEach(function(key){var value=settings.css[key];string+=key+":"+value+";"}),inject.css(tagName+cssSelector+" {"+string+"}")}if(Math.random()>=.5&&(settings.randomCss=random.fromArray(styles),_this.style=settings.randomCss),Math.random()>=.5&&_this.setAttribute("data-"+random.string(),random.string()),settings.container){settings.container=document.querySelector(settings.container);var children=settings.container.childNodes.length;if(0==children)settings.container.appendChild(_this);else{var index=random.number(0,children);settings.container.insertBefore(_this,settings.container.childNodes[index])}}return settings.url&&_this.addEventListener("click",function(event){return event.preventDefault(),"undefined"!=typeof ga?(console.info("Screening:",settings.name,"was clicked!"),ga("send","event","Screening","Click",settings.name||"DP")):console.warn("Screening:",settings.name,"GA is undefined..."),window.location.href=settings.url}),_this},random:{id:function(){var idLength=Math.floor(12*Math.random())+6,idstr=String.fromCharCode(Math.floor(25*Math.random()+65));do{var ascicode=Math.floor(42*Math.random()+48);(ascicode<58||ascicode>64)&&(idstr+=String.fromCharCode(ascicode))}while(idstr.length<idLength);return idstr}},stem:function(count,one,twothreefour,remaining){return 1===count?one:count%10>1&&count%10<5&&!(count%100>=10&&count%100<=21)?twothreefour:remaining},pageScroll:function(arg,id){"lock"===arg?$("#"+id).on("touchstart",function(ev){0===$(this).scrollTop()&&$(this).scrollTop(1);var scrollTop=document.getElementById(id).scrollTop,scrollHeight=document.getElementById(id).scrollHeight,offsetHeight=document.getElementById(id).offsetHeight,contentHeight=scrollHeight-offsetHeight;contentHeight===scrollTop&&$(this).scrollTop(scrollTop-1)}):$("#"+id).off("touchstart")}};Dp.init(),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function mountJQuery(jQuery){jQuery.fn.perfectScrollbar=function(settingOrCommand){return this.each(function(){if("object"==typeof settingOrCommand||"undefined"==typeof settingOrCommand){var settings=settingOrCommand;psInstances.get(this)||ps.initialize(this,settings)}else{var command=settingOrCommand;"update"===command?ps.update(this):"destroy"===command&&ps.destroy(this)}return jQuery(this)})}}var ps=require("../main"),psInstances=require("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],mountJQuery);else{var jq=window.jQuery?window.jQuery:window.$;"undefined"!=typeof jq&&mountJQuery(jq)}module.exports=mountJQuery},{"../main":7,"../plugin/instances":18}],2:[function(require,module,exports){"use strict";function oldAdd(element,className){var classes=element.className.split(" ");classes.indexOf(className)<0&&classes.push(className),element.className=classes.join(" ")}function oldRemove(element,className){var classes=element.className.split(" "),idx=classes.indexOf(className);idx>=0&&classes.splice(idx,1),element.className=classes.join(" ")}exports.add=function(element,className){element.classList?element.classList.add(className):oldAdd(element,className)},exports.remove=function(element,className){element.classList?element.classList.remove(className):oldRemove(element,className)},exports.list=function(element){return element.classList?Array.prototype.slice.apply(element.classList):element.className.split(" ")}},{}],3:[function(require,module,exports){"use strict";function cssGet(element,styleName){return window.getComputedStyle(element)[styleName]}function cssSet(element,styleName,styleValue){return"number"==typeof styleValue&&(styleValue=styleValue.toString()+"px"),element.style[styleName]=styleValue,element}function cssMultiSet(element,obj){for(var key in obj){var val=obj[key];"number"==typeof val&&(val=val.toString()+"px"),element.style[key]=val}return element}var DOM={};DOM.e=function(tagName,className){var element=document.createElement(tagName);return element.className=className,element},DOM.appendTo=function(child,parent){return parent.appendChild(child),child},DOM.css=function(element,styleNameOrObject,styleValue){return"object"==typeof styleNameOrObject?cssMultiSet(element,styleNameOrObject):"undefined"==typeof styleValue?cssGet(element,styleNameOrObject):cssSet(element,styleNameOrObject,styleValue)},DOM.matches=function(element,query){return"undefined"!=typeof element.matches?element.matches(query):"undefined"!=typeof element.matchesSelector?element.matchesSelector(query):"undefined"!=typeof element.webkitMatchesSelector?element.webkitMatchesSelector(query):"undefined"!=typeof element.mozMatchesSelector?element.mozMatchesSelector(query):"undefined"!=typeof element.msMatchesSelector?element.msMatchesSelector(query):void 0},DOM.remove=function(element){"undefined"!=typeof element.remove?element.remove():element.parentNode&&element.parentNode.removeChild(element)},DOM.queryChildren=function(element,selector){return Array.prototype.filter.call(element.childNodes,function(child){return DOM.matches(child,selector)})},module.exports=DOM},{}],4:[function(require,module,exports){"use strict";var EventElement=function(element){this.element=element,this.events={}};EventElement.prototype.bind=function(eventName,handler){"undefined"==typeof this.events[eventName]&&(this.events[eventName]=[]),this.events[eventName].push(handler),this.element.addEventListener(eventName,handler,!1)},EventElement.prototype.unbind=function(eventName,handler){var isHandlerProvided="undefined"!=typeof handler;this.events[eventName]=this.events[eventName].filter(function(hdlr){return!(!isHandlerProvided||hdlr===handler)||(this.element.removeEventListener(eventName,hdlr,!1),!1)},this)},EventElement.prototype.unbindAll=function(){for(var name in this.events)this.off(name)};var EventManager=function(){this.eventElements=[]};EventManager.prototype.eventElement=function(element){var ee=this.eventElements.filter(function(eventElement){return eventElement.element===element})[0];return"undefined"==typeof ee&&(ee=new EventElement(element),this.eventElements.push(ee)),ee},EventManager.prototype.bind=function(element,eventName,handler){this.eventElement(element).bind(eventName,handler)},EventManager.prototype.unbind=function(element,eventName,handler){this.eventElement(element).off(eventName,handler)},EventManager.prototype.unbindAll=function(){for(var i=0;i<this.eventElements.length;i++)this.eventElements[i].unbindAll()},EventManager.prototype.once=function(element,eventName,handler){var ee=this.eventElement(element),onceHandler=function(e){ee.unbind(eventName,onceHandler),handler(e)};ee.on(eventName,onceHandler)},module.exports=EventManager},{}],5:[function(require,module,exports){"use strict";module.exports=function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}}()},{}],6:[function(require,module,exports){"use strict";var cls=require("./class"),d=require("./dom");exports.toInt=function(x){return parseInt(x,10)||0},exports.clone=function(obj){if(null===obj)return null;if("object"==typeof obj){var result={};for(var key in obj)result[key]=this.clone(obj[key]);return result}return obj},exports.extend=function(original,source){var result=this.clone(original);for(var key in source)result[key]=this.clone(source[key]);return result},exports.isEditable=function(el){return d.matches(el,"input,[contenteditable]")||d.matches(el,"select,[contenteditable]")||d.matches(el,"textarea,[contenteditable]")||d.matches(el,"button,[contenteditable]")},exports.removePsClasses=function(element){for(var clsList=cls.list(element),i=0;i<clsList.length;i++){var className=clsList[i];0===className.indexOf("ps-")&&cls.remove(element,className)}},exports.outerWidth=function(element){return this.toInt(d.css(element,"width"))+this.toInt(d.css(element,"paddingLeft"))+this.toInt(d.css(element,"paddingRight"))+this.toInt(d.css(element,"borderLeftWidth"))+this.toInt(d.css(element,"borderRightWidth"))},exports.startScrolling=function(element,axis){cls.add(element,"ps-in-scrolling"),"undefined"!=typeof axis?cls.add(element,"ps-"+axis):(cls.add(element,"ps-x"),cls.add(element,"ps-y"))},exports.stopScrolling=function(element,axis){cls.remove(element,"ps-in-scrolling"),"undefined"!=typeof axis?cls.remove(element,"ps-"+axis):(cls.remove(element,"ps-x"),cls.remove(element,"ps-y"))},exports.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(require,module,exports){"use strict";var destroy=require("./plugin/destroy"),initialize=require("./plugin/initialize"),update=require("./plugin/update");module.exports={initialize:initialize,update:update,destroy:destroy}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(require,module,exports){"use strict";module.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(require,module,exports){"use strict";var d=require("../lib/dom"),h=require("../lib/helper"),instances=require("./instances");module.exports=function(element){var i=instances.get(element);i&&(i.event.unbindAll(),d.remove(i.scrollbarX),d.remove(i.scrollbarY),d.remove(i.scrollbarXRail),d.remove(i.scrollbarYRail),h.removePsClasses(element),instances.remove(element))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(require,module,exports){"use strict";function bindClickRailHandler(element,i){function pageOffset(el){return el.getBoundingClientRect()}var stopPropagation=window.Event.prototype.stopPropagation.bind;i.settings.stopPropagationOnClick&&i.event.bind(i.scrollbarY,"click",stopPropagation),i.event.bind(i.scrollbarYRail,"click",function(e){var halfOfScrollbarLength=h.toInt(i.scrollbarYHeight/2),positionTop=i.railYRatio*(e.pageY-window.pageYOffset-pageOffset(i.scrollbarYRail).top-halfOfScrollbarLength),maxPositionTop=i.railYRatio*(i.railYHeight-i.scrollbarYHeight),positionRatio=positionTop/maxPositionTop;
positionRatio<0?positionRatio=0:positionRatio>1&&(positionRatio=1),updateScroll(element,"top",(i.contentHeight-i.containerHeight)*positionRatio),updateGeometry(element),e.stopPropagation()}),i.settings.stopPropagationOnClick&&i.event.bind(i.scrollbarX,"click",stopPropagation),i.event.bind(i.scrollbarXRail,"click",function(e){var halfOfScrollbarLength=h.toInt(i.scrollbarXWidth/2),positionLeft=i.railXRatio*(e.pageX-window.pageXOffset-pageOffset(i.scrollbarXRail).left-halfOfScrollbarLength),maxPositionLeft=i.railXRatio*(i.railXWidth-i.scrollbarXWidth),positionRatio=positionLeft/maxPositionLeft;positionRatio<0?positionRatio=0:positionRatio>1&&(positionRatio=1),updateScroll(element,"left",(i.contentWidth-i.containerWidth)*positionRatio-i.negativeScrollAdjustment),updateGeometry(element),e.stopPropagation()})}var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element){var i=instances.get(element);bindClickRailHandler(element,i)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(require,module,exports){"use strict";function bindMouseScrollXHandler(element,i){function updateScrollLeft(deltaX){var newLeft=currentLeft+deltaX*i.railXRatio,maxLeft=Math.max(0,i.scrollbarXRail.getBoundingClientRect().left)+i.railXRatio*(i.railXWidth-i.scrollbarXWidth);newLeft<0?i.scrollbarXLeft=0:newLeft>maxLeft?i.scrollbarXLeft=maxLeft:i.scrollbarXLeft=newLeft;var scrollLeft=h.toInt(i.scrollbarXLeft*(i.contentWidth-i.containerWidth)/(i.containerWidth-i.railXRatio*i.scrollbarXWidth))-i.negativeScrollAdjustment;updateScroll(element,"left",scrollLeft)}var currentLeft=null,currentPageX=null,mouseMoveHandler=function(e){updateScrollLeft(e.pageX-currentPageX),updateGeometry(element),e.stopPropagation(),e.preventDefault()},mouseUpHandler=function(){h.stopScrolling(element,"x"),i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)};i.event.bind(i.scrollbarX,"mousedown",function(e){currentPageX=e.pageX,currentLeft=h.toInt(d.css(i.scrollbarX,"left"))*i.railXRatio,h.startScrolling(element,"x"),i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler),i.event.once(i.ownerDocument,"mouseup",mouseUpHandler),e.stopPropagation(),e.preventDefault()})}function bindMouseScrollYHandler(element,i){function updateScrollTop(deltaY){var newTop=currentTop+deltaY*i.railYRatio,maxTop=Math.max(0,i.scrollbarYRail.getBoundingClientRect().top)+i.railYRatio*(i.railYHeight-i.scrollbarYHeight);newTop<0?i.scrollbarYTop=0:newTop>maxTop?i.scrollbarYTop=maxTop:i.scrollbarYTop=newTop;var scrollTop=h.toInt(i.scrollbarYTop*(i.contentHeight-i.containerHeight)/(i.containerHeight-i.railYRatio*i.scrollbarYHeight));updateScroll(element,"top",scrollTop)}var currentTop=null,currentPageY=null,mouseMoveHandler=function(e){updateScrollTop(e.pageY-currentPageY),updateGeometry(element),e.stopPropagation(),e.preventDefault()},mouseUpHandler=function(){h.stopScrolling(element,"y"),i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)};i.event.bind(i.scrollbarY,"mousedown",function(e){currentPageY=e.pageY,currentTop=h.toInt(d.css(i.scrollbarY,"top"))*i.railYRatio,h.startScrolling(element,"y"),i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler),i.event.once(i.ownerDocument,"mouseup",mouseUpHandler),e.stopPropagation(),e.preventDefault()})}var d=require("../../lib/dom"),h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element){var i=instances.get(element);bindMouseScrollXHandler(element,i),bindMouseScrollYHandler(element,i)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(require,module,exports){"use strict";function bindKeyboardHandler(element,i){function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(0===deltaX){if(!i.scrollbarYActive)return!1;if(0===scrollTop&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0)return!i.settings.wheelPropagation}var scrollLeft=element.scrollLeft;if(0===deltaY){if(!i.scrollbarXActive)return!1;if(0===scrollLeft&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0)return!i.settings.wheelPropagation}return!0}var hovered=!1;i.event.bind(element,"mouseenter",function(){hovered=!0}),i.event.bind(element,"mouseleave",function(){hovered=!1});var shouldPrevent=!1;i.event.bind(i.ownerDocument,"keydown",function(e){if(!e.isDefaultPrevented||!e.isDefaultPrevented()){var focused=d.matches(i.scrollbarX,":focus")||d.matches(i.scrollbarY,":focus");if(hovered||focused){var activeElement=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(activeElement){for(;activeElement.shadowRoot;)activeElement=activeElement.shadowRoot.activeElement;if(h.isEditable(activeElement))return}var deltaX=0,deltaY=0;switch(e.which){case 37:deltaX=-30;break;case 38:deltaY=30;break;case 39:deltaX=30;break;case 40:deltaY=-30;break;case 33:deltaY=90;break;case 32:deltaY=e.shiftKey?90:-90;break;case 34:deltaY=-90;break;case 35:deltaY=e.ctrlKey?-i.contentHeight:-i.containerHeight;break;case 36:deltaY=e.ctrlKey?element.scrollTop:i.containerHeight;break;default:return}updateScroll(element,"top",element.scrollTop-deltaY),updateScroll(element,"left",element.scrollLeft+deltaX),updateGeometry(element),shouldPrevent=shouldPreventDefault(deltaX,deltaY),shouldPrevent&&e.preventDefault()}}})}var h=require("../../lib/helper"),d=require("../../lib/dom"),instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element){var i=instances.get(element);bindKeyboardHandler(element,i)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(require,module,exports){"use strict";function bindMouseWheelHandler(element,i){function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(0===deltaX){if(!i.scrollbarYActive)return!1;if(0===scrollTop&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0)return!i.settings.wheelPropagation}var scrollLeft=element.scrollLeft;if(0===deltaY){if(!i.scrollbarXActive)return!1;if(0===scrollLeft&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0)return!i.settings.wheelPropagation}return!0}function getDeltaFromEvent(e){var deltaX=e.deltaX,deltaY=-1*e.deltaY;return"undefined"!=typeof deltaX&&"undefined"!=typeof deltaY||(deltaX=-1*e.wheelDeltaX/6,deltaY=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(deltaX*=10,deltaY*=10),deltaX!==deltaX&&deltaY!==deltaY&&(deltaX=0,deltaY=e.wheelDelta),[deltaX,deltaY]}function shouldBeConsumedByTextarea(deltaX,deltaY){var hoveredTextarea=element.querySelector("textarea:hover");if(hoveredTextarea){var maxScrollTop=hoveredTextarea.scrollHeight-hoveredTextarea.clientHeight;if(maxScrollTop>0&&!(0===hoveredTextarea.scrollTop&&deltaY>0||hoveredTextarea.scrollTop===maxScrollTop&&deltaY<0))return!0;var maxScrollLeft=hoveredTextarea.scrollLeft-hoveredTextarea.clientWidth;if(maxScrollLeft>0&&!(0===hoveredTextarea.scrollLeft&&deltaX<0||hoveredTextarea.scrollLeft===maxScrollLeft&&deltaX>0))return!0}return!1}function mousewheelHandler(e){var delta=getDeltaFromEvent(e),deltaX=delta[0],deltaY=delta[1];shouldBeConsumedByTextarea(deltaX,deltaY)||(shouldPrevent=!1,i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(deltaY?updateScroll(element,"top",element.scrollTop-deltaY*i.settings.wheelSpeed):updateScroll(element,"top",element.scrollTop+deltaX*i.settings.wheelSpeed),shouldPrevent=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(deltaX?updateScroll(element,"left",element.scrollLeft+deltaX*i.settings.wheelSpeed):updateScroll(element,"left",element.scrollLeft-deltaY*i.settings.wheelSpeed),shouldPrevent=!0):(updateScroll(element,"top",element.scrollTop-deltaY*i.settings.wheelSpeed),updateScroll(element,"left",element.scrollLeft+deltaX*i.settings.wheelSpeed)),updateGeometry(element),shouldPrevent=shouldPrevent||shouldPreventDefault(deltaX,deltaY),shouldPrevent&&(e.stopPropagation(),e.preventDefault()))}var shouldPrevent=!1;"undefined"!=typeof window.onwheel?i.event.bind(element,"wheel",mousewheelHandler):"undefined"!=typeof window.onmousewheel&&i.event.bind(element,"mousewheel",mousewheelHandler)}var instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element){var i=instances.get(element);bindMouseWheelHandler(element,i)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(require,module,exports){"use strict";function bindNativeScrollHandler(element,i){i.event.bind(element,"scroll",function(){updateGeometry(element)})}var instances=require("../instances"),updateGeometry=require("../update-geometry");module.exports=function(element){var i=instances.get(element);bindNativeScrollHandler(element,i)}},{"../instances":18,"../update-geometry":19}],15:[function(require,module,exports){"use strict";function bindSelectionHandler(element,i){function getRangeNode(){var selection=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===selection.toString().length?null:selection.getRangeAt(0).commonAncestorContainer}function startScrolling(){scrollingLoop||(scrollingLoop=setInterval(function(){return instances.get(element)?(updateScroll(element,"top",element.scrollTop+scrollDiff.top),updateScroll(element,"left",element.scrollLeft+scrollDiff.left),void updateGeometry(element)):void clearInterval(scrollingLoop)},50))}function stopScrolling(){scrollingLoop&&(clearInterval(scrollingLoop),scrollingLoop=null),h.stopScrolling(element)}var scrollingLoop=null,scrollDiff={top:0,left:0},isSelected=!1;i.event.bind(i.ownerDocument,"selectionchange",function(){element.contains(getRangeNode())?isSelected=!0:(isSelected=!1,stopScrolling())}),i.event.bind(window,"mouseup",function(){isSelected&&(isSelected=!1,stopScrolling())}),i.event.bind(window,"mousemove",function(e){if(isSelected){var mousePosition={x:e.pageX,y:e.pageY},containerGeometry={left:element.offsetLeft,right:element.offsetLeft+element.offsetWidth,top:element.offsetTop,bottom:element.offsetTop+element.offsetHeight};mousePosition.x<containerGeometry.left+3?(scrollDiff.left=-5,h.startScrolling(element,"x")):mousePosition.x>containerGeometry.right-3?(scrollDiff.left=5,h.startScrolling(element,"x")):scrollDiff.left=0,mousePosition.y<containerGeometry.top+3?(containerGeometry.top+3-mousePosition.y<5?scrollDiff.top=-5:scrollDiff.top=-20,h.startScrolling(element,"y")):mousePosition.y>containerGeometry.bottom-3?(mousePosition.y-containerGeometry.bottom+3<5?scrollDiff.top=5:scrollDiff.top=20,h.startScrolling(element,"y")):scrollDiff.top=0,0===scrollDiff.top&&0===scrollDiff.left?stopScrolling():startScrolling()}})}var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element){var i=instances.get(element);bindSelectionHandler(element,i)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(require,module,exports){"use strict";function bindTouchHandler(element,i,supportsTouch,supportsIePointer){function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop,scrollLeft=element.scrollLeft,magnitudeX=Math.abs(deltaX),magnitudeY=Math.abs(deltaY);if(magnitudeY>magnitudeX){if(deltaY<0&&scrollTop===i.contentHeight-i.containerHeight||deltaY>0&&0===scrollTop)return!i.settings.swipePropagation}else if(magnitudeX>magnitudeY&&(deltaX<0&&scrollLeft===i.contentWidth-i.containerWidth||deltaX>0&&0===scrollLeft))return!i.settings.swipePropagation;return!0}function applyTouchMove(differenceX,differenceY){updateScroll(element,"top",element.scrollTop-differenceY),updateScroll(element,"left",element.scrollLeft-differenceX),updateGeometry(element)}function globalTouchStart(){inGlobalTouch=!0}function globalTouchEnd(){inGlobalTouch=!1}function getTouch(e){return e.targetTouches?e.targetTouches[0]:e}function shouldHandle(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function touchStart(e){if(shouldHandle(e)){inLocalTouch=!0;var touch=getTouch(e);startOffset.pageX=touch.pageX,startOffset.pageY=touch.pageY,startTime=(new Date).getTime(),null!==easingLoop&&clearInterval(easingLoop),e.stopPropagation()}}function touchMove(e){if(!inGlobalTouch&&inLocalTouch&&shouldHandle(e)){var touch=getTouch(e),currentOffset={pageX:touch.pageX,pageY:touch.pageY},differenceX=currentOffset.pageX-startOffset.pageX,differenceY=currentOffset.pageY-startOffset.pageY;applyTouchMove(differenceX,differenceY),startOffset=currentOffset;var currentTime=(new Date).getTime(),timeGap=currentTime-startTime;timeGap>0&&(speed.x=differenceX/timeGap,speed.y=differenceY/timeGap,startTime=currentTime),shouldPreventDefault(differenceX,differenceY)&&(e.stopPropagation(),e.preventDefault())}}function touchEnd(){!inGlobalTouch&&inLocalTouch&&(inLocalTouch=!1,clearInterval(easingLoop),easingLoop=setInterval(function(){return instances.get(element)?Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01?void clearInterval(easingLoop):(applyTouchMove(30*speed.x,30*speed.y),speed.x*=.8,void(speed.y*=.8)):void clearInterval(easingLoop)},10))}var startOffset={},startTime=0,speed={},easingLoop=null,inGlobalTouch=!1,inLocalTouch=!1;supportsTouch&&(i.event.bind(window,"touchstart",globalTouchStart),i.event.bind(window,"touchend",globalTouchEnd),i.event.bind(element,"touchstart",touchStart),i.event.bind(element,"touchmove",touchMove),i.event.bind(element,"touchend",touchEnd)),supportsIePointer&&(window.PointerEvent?(i.event.bind(window,"pointerdown",globalTouchStart),i.event.bind(window,"pointerup",globalTouchEnd),i.event.bind(element,"pointerdown",touchStart),i.event.bind(element,"pointermove",touchMove),i.event.bind(element,"pointerup",touchEnd)):window.MSPointerEvent&&(i.event.bind(window,"MSPointerDown",globalTouchStart),i.event.bind(window,"MSPointerUp",globalTouchEnd),i.event.bind(element,"MSPointerDown",touchStart),i.event.bind(element,"MSPointerMove",touchMove),i.event.bind(element,"MSPointerUp",touchEnd)))}var instances=require("../instances"),updateGeometry=require("../update-geometry"),updateScroll=require("../update-scroll");module.exports=function(element,supportsTouch,supportsIePointer){var i=instances.get(element);bindTouchHandler(element,i,supportsTouch,supportsIePointer)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(require,module,exports){"use strict";var cls=require("../lib/class"),h=require("../lib/helper"),instances=require("./instances"),updateGeometry=require("./update-geometry"),clickRailHandler=require("./handler/click-rail"),dragScrollbarHandler=require("./handler/drag-scrollbar"),keyboardHandler=require("./handler/keyboard"),mouseWheelHandler=require("./handler/mouse-wheel"),nativeScrollHandler=require("./handler/native-scroll"),selectionHandler=require("./handler/selection"),touchHandler=require("./handler/touch");module.exports=function(element,userSettings){userSettings="object"==typeof userSettings?userSettings:{},cls.add(element,"ps-container");var i=instances.add(element);i.settings=h.extend(i.settings,userSettings),cls.add(element,"ps-theme-"+i.settings.theme),clickRailHandler(element),dragScrollbarHandler(element),mouseWheelHandler(element),nativeScrollHandler(element),i.settings.useSelectionScroll&&selectionHandler(element),(h.env.supportsTouch||h.env.supportsIePointer)&&touchHandler(element,h.env.supportsTouch,h.env.supportsIePointer),i.settings.useKeyboard&&keyboardHandler(element),updateGeometry(element)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(require,module,exports){"use strict";function Instance(element){function focus(){cls.add(element,"ps-focus")}function blur(){cls.remove(element,"ps-focus")}var i=this;i.settings=h.clone(defaultSettings),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===d.css(element,"direction"),i.isNegativeScroll=function(){var originalScrollLeft=element.scrollLeft,result=null;return element.scrollLeft=-1,result=element.scrollLeft<0,element.scrollLeft=originalScrollLeft,result}(),i.negativeScrollAdjustment=i.isNegativeScroll?element.scrollWidth-element.clientWidth:0,i.event=new EventManager,i.ownerDocument=element.ownerDocument||document,i.scrollbarXRail=d.appendTo(d.e("div","ps-scrollbar-x-rail"),element),i.scrollbarX=d.appendTo(d.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",focus),i.event.bind(i.scrollbarX,"blur",blur),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=h.toInt(d.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:h.toInt(d.css(i.scrollbarXRail,"top")),i.railBorderXWidth=h.toInt(d.css(i.scrollbarXRail,"borderLeftWidth"))+h.toInt(d.css(i.scrollbarXRail,"borderRightWidth")),d.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=h.toInt(d.css(i.scrollbarXRail,"marginLeft"))+h.toInt(d.css(i.scrollbarXRail,"marginRight")),d.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=d.appendTo(d.e("div","ps-scrollbar-y-rail"),element),i.scrollbarY=d.appendTo(d.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",focus),i.event.bind(i.scrollbarY,"blur",blur),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=h.toInt(d.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:h.toInt(d.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?h.outerWidth(i.scrollbarY):null,i.railBorderYWidth=h.toInt(d.css(i.scrollbarYRail,"borderTopWidth"))+h.toInt(d.css(i.scrollbarYRail,"borderBottomWidth")),d.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=h.toInt(d.css(i.scrollbarYRail,"marginTop"))+h.toInt(d.css(i.scrollbarYRail,"marginBottom")),d.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function getId(element){return"undefined"==typeof element.dataset?element.getAttribute("data-ps-id"):element.dataset.psId}function setId(element,id){"undefined"==typeof element.dataset?element.setAttribute("data-ps-id",id):element.dataset.psId=id}function removeId(element){"undefined"==typeof element.dataset?element.removeAttribute("data-ps-id"):delete element.dataset.psId}var cls=require("../lib/class"),d=require("../lib/dom"),defaultSettings=require("./default-setting"),EventManager=require("../lib/event-manager"),guid=require("../lib/guid"),h=require("../lib/helper"),instances={};exports.add=function(element){var newId=guid();return setId(element,newId),instances[newId]=new Instance(element),instances[newId]},exports.remove=function(element){delete instances[getId(element)],removeId(element)},exports.get=function(element){return instances[getId(element)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(require,module,exports){"use strict";function getThumbSize(i,thumbSize){return i.settings.minScrollbarLength&&(thumbSize=Math.max(thumbSize,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(thumbSize=Math.min(thumbSize,i.settings.maxScrollbarLength)),thumbSize}function updateCss(element,i){var xRailOffset={width:i.railXWidth};i.isRtl?xRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth-i.contentWidth:xRailOffset.left=element.scrollLeft,i.isScrollbarXUsingBottom?xRailOffset.bottom=i.scrollbarXBottom-element.scrollTop:xRailOffset.top=i.scrollbarXTop+element.scrollTop,d.css(i.scrollbarXRail,xRailOffset);var yRailOffset={top:element.scrollTop,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?yRailOffset.right=i.contentWidth-(i.negativeScrollAdjustment+element.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth:yRailOffset.right=i.scrollbarYRight-element.scrollLeft:i.isRtl?yRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:yRailOffset.left=i.scrollbarYLeft+element.scrollLeft,d.css(i.scrollbarYRail,yRailOffset),d.css(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),d.css(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}var cls=require("../lib/class"),d=require("../lib/dom"),h=require("../lib/helper"),instances=require("./instances"),updateScroll=require("./update-scroll");module.exports=function(element){var i=instances.get(element);i.containerWidth=element.clientWidth,i.containerHeight=element.clientHeight,i.contentWidth=element.scrollWidth,i.contentHeight=element.scrollHeight;var existingRails;element.contains(i.scrollbarXRail)||(existingRails=d.queryChildren(element,".ps-scrollbar-x-rail"),existingRails.length>0&&existingRails.forEach(function(rail){d.remove(rail)}),d.appendTo(i.scrollbarXRail,element)),element.contains(i.scrollbarYRail)||(existingRails=d.queryChildren(element,".ps-scrollbar-y-rail"),existingRails.length>0&&existingRails.forEach(function(rail){d.remove(rail)}),d.appendTo(i.scrollbarYRail,element)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=getThumbSize(i,h.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=h.toInt((i.negativeScrollAdjustment+element.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=getThumbSize(i,h.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=h.toInt(element.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),updateCss(element,i),i.scrollbarXActive?cls.add(element,"ps-active-x"):(cls.remove(element,"ps-active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,updateScroll(element,"left",0)),i.scrollbarYActive?cls.add(element,"ps-active-y"):(cls.remove(element,"ps-active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,updateScroll(element,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(require,module,exports){"use strict";var lastTop,lastLeft,instances=require("./instances"),upEvent=document.createEvent("Event"),downEvent=document.createEvent("Event"),leftEvent=document.createEvent("Event"),rightEvent=document.createEvent("Event"),yEvent=document.createEvent("Event"),xEvent=document.createEvent("Event"),xStartEvent=document.createEvent("Event"),xEndEvent=document.createEvent("Event"),yStartEvent=document.createEvent("Event"),yEndEvent=document.createEvent("Event");upEvent.initEvent("ps-scroll-up",!0,!0),downEvent.initEvent("ps-scroll-down",!0,!0),leftEvent.initEvent("ps-scroll-left",!0,!0),rightEvent.initEvent("ps-scroll-right",!0,!0),yEvent.initEvent("ps-scroll-y",!0,!0),xEvent.initEvent("ps-scroll-x",!0,!0),xStartEvent.initEvent("ps-x-reach-start",!0,!0),xEndEvent.initEvent("ps-x-reach-end",!0,!0),yStartEvent.initEvent("ps-y-reach-start",!0,!0),yEndEvent.initEvent("ps-y-reach-end",!0,!0),module.exports=function(element,axis,value){if("undefined"==typeof element)throw"You must provide an element to the update-scroll function";if("undefined"==typeof axis)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof value)throw"You must provide a value to the update-scroll function";"top"===axis&&value<=0&&(element.scrollTop=value=0,element.dispatchEvent(yStartEvent)),"left"===axis&&value<=0&&(element.scrollLeft=value=0,element.dispatchEvent(xStartEvent));var i=instances.get(element);"top"===axis&&value>=i.contentHeight-i.containerHeight&&(element.scrollTop=value=i.contentHeight-i.containerHeight,element.dispatchEvent(yEndEvent)),"left"===axis&&value>=i.contentWidth-i.containerWidth&&(element.scrollLeft=value=i.contentWidth-i.containerWidth,element.dispatchEvent(xEndEvent)),lastTop||(lastTop=element.scrollTop),lastLeft||(lastLeft=element.scrollLeft),"top"===axis&&value<lastTop&&element.dispatchEvent(upEvent),"top"===axis&&value>lastTop&&element.dispatchEvent(downEvent),"left"===axis&&value<lastLeft&&element.dispatchEvent(leftEvent),"left"===axis&&value>lastLeft&&element.dispatchEvent(rightEvent),"top"===axis&&(element.scrollTop=lastTop=value,element.dispatchEvent(yEvent)),"left"===axis&&(element.scrollLeft=lastLeft=value,element.dispatchEvent(xEvent))}},{"./instances":18}],21:[function(require,module,exports){"use strict";var d=require("../lib/dom"),h=require("../lib/helper"),instances=require("./instances"),updateGeometry=require("./update-geometry"),updateScroll=require("./update-scroll");module.exports=function(element){var i=instances.get(element);i&&(i.negativeScrollAdjustment=i.isNegativeScroll?element.scrollWidth-element.clientWidth:0,d.css(i.scrollbarXRail,"display","block"),d.css(i.scrollbarYRail,"display","block"),i.railXMarginWidth=h.toInt(d.css(i.scrollbarXRail,"marginLeft"))+h.toInt(d.css(i.scrollbarXRail,"marginRight")),i.railYMarginHeight=h.toInt(d.css(i.scrollbarYRail,"marginTop"))+h.toInt(d.css(i.scrollbarYRail,"marginBottom")),d.css(i.scrollbarXRail,"display","none"),d.css(i.scrollbarYRail,"display","none"),updateGeometry(element),updateScroll(element,"top",element.scrollTop),updateScroll(element,"left",element.scrollLeft),d.css(i.scrollbarXRail,"display",""),d.css(i.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function($){"use strict";$.Zebra_Pin=function(elements,options){var defaults={class_name:"Zebra_Pin",contain:!1,hard:!1,top_spacing:0,bottom_spacing:0,z_index:9999,onPin:null,onUnpin:null},plugin=this,uniqueid=(Math.random()+1).toString(36).substring(2,7);plugin.settings={};var _init=function(){plugin.settings=$.extend({},defaults,options),plugin.update(),$(window).on("resize",function(){plugin.update()})};plugin.update=function(){elements.each(function(index){void 0===$(this).data("Zebra_Pin_Position")?$(this).data("Zebra_Pin_Position",$(this).css("position")):$(this).css("position",$(this).data("Zebra_Pin_Position"));var $element=$(this),offset=$element.offset(),position=$element.position(),height=$element.outerHeight(),margin_left=parseInt($element.css("marginLeft"),10)||0,margin_top=parseInt($element.css("marginTop"),10)||0;if(offset.left-=margin_left,offset.top-=margin_top,plugin.settings.contain)var $container=$element.parent(),container_height=$container.height(),container_offset=$container.offset();if(plugin.settings.hard)$element.css({position:"fixed",left:offset.left,top:offset.top,zIndex:plugin.settings.z_index}).addClass(plugin.settings.class_name);else{$element.css({zIndex:plugin.settings.z_index}).removeClass(plugin.settings.class_name);var proxy=".Zebra_Pin_"+uniqueid+"_"+index;$(window).off("scroll"+proxy).on("scroll"+proxy,$.throttle(50,function(){var scroll=$(window).scrollTop();scroll>=offset.top-plugin.settings.top_spacing&&(!plugin.settings.contain||scroll<=container_offset.top+container_height-height-plugin.settings.bottom_spacing)&&"fixed"!=$element.css("position")?($element.css({position:"fixed",left:offset.left,top:plugin.settings.top_spacing}).addClass(plugin.settings.class_name),plugin.settings.onPin&&"function"==typeof plugin.settings.onPin&&plugin.settings.onPin(offset.top-plugin.settings.top_spacing,$element,index)):scroll<offset.top-plugin.settings.top_spacing&&"absolute"!=$element.css("position")?($element.css({position:"absolute",left:position.left,top:position.top}).removeClass(plugin.settings.class_name),plugin.settings.onUnpin&&"function"==typeof plugin.settings.onUnpin&&plugin.settings.onUnpin(offset.top-plugin.settings.top_spacing,$element,index)):plugin.settings.contain&&scroll>=container_offset.top+container_height-height-plugin.settings.bottom_spacing&&"absolute"!=$element.css("position")&&($element.css({position:"absolute",left:position.left,top:container_offset.top+container_height-height-plugin.settings.bottom_spacing}).removeClass(plugin.settings.class_name),plugin.settings.onUnpin&&"function"==typeof plugin.settings.onUnpin&&plugin.settings.onUnpin(container_offset.top+container_height-height-plugin.settings.bottom_spacing,$element,index))})),$(window).trigger("scroll"+proxy)}})},_init()}}(jQuery),!function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){function removeElement(){$parent.trigger("closed").remove()}var $parent,$this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),$parent=$(selector),e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.on($.support.transition.end,removeElement):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("alert");data||$this.data("alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.alert.data-api",dismiss,Alert.prototype.close)}(window.jQuery),!function($){"use strict";var Modal=function(element,options){this.options=options,this.$element=$(element).on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").on("load",this.options.remote)};Modal.prototype={constructor:Modal,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var that=this,e=$.Event("show");this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(document.body),that.$element.show(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus(),transition?that.$element.one($.support.transition.end,function(){that.$element.focus().trigger("shown")}):that.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=$.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),$.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var that=this;$(document).on("focusin.modal",function(e){
that.$element[0]===e.target||that.$element.has(e.target).length||that.$element.focus()})},escape:function(){var that=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&that.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end),that.hideModal()},500);this.$element.one($.support.transition.end,function(){clearTimeout(timeout),that.hideModal()})},hideModal:function(){var that=this;this.$element.hide(),this.backdrop(function(){that.removeBackdrop(),that.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?$.proxy(this.$element[0].focus,this.$element[0]):$.proxy(this.hide,this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback):callback()):callback&&callback()}};var old=$.fn.modal;$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data("modal"),options=$.extend({},$.fn.modal.defaults,$this.data(),"object"==typeof option&&option);data||$this.data("modal",data=new Modal(this,options)),"string"==typeof option?data[option]():options.show&&data.show()})},$.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault(),$target.modal(option).one("hide",function(){$this.focus()})})}(window.jQuery),!function($){"use strict";var Modal=function(element,options){this.init(element,options)};Modal.prototype={constructor:Modal,init:function(element,options){this.options=options,this.$element=$(element).on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").on("load",this.options.remote);var manager="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;manager=manager.appendModal?manager:$(manager).modalmanager().data("modalmanager"),manager.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=$.Event("show");this.isShown||(this.$element.trigger(e),e.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(e){return e&&e.preventDefault(),e=$.Event("hide"),this.$element.trigger(e),!this.isShown||e.isDefaultPrevented()?this.isShown=!1:(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),$(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),void($.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()))},layout:function(){var prop=this.options.height?"height":"max-height",value=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var that=this;this.$element.css("margin-left",function(){return/%/gi.test(that.options.width)?-(parseInt(that.options.width)/2)+"%":-($(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(prop,""),value&&this.$element.find(".modal-body").css("overflow","auto").css(prop,value);var modalOverflow=$(window).height()-10<this.$element.height();modalOverflow||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var that=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(e){if(e.keyCode&&9==e.keyCode){var $next=$(this),$rollover=$(this);that.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(e){$next=e.shiftKey?$next.data("tabindex")>$(this).data("tabindex")?$next=$(this):$rollover=$(this):$next.data("tabindex")<$(this).data("tabindex")?$next=$(this):$rollover=$(this)}),$next[0]!==$(this)[0]?$next.focus():$rollover.focus(),e.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var that=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&that.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end),that.hideModal()},500);this.$element.one($.support.transition.end,function(){clearTimeout(timeout),that.hideModal()})},hideModal:function(){var prop=this.options.height?"height":"max-height",value=this.options.height||this.options.maxHeight;value&&this.$element.find(".modal-body").css("overflow","").css(prop,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(callback){callback=callback||function(){};var animate=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var that=this;$.support.transition&&this.$element.hasClass("fade")?this.$loading.one($.support.transition.end,function(){that.removeLoading()}):that.removeLoading()}else callback&&callback(this.isLoading);else{var doAnimate=$.support.transition&&animate;this.$loading=$('<div class="loading-mask '+animate+'">').append(this.options.spinner).appendTo(this.$element),doAnimate&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,doAnimate?this.$loading.one($.support.transition.end,callback):callback()}},focus:function(){var $focusElem=this.$element.find(this.options.focusOn);$focusElem=$focusElem.length?$focusElem:this.$element,$focusElem.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var that=this;setTimeout(function(){that.$element.addClass("animated").addClass(that.options.attentionAnimation)},0)}this.focus()},destroy:function(){var e=$.Event("destroy");this.$element.trigger(e),e.isDefaultPrevented()||this.teardown()},teardown:function(){return this.$parent.length?(this.$parent!==this.$element.parent()&&this.$element.appendTo(this.$parent),this.$element.off(".modal"),this.$element.removeData("modal"),void this.$element.removeClass("in").attr("aria-hidden",!0)):(this.$element.remove(),void(this.$element=null))}},$.fn.modal=function(option,args){return this.each(function(){var $this=$(this),data=$this.data("modal"),options=$.extend({},$.fn.modal.defaults,$this.data(),"object"==typeof option&&option);data||$this.data("modal",data=new Modal(this,options)),"string"==typeof option?data[option].apply(data,[].concat(args)):options.show&&data.show()})},$.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},$.fn.modal.Constructor=Modal,$(function(){$(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault(),$target.modal(option).one("hide",function(){$this.focus()})})})}(window.jQuery),!function($){"use strict";function targetIsSelf(callback){return function(e){if(this===e.target)return callback.apply(this,arguments)}}var ModalManager=function(element,options){this.init(element,options)};ModalManager.prototype={constructor:ModalManager,init:function(element,options){if(this.$element=$(element),this.options=$.extend({},$.fn.modalmanager.defaults,this.$element.data(),"object"==typeof options&&options),this.stack=[],this.backdropCount=0,this.options.resize){var resizeTimeout,that=this;$(window).on("resize.modal",function(){resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(function(){for(var i=0;i<that.stack.length;i++)that.stack[i].isShown&&that.stack[i].layout()},10)})}},createModal:function(element,options){$(element).modal($.extend({manager:this},options))},appendModal:function(modal){this.stack.push(modal);var that=this;modal.$element.on("show.modalmanager",targetIsSelf(function(e){var showModal=function(){modal.isShown=!0;var transition=$.support.transition&&modal.$element.hasClass("fade");that.$element.toggleClass("modal-open",that.hasOpenModal()).toggleClass("page-overflow",$(window).height()<that.$element.height()),modal.$parent=modal.$element.parent(),modal.$container=that.createContainer(modal),modal.$element.appendTo(modal.$container),that.backdrop(modal,function(){modal.$element.show(),transition&&modal.$element[0].offsetWidth,modal.layout(),modal.$element.addClass("in").attr("aria-hidden",!1);var complete=function(){modal.$element.trigger("shown")};transition?modal.$element.one($.support.transition.end,complete):complete()})};modal.options.replace?that.replace(showModal):showModal()})),modal.$element.on("hidden.modalmanager",targetIsSelf(function(e){that.backdrop(modal),modal.$backdrop&&$.support.transition&&modal.$element.hasClass("fade")?modal.$backdrop.one($.support.transition.end,function(){that.destroyModal(modal)}):that.destroyModal(modal)})),modal.$element.on("destroy.modalmanager",targetIsSelf(function(e){that.removeModal(modal)}))},destroyModal:function(modal){modal.destroy();var hasOpenModal=this.hasOpenModal();this.$element.toggleClass("modal-open",hasOpenModal),hasOpenModal||this.$element.removeClass("page-overflow"),this.removeContainer(modal),this.setFocus()},hasOpenModal:function(){for(var i=0;i<this.stack.length;i++)if(this.stack[i].isShown)return!0;return!1},setFocus:function(){for(var topModal,i=0;i<this.stack.length;i++)this.stack[i].isShown&&(topModal=this.stack[i]);topModal&&topModal.focus()},removeModal:function(modal){modal.$element.off(".modalmanager"),modal.$backdrop&&this.removeBackdrop(modal),this.stack.splice(this.getIndexOfModal(modal),1)},getModalAt:function(index){return this.stack[index]},getIndexOfModal:function(modal){for(var i=0;i<this.stack.length;i++)if(modal===this.stack[i])return i},replace:function(callback){for(var topModal,i=0;i<this.stack.length;i++)this.stack[i].isShown&&(topModal=this.stack[i]);topModal?(this.$backdropHandle=topModal.$backdrop,topModal.$backdrop=null,callback&&topModal.$element.one("hidden",targetIsSelf($.proxy(callback,this))),topModal.hide()):callback&&callback()},removeBackdrop:function(modal){modal.$backdrop.remove(),modal.$backdrop=null},createBackdrop:function(animate){var $backdrop;return this.$backdropHandle?($backdrop=this.$backdropHandle,$backdrop.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$element),$backdrop},removeContainer:function(modal){modal.$container.remove(),modal.$container=null},createContainer:function(modal){var $container;return $container=$('<div class="modal-scrollable">').css("z-index",getzIndex("modal",modal?this.getIndexOfModal(modal):this.stack.length)).appendTo(this.$element),modal&&"static"!=modal.options.backdrop?$container.on("click.modal",targetIsSelf(function(e){modal.hide()})):modal&&$container.on("click.modal",targetIsSelf(function(e){modal.attention()})),$container},backdrop:function(modal,callback){var animate=modal.$element.hasClass("fade")?"fade":"",showBackdrop=modal.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(modal.isShown&&showBackdrop){var doAnimate=$.support.transition&&animate&&!this.$backdropHandle;modal.$backdrop=this.createBackdrop(animate),modal.$backdrop.css("z-index",getzIndex("backdrop",this.getIndexOfModal(modal))),doAnimate&&modal.$backdrop[0].offsetWidth,modal.$backdrop.addClass("in"),this.backdropCount+=1,doAnimate?modal.$backdrop.one($.support.transition.end,callback):callback()}else if(!modal.isShown&&modal.$backdrop){modal.$backdrop.removeClass("in"),this.backdropCount-=1;var that=this;$.support.transition&&modal.$element.hasClass("fade")?modal.$backdrop.one($.support.transition.end,function(){that.removeBackdrop(modal)}):that.removeBackdrop(modal)}else callback&&callback()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(callback){if(callback=callback||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",$(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var that=this;$.support.transition?this.$backdropHandle.one($.support.transition.end,function(){that.removeLoading()}):that.removeLoading()}else callback&&callback(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade"),this.$backdropHandle[0].offsetWidth,this.$backdropHandle.css("z-index",getzIndex("backdrop",this.stack.length)).addClass("in");var $spinner=$(this.options.spinner).css("z-index",getzIndex("modal",this.stack.length)).appendTo(this.$element).addClass("in");this.$spinner=$(this.createContainer()).append($spinner).on("click.modalmanager",$.proxy(this.loading,this)),this.isLoading=!0,$.support.transition?this.$backdropHandle.one($.support.transition.end,callback):callback()}}};var getzIndex=function(){var zIndexFactor,baseIndex={};return function(type,pos){if("undefined"==typeof zIndexFactor){var $baseModal=$('<div class="modal hide" />').appendTo("body"),$baseBackdrop=$('<div class="modal-backdrop hide" />').appendTo("body");baseIndex.modal=+$baseModal.css("z-index"),baseIndex.backdrop=+$baseBackdrop.css("z-index"),zIndexFactor=baseIndex.modal-baseIndex.backdrop,$baseModal.remove(),$baseBackdrop.remove(),$baseBackdrop=$baseModal=null}return baseIndex[type]+zIndexFactor*pos}}();$.fn.modalmanager=function(option,args){return this.each(function(){var $this=$(this),data=$this.data("modalmanager");data||$this.data("modalmanager",data=new ModalManager(this,option)),"string"==typeof option&&data[option].apply(data,[].concat(args))})},$.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},$.fn.modalmanager.Constructor=ModalManager}(jQuery),!function($){"use strict";var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut,triggers,trigger,i;for(this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.enabled=!0,triggers=this.options.trigger.split(" "),i=triggers.length;i--;)trigger=triggers[i],"click"==trigger?this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this)):"manual"!=trigger&&(eventIn="hover"==trigger?"mouseenter":"focus",eventOut="hover"==trigger?"mouseleave":"blur",this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this)));this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(options){return options=$.extend({},$.fn[this.type].defaults,this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},enter:function(e){var self,defaults=$.fn[this.type].defaults,options={};return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)},this),self=$(e.currentTarget)[this.type](options).data(this.type),self.options.delay&&self.options.delay.show?(clearTimeout(this.timeout),self.hoverState="in",void(this.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show))):self.show()},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),self.options.delay&&self.options.delay.hide?(self.hoverState="out",void(this.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide))):self.hide()},show:function(){var $tip,pos,actualWidth,actualHeight,placement,tp,e=$.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;switch($tip=this.tip(),this.setContent(),this.options.animation&&$tip.addClass("fade"),placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,$tip.detach().css({top:0,left:0,display:"block"}),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,placement){case"bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case"top":tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case"right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}this.applyPlacement(tp,placement),this.$element.trigger("shown")}},applyPlacement:function(offset,placement){var actualWidth,actualHeight,delta,replace,$tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight;$tip.offset(offset).addClass(placement).addClass("in"),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight,replace=!0),"bottom"==placement||"top"==placement?(delta=0,offset.left<0&&(delta=offset.left*-2,offset.left=0,$tip.offset(offset),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight),this.replaceArrow(delta-width+actualWidth,actualWidth,"left")):this.replaceArrow(actualHeight-height,actualHeight,"top"),replace&&$tip.offset(offset)},replaceArrow:function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},setContent:function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},hide:function(){function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).detach()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout),$tip.detach()})}var $tip=this.tip(),e=$.Event("hide");if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var el=this.$element[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},getTitle:function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},tip:function(){return this.$tip=this.$tip||$(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var self=e?$(e.currentTarget)[this.type](this._options).data(this.type):this;self.tip().hasClass("in")?self.hide():self.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options="object"==typeof option&&option;data||$this.data("tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(window.jQuery),!function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype,{constructor:Popover,setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content")[this.options.html?"html":"text"](content),$tip.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var content,$e=this.$element,o=this.options;return content=("function"==typeof o.content?o.content.call($e[0]):o.content)||$e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("popover"),options="object"==typeof option&&option;data||$this.data("popover",data=new Popover(this,options)),"string"==typeof option&&data[option]()})},$.fn.popover.Constructor=Popover,$.fn.popover.defaults=$.extend({},$.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(window.jQuery),!function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype={constructor:Tab,show:function(){var previous,$target,e,$this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),$this.parent("li").hasClass("active")||(previous=$ul.find(".active:last a")[0],e=$.Event("show",{relatedTarget:previous}),$this.trigger(e),e.isDefaultPrevented()||($target=$(selector),this.activate($this.parent("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown",relatedTarget:previous})})))},activate:function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one($.support.transition.end,next):next(),$active.removeClass("in")}};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("tab");data||$this.data("tab",data=new Tab(this)),"string"==typeof option&&data[option]()})},$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),$(this).tab("show")})}(window.jQuery),!function($){"use strict";var Typeahead=function(element,options){this.$element=$(element),this.options=$.extend({},$.fn.typeahead.defaults,options),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=$(this.options.menu),this.shown=!1,this.listen()};Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(val)).change(),this.hide()},updater:function(item){return item},show:function(){var pos=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:pos.top+pos.height,left:pos.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(event){var items;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(items=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source,items?this.process(items):this)},process:function(items){var that=this;return items=$.grep(items,function(item){return that.matcher(item)}),items=this.sorter(items),items.length?this.render(items.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){for(var item,beginswith=[],caseSensitive=[],caseInsensitive=[];item=items.shift();)item.toLowerCase().indexOf(this.query.toLowerCase())?~item.indexOf(this.query)?caseSensitive.push(item):caseInsensitive.push(item):beginswith.push(item);return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return item.replace(new RegExp("("+query+")","ig"),function($1,match){return"<strong>"+match+"</strong>"})},render:function(items){var that=this;return items=$(items).map(function(i,item){return i=$(that.options.item).attr("data-value",item),i.find("a").html(that.highlighter(item)),i[0]}),this.$menu.html(items),this},next:function(event){var active=this.$menu.find(".active").removeClass("active"),next=active.next();next.length||(next=$(this.$menu.find("li")[0])),next.addClass("active")},prev:function(event){var active=this.$menu.find(".active").removeClass("active"),prev=active.prev();prev.length||(prev=this.$menu.find("li").last()),prev.addClass("active")},listen:function(){this.$element.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",$.proxy(this.keydown,this)),this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this))},eventSupported:function(eventName){var isSupported=eventName in this.$element;return isSupported||(this.$element.setAttribute(eventName,"return;"),isSupported="function"==typeof this.$element[eventName]),isSupported},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~$.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),$(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var old=$.fn.typeahead;$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data("typeahead"),options="object"==typeof option&&option;data||$this.data("typeahead",data=new Typeahead(this,options)),"string"==typeof option&&data[option]()})},$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},$.fn.typeahead.Constructor=Typeahead,$.fn.typeahead.noConflict=function(){return $.fn.typeahead=old,this},$(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var $this=$(this);$this.data("typeahead")||$this.typeahead($this.data())})}(window.jQuery),function($,_,undefined){function transformObjectPropertiesFn(keys_map){return function(obj,localToPublic){var new_obj={};return localToPublic?_.each(keys_map,function(v,k){new_obj[v]=obj[k]}):_.each(keys_map,function(v,k){new_obj[k]=obj[v]}),new_obj}}var KEY={V:86,Z:90,BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35,DELETE:46},defaultSettings={onDataRequest:$.noop,realValOnSubmit:!0,triggers:{"@":{}},templates:{wrapper:_.template('<div class="text-wrapper"></div>'),beautifier:_.template('<div class="text-beautifier"><div></div></div>'),tagHighlight:_.template('<strong class="<%= class_name %>"><span>$<%= idx %></span></strong>'),tagList:_.template('<div class="text-tag-list"></div>'),tagsListItem:_.template("<li><%= title %><%= description %></li>"),tagsListItemImage:_.template('<img src="<%= img %>" />'),tagsListItemIcon:_.template('<div class="icon <%= no_img_class %>"></div>')}},trigger_defaults={minChars:2,uniqueTags:!0,showImageOrIcon:!0,keys_map:{id:"id",title:"name",description:"",img:"avatar",no_img_class:"icon",type:"type"},syntax:_.template("@[[<%= id %>:<%= type %>:<%= title %>]]"),parser:/(@)\[\[(\d+):([\w\s\.\-]+):([\w\s@\.,-\/#!$%\^&\*;:{}=\-_`~()]+)\]\]/gi,parserGroups:{id:2,type:3,title:4},classes:{tagsDropDown:"",tagActiveDropDown:"active",tagHighlight:""}},transformObjectProperties=_.memoize(transformObjectPropertiesFn),utils={htmlEncode:function(str){return _.escape(str)},highlightTerm:function(value,term){return term||term.length?value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):value},setCaratPosition:function(domNode,caretPos){if(domNode.createTextRange){var range=domNode.createTextRange();range.move("character",caretPos),range.select()}else domNode.selectionStart?(domNode.focus(),
domNode.setSelectionRange(caretPos,caretPos)):domNode.focus()}},TextNTags=function(editor){function setSettings(options){return null==settings&&(settings=$.extend(!0,{},defaultSettings,options),delete settings.triggers[""],_.each(settings.triggers,function(val,key){if(settings.triggers[key]=$.extend(!0,{},trigger_defaults,val),_.find(REGEX_ESCAPE_CHARS,function(character){return character===key}))var regex_key="\\"+key;else var regex_key=key;settings.triggers[key].finder=new RegExp(regex_key+"\\w+(\\s+\\w+)?\\s?$","gi")}),templates=settings.templates,!0)}function initTextarea(){elEditor=$(editor).on({click:onEditorClick,keydown:onEditorKeyDown,keypress:onEditorKeyPress,keyup:onEditorKeyUp,input:onEditorInput,blur:onEditorBlur}),elContainer=elEditor.wrapAll($(templates.wrapper())).parent(),settings.realValOnSubmit&&elEditor.closest("form").on("submit.textntags",function(event){elContainer.css("visibility","hidden"),elEditor.val(getTaggedText())})}function initTagList(){elTagList=$(templates.tagList()),elTagList.appendTo(elContainer),elTagList.on("click","li",onTagListItemClick)}function initBeautifier(){elBeautifier=$(templates.beautifier()),elBeautifier.prependTo(elContainer),elBeautifierInner=elBeautifier.find("div")}function initState(){var text_with_tags=getEditorValue(),initialState=parseTaggedText(text_with_tags);if(tagsCollection=initialState.tagsCollection,elEditor.val(initialState.plain_text),updateBeautifier(),tagsCollection.length>0){var addedTags=_.uniq(_.map(tagsCollection,function(tagPos){return tagPos[3]}));elEditor.trigger("tagsAdded.textntags",[addedTags])}}function getEditorValue(){return elEditor.val()}function getBeautifiedText(tagged_text){var beautified_text=tagged_text||getTaggedText();return _.each(settings.triggers,function(trigger){var markup=templates.tagHighlight({idx:trigger.parserGroups.title,class_name:trigger.classes.tagHighlight});beautified_text=beautified_text.replace(trigger.parser,markup)}),beautified_text=beautified_text.replace(/\n/g,"<br />&shy;"),beautified_text=beautified_text.replace(/ {2}/g," &nbsp;")+"&shy;"}function getTaggedText(){var tagged_text,plain_text=getEditorValue(),position=0,triggers=settings.triggers;return tagged_text=_.map(tagsCollection,function(tagPos){var diff_pos=tagPos[0]-position,diff_text=diff_pos>0?plain_text.substr(position,diff_pos):"",objPropTransformer=transformObjectProperties(triggers[tagPos[2]].keys_map),tagText=triggers[tagPos[2]].syntax(objPropTransformer(tagPos[3],!1));return position=tagPos[0]+tagPos[1],diff_text+tagText}),tagged_text.join("")+plain_text.substr(position)}function parseTaggedText(tagged_text){if(0==_.isString(tagged_text))return null;var plain_text=""+tagged_text,tagsColl=[],triggers=settings.triggers;return _.each(triggers,function(opts,tchar){for(var found_tag,found_len,part_len,parts=tagged_text.split(opts.parser),idx=0,pos=0,len=parts.length,max_group=_.max(opts.parserGroups);idx<len;)parts[idx]==tchar?(found_tag={},_.each(opts.parserGroups,function(v,k){found_tag[opts.keys_map[k]]=parts[idx+v-1],"title"==k&&(found_len=parts[idx+v-1].length)}),tagsColl.push([pos,found_len,tchar,found_tag]),part_len=found_len,idx+=max_group):(part_len=parts[idx].length,idx+=1),pos+=part_len}),tagsColl=_.sortBy(tagsColl,function(tagPos){return tagPos[0]}),_.each(triggers,function(opts,tchar){plain_text=plain_text.replace(opts.parser,"$"+opts.parserGroups.title)}),{plain_text:plain_text,tagged_text:tagged_text,tagsCollection:tagsColl}}function updateBeautifier(){text=getBeautifiedText(),text=text.replace("<script>","&lt;script&gt;").replace("</script>","&lt;/script&gt;"),updInterval=setTimeout(function(){elBeautifierInner[0].innerHTML=text,elEditor.outerHeight()!=elBeautifier.outerHeight()&&elEditor.css("height",elBeautifier.outerHeight()+"px")},100)}function checkForTrigger(look_ahead){look_ahead=look_ahead||0;var selectionStartFix=$.browser.webkit?0:-1,sStart=elEditor[0].selectionStart+selectionStartFix,left_text=elEditor.val().substr(0,sStart+look_ahead),found_trigger=null,found_trigger_char=null,query=null;left_text&&left_text.length&&(found_trigger=_.find(settings.triggers,function(trigger,tchar){var matches=left_text.match(trigger.finder);return!!matches&&(found_trigger_char=tchar,query=matches[0].substr(tchar.length),!0)}),!found_trigger_char||found_trigger&&query.length<found_trigger.minChars?hideTagList():(currentDataQuery=query,currentTriggerChar=found_trigger_char,_.defer(_.bind(searchTags,this,currentDataQuery,found_trigger_char))))}function onEditorClick(e){checkForTrigger(0)}function onEditorKeyDown(e){var keys=KEY,sStart=elEditor[0].selectionStart,sEnd=elEditor[0].selectionEnd,plain_text=elEditor.val();switch(editorSelectionLength=sEnd-sStart,editorTextLength=plain_text.length,editorKeyCode=e.keyCode,e.keyCode){case keys.UP:case keys.DOWN:if(!elTagList.is(":visible"))return!0;var elCurrentTagListItem=null;return elCurrentTagListItem=e.keyCode==keys.DOWN?elTagListItemActive&&elTagListItemActive.length?elTagListItemActive.next():elTagList.find("li").first():elTagListItemActive&&elTagListItemActive.length?elTagListItemActive.prev():elTagList.find("li").last(),selectTagListItem(elCurrentTagListItem,settings.triggers[currentTriggerChar].classes.tagActiveDropDown),!1;case keys.RETURN:case keys.TAB:return!elTagListItemActive||!elTagListItemActive.length||(editorAddingTag=!0,elTagListItemActive.click(),!1);case keys.BACKSPACE:case keys.DELETE:return e.keyCode==keys.BACKSPACE&&sStart==sEnd&&sStart>0&&(sStart-=1),sEnd>sStart&&(removeTagsInRange(sStart,sEnd),shiftTagsPosition(sStart,sStart-sEnd)),!0;case keys.LEFT:case keys.RIGHT:case keys.HOME:case keys.END:_.defer(function(){checkForTrigger.call(this,0)});break;case keys.V:e.ctrlKey&&(editorInPasteMode=!0,editorPasteStartPosition=sStart,editorPasteCutCharacters=sEnd-sStart,removeTagsInRange(sStart,sEnd));break;case keys.Z:e.ctrlKey}return!0}function onEditorKeyPress(e){e.keyCode==KEY.RETURN&&updateBeautifier(elEditor.val()),editorAddingTag&&(e.keyCode!=KEY.RETURN&&e.keyCode!=KEY.TAB||e.preventDefault(),editorAddingTag=!1)}function onEditorKeyUp(e){if(editorInPasteMode){if(editorInPasteMode=!1,editorSelectionLength>0)return;var sEnd=(elEditor[0].selectionStart,elEditor[0].selectionEnd);shiftTagsPosition(editorPasteStartPosition,sEnd-editorPasteStartPosition-editorPasteCutCharacters),updateBeautifier()}}function onEditorInput(e){var selectionStartFix=$.browser.webkit?0:-1;if(editorKeyCode!=KEY.BACKSPACE&&editorKeyCode!=KEY.DELETE)if(editorSelectionLength>0){var sStart=elEditor[0].selectionStart+selectionStartFix,selectionLength=editorSelectionLength,sEnd=sStart+selectionLength,tags_shift_positions=elEditor.val().length-editorTextLength;removeTagsInRange(sStart,sEnd),shiftTagsPosition(sEnd,tags_shift_positions)}else if(!editorInPasteMode){var sStart=elEditor[0].selectionStart+selectionStartFix,sEnd=elEditor[0].selectionEnd+selectionStartFix,selectionLength=sEnd-sStart;editorKeyCode==KEY.RETURN?(shiftTagsPosition(sStart-1,1),removeTagsInRange(sStart,sStart)):(shiftTagsPosition(sStart,1),removeTagsInRange(sStart,sStart+1))}updateBeautifier(),checkForTrigger(1)}function onEditorBlur(e){_.delay(hideTagList,100)}function hideTagList(){elTagListItemActive=null,elTagList.hide().empty()}function onTagListItemClick(e){return addTag($(this).data("tag")),!1}function removeTagsInRange(start,end){var removedTags=[];tagsCollection=_.filter(tagsCollection,function(tagPos){var s=tagPos[0],e=s+tagPos[1],inRange=s>=start&&s<end||e>start&&e<=end||s<start&&e>end;return inRange&&removedTags.push(tagPos[3]),!inRange}),removedTags.length>0&&elEditor.trigger("tagsRemoved.textntags",[removedTags])}function shiftTagsPosition(afterPosition,position_shift){tagsCollection=_.map(tagsCollection,function(tagPos){return tagPos[0]>=afterPosition&&(tagPos[0]+=position_shift),tagPos})}function addTag(tag){var trigger=settings.triggers[currentTriggerChar],objPropTransformer=transformObjectProperties(trigger.keys_map),localTag=objPropTransformer(tag,!1),plain_text=getEditorValue(),sStart=elEditor[0].selectionStart,tagStart=sStart-currentTriggerChar.length-currentDataQuery.length,newCaretPosition=tagStart+localTag.title.length,left_text=plain_text.substr(0,tagStart),right_text=plain_text.substr(sStart),new_text=left_text+localTag.title+right_text;shiftTagsPosition(sStart,newCaretPosition-sStart),tag[trigger.keys_map.id]=""+tag[trigger.keys_map.id],tagsCollection.push([tagStart,localTag.title.length,currentTriggerChar,tag]),tagsCollection=_.sortBy(tagsCollection,function(t){return t[0]}),currentTriggerChar="",currentDataQuery="",hideTagList(),elEditor.val(new_text),updateBeautifier(),elEditor.focus(),utils.setCaratPosition(elEditor[0],newCaretPosition),elEditor.trigger("tagsAdded.textntags",[[tag]])}function selectTagListItem(tagItem,class_name){tagItem&&tagItem.length?(tagItem.addClass(class_name),tagItem.siblings().removeClass(class_name),elTagListItemActive=tagItem):(elTagListItemActive.removeClass(class_name),elTagListItemActive=null)}function populateTagList(query,triggerChar,results){var trigger=settings.triggers[triggerChar];if(trigger.uniqueTags){var id_key=trigger.keys_map.id,tagIds=_.map(tagsCollection,function(tagPos){return tagPos[3][id_key]});results=_.reject(results,function(item){return _.include(tagIds,""+item[id_key])})}if(results.length){var tagsDropDown=$("<ul />").addClass(trigger.classes.tagsDropDown).appendTo(elTagList),imgOrIconTpl=trigger.showImageOrIcon?templates.tagsListItemImage:templates.tagsListItemIcon,objPropTransformer=transformObjectProperties(trigger.keys_map);_.each(results,function(tag,index){var tagItem,localTag=objPropTransformer(tag,!1);localTag.title=utils.highlightTerm(utils.htmlEncode(localTag.title),query),tagItem=$(templates.tagsListItem(localTag)).data("tag",tag),localTag.img&&(tagItem=tagItem.prepend(imgOrIconTpl(localTag))),tagItem.appendTo(tagsDropDown),0===index&&selectTagListItem(tagItem,trigger.classes.tagActiveDropDown)}),elTagList.show()}}function searchTags(query,triggerChar){hideTagList(),settings.onDataRequest.call(this,"search",query,triggerChar,function(responseData){populateTagList(query,triggerChar,responseData)})}var templates,elContainer,elEditor,elBeautifier,elTagList,elTagListItemActive,elBeautifierInner,tagsCollection,currentTriggerChar,currentDataQuery,settings=null,editorSelectionLength=0,editorTextLength=0,editorKeyCode=0,editorAddingTag=!1,editorInPasteMode=!1,editorPasteStartPosition=0,editorPasteCutCharacters=0,REGEX_ESCAPE_CHARS=["[","^","$",".","|","?","*","+","(",")","\\"];return{init:function(options){setSettings(options)&&(initTextarea(),initTagList(),initBeautifier(),initState())},val:function(callback){if(_.isString(callback)){var removedTags=_.uniq(_.map(tagsCollection,function(tagPos){return tagPos[3]}));return elEditor.trigger("tagsRemoved.textntags",[removedTags]),elEditor.val(callback),void initState()}if(_.isFunction(callback)){var value=tagsCollection.length?getTaggedText():getEditorValue();callback.call(this,value)}},reset:function(){var removedTags=_.uniq(_.map(tagsCollection,function(tagPos){return tagPos[3]}));elEditor.trigger("tagsRemoved.textntags",[removedTags]),elEditor.val(""),tagsCollection=[],updateBeautifier()},getTags:function(callback){if(_.isFunction(callback)){var tags=_.map(tagsCollection,function(tagPos){return tagPos[3]});callback.call(this,_.uniq(tags))}},getTagsMap:function(callback){_.isFunction(callback)&&callback.call(this,tagsCollection)},getTagsMapFacebook:function(callback){if(_.isFunction(callback)){var fbTagsCollection={},triggers=settings.triggers;_.each(tagsCollection,function(tagPos){var objPropTransformer=transformObjectProperties(triggers[tagPos[2]].keys_map),localTag=objPropTransformer(tagPos[3],!1);fbTagsCollection[tagPos[0]]=[{id:localTag.id,name:localTag.title,type:localTag.type,offset:tagPos[0],length:tagPos[1]}]}),callback.call(this,fbTagsCollection)}},parseTaggedText:function(tagged_text,callback){_.isFunction(callback)&&callback.call(this,parseTaggedText(tagged_text))}}};$.fn.textntags=function(methodOrSettings){var outerArguments=arguments;return this.each(function(){var ms=methodOrSettings,instance=$.data(this,"textntags")||$.data(this,"textntags",new TextNTags(this));return _.isFunction(instance[ms])?instance[ms].apply(this,Array.prototype.slice.call(outerArguments,1)):"object"!=typeof ms&&ms?void $.error("Method "+ms+" does not exist"):instance.init.call(this,ms)})}}(jQuery,_),!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,o,a){function l(t,e,n){var s,o="$()."+i+'("'+e+'")';return t.each(function(t,l){var h=a.data(l,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+o);var c=h[e];if(!c||"_"==e.charAt(0))return void r(o+" is not a valid method");var d=c.apply(h,n);s=void 0===s?d:s}),void 0!==s?s:t}function h(t,e){t.each(function(t,n){var s=a.data(n,i);s?(s.option(e),s._init()):(s=new o(n,e),a.data(n,i,s))})}a=a||e||t.jQuery,a&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=s.call(arguments,1);return l(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var s=Array.prototype.slice,o=t.console,r="undefined"==typeof o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,s=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];s;){var r=o&&o[s];r&&(this.off(t,s),delete o[s]),s.apply(this,e),n+=r?0:1,s=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<h;e++){var i=l[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function s(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o.isBoxSizeOuter=r=200==t(s.width),i.removeChild(e)}}function o(e){if(s(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==o.boxSizing,d=0;d<h;d++){var u=l[d],f=o[u],p=parseFloat(f);a[u]=isNaN(p)?0:p}var v=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,m=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,S=a.borderLeftWidth+a.borderRightWidth,E=a.borderTopWidth+a.borderBottomWidth,b=c&&r,x=t(o.width);x!==!1&&(a.width=x+(b?0:v+S));var C=t(o.height);return C!==!1&&(a.height=C+(b?0:g+E)),a.innerWidth=a.width-(v+S),a.innerHeight=a.height-(g+E),a.outerWidth=a.width+m,a.outerHeight=a.height+y,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=l.length,c=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],s=n+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void s.push(t);e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}}),s},i.debounceMethod=function(t,e,i){var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];t&&clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout(function(){n.apply(o,e),delete o[s]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),r="data-"+o,a=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+o),h=i.makeArray(a).concat(i.makeArray(l)),c=r+"-options",d=t.jQuery;h.forEach(function(t){var i,o=t.getAttribute(r)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var l=new e(t,i);d&&d.data(t,s,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelectedClass("add")},e.unselect=function(){this.changeSelectedClass("remove")},e.changeSelectedClass=function(t){this.cells.forEach(function(e){e.element.classList[t]("is-selected")})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=0;i||(i=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),s=setTimeout(t,i);return n=e+i,s});var s={};s.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},s.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;i(function(){e.animate()})}};var o=function(){var t=document.documentElement.style;return"string"==typeof t.transform?"transform":"WebkitTransform"}();return s.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&o?-t:t;var i=this.getPositionValue(t);this.slider.style[o]=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var s=-this.x-n.target,r=s/this.slidesWidth;this.dispatchEvent("scroll",null,[r,s])}},s.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},s.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},s.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},s.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},s._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=e>0?i:0;s.wrapShift(o),e-=s.size.outerWidth}},s._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},s.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},s.applyForce=function(t){this.velocity+=t},s.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},s.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},s.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},s.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var t=this.selectedSlide.target*-1-this.x,e=t*this.options.selectedAttraction;this.applyForce(e)}},s}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,n,s,o,r,a){return e(t,i,n,s,o,r,a)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,n,s,o,r){function a(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}function l(t,e){var i=n.getQueryElement(t);if(!i)return void(d&&d.error("Bad element for Flickity: "+(i||t)));if(this.element=i,this.element.flickityGUID){var s=f[this.element.flickityGUID];return s.option(e),s}h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}var h=t.jQuery,c=t.getComputedStyle,d=t.console,u=0,f={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var p=l.prototype;n.extend(p,e.prototype),p._create=function(){var e=this.guid=++u;this.element.flickityGUID=e,f[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),l.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){n.extend(this.options,t)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);a(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,i=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==i&&this.cells[i]?i:0,this.select(e,!1,!0),this.isInitActivated=!0}},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map(function(t){return new s(t,this)},this);return i},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach(function(e,s){if(!t.cells.length)return void t.addCell(e);var r=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,r)?t.addCell(e):(t.updateTarget(),t=new o(this),this.slides.push(t),t.addCell(e))},this),t.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];t>0;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var o=h.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},p.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t]&&(this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},p._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e),o=Math.abs(s-this.selectedIndex),r=Math.abs(s+e-this.selectedIndex),a=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&r<o?t+=e:!this.isDragSelect&&a<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(t,e,i){var n;"number"==typeof t?n=this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),n=this.getCell(t));for(var s=0;n&&s<this.slides.length;s++){var o=this.slides[s],r=o.cells.indexOf(n);if(r!=-1)return void this.select(s,e,i)}},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){
var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e?e:(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?n.modulo(o,i):o,a=this.slides[r];a&&(s=s.concat(a.getCellElements()))}return s},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(l,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=c(this.element,":after").content;e.indexOf("flickity")!=-1?this.activate():this.deactivate()}},p.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach(function(t){t.destroy()}),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),h&&this.$element&&h.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete f[this.guid]},n.extend(p,r),l.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&f[e]},n.htmlInit(l,"flickity"),h&&h.bridget&&h.bridget("flickity",l),l.Cell=s,l}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){i=void 0===i||!!i;var n=i?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[n]("pointerdown",this):t.navigator.msPointerEnabled?e[n]("MSPointerDown",this):(e[n]("mousedown",this),e[n]("touchstart",this))},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onMSPointerDown=s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return s._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onMSPointerMove=s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onMSPointerUp=s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.pointerDone=i,s.onMSPointerCancel=s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)};var o=t.navigator;return s._bindHandles=function(t){t=void 0===t||!!t;var e;e=o.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:o.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:i;for(var n=t?"addEventListener":"removeEventListener",s=0;s<this.handles.length;s++){var r=this.handles[s];this._bindStartEvent(r,t),e(r),r[n]("click",this)}},s.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},s._dragPointerDown=function(t,i){this.pointerDownPoint=e.getPointerPoint(i);var n=this.canPreventDefaultOnPointerDown(t,i);n&&t.preventDefault()},s.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},s._dragPointerMove=function(t,i){var n=e.getPointerPoint(i),s={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(s)&&this._dragStart(t,i),s},s.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},s._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},s._dragStart=function(t,i){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(i),this.isPreventingClicks=!0,this.dragStart(t,i)},s.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},s._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},s.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},s._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},s.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},s.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},s._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;"INPUT"!=i&&"TEXTAREA"!=i||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},s.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},n.getPointerPoint=e.getPointerPoint,n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(){return{x:t.pageXOffset,y:t.pageYOffset}}n.extend(e.defaults,{draggable:!0,dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;n.extend(o,i.prototype);var r="createTouch"in document,a=!1;o._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),r&&!a&&(t.addEventListener("touchmove",function(){}),a=!0)},o.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},o.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},o._uiChangeDrag=function(){delete this.isFreeScrolling},o._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)};var l={TEXTAREA:!0,INPUT:!0,OPTION:!0},h={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};o.pointerDown=function(e,i){var n=l[e.target.nodeName]&&!h[e.target.type];if(n)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,i);var o=document.activeElement;o&&o.blur&&o!=this.element&&o!=document.body&&o.blur(),this.pointerDownFocus(e),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(e),this.pointerDownScroll=s(),t.addEventListener("scroll",this),this.dispatchEvent("pointerDown",e,[i])};var c={touchstart:!0,MSPointerDown:!0},d={INPUT:!0,SELECT:!0};return o.pointerDownFocus=function(e){if(this.options.accessibility&&!c[e.type]&&!d[e.target.nodeName]){var i=t.pageYOffset;this.element.focus(),t.pageYOffset!=i&&t.scrollTo(t.pageXOffset,i)}},o.canPreventDefaultOnPointerDown=function(t){var e="touchstart"==t.type,i=t.target.nodeName;return!e&&"SELECT"!=i},o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},o.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},o.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,i){this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i])},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},o.dragMove=function(t,e,i){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>o?.5*(s+o):s;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<r?.5*(s+r):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},o.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])},o.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),s=i.distance<n.distance?i.index:n.index;return s},o._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(n+=i,s=e,e=this.getSlideDistance(-t,n),null!==e);)e=Math.abs(e);return{distance:s,index:n-i}},o.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,o=s?n.modulo(e,i):e,r=this.slides[o];if(!r)return null;var a=s?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+a)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},o.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},o.onscroll=function(){var t=s(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.TapListener=e(t,t.Unipointer)}(window,function(t,e){function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var s=e.getPointerPoint(n),o=this.tapElement.getBoundingClientRect(),r=t.pageXOffset,a=t.pageYOffset,l=s.x>=o.left+r&&s.x<=o.right+r&&s.y>=o.top+a&&s.y<=o.bottom+a;if(l&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var h=this;setTimeout(function(){delete h.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function s(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var r="http://www.w3.org/2000/svg";s.prototype=new i,s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=this.direction==-1;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(r,"svg");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(r,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},s.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()},s.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}s.prototype=new i,s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},s.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",o&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var s,o;"hidden"in document?(s="hidden",o="visibilitychange"):"webkitHidden"in document&&(s="webkitHidden",o="webkitvisibilitychange"),n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document[s];if(o&&t)return void document.addEventListener(o,this.onVisibilityPlay);this.state="playing",o&&document.addEventListener(o,this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),o&&document.removeEventListener(o,this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document[s];this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(o,this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var r=i.prototype;return r._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var o=n(i),r=e==s;if(r)this.slider.appendChild(o);else{var a=this.cells[e].element;this.slider.insertBefore(o,a)}if(0===e)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i);var h=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,h)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e,n,s=this.getCells(t),o=0,r=s.length;for(e=0;e<r;e++){n=s[e];var a=this.cells.indexOf(n)<this.selectedIndex;o-=a?1:0}for(e=0;e<r;e++)n=s[e],n.remove(),i.removeFrom(this.cells,n);s.length&&this._cellAddedRemoved(0,o)},s._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(t,!0),this.emitEvent("cellAddedRemoved",[t,e])},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.slideableWidth;if(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[t]),this.options.freeScroll){var n=i-this.slideableWidth;this.x+=n*this.cellAlign,this.positionSlider()}else e&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return i.makeArray(e)}function s(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var o=e.prototype;return o._createLazyload=function(){this.on("select",this.lazyLoad)},o.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),o=[];i.forEach(function(t){var e=n(t);o=o.concat(e)}),o.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=i.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(t,e){function i(t,e,i){return(e-t)*i+t}t.createMethods.push("_createAsNavFor");var n=t.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},n.setNavCompanion=function(i){i=e.getQueryElement(i);var n=t.data(i);if(n&&n!=this){this.navCompanion=n;var s=this;this.onNavCompanionSelect=function(){s.navCompanionSelect()},n.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){if(this.navCompanion){var e=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(e),s=n+this.navCompanion.selectedCells.length-1,o=Math.floor(i(n,s,this.navCompanion.cellAlign));if(this.selectCell(o,!1,t),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(n,s+1);this.navSelectedElements=r.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,o){return this instanceof s?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new s(t,e,o)}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console;s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var h={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},s.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){
var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(a=e,a.fn.imagesLoaded=function(t,e){var i=new s(this,t,e);return i.jqDeferred.promise(a(this))})},s.makeJQueryPlugin(),s}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){function t(t,i){var n=e.getParentCell(i.img);e.cellSizeChange(n&&n.element),e.options.freeScroll||e.positionSliderAtSelected()}if(this.options.imagesLoaded){var e=this;i(this.slider).on("progress",t)}},e}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?void 0:{},i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!0)}}),function(window,$,undefined){"use strict";var resizeTimeout,$event=$.event;$event.special.smartresize={setup:function(){$(this).on("resize",$event.special.smartresize.handler)},teardown:function(){$(this).off("resize",$event.special.smartresize.handler)},handler:function(event,execAsap){var context=this,args=arguments;event.type="smartresize",resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(function(){$event.dispatch.apply(context,args)},"execAsap"===execAsap?0:100)}},$.fn.smartresize=function(fn){return fn?this.on("smartresize",fn):this.trigger("smartresize",["execAsap"])},$.Mason=function(options,element){this.element=$(element),this._create(options),this._init()},$.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},$.Mason.prototype={_filterFindBricks:function($elems){var selector=this.options.itemSelector;return selector?$elems.filter(selector).add($elems.find(selector)):$elems},_getBricks:function($elems){var $bricks=this._filterFindBricks($elems).css({position:"absolute"}).addClass("masonry-brick");return $bricks},_create:function(options){this.options=$.extend(!0,{},$.Mason.settings,options),this.styleQueue=[];var elemStyle=this.element[0].style;this.originalStyle={height:elemStyle.height||""};var containerStyle=this.options.containerStyle;for(var prop in containerStyle)this.originalStyle[prop]=elemStyle[prop]||"";this.element.css(containerStyle),this.horizontalDirection=this.options.isRTL?"right":"left";var x=this.element.css("padding-"+this.horizontalDirection),y=this.element.css("padding-top");this.offset={x:x?parseInt(x,10):0,y:y?parseInt(y,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var instance=this;setTimeout(function(){instance.element.addClass("masonry")},0),this.options.isResizable&&$(window).on("smartresize.masonry",function(){instance.resize()}),this.reloadItems()},_init:function(callback){this._getColumns(),this._reLayout(callback)},option:function(key,value){$.isPlainObject(key)&&(this.options=$.extend(!0,this.options,key))},layout:function($bricks,callback){for(var i=0,len=$bricks.length;i<len;i++)this._placeBrick($bricks[i]);var containerSize={};if(containerSize.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var unusedCols=0;for(i=this.cols;--i&&0===this.colYs[i];)unusedCols++;containerSize.width=(this.cols-unusedCols)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:containerSize});var obj,styleFn=this.isLaidOut&&this.options.isAnimated?"animate":"css",animOpts=this.options.animationOptions;for(i=0,len=this.styleQueue.length;i<len;i++)obj=this.styleQueue[i],obj.$el[styleFn](obj.style,animOpts);this.styleQueue=[],callback&&callback.call($bricks),this.isLaidOut=!0},_getColumns:function(){var container=this.options.isFitWidth?this.element.parent():this.element,containerWidth=container.width();this.columnWidth=this.isFluid?this.options.columnWidth(containerWidth):this.options.columnWidth||this.$bricks.outerWidth(!0)||containerWidth,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((containerWidth+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(brick){var colSpan,groupCount,groupY,groupColY,j,$brick=$(brick);if(colSpan=Math.ceil($brick.outerWidth(!0)/this.columnWidth),colSpan=Math.min(colSpan,this.cols),1===colSpan)groupY=this.colYs;else for(groupCount=this.cols+1-colSpan,groupY=[],j=0;j<groupCount;j++)groupColY=this.colYs.slice(j,j+colSpan),groupY[j]=Math.max.apply(Math,groupColY);for(var minimumY=Math.min.apply(Math,groupY),shortCol=0,i=0,len=groupY.length;i<len;i++)if(groupY[i]===minimumY){shortCol=i;break}var position={top:minimumY+this.offset.y};position[this.horizontalDirection]=this.columnWidth*shortCol+this.offset.x,this.styleQueue.push({$el:$brick,style:position});var setHeight=minimumY+$brick.outerHeight(!0),setSpan=this.cols+1-len;for(i=0;i<setSpan;i++)this.colYs[shortCol+i]=setHeight},resize:function(){var prevColCount=this.cols;this._getColumns(),(this.isFluid||this.cols!==prevColCount)&&this._reLayout()},_reLayout:function(callback){var i=this.cols;for(this.colYs=[];i--;)this.colYs.push(0);this.layout(this.$bricks,callback)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(callback){this.reloadItems(),this._init(callback)},appended:function($content,isAnimatedFromBottom,callback){if(isAnimatedFromBottom){this._filterFindBricks($content).css({top:this.element.height()});var instance=this;setTimeout(function(){instance._appended($content,callback)},1)}else this._appended($content,callback)},_appended:function($content,callback){var $newBricks=this._getBricks($content);this.$bricks=this.$bricks.add($newBricks),this.layout($newBricks,callback)},remove:function($content){this.$bricks=this.$bricks.not($content),$content.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var elemStyle=this.element[0].style;for(var prop in this.originalStyle)elemStyle[prop]=this.originalStyle[prop];this.element.off(".masonry").removeClass("masonry").removeData("masonry"),$(window).off(".masonry")}},$.fn.imagesLoaded=function(callback){function triggerCallback(){callback.call($this,$images)}function imgLoaded(event){var img=event.target;img.src!==blank&&$.inArray(img,loaded)===-1&&(loaded.push(img),--len<=0&&(setTimeout(triggerCallback),$images.off(".imagesLoaded",imgLoaded)))}var $this=this,$images=$this.find("img").add($this.filter("img")),len=$images.length,blank="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",loaded=[];return len||triggerCallback(),$images.on("load.imagesLoaded error.imagesLoaded",imgLoaded).each(function(){var src=this.src;this.src=blank,this.src=src}),$this};var logError=function(message){window.console&&window.console.error(message)};$.fn.masonry=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"masonry");return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?void instance[options].apply(instance,args):void logError("no such method '"+options+"' for masonry instance"):void logError("cannot call methods on masonry prior to initialization; attempted to call method '"+options+"'")})}else this.each(function(){var instance=$.data(this,"masonry");instance?(instance.option(options||{}),instance._init()):$.data(this,"masonry",new $.Mason(options,this))});return this}}(window,jQuery),function(window,undefined){var jQuery,$,ScrollTo;jQuery=$=window.jQuery,ScrollTo=$.ScrollTo=$.ScrollTo||{config:{duration:400,easing:"swing",callback:undefined,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(options){return $.extend(ScrollTo.config,options||{}),this},scroll:function(collections,config){var collection,$container,container,$target,$inline,position,containerScrollTop,containerScrollLeft,containerScrollTopEnd,containerScrollLeftEnd,startOffsetTop,targetOffsetTop,targetOffsetTopAdjusted,startOffsetLeft,targetOffsetLeft,targetOffsetLeftAdjusted,scrollOptions,callback;return collection=collections.pop(),$container=collection.$container,container=$container.get(0),$target=collection.$target,$inline=$("<span/>").css({position:"absolute",top:"0px",left:"0px"}),position=$container.css("position"),$container.css("position","relative"),$inline.appendTo($container),startOffsetTop=$inline.offset().top,targetOffsetTop=$target.offset().top,targetOffsetTopAdjusted=targetOffsetTop-startOffsetTop-parseInt(config.offsetTop,10),startOffsetLeft=$inline.offset().left,targetOffsetLeft=$target.offset().left,targetOffsetLeftAdjusted=targetOffsetLeft-startOffsetLeft-parseInt(config.offsetLeft,10),containerScrollTop=container.scrollTop,containerScrollLeft=container.scrollLeft,$inline.remove(),$container.css("position",position),scrollOptions={},callback=function(event){return 0===collections.length?"function"==typeof config.callback&&config.callback.apply(this,[event]):ScrollTo.scroll(collections,config),!0},config.onlyIfOutside&&(containerScrollTopEnd=containerScrollTop+$container.height(),containerScrollLeftEnd=containerScrollLeft+$container.width(),containerScrollTop<targetOffsetTopAdjusted&&targetOffsetTopAdjusted<containerScrollTopEnd&&(targetOffsetTopAdjusted=containerScrollTop),containerScrollLeft<targetOffsetLeftAdjusted&&targetOffsetLeftAdjusted<containerScrollLeftEnd&&(targetOffsetLeftAdjusted=containerScrollLeft)),targetOffsetTopAdjusted!==containerScrollTop&&(scrollOptions.scrollTop=targetOffsetTopAdjusted),targetOffsetLeftAdjusted!==containerScrollLeft&&(scrollOptions.scrollLeft=targetOffsetLeftAdjusted),$.browser.safari&&container===document.body?(window.scrollTo(scrollOptions.scrollLeft,scrollOptions.scrollTop),callback()):scrollOptions.scrollTop||scrollOptions.scrollLeft?$container.animate(scrollOptions,config.duration,config.easing,callback):callback(),!0},fn:function(options){var collections,config,$container,container;collections=[];var $target=$(this);if(0===$target.length)return this;for(config=$.extend({},ScrollTo.config,options),$container=$target.parent(),container=$container.get(0);1===$container.length&&container!==document.body&&container!==document;){var scrollTop,scrollLeft;scrollTop="visible"!==$container.css("overflow-y")&&container.scrollHeight!==container.clientHeight,scrollLeft="visible"!==$container.css("overflow-x")&&container.scrollWidth!==container.clientWidth,(scrollTop||scrollLeft)&&(collections.push({$container:$container,$target:$target}),$target=$container),$container=$container.parent(),container=$container.get(0)}return collections.push({$container:$($.browser.msie||$.browser.mozilla?"html":"body"),$target:$target}),"all"===config.durationMode&&(config.duration/=collections.length),ScrollTo.scroll(collections,config),this}},$.fn.ScrollTo=$.ScrollTo.fn}(window),function($){var sidrMoving=!1,sidrOpened=!1,privateMethods={isUrl:function(str){var pattern=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!pattern.test(str)},loadContent:function($menu,content){$menu.html(content)},addPrefix:function($element){var elementId=$element.attr("id"),elementClass=$element.attr("class");"string"==typeof elementId&&""!==elementId&&$element.attr("id",elementId.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof elementClass&&""!==elementClass&&"sidr-inner"!==elementClass&&$element.attr("class",elementClass.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),$element.removeAttr("style")},execute:function(action,name,callback){"function"==typeof name?(callback=name,name="sidr"):name||(name="sidr");var bodyAnimation,menuAnimation,scrollTop,$menu=$("#"+name),$body=$($menu.data("body")),$html=$("html"),menuWidth=$menu.outerWidth(!0),side=($menu.data("speed"),$menu.data("side")),accel=$menu.data("accel"),transition=$menu.data("transition");if("open"===action||"toogle"===action&&!$menu.data("visible")){if($menu.is(":visible")||sidrMoving,sidrOpened!==!1)return void methods.close(sidrOpened,function(){methods.open(name)});$menu.data("visible",!0),sidrMoving=!0,"left"===side?(bodyAnimation={left:menuWidth+"px"},menuAnimation={left:"0px"}):(bodyAnimation={right:menuWidth+"px"},menuAnimation={right:"0px"}),scrollTop=$html.scrollTop(),$html.css("overflow-x","hidden").scrollTop(scrollTop),$body.css({width:$body.width(),position:"absolute"}),$menu.css("display","block").css(transition[accel].xProp,transition[accel].xPref+0+transition[accel].xSuf),sidrMoving=!1,sidrOpened=name,"function"==typeof callback&&callback(name)}else sidrMoving=!0,"left"===side?(bodyAnimation={left:0},menuAnimation={left:"-"+menuWidth+"px"}):(bodyAnimation={right:0},menuAnimation={right:"-"+menuWidth+"px"}),scrollTop=$html.scrollTop(),$html.removeAttr("style").scrollTop(scrollTop),$menu.css(transition[accel].xProp,transition[accel].xPref+"-"+menuWidth+"px"+transition[accel].xSuf),$menu.removeAttr("style"),$body.removeAttr("style").removeClass("single-animate"),$("html").removeAttr("style"),sidrMoving=!1,sidrOpened=!1,"function"==typeof callback&&callback(name),$menu.data("visible",!1)}},methods={open:function(name,callback){privateMethods.execute("open",name,callback)},close:function(name,callback){privateMethods.execute("close",name,callback)},toogle:function(name,callback){privateMethods.execute("toogle",name,callback)}};$.sidr=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof method&&"string"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sidr"):methods.toogle.apply(this,arguments)},$.fn.sidr=function(options){var settings=$.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"#slide-menu",body_attach:"body",accel:Modernizr.testAllProps("perspective"),transition:{accel:{xProp:"transform",xPref:"translate3d(",xSuf:"px,0,0)"},legacy:{xProp:"left",xPref:"",xSuf:"px"}}},options);0==settings.accel?settings.accel="legacy":settings.accel="accel";var name=settings.name,$sideMenu=$("#"+name);if(0===$sideMenu.length&&($sideMenu=$("<div />").attr("id",name).appendTo($(settings.body_attach))),$sideMenu.addClass("sidr").addClass(settings.side).data({speed:settings.speed,side:settings.side,body:settings.body,accel:settings.accel,transition:settings.transition}),"function"==typeof settings.source){var newContent=settings.source(name);privateMethods.loadContent($sideMenu,newContent)}else if("string"==typeof settings.source&&privateMethods.isUrl(settings.source))$.get(settings.source,function(data){privateMethods.loadContent($sideMenu,data)});else if("string"==typeof settings.source){var htmlContent="",selectors=settings.source.split(",");if($.each(selectors,function(index,element){htmlContent+='<div class="sidr-inner">'+$(element).html()+"</div>"}),settings.renaming){var $htmlContent=$("<div />").html(htmlContent);$htmlContent.find("*").each(function(index,element){var $element=$(element);privateMethods.addPrefix($element)}),htmlContent=$htmlContent.html()}privateMethods.loadContent($sideMenu,htmlContent)}else null!==settings.source&&$.error("Invalid Sidr Source");return this.each(function(){var $this=$(this),data=$this.data("sidr");data||($this.data("sidr",name),$this.click(function(e){e.preventDefault(),methods.toogle(name)}))})}}(jQuery),function($){function init(opts){var $menu=$(this),activeRow=null,mouseLocs=[],lastDelayLoc=null,timeoutId=null,options=$.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:$.noop,exit:$.noop,activate:$.noop,deactivate:$.noop,exitMenu:$.noop,positionMenu:!0,positionedElement:null},opts),MOUSE_LOCS_TRACKED=3,DELAY=300,mousemoveDocument=function(e){mouseLocs.push({x:e.pageX,y:e.pageY}),mouseLocs.length>MOUSE_LOCS_TRACKED&&mouseLocs.shift()},mouseleaveMenu=function(){timeoutId&&clearTimeout(timeoutId),options.exitMenu(this),activeRow&&options.deactivate(activeRow),activeRow=null},mouseenterRow=function(){if(timeoutId&&clearTimeout(timeoutId),1==options.positionMenu){var el=$(this).children(options.positionedElement),$window=$(window);bottom_diff=$window.scrollTop()+$window.height()-(el.offset().top+el.outerHeight()+10),top_diff=$window.scrollTop()-el.offset().top+30,offset=0,bottom_diff<-10&&(offset=bottom_diff),top_diff>0&&(offset=top_diff),0!=offset&&el.css("top",offset)}options.enter(this),possiblyActivate(this)},mouseleaveRow=function(){options.exit(this)},clickRow=function(){activate(this)},activate=function(row){row!=activeRow&&(activeRow&&options.deactivate(activeRow),options.activate(row),activeRow=row)},possiblyActivate=function(row){var delay=activationDelay();delay?timeoutId=setTimeout(function(){possiblyActivate(row)},delay):activate(row)},activationDelay=function(){function slope(a,b){return(b.y-a.y)/(b.x-a.x)}if(!activeRow||!$(activeRow).is(options.submenuSelector))return 0;var offset=$menu.offset(),upperLeft={x:offset.left,y:offset.top-options.tolerance},upperRight={x:offset.left+$menu.outerWidth(),y:upperLeft.y},lowerLeft={x:offset.left,y:offset.top+$menu.outerHeight()+options.tolerance},lowerRight={x:offset.left+$menu.outerWidth(),y:lowerLeft.y},loc=mouseLocs[mouseLocs.length-1],prevLoc=mouseLocs[0];if(!loc)return 0;if(prevLoc||(prevLoc=loc),prevLoc.x<offset.left||prevLoc.x>lowerRight.x||prevLoc.y<offset.top||prevLoc.y>lowerRight.y)return 0;if(lastDelayLoc&&loc.x==lastDelayLoc.x&&loc.y==lastDelayLoc.y)return 0;var decreasingCorner=upperRight,increasingCorner=lowerRight;"left"==options.submenuDirection?(decreasingCorner=lowerLeft,increasingCorner=upperLeft):"below"==options.submenuDirection?(decreasingCorner=lowerRight,increasingCorner=lowerLeft):"above"==options.submenuDirection&&(decreasingCorner=upperLeft,increasingCorner=upperRight);var decreasingSlope=slope(loc,decreasingCorner),increasingSlope=slope(loc,increasingCorner),prevDecreasingSlope=slope(prevLoc,decreasingCorner),prevIncreasingSlope=slope(prevLoc,increasingCorner);return decreasingSlope<prevDecreasingSlope&&increasingSlope>prevIncreasingSlope?(lastDelayLoc=loc,DELAY):(lastDelayLoc=null,0)};$menu.mouseleave(mouseleaveMenu).find(options.rowSelector).mouseenter(mouseenterRow).mouseleave(mouseleaveRow).click(clickRow),$(document).mousemove(mousemoveDocument)}$.fn.menuAim=function(opts){return this.each(function(){init.call(this,opts)}),this}}(jQuery),+function(window,$,undefined){"use strict";var support={calc:!1};$.fn.rrssb=function(options){var settings=$.extend({description:undefined,emailAddress:undefined,emailBody:undefined,emailSubject:undefined,image:undefined,title:undefined,url:undefined},options);settings.emailSubject=settings.emailSubject||settings.title,settings.emailBody=settings.emailBody||(settings.description?settings.description:"")+(settings.url?"\n\n"+settings.url:"");for(var key in settings)settings.hasOwnProperty(key)&&settings[key]!==undefined&&(settings[key]=encodeString(settings[key]));settings.url!==undefined&&($(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+settings.url),$(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+settings.url+(settings.title!==undefined?"&name="+settings.title:"")+(settings.description!==undefined?"&description="+settings.description:"")),$(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+settings.url+(settings.title!==undefined?"&title="+settings.title:"")+(settings.description!==undefined?"&summary="+settings.description:"")),$(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(settings.description!==undefined?settings.description:"")+"%20"+settings.url),$(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+settings.url+(settings.title!==undefined?"&text="+settings.title:"")),$(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+settings.url+(settings.description!==undefined?"&text="+settings.description:"")+(settings.title!==undefined?"&title="+settings.title:"")),$(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(settings.description!==undefined?settings.description:"")+"%20"+settings.url),$(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+settings.url+(settings.image!==undefined?"&amp;media="+settings.image:"")+(settings.description!==undefined?"&description="+settings.description:"")),$(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+settings.url),$(this).find(".rrssb-github a").attr("href",settings.url),$(this).find(".rrssb-print a").attr("href","javascript:window.print()"),$(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(settings.description!==undefined?settings.description+"%20":settings.title!==undefined?settings.title+"%20":"")+settings.url)),(settings.emailAddress!==undefined||settings.emailSubject)&&$(this).find(".rrssb-email a").attr("href","mailto:"+(settings.emailAddress?settings.emailAddress:"")+"?"+(settings.emailSubject!==undefined?"subject="+settings.emailSubject:"")+(settings.emailBody!==undefined?"&body="+settings.emailBody:""))};var detectCalcSupport=function(){var el=$("<div>"),calcProps=["calc","-webkit-calc","-moz-calc"];$("body").append(el);for(var i=0;i<calcProps.length;i++)if(el.css("width",calcProps[i]+"(1px)"),1===el.width()){support.calc=calcProps[i];break}el.remove()},encodeString=function(string){if(string!==undefined&&null!==string){if(null===string.match(/%[0-9a-f]{2}/i))return encodeURIComponent(string);string=decodeURIComponent(string),encodeString(string)}},setPercentBtns=function(){$(".rrssb-buttons").each(function(index){var self=$(this),buttons=$("li:visible",self),numOfButtons=buttons.length,initBtnWidth=100/numOfButtons;buttons.css("width",initBtnWidth+"%").attr("data-initwidth",initBtnWidth)})},makeExtremityBtns=function(){$(".rrssb-buttons").each(function(index){var self=$(this),containerWidth=self.width(),buttonWidth=$("li",self).not(".small").eq(0).width(),buttonCountSmall=$("li.small",self).length;if(buttonWidth>170&&buttonCountSmall<1){self.addClass("large-format");var fontSize=buttonWidth/12+"px";self.css("font-size",fontSize)}else self.removeClass("large-format"),self.css("font-size","");containerWidth<25*buttonCountSmall?self.removeClass("small-format").addClass("tiny-format"):self.removeClass("tiny-format")})},backUpFromSmall=function(){$(".rrssb-buttons").each(function(index){var self=$(this),buttons=$("li",self),smallButtons=buttons.filter(".small"),totalBtnSze=0,totalTxtSze=0,upCandidate=smallButtons.eq(0),nextBackUp=parseFloat(upCandidate.attr("data-size"))+55,smallBtnCount=smallButtons.length;if(smallBtnCount===buttons.length){var btnCalc=42*smallBtnCount,containerWidth=self.width();btnCalc+nextBackUp<containerWidth&&(self.removeClass("small-format"),smallButtons.eq(0).removeClass("small"),sizeSmallBtns())}else{buttons.not(".small").each(function(index){var button=$(this),txtWidth=parseFloat(button.attr("data-size"))+55,btnWidth=parseFloat(button.width());totalBtnSze+=btnWidth,totalTxtSze+=txtWidth});var spaceLeft=totalBtnSze-totalTxtSze;nextBackUp<spaceLeft&&(upCandidate.removeClass("small"),sizeSmallBtns())}})},checkSize=function(init){$(".rrssb-buttons").each(function(index){var self=$(this),buttons=$("li",self);$(buttons.get().reverse()).each(function(index,count){var button=$(this);if(button.hasClass("small")===!1){var txtWidth=parseFloat(button.attr("data-size"))+55,btnWidth=parseFloat(button.width());if(txtWidth>btnWidth){var btn2small=buttons.not(".small").last();$(btn2small).addClass("small"),sizeSmallBtns()}}--count||backUpFromSmall()})}),init===!0&&rrssbMagicLayout(sizeSmallBtns)},sizeSmallBtns=function(){$(".rrssb-buttons").each(function(index){var regButtonCount,regPercent,pixelsOff,magicWidth,smallBtnFraction,self=$(this),buttons=$("li",self),smallButtons=buttons.filter(".small"),smallBtnCount=smallButtons.length;smallBtnCount>0&&smallBtnCount!==buttons.length?(self.removeClass("small-format"),smallButtons.css("width","42px"),pixelsOff=42*smallBtnCount,regButtonCount=buttons.not(".small").length,regPercent=100/regButtonCount,smallBtnFraction=pixelsOff/regButtonCount,support.calc===!1?(magicWidth=(self.innerWidth()-1)/regButtonCount-smallBtnFraction,magicWidth=Math.floor(1e3*magicWidth)/1e3,magicWidth+="px"):magicWidth=support.calc+"("+regPercent+"% - "+smallBtnFraction+"px)",buttons.not(".small").css("width",magicWidth)):smallBtnCount===buttons.length?(self.addClass("small-format"),setPercentBtns()):(self.removeClass("small-format"),setPercentBtns())}),makeExtremityBtns()},rrssbInit=function(){$(".rrssb-buttons").each(function(index){$(this).addClass("rrssb-"+(index+1))}),detectCalcSupport(),setPercentBtns(),$(".rrssb-buttons li .rrssb-text").each(function(index){var buttonTxt=$(this),txtWdth=buttonTxt.width();buttonTxt.closest("li").attr("data-size",txtWdth)});var fbLike=$(".fbLikebtn"),i=0;fbLike.length>0&&fbLike.each(function(){0==$("#fb-root").length&&($('<div id="fb-root"></div>').appendTo("body"),function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/pl_PL/sdk.js#xfbml=1&version=v2.6&appId=1742181556037098",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk"));var button=$("<div/>",{class:"fb-like","data-href":window.location.href,"data-layout":"box_count","data-action":"like","data-size":"large","data-show-faces":!1,"data-share":!1});0==i&&$(this).parents(".social").addClass("side"),$(this).hasClass("attached")||0===i?0==i&&0==$("article#page-content").length&&$(this).append(button).addClass("attached"):$(this).append(button).addClass("attached"),i++,$(this).parents(".social").fadeIn()}),checkSize(!0)},rrssbMagicLayout=function(callback){$(".rrssb-buttons li.small").removeClass("small"),checkSize(),callback()},popupCenter=function(url,title,w,h){var dualScreenLeft=window.screenLeft!==undefined?window.screenLeft:screen.left,dualScreenTop=window.screenTop!==undefined?window.screenTop:screen.top,width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,left=width/2-w/2+dualScreenLeft,top=height/3-h/3+dualScreenTop,newWindow=window.open(url,title,"scrollbars=yes, width="+w+", height="+h+", top="+top+", left="+left);newWindow&&newWindow.focus&&newWindow.focus()},waitForFinalEvent=function(){var timers={};return function(callback,ms,uniqueId){uniqueId||(uniqueId="Don't call this twice without a uniqueId"),timers[uniqueId]&&clearTimeout(timers[uniqueId]),timers[uniqueId]=setTimeout(callback,ms)}}();$(function(){try{$(document).on("click",".rrssb-buttons a.popup",{},function(e){var self=$(this);popupCenter(self.attr("href"),self.find(".rrssb-text").html(),580,470),e.preventDefault()})}catch(e){}$(window).resize(function(){rrssbMagicLayout(sizeSmallBtns),waitForFinalEvent(function(){rrssbMagicLayout(sizeSmallBtns)},200,"finished resizing")}),rrssbInit()}),window.rrssbInit=rrssbInit}(window,jQuery),function($){var pluginName="old_comments",defaults={id:null,scrollToNewComment:!0,chatmode:!1,chat:{running:!1,lastid:"0",chatwindow:'[data-role="chatroom"]'},providerUrl:null,hash_prefix:"#komentarz-",badges:!1,userInfoProvider:null,loaded_badges:[],templates:{badge:_.template('<img src="<%= source %>" class="hc-badge" data-placement="bottom" title="<%= title %>" alt="<%= title %>" />'),action_link:_.template('<a class="cursor-pointer" data-action="<%= action %>"><%= content %></a>'),reply:_.template('<div class="" style="position:relative;display:none;" data-template="reply">                                         <div class="user-info span-1 inside"  >                                             <div class="image small avatar with-shadow">                                                 <img data-role="user-avatar" />                                             </div>                                         </div>                                         <div class="bubble">                                             <a href="#" class="cancel-comment" data-action="cancel" title="Anuluj i zakmnij (ESC)"><i class="icon-cancel"></i></a>                                             <div class="bubble-content color-content grid-margin-bottom" style="position:relative; z-index:5;">                                                 <div data-role="messenger"></div>                                                 <div class="form-input-group clearfix" id="notLoggedIn"><input class="span-4 inside" type="text" value="" id="nick" placeholder="TwÃ³j nick" /> <a class="button as-link normal" class="cursor-pointer" data-action="loginbox" onclick="$(window.Dp.loginModal).loginBox(\'show\')">zaloguj siÄ</a></div>                                                 <textarea data-role="content" placeholder="TwÃ³j komentarz"></textarea>                                                 <input type="hidden" id="reply_to" value="" />                                              </div>                                             <footer class="font-heading color-annotation text-h6" style="width:100%;position:relative; z-index:1; display:table;">                                                 <div class="table-cell">                                                     <em>Prosimy o wypowiadanie siÄ w komentarzach w sposÃ³b uprzejmy, z poszanowaniem innych uczestnikÃ³w dyskusji i ich odrÄbnych stanowisk.<br /> KomentujÄc akceptujesz <a href="/Regulamin.html" target="_blank">Regulamin publikowania komentarzy</a>.</em>                                                  </div>                                                 <div class="table-cell"  style="width:125px;overflow:hidden;">                                                     <span id="comments_spinner" style="display:inline-block;margin-top:4px;"></span><a href="#" data-action="send" class="button normal action display-block float-right"><span class="btn_lbl">odpowiedz</span></a>                                                 </div>                                             </footer>                                         </div>                                    </div>'),
comment:_.template('<section class="fade-parent clearfix" id="komentarz-<%= comment_id %>" role="listitem"  data-id="<%= comment_id %>" style="display:none;">                                     <div class="user-info span-1 inside grid-margin-px15-top">                                         <div class="image small avatar  with-shadow">                                             <img src="<%= user_avatarUrl %>" />                                         </div>                                     </div>                                     <div class="bubble span-11">                                         <a href="#" class="cancel-comment" data-action="cancel" title="Anuluj i zakmnij (ESC)"><i class="icon-cancel"></i></a>                                         <header class="font-heading">                                             <span class="text-h3 text-bold"><%= username %></span>                                             <div class="float-right">                                                 <a href="#komentarz-<%= comment_id %>" class="icon-link text-h3 color-list-content fade float-right" title="permalink"></a>                                                 <span class="color-annotation text-h4 float-right" style="position:relative; top:4px; margin-right:10px;"><%= comment_date %></span>                                             </div>                                         </header>                                         <div class="bubble-content color-content">                                             <div data-role="messenger"></div>                                             <p class="original-content"><%= comment_content %></p>                                         </div>                                         <footer class="font-heading float-left-master">                                             <a class="icon-edit  color-list-content display-block grid-margin-px15-right cursor-pointer" data-action="edit"> edytuj</a>                                         </footer>                                      </div>                                 </section>'),comment_slim:_.template('<section class="fade-parent clearfix" id="komentarz-<%= comment_id %>" role="listitem"  data-id="<%= comment_id %>">                         <div class="bubble">                             <header class="font-heading">                                 <div class="image small avatar">                                     <img src="<%= user_avatarUrl %>">                                 </div>                                 <a class="text-h3 text-bold color-inherit"><%= username %></a> &nbsp;<span class="color-annotation text-h5"><%= comment_date %></span>                                 <span class="item-actions float-right"><%= item_actions %></span>                            </header>                             <div class="bubble-content color-content">                                 <p class="original-content">                                     <%= comment_content %>                                 </p>                            </div>                        </div>                    </section>'),modal:_.template('<div class="modal hide fade modal-dp variant-tight modal-in-page" id="login-modal">                                     <div class="modal-watermark"><i class="icon-dobreprogramy"></i></div>                                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                                     <div id="modal-page-login">                                         <div class="modal-header">                                             <span><%= modal_title %></span>                                         </div>                                         <div id="loginMessenger" style="display: none;" class="alert alert-error modal-body"></div>                                         <div class="modal-body"><%= modal_body %></div>                                         <div class="modal-footer">                                             <a href="#" class="button normal as-link"  data-dismiss="modal">Anuluj</a>                                             <a href="#" class="button normal action" data-action="save">Zapisz zmiany</a>                                          </div>                                     </div>                                 </div>'),edit_form:_.template('<div class="edit_form" data-id="<%= id %>"><textarea data-role="edit-comment" style="min-height:72px;"></textarea>                                         <div class="grid-margin-top actionbar">                                             <a href="#" class="button normal action float-right" data-action="save">Zapisz zmiany</a>                                             <a href="#" class="button normal as-link secondary float-right"  data-action="cancel">Anuluj</a>                                         </div>                                    </div>')},messenger:{template:_.template('<div class="alert <%= cssClass %>"><%= content %><a class="icon-cancel color-inherit cursor-pointer" onclick="$(this).parent().remove();return false;"></a></div>'),pending:{text:"Komentarz oczekuje na zatwierdzenie przez moderatora",cssClass:""},empty:{text:"Pola formularza nie mogÄ byÄ puste",cssClass:"alert-danger"},success:{text:"Komentarz zostaÅ dodany",cssClass:"alert-success"},error:{text:"WystÄpiÅ bÅÄd po stronie serwera, nie moÅ¼na w tej chwili wysÅaÄ komentarza",cssClass:"alert-danger"},e403:{text:"Nie masz uprawnieÅ do komentowania tej publikacji",cssClass:""},report:{success:{text:"Komentarz zostaÅ zgÅoszony do moderacji",cssClass:""},error:{text:"WystÄpiÅ bÅÄd podczas zgÅaszania komentarza do moderacji",cssClass:"alert-danger"}},ignore:{success:{text:"Od teraz komentarze uÅ¼ytkownika bÄdÄ ignorowane",cssClass:""},error:{text:"WystÄpiÅ bÅÄd, uniemoÅ¼liwiajÄcy zignorowanie komentarzy uÅ¼ytkownika",cssClass:"alert-danger"}},unignore:{success:{text:"Od teraz komentarze uÅ¼ytkownika bÄdÄ dla ciebie widoczne",cssClass:"alert-success"},error:{text:"WystÄpiÅ bÅÄd, uniemoÅ¼liwiajÄcy staÅe odkrycie komentarzy uÅ¼ytkownika",cssClass:"alert-danger"}}},cssClass:{reply_to:"mode_reply clearfix",new_comment:"mode_newcomment clearfix"},reply_form:null,bubble_width:0,send_btn:null,anon_SaveNickBtn:null,mentions:{enable:!0,syntax:_.template("@[mention user=<%= id %>]<%= title %>[/mention]"),parser:/(@)(\[mention user=(\d+)\]([\w\s@ÄÃÄÅÅÅ»Å¹ÄÅ\.,-\/#!$%\^&\*;:{}=\-_`~()]+)\[\/mention\])/gi,parserGroups:{id:3,title:4}},textntags:{edit:null,config:null},lock:!1,dir:"down",navigation:!0,quotesByTextSelect:!0,concatComments:!1,concatOptions:{lastReply:null,prevReply:null,lastReplyText:null,concated:[]}},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=$(this),data=$this.data(pluginName);if(null===data.id&&console.log(pluginName+": Content ID is not defined"),data.bubble_width=$(this).children('[data-role="list"] > section > .bubble').width(),data.chatmode===!1?(data.reply_form=$(data.templates.reply()),data.send_btn=$(data.reply_form).find('[data-action="send"]'),data.anon_SaveNickBtn=$(this).find('[data-action="saveinfo"]')):(data.send_btn=$(this).find('[data-action="send"]'),data.reply_form=$(this).find('[data-template="reply"]'),data.anon_SaveNickBtn=$(this).find('[data-action="saveinfo"]')),$(window).on("load",function(){Dp.user.id>1&&$(data.reply_form).find("#notLoggedIn").hide()}),$(this).on("click","a[data-action]",function(e){var action=$(e.target).data("action")||$(e.target).closest("a").data("action");switch(action){case"reply":e.preventDefault(),data.concatOptions.lastReply=$(this).parents("section").first().data("id"),methods.showReplyForm.apply($this,[data.concatOptions.lastReply]),$this.find('[data-action="new_comment"]').hide();break;case"report":if(e.preventDefault(),!confirm("Czy na pewno chcesz zgÅosiÄ ten komentarz do moderacji?"))return!1;methods.report.apply($this,[$(this).parents("section").first().data("id")]),$(this).remove();break;case"ignore":e.preventDefault();var id=$(this).parents("section").data("id");if(!confirm("Czy na pewno chcesz zmieniÄ status widocznoÅci komentarzy tego uÅ¼ytkownika?"))return!1;methods.ignoreUser.apply($this,[$(this).parents("section").data("id"),$(data.hash_prefix+id+" [data-author]").data("author"),$(this).data("mode")]),$(this).remove();break;case"edit":e.preventDefault(),methods.edit.apply($this,[$(this).parents("section").data("id")]);break;case"new_comment":e.preventDefault(),methods.showNewCommentForm.apply($this,[]),$(this).hide();break;case"vote_up":e.preventDefault(),methods.vote.apply($this,[$(this).parents("section").data("id"),"up",this]);break;case"vote_reset":e.preventDefault(),methods.vote.apply($this,[$(this).parents("section").data("id"),"reset",this]);break;case"delete":if(e.preventDefault(),!confirm("Czy na pewno chcesz usunÄÄ ten komentarz?"))return!1;methods.delete_item.apply($this,[$(this).parents("section").data("id"),this]),$(this).hide();break;case"cancel":e.preventDefault(),methods.cancel_comment.apply($this,[$(this).parents("section").data("id"),this])}}),$(data.send_btn).on("click",function(e){e.preventDefault(),data.lock===!1&&methods.sendMessage.apply($this,[])}),data.badges===!0&&$(".badges").hover(function(){var element=$(this).closest('[role="listitem"]').first();methods.showBadges.call($this,element)},function(){}),data.quotesByTextSelect===!0){var quotedBubble=null,quoteButton=$('<a data-quote="" href="#" class="icon-reply article-quote-button">Skomentuj ten fragment</a>');$("html").mouseup(function(e){var quotingText;if(window.getSelection)quotingText=window.getSelection().toString();else{if(!document.selection)return;quotingText=document.selection.createRange().text}return"original-content"===e.target.className&&$(".bubble").length>0&&""!==quotingText&&null!==quotingText&&"[object String]"===Object.prototype.toString.call(quotingText)?(quotedBubble=$(e.target),$(".bubble a[data-quote]").removeAttr("data-quote").html("&nbsp;odpowiedz"),quotedBubble.parent().next().find('a[data-action="reply"]').html("&nbsp;odpowiedz&nbsp;cytujÄc").attr("data-quote",quotingText)):"undefined"!=typeof $(e.target).attr("data-quote")&&$(e.target).attr("data-quote")!==!1?void 0:(quoteButton.remove(),$(".bubble a[data-quote]").removeAttr("data-quote").html("&nbsp;odpowiedz"))})}if(data.navigation===!0&&Dp.isMobile===!1){var newComments=$(".bubble.new"),newCommentsNavigation=$(".new-comments-counter"),currentComment=-1;if(newCommentsNavigation.show(),newCommentsNavigation.length>0){var newCommentsCount=null;switch(!0){case 1===newComments.length:newCommentsCount="1 nowy";break;case newComments.length>1&&newComments.length<5:newCommentsCount=newComments.length+" nowe";break;default:newCommentsCount=newComments.length+" nowych"}newCommentsNavigation.parent().css("position","relative"),newComments.length<1&&newCommentsNavigation.find('a[data-action!="layout"]').addClass("locked"),newCommentsNavigation.find("a[data-action]").on("click",function(e){switch(e.preventDefault(),$(this).data("action")){case"prev":currentComment-1<0?currentComment=newComments.length-1:currentComment--;break;case"next":currentComment++,currentComment>=newComments.length&&(currentComment=0);break;case"layout":$(this).hasClass("active")?($(this).removeClass("active"),data.concatComments=!1,methods.unconcatComments.apply($this,[])):($(this).addClass("active"),data.concatComments=!0,methods.concatComments.apply($this,[])),newComments=$(".bubble.new")}if($(newComments[currentComment]).length>0)return methods.jumpToComment.apply($this,[$(newComments[currentComment]),$(this).parent()])}).tooltip({trigger:"hover",html:!0,animation:!0,placement:"left"}),newCommentsNavigation.find("small").html(newCommentsCount)}$(document).keydown(function(e){if(!($('textarea[data-role="content"]').is(":focus")||$('textarea[data-role="edit-comment"]').is(":focus")||$("#review_pros").is(":focus")||$("#review_cons").is(":focus")||$("#review_txtContent").is(":focus")||$("#txtUpdateContent").is(":focus")||$("#txtReportContent").is(":focus")||$('input[name="s"]').is(":focus")||188!==e.keyCode&&190!==e.keyCode))switch(e.keyCode){case 188:$(".new-comments-counter").find('[data-action="prev"]').addClass("active");break;case 190:$(".new-comments-counter").find('[data-action="next"]').addClass("active")}}).keyup(function(e){if(!($('textarea[data-role="content"]').is(":focus")||$('textarea[data-role="edit-comment"]').is(":focus")||$("#review_pros").is(":focus")||$("#review_cons").is(":focus")||$("#review_txtContent").is(":focus")||$("#txtUpdateContent").is(":focus")||$("#txtReportContent").is(":focus")||$('input[name="s"]').is(":focus")||188!==e.keyCode&&190!==e.keyCode)){switch(e.keyCode){case 188:currentComment-1<0?currentComment=newComments.length-1:currentComment--,$(".new-comments-counter").find('[data-action="prev"]').removeClass("active");break;case 190:currentComment++,currentComment>=newComments.length&&(currentComment=0),$(".new-comments-counter").find('[data-action="next"]').removeClass("active")}return $(newComments[currentComment]).length>0?methods.jumpToComment.apply($this,[$(newComments[currentComment]),$(".new-comments-counter")]):void 0}})}$(window).on("load",function(){1===Dp.user.id&&$(".username_input").show()}),$(data.anon_SaveNickBtn).on("click",function(e){e.preventDefault(),methods.saveUserInfo.call($this),$(this).parents(".username_input").hide()}),data.mentions.enable===!0&&(data.textntags.config={onDataRequest:function(mode,query,triggerChar,callback){var request={what:"mentions",id:data.id};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{get:request},success:function(responseData){query=query.toLowerCase(),responseData=_.filter(responseData,function(item){return item.name.toLowerCase().indexOf(query)>-1}),callback.call(this,responseData)},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},triggers:{"@":{uniqueTags:!0,syntax:data.mentions.syntax,parser:data.mentions.parser,parserGroups:data.mentions.parserGroups}}},data.textntags.edit=$($(data.reply_form).find('textarea[data-role="content"]')).textntags(data.textntags.config).on("tagsAdded.textntags",function(e,addedTagsList){})),data.chatmode===!0&&(data.chat.chatwindow=$(data.chat.chatwindow),setInterval(function(){data.chat.running!==!0&&(data.chat.running=!0,methods.getMessages.call($this,data.chat.last_id))},3500))},concatComments:function(){var current,prev,target,$this=$(this),data=$this.data(pluginName),replies=$("section[data-reply-to]"),len=replies.length,i=0;for($('div[data-role="list"]').addClass("concat");i<len;)current=$(replies[i]),prev=current.prev("section[data-id]").data("id"),target=$(data.hash_prefix+current.data("reply-to")),data.concatOptions.concated[current.data("id")]={reply_for:current.data("reply-to"),previous:prev},target.hasClass("has-replies")||target.addClass("has-replies"),i++;for(i=0;i<len;)current=$(replies[i]),target=$(data.hash_prefix+current.data("reply-to")),current.appendTo(target),i++},unconcatComments:function(){var $this=$(this),data=$this.data(pluginName),replies=data.concatOptions.concated;$('div[data-role="list"]').removeClass("concat");for(var reply in replies)replies.hasOwnProperty(reply)&&$(data.hash_prefix+reply).detach().insertAfter($(data.hash_prefix+replies[reply].previous));return data.concatOptions.concated=[]},jumpToComment:function(commentBubble,navigation){var $this=$(this),data=$this.data(pluginName),coords=commentBubble.parent().offset(),height=commentBubble.parent().outerHeight(),navOffset=height/2;$("html, body").scrollTop(coords.top-window.innerHeight/2+height/2),$(".bubble.new").not(commentBubble).removeClass("selected"),commentBubble.addClass("selected"),navigation.hasClass("pinned")||navigation.addClass("pinned"),$("body").hasClass("post")&&(navOffset-=navigation.height()/2),navigation.detach(),data.concatComments===!0?navigation.prependTo(commentBubble.parent()):(navigation.appendTo(commentBubble.parent()),navigation.css("top",navOffset))},adjustOffset:function(el,offset){var val=el.value,newOffset=offset;if(val.indexOf("\r\n")>-1){var matches=val.replace(/\r\n/g,"\n").slice(0,offset).match(/\n/g);newOffset+=matches?matches.length:0}return newOffset},showBadges:function(element){var $this=$(this),data=$this.data(pluginName),user_id=$(element).attr("data-badges-id"),username=$(element).attr("data-badges-name");$.ajax({url:data.userInfoProvider,type:"POST",dataType:"json",data:{user_id:user_id,user_name:username},success:function(responseData){data.loaded_badges.push(user_id),methods.renderBadges.call($this,element,responseData)},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},renderBadges:function(element,user){var $this=$(this),data=$this.data(pluginName),badges="";$.each(user.badges,function(key,value){key<10&&(badges+=data.templates.badge({source:value.image,title:value.title}))});var loadedBadges=$(element).find(".badges").first();loadedBadges.html(badges).find("*").tooltip()},hideBadges:function(element){$(element).find(".badges").html('<i class="icon-award-1" style="font-size:20px;"></i>')},moveCaretToEnd:function(el){if("number"==typeof el.selectionStart)el.selectionStart=el.selectionEnd=el.value.length;else if("undefined"!=typeof el.createTextRange){var range=el.createTextRange();range.collapse(!1),range.select()}},cancel_comment:function(comment_id){var $this=$(this),data=$this.data(pluginName),$element=$(data.reply_form),reply_button=$(data.hash_prefix+comment_id).find('a[data-action="reply"]'),author=$(data.hash_prefix+comment_id).data("badges-id")>1?$(data.hash_prefix+comment_id).data("badges-name"):$(data.hash_prefix+comment_id).data("badges-name")+" (niezalogowany)",text=$element.find("textarea").val().replace(author+": ","");return null!==comment_id&&text.length>1?data.concatOptions.lastReplyText=text:data.concatOptions.lastReplyText=$element.find("textarea").val(),null===comment_id?($(data.textntags.edit).textntags("val",""),$(data.hash_prefix+comment_id).removeClass("mode-reply"),$element.hide()):methods.hideReplyForm.apply($this,[]),"undefined"!=typeof reply_button.attr("data-quote")&&reply_button.attr("data-quote")!==!1&&reply_button.removeAttr("data-quote").html("&nbsp;odpowiedz"),data.concatOptions.prevReply=comment_id,$('a[data-action="new_comment"]').show().parent().css("top","10px")},showReplyForm:function(comment_id){var $this=$(this),data=$this.data(pluginName),$element=$(data.reply_form),reply_data=$(data.hash_prefix+comment_id+" [data-author]").first(),reply_button=$(data.hash_prefix+comment_id).find('a[data-action="reply"]').first(),contextmenuIsOpen=!1;if(null===comment_id)return methods.showNewCommentForm.apply($this,[]);$element.find(".cancel-comment").first().is(":visible")||$element.find(".cancel-comment").first().show(),$element.attr("class",data.cssClass.reply_to);var syntax=data.mentions.syntax({id:$(reply_data).data("author"),title:$(reply_data).text()});$element.find("input#reply_to").val(comment_id),"undefined"!=typeof reply_button.attr("data-quote")&&reply_button.attr("data-quote")!==!1?$(data.textntags.edit).textntags("val",syntax+': "'+reply_button.attr("data-quote")+'"\n\n'):null!==data.concatOptions.lastReplyText&&data.concatOptions.prevReply===comment_id?$(data.textntags.edit).textntags("val",syntax+": "+data.concatOptions.lastReplyText):$(data.textntags.edit).textntags("val",syntax+": "),data.concatOptions.lastReplyText=null,$(this).find("section").removeClass("mode-reply"),$(data.hash_prefix+comment_id).addClass("mode-reply"),$element.find('[data-role="user-avatar"]').first().attr("src",Dp.user.avatarUrl),$element.appendTo(data.hash_prefix+comment_id).show(),$element.find("textarea").on("contextmenu",function(){contextmenuIsOpen=!0,$(window).one("keyup",function(e){if(27===e.keyCode&&contextmenuIsOpen===!0)return contextmenuIsOpen=!1}).one("blur",function(){return contextmenuIsOpen=!1}),$(document).one("click",function(){if(contextmenuIsOpen===!0)return contextmenuIsOpen=!1})}).on("focus",function(){methods.moveCaretToEnd.apply(this,[this]),window.setTimeout(function(){methods.moveCaretToEnd.apply(this,[this])},1)}).on("keyup",function(e){if(27===e.keyCode&&contextmenuIsOpen===!1)return $element.find("textarea").off("keyup"),methods.cancel_comment.apply($this,[comment_id])}).focus()},showNewCommentForm:function(){var $this=$(this),data=$this.data(pluginName),$element=$(data.reply_form),contextmenuIsOpen=!1;$element.attr("class",data.cssClass.new_comment),$element.find(".cancel-comment").is(":visible")||$element.find(".cancel-comment").show(),$(data.textntags.edit).focus(),$(data.textntags.edit).textntags("val",""),$element.find("input#reply_to").val("-1"),$(this).find("section").removeClass("mode-reply"),$element.find('[data-role="user-avatar"]').attr("src",Dp.user.avatarUrl),$element.appendTo($this.children('[data-role="list"]')).show(),$element.find("textarea").on("contextmenu",function(){contextmenuIsOpen=!0,$(window).one("keyup",function(e){if(27===e.keyCode&&contextmenuIsOpen===!0)return contextmenuIsOpen=!1}).one("blur",function(){return contextmenuIsOpen=!1}),$(document).one("click",function(){if(contextmenuIsOpen===!0)return contextmenuIsOpen=!1})}).on("keyup",function(e){if(27===e.keyCode&&contextmenuIsOpen===!1)return $element.find("textarea").off("keyup"),methods.cancel_comment.apply($this,[])}).on("focus",function(){methods.moveCaretToEnd.apply(this,[this]),window.setTimeout(function(){methods.moveCaretToEnd.apply(this,[this])},1)}).focus(),null!==data.concatOptions.lastReplyText&&null===data.concatOptions.prevReply&&$element.find("textarea").val(data.concatOptions.lastReplyText)},hideReplyForm:function(){var $this=$(this),data=$this.data(pluginName);return data.chatmode?(data.reply_form.find("input#reply_to").val(null),void $(data.reply_form).find("textarea").val(null)):(data.reply_form.hide(),data.reply_form.find("input#reply_to").val(null),$(data.textntags.edit).textntags("val",""),void $(this).find("section").removeClass("mode-reply"))},getFormData:function(){var $this=$(this),data=$this.data(pluginName),content=null;return data.chatmode===!1?$(data.textntags.edit).textntags("val",function(text){content=text}):content=$(data.reply_form).find("textarea").val(),{what:"comment",user_id:Dp.user.id,id:data.id,nick:$(data.reply_form).find("input#nick").val(),reply_to:$(data.reply_form).find("input#reply_to").val(),content:content,content_plain:$(data.reply_form).find("textarea").val()}},createCommentShadow:function(form_data){var template,new_comment,alert,$this=$(this),data=$this.data(pluginName),actions="",content="",commentsList=($(data.reply_form).find("input#reply_to").val()>0,$(this).find('[data-role="list"]')),direction=data.dir;return data.chatmode?(form_data.actions&&(jQuery.each(form_data.actions,function(index,value){switch(index){case"delete":content='<i class="icon-cancel"></i>'}actions+=data.templates.action_link({action:index,content:content})}),form_data.item_actions=actions),template=data.templates.comment_slim(form_data)):template=data.templates.comment(form_data),data.scrollToNewComment?("down"===direction&&(new_comment=$(template).appendTo(commentsList).fadeIn().ScrollTo()),"up"===direction&&(new_comment=$(template).prependTo(commentsList).fadeIn().ScrollTo())):("down"===direction&&(new_comment=$(template).appendTo(commentsList).show()),"up"===direction&&(new_comment=$(template).prependTo(commentsList).show())),"undefined"!=typeof form_data.comment_alert?(alert=methods.createAlertMessage.apply($this,[form_data.comment_alert]),$(new_comment).find('[data-role="messenger"]').html(alert)):"undefined"!=typeof form_data.comment_success&&(alert=methods.createAlertMessage.apply($this,[form_data.comment_success,data.messenger.success.cssClass]),$(new_comment).find('[data-role="messenger"]').html(alert)),data.chatmode&&methods.scrollChatWindow.call($this),$('a[data-action="new_comment"]').show()},createAlertMessage:function(message,cssClass){var $this=$(this),data=$this.data(pluginName);return data.messenger.template({cssClass:cssClass,content:message})},scrollChatWindow:function(){var $this=$(this),data=$this.data(pluginName),height=data.chat.chatwindow.children().height();$(data.chat.chatwindow[0]).scrollTop(height)},saveUserInfo:function(){$(this).find("input#nick").val($("#chat_username").val())},changeFormState:function(state){var $this=$(this),data=$this.data(pluginName);switch(state){case"lock":data.lock=!0,data.send_btn.addClass("disabled");break;case"unlock":data.lock=!1,data.send_btn.removeClass("disabled")}},delete_item:function(item_id){var $this=$(this),data=$this.data(pluginName),request={what:"delete",comment_id:item_id,userid:Dp.user.id};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{put:request},success:function(){$(data.hash_prefix+item_id).remove()},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)},complete:function(){data.chat.running=!1}})},getMessages:function(last_id){var $this=$(this),data=$this.data(pluginName),request={what:"list",lastid:last_id,id:data.id,userid:Dp.user.id};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{get:request},success:function(response){response.list&&$.each(response.list,function(i,object){methods.createCommentShadow.apply($this,[object]),data.chat.last_id=object.comment_id})},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)},complete:function(){data.chat.running=!1}})},vote:function(comment_id,what,btn){var $this=$(this),data=$this.data(pluginName),request={what:"vote",comment_id:comment_id,user_id:Dp.user.id};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{put:request},success:function(){switch(what){case"up":$(btn).data("action","vote_reset").addClass("mode-active").attr("title","Wycofaj gÅos do tego komentarza").find(".value").text(parseInt($(btn).find(".value").text())+1);break;case"reset":$(btn).data("action","vote_up").removeClass("mode-active").attr("title","Oddaj gÅos na ten komentarz").find(".value").text(parseInt($(btn).find(".value").text())-1)}},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},sendMessage:function(){var $this=$(this),data=$this.data(pluginName),form_data=methods.getFormData.apply($this,[]),form=$(data.reply_form),timeout=2e3,nick="",comment_data={};if(Spinners.create("#comments_spinner",{radius:6,height:5,width:3.3,dashes:12,opacity:1,padding:0,rotation:650,color:"#666"}),$("#comments_spinner").hide(),""===form_data.content){var alert=methods.createAlertMessage.apply($this,[data.messenger.empty.text,data.messenger.empty.cssClass]);return $(form).find('[data-role="messenger"]').html(alert),setTimeout(function(){methods.changeFormState.apply($this,["unlock"])},timeout),!1}$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{put:form_data},beforeSend:function(){methods.changeFormState.apply($this,["lock"]),$("#comments_spinner").show(),Spinners.get("#comments_spinner").play()},success:function(responseData){Dp.user.id>1?nick=Dp.user.nick:(""===form_data.nick&&(form_data.nick=Dp.user.nick),nick=form_data.nick+" (niezalogowany)"),responseData.ok&&(comment_data={comment_id:responseData.ok.id,user_avatarUrl:Dp.user.avatarUrl,username:nick,comment_content:responseData.ok.content,comment_date:responseData.ok.date,comment_success:responseData.ok.message||data.messenger.success.text},data.chatmode?methods.getMessages.call($this,data.chat.last_id):methods.createCommentShadow.apply($this,[comment_data]),methods.hideReplyForm.apply($this,[])),responseData.pending&&(comment_data={comment_id:responseData.pending.id,user_avatarUrl:Dp.user.avatarUrl,username:nick,comment_content:responseData.pending.content,comment_date:responseData.pending.date,comment_alert:responseData.pending.message||data.messenger.pending.text},data.chatmode?methods.getMessages.call($this,data.chat.last_id):methods.createCommentShadow.apply($this,[comment_data]),methods.hideReplyForm.apply($this,[])),methods.changeFormState.apply($this,["unlock"])},error:function(xhr,status){switch(xhr.status){case 403:return;default:var alert=methods.createAlertMessage.apply($this,[data.messenger.error.text,data.messenger.error.cssClass]);$(form).find('[data-role="messenger"]').html(alert),console.log(pluginName+": "+xhr+" "+status),setTimeout(function(){methods.changeFormState.apply($this,["unlock"])},timeout)}},complete:function(){$("#comments_spinner").hide(),Spinners.get("#comments_spinner").stop(),methods.changeFormState.apply($this,["unlock"]),$(".cancel-comment").hide()},statusCode:{401:function(){},403:function(responseData){var msg=responseData.responseJSON.reason||data.messenger.e403.text,alert=methods.createAlertMessage.apply($this,[msg,data.messenger.e403.cssClass]);$(form).find('[data-role="messenger"]').html(alert),setTimeout(function(){methods.changeFormState.apply($this,["unlock"])},timeout)}}})},report:function(id){var $this=$(this),data=$this.data(pluginName),request={what:"report",id:id};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{put:request},success:function(){var alert=methods.createAlertMessage.apply($this,[data.messenger.report.success.text,data.messenger.report.success.cssClass]);$(data.hash_prefix+id).find('[data-role="messenger"]').prepend(alert)},error:function(xhr,status){var alert=methods.createAlertMessage.apply($this,[data.messenger.report.error.text,data.messenger.report.error.cssClass]);$(data.hash_prefix+id).find('[data-role="messenger"]').prepend(alert),console.log(pluginName+": "+xhr+" "+status)}})},ignoreUser:function(id,user_id,isIgnore){var $this=$(this),data=$this.data(pluginName),request=null,messenger=null;"ignore"===isIgnore||"undefined"==typeof isIgnore?(request={what:"ignoreUser",id:user_id},messenger=data.messenger.ignore):"unignore"===isIgnore&&(request={what:"unIgnoreUser",id:user_id},messenger=data.messenger.unignore),$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{put:request},success:function(){var alert=methods.createAlertMessage.apply($this,[messenger.success.text,messenger.success.cssClass]);$(data.hash_prefix+id).find('[data-role="messenger"]').prepend(alert)},error:function(xhr,status){var alert=methods.createAlertMessage.apply($this,[messenger.error.text,messenger.error.cssClass]);$(data.hash_prefix+id).find('[data-role="messenger"]').prepend(alert),console.log(pluginName+": "+xhr+" "+status)}})},edit:function(id){var $this=$(this),data=$this.data(pluginName),request={what:"editcomment",id:id,nick:Dp.user.nick};$.ajax({url:data.providerUrl,type:"POST",dataType:"json",data:{get:request},success:function(responseData){if(void 0!==typeof responseData.content){var body=$(data.templates.edit_form({id:id})),obj=$(data.hash_prefix+id+" .original-content"),oldcontent=obj.html();data.mentions.enable===!0&&(body.find("textarea").textntags(data.textntags.config).textntags("val",responseData.content),body.find("textarea").css("height",body.find(".text-beautifier").outerHeight())),obj.parent().addClass("edit_mode"),obj.parent().parent().find('a[role="vote"]').addClass("edit-mode"),obj.html(body),obj.find('.edit_form [data-action="save"]').on("click",function(){return methods.saveComment.apply($this,[id]),obj.parent().parent().find('a[role="vote"]').removeClass("edit-mode"),!1}),obj.find('.edit_form [data-action="cancel"]').on("click",function(){return obj.html(oldcontent),obj.parent().parent().find('a[role="vote"]').removeClass("edit-mode"),obj.parent().removeClass("edit_mode"),!1})}},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},saveComment:function(id){var $this=$(this),data=$this.data(pluginName),request={what:"save_comment",comment_id:$(".edit_form").data("id")};$(".edit_form").find("textarea").textntags("val",function(text){request.content=text}),$.ajax({url:data.providerUrl,
type:"POST",dataType:"json",data:{put:request},success:function(responseData){void 0!==typeof responseData.content&&($(data.hash_prefix+request.comment_id+" .original-content").parent().removeClass("edit_mode"),$(data.hash_prefix+request.comment_id+" .original-content").html(responseData.content))},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})}};$.fn.comments=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){"use strict";var pluginName="switchableButton",defaults={try_detect:!0,allow_override_hash:!0,lists_options_class:".download-choice",container_class:".widget-sliding-menu",main_button:".main-button",toggle_button:".toggle-button",default_arch:"x86",default_status:"stable",hide_timeout:3e3,string:{label_assistant:'<i class="icon-info"> Asystent pobierania'}},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var data=$(this).data(pluginName),close=null,expand=!1,menuPosition=$(data.toggle_button).position().top+$(data.toggle_button).outerHeight();$(data.container_class).css("top",menuPosition),$(data.toggle_button).click(function(){expand===!1?$(data.container_class).slideDown(350,function(){expand=!0}):($(data.container_class).slideUp(350),expand=!1)}),$(document).click(function(e){e.stopPropagation();var container=$(".block.download");0===container.has(e.target).length&&expand===!0&&($(data.container_class).slideUp(350),expand=!1)}),$(data.container_class).mouseleave(function(){close=setTimeout(function(){expand=!1,$(data.container_class).slideUp(350)},data.hide_timeout)}),$(data.container_class).mouseenter(function(){clearTimeout(close),expand=!0})}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="dpNotify",defaults={changeTitlebar:!0,changeFavIcon:!0,pageTitle:document.title,use_dp_pvapi:!0,objUserPanelClass:".panel-user",objNotifyList:"#notify-list",objShortcutList:".shortcuts",objCounter:'.badge[data-type="counter"]',objMenu:".interactive-menu",objMenuWrapper:".menu-wrapper",menu:{defaultMenu:"#notify-list",currentMenu:null,desktopMaxHeight:350},count:0,unreadCount:0,notifications:{},lock:!1,item_limits:{comments:3,blog:2,friends_invitation:3},interval:{page_active:15e3,page_inactive:12e4,page_state:null,object:null},visibilityObserver:null,providerUrl:null,desktop:{use_desktop_notify:!1,function_wrapper:null},enable_notify:!1,notify:{strings:{username:_.template("<strong><%= name %></strong>"),comment_reply:_.template("<%= users %> <%= pluar_action %> na TwÃ³j komentarz"),comment_blog_count:_.template("<%= count %> <%= pluar_users %> <%= pluar_action %> TwÃ³j wpis"),comment_blog:_.template("<%= users %> <%= pluar_action %> TwÃ³j wpis"),comment_bugtracker_count:_.template("<%= count %> <%= pluar_users %> <%= pluar_action %> Twoje zgÅoszenie"),comment_bugtracker:_.template("<%= users %> <%= pluar_action %> Twoje zgÅoszenie"),comment_blog_count_follow:_.template("<%= count %> <%= pluar_users %> <%= pluar_action %> ulubiony przez Ciebie wpis"),comment_blog_follow:_.template("<%= users %> <%= pluar_action %> ulubionÄ przez Ciebie publikacjÄ"),blog_annotation:_.template("Moderator dodaÅ uwagÄ do Twojego wpisu na blogu"),blog_homepage:_.template("TwÃ³j wpis zostaÅ opublikowany na stronie gÅÃ³wnej portalu!"),bugtracker_changingstatus:_.template("Twoje zgÅoszenie zmieniÅo status!"),comment_private_msg:_.template("<%= users %> <%= pluar_action %> do Ciebie <%= pluar_messages %>"),friends_invitation:_.template("<%= users %> <%= pluar_action %> Ciebie do znajomych"),friends_accept:_.template("<%= users %> <%= pluar_action %> <%= pluar_messages %>"),mention:_.template("<%= users %> <%= pluar_action %> <%= pluar_messages %>"),comment_vote:_.template("<%= users %> <%= pluar_action %> gÅos na TwÃ³j komentarz"),license:_.template("Licencja na program czeka na Ciebie w profilu :)"),program_update:_.template("Program, ktÃ³ry masz w ulubionych zostaÅ zaktualizowany"),badges:_.template("Gratulacje! Nowa odznaka pojawiÅa siÄ w Twoim profilu.")},template:_.template('<li class="item <%= status %>" id="<%= id %>">                                     <a href="<%= action %>" data-type="<%= notifyType %>" title="<%= timeUniversal %>">                                         <span class="promo">                                             <span class="promo-inner <%= grid %>">                                                 <%= promo_inner %>                                             </span>                                        </span>                                        <span class="content color-content"><%= content %></span>                                        <span class="support-action mark-as-read color-hover-action"><i class="icon-ok-circle" title="oznacz jako przeczytane" data-action="markAsRead"></i></span>                                        <span class="support-action delete-notify color-hover-warn"><i class="icon-cancel-circle color-hover-warn" title="usuÅ powiadomienie z listy" data-action="deleteNotify"></i></span>                                        <time class="text-h7 color-annotation" datetime="<%= timeUniversal %>"><%= timeStr %></time>                                     </a>                                </li>'),template_promo:{comment:_.template('<span><img src="<%= avatarUrl %>" /></span>'),comment_blog:_.template('<i class="icon-edit"></i><span class="badge"><%= counter %></span>'),comment_bugtracker:_.template('<i class="icon-edit"></i><span class="badge"><%= counter %></span>'),comment_blog_follow:_.template('<i class="icon-heart"></i><span class="badge"><%= counter %></span>'),blog_annotation:_.template('<i class="icon-edit"></i>'),blog_homepage:_.template('<i class="icon-edit"></i>'),bugtracker_changingstatus:_.template('<i class="icon-edit"></i>'),private_msg:_.template('<span><img src="<%= avatarUrl %>" /></span>'),friends:_.template('<span><img src="<%= avatarUrl %>" /></span>'),friends_accept:_.template('<span><img src="<%= avatarUrl %>" /></span>'),mention:_.template('<img src="<%= avatarUrl %>" />'),comment_vote:_.template('<span><img src="<%= avatarUrl %>" /></span>'),license:_.template('<i class="icon-download"></i><span class="badge"></span>'),program_update:_.template('<i class="icon-download"></i><span class="badge"></span>'),contest:_.template('<i class="icon-award"></i>'),custom:_.template('<span><img src="<%= avatarURL %>" /></span>'),badges:_.template('<span><img src="<%= badgeImg %>" /></span>')},template_content:{two_line:_.template("<strong><%= title %></strong><br /><%= content %>")}}},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=$(this),data=$this.data(pluginName);$(this).find("[data-action=show-panel]").click(function(e){return"a"===e.target.nodeName.toLowerCase()&&e.preventDefault(),$this.toggleClass("menu-active"),methods.switchToMenu.apply($this,[data.menu.defaultMenu]),!1}),$(data.objUserPanelClass).on("click","a",function(e){var target=$(e.target),action=target.data("action")||target.parent().data("action"),ignored=["admin","blog","settings","profil","lnkLogoff"];if(!($.inArray(action,ignored)!==-1||target.parent().get(0).id&&$.inArray(target.parent().get(0).id,ignored)!==-1||target.get(0).id&&$.inArray(target.get(0).id,ignored)!==-1||target.parents(".skin").length>0))switch(action){case"markAsRead":$("body").addClass("wait"),methods.markAsRead.apply($this,[$(this).parent().attr("id")]),e.preventDefault();break;case"deleteNotify":methods.deleteNotify.apply($this,[$(this).parent().attr("id")]),e.preventDefault();break;case"switch":var switch_to=$(e.target).data("action-to")||$(e.target).parent().data("action-to");methods.switchToMenu.apply($this,[switch_to]),e.preventDefault();break;case"removeAllNotifications":methods.clearAllNotifications.call($this),e.preventDefault();break;default:return e.preventDefault(),$("body").addClass("wait"),methods.markAsRead.apply($this,[$(this).parent().attr("id"),this.href]),!1}}),data.shortcutsList=$(data.objShortcutList).find("[data-action-to]"),$(document).on("click",function(e){e.stopPropagation();var container=$(data.objUserPanelClass);0===container.has(e.target).length&&$this.hasClass("menu-active")&&$this.removeClass("menu-active")}),data.enable_notify===!0&&(data.visibilityObserver=setInterval(function(){methods.checkPageVisibility.apply($this,[])},3e3),methods.checkNotifications.apply($this,[]))},switchToMenu:function(menuId){var $this=$(this),data=$this.data(pluginName),offset=$(menuId).position().left;return $(data.objMenuWrapper).css("left",-offset),methods.setActiveShortcut.apply($this,[menuId]),data.menu.currentMenu=menuId,methods.setPopUpHeight.apply($this,[menuId])},setActiveShortcut:function(menuId){var $this=$(this),data=$this.data(pluginName);data.count>0&&"#notify-list"===menuId?(methods.togglePlaceholder.call($this,data.objNotifyList,!1),methods.toggleFeatureToolbar.call($this,data.objNotifyList,!0),methods.toggleCleanAllNotificationsButton.call($this,data.objMenuWrapper,!0)):(methods.toggleFeatureToolbar.call($this,data.objNotifyList,!1),methods.togglePlaceholder.call($this,data.objNotifyList,!0),methods.toggleCleanAllNotificationsButton.call($this,data.objMenuWrapper,!1),methods.setPopUpHeight.apply($this,[data.objNotifyList])),$(data.shortcutsList).each(function(){$(this).data("action-to")===menuId?$(this).addClass("active"):$(this).removeClass("active")})},setPopUpHeight:function(menuId){var $this=$(this),data=$this.data(pluginName),menu=$(data.objMenu),$menu=$(data.objMenuWrapper).find(menuId),$notifications=$menu.find("#notify-list");$menu.attr("style","-webkit-overflow-scrolling: touch;"),menu.height(350),$(menuId).height(350),$notifications.scrollTop($notifications.scrollTop()-1),$notifications.perfectScrollbar("update"),$notifications.scrollTop($notifications.scrollTop()+1)},setInterval:function(){var $this=$(this),data=$this.data(pluginName),interval=data.interval.page_active;void 0!==typeof window.Dp&&window.Dp.pageVisible===!1&&(interval=data.interval.page_inactive),data.interval.page_state=window.Dp.pageVisible,data.interval.object=setInterval(function(){methods.checkNotifications.apply($this,[])},interval)},checkPageVisibility:function(){var $this=$(this);if(window.Dp.pageVisible!==$(this).data(pluginName).interval.page_state)return clearInterval($(this).data(pluginName).interval.object),methods.setInterval.apply($this,[])},checkNotifications:function(){var $this=$(this),data=$this.data(pluginName);return data.lock!==!0&&(data.lock=!0,void $.ajax({url:data.providerUrl,type:"GET",dataType:"json",data:{ping:"ping"},cache:!1,success:function(responseData){if(data.lock=!1,!jQuery.isEmptyObject(responseData)){var group_ids=[];jQuery.each(responseData.current,function(i,val){var id=i.split(":"),render=!1,isExist=!1,isUpdate=!1;i=id[0],group_ids.push(i),val.id=id[1],void 0===data.notifications[i]&&(data.notifications[i]={Type:val.Type,items:[]},data.notifications[i].items.push(val),render=!0),0===val.Status?val.Status="unread":val.Status="read",jQuery.each(data.notifications[i].items,function(){this.id===val.id&&(isExist=!0,this.Status!==val.Status&&(this.Status=val.Status,isUpdate=!0,render=!0))}),isExist===!1&&(render=!0,data.notifications[i].items.push(val)),render===!0&&methods.createNewNotification.apply($this,[i,isUpdate])}),methods.findDeletedNotifications.apply($this,[group_ids])}},error:function(xhr,status){data.lock=!1,console.log(pluginName,status+": ",JSON.stringify(xhr,null,2))}}))},createNewNotification:function(id,isUpdate){var $this=$(this),data=$this.data(pluginName),isSingle=!0;1!==data.notifications[id].items.length&&(isSingle=!1);var action,content,users_string,datetime,datetime_universal,i,unread,counter,item,title,CustomText,status,targetUrl,date,Avatar,avatar,script,UserName,item_data=data.notifications[id],grid="",promo_inner=[],users=[],users_list=[];switch(item_data.Type){case"comment":if(i=0,jQuery.each(item_data.items,function(){i++,users.length<=data.item_limits.comments&&$.inArray(this.UserName,users_list)===-1&&(users_list.push(this.UserName),users.push(data.notify.strings.username({name:this.UserName})),promo_inner.push(data.notify.template_promo.comment({avatarUrl:this.Avatar}))),date=this.Data,action=this.TargetUrl,status=this.Status}),promo_inner=promo_inner.join(" "),users_string=users.join(", "),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),users.length>=data.item_limits.comments&&(users_string+=" i inni"),content=data.notify.strings.comment_reply({pluar_action:window.Dp.stem(users.length,"odpowiedziaÅ(a)","odpowiedzieli","odpowiedzieli"),users:users_string}),users.length>1)switch(users.length){case 2:grid="grid two";break;case 3:grid="grid three";break;default:grid="grid four"}methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:action,grid:grid,promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"comment_blog":case"comment_bugtracker":case"comment_blog_follow":i=0,unread=0,users_list=[],users=[],jQuery.each(item_data.items,function(){i++,action=this.TargetUrl,title=this.Title,status=this.Status,date=this.Data,"unread"===status&&($.inArray(this.UserName,users_list)===-1&&(users_list.push(this.UserName),users.push(data.notify.strings.username({name:this.UserName}))),unread++)}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),users_string=users.join(", "),users.length>=data.item_limits.comments&&(users_string+=" i inni"),unread<=data.item_limits.blog&&unread>0?"comment_blog"===item_data.Type?content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_blog({pluar_action:window.Dp.stem(users.length,"skomentowaÅ(a)","skomentowali","skomentowali"),users:users_string})}):"comment_blog_follow"===item_data.Type?content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_blog_follow({pluar_action:window.Dp.stem(users.length,"skomentowaÅ(a)","skomentowali","skomentowali"),users:users_string})}):"comment_bugtracker"===item_data.Type&&(content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_bugtracker({pluar_action:window.Dp.stem(users.length,"skomentowaÅ(a)","skomentowali","skomentowali"),users:users_string})})):"comment_blog"===item_data.Type?content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_blog_count({pluar_action:window.Dp.stem(i,"skomentowaÅa","skomentowaÅy","skomentowaÅo"),pluar_users:window.Dp.stem(i,"osoba","osoby","osÃ³b"),count:i})}):"comment_blog_follow"===item_data.Type?content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_blog_count_follow({pluar_action:window.Dp.stem(i,"skomentowaÅa","skomentowaÅy","skomentowaÅo"),pluar_users:window.Dp.stem(i,"osoba","osoby","osÃ³b"),count:i})}):"comment_bugtracker"===item_data.Type&&(content=data.notify.template_content.two_line({title:title,content:data.notify.strings.comment_bugtracker_count({pluar_action:window.Dp.stem(i,"skomentowaÅa","skomentowaÅy","skomentowaÅo"),pluar_users:window.Dp.stem(i,"osoba","osoby","osÃ³b"),count:i})})),counter=unread>0?unread:"",promo_inner=data.notify.template_promo.comment_blog({counter:counter}),"comment_blog_follow"===item_data.Type&&(promo_inner=data.notify.template_promo.comment_blog_follow({counter:counter})),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:action,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"friends_invite":if(i=0,jQuery.each(item_data.items,function(){i++,users.length<=data.item_limits.comments&&$.inArray(this.UserName,users_list)===-1&&(users_list.push(this.UserName),users.push(data.notify.strings.username({name:this.UserName})),promo_inner.push(data.notify.template_promo.comment({avatarUrl:this.Avatar}))),action=this.TargetUrl,status=this.Status,date=this.Data}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=promo_inner.join(" "),users_string=users.join(", "),users.length>=data.item_limits.friends_invitation&&(users_string+=" i inni"),content=data.notify.strings.friends_invitation({pluar_action:window.Dp.stem(users.length,"zaprosiÅ(a)","zaprosili","zaprosili"),users:users_string}),users.length>1)switch(users.length){case 2:grid="grid two";break;case 3:grid="grid three";break;default:grid="grid four"}methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:action,grid:grid,promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"friends_accept":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o wspomnieÅ w jednej grupie!"),item=item_data.items[0],date=item.Data,content=data.notify.strings.friends_accept({pluar_action:"zaakceptowaÅ(a)",users:data.notify.strings.username({name:item.UserName}),pluar_messages:"Twoje zaproszenie do znajomych"}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.friends_accept({avatarUrl:item.Avatar}),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"blog_annotation":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o programÃ³w w jednej grupie!"),item=item_data.items[0],date=item.Data,content=data.notify.template_content.two_line({title:item.Title,content:data.notify.strings.blog_annotation()}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.blog_annotation(),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"private_msg":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o nowych wiadomoÅci"),item=item_data.items[0],date=item.Data,content=data.notify.strings.comment_private_msg({pluar_action:"napisaÅ(a)",users:data.notify.strings.username({name:item.UserName}),pluar_messages:"prywatnÄ wiadomoÅÄ"}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.private_msg({avatarUrl:item.Avatar}),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"mention":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o wspomnieÅ w jednej grupie!"),item=item_data.items[0],date=item.Data,content=data.notify.strings.mention({pluar_action:"wspomniaÅ(a)",users:data.notify.strings.username({name:item.UserName}),pluar_messages:"o Tobie w komentarzu"}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.mention({avatarUrl:item.Avatar}),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"comment_vote":if(i=0,jQuery.each(item_data.items,function(){i++,users.length<=data.item_limits.comments&&$.inArray(this.UserName,users_list)===-1&&(users_list.push(this.UserName),users.push(data.notify.strings.username({name:this.UserName})),promo_inner.push(data.notify.template_promo.comment({avatarUrl:this.Avatar}))),action=this.TargetUrl,status=this.Status,date=this.Data}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=promo_inner.join(" "),users_string=users.join(", "),users.length>=data.item_limits.comment_vote&&(users_string+=" i inni"),content=data.notify.strings.comment_vote({pluar_action:window.Dp.stem(users.length,"oddaÅ(a)","oddali","oddali"),users:users_string}),users.length>1)switch(users.length){case 2:grid="grid two";break;case 3:grid="grid three";break;default:grid="grid four"}methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:action,grid:grid,promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"license":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o licencji w jednej grupie!"),item=item_data.items[0],date=item.Data,content=data.notify.template_content.two_line({title:item.Title,content:data.notify.strings.license()}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.license(),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"program_update":item_data.items.length>1&&console.log("Kurza twarz! CoÅ poszÅo nie tak :( Mam zbyt duÅ¼o programÃ³w w jednej grupie!"),item=item_data.items[0],date=item.Data,content=data.notify.template_content.two_line({title:item.Title,content:data.notify.strings.program_update()}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.program_update(),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:item.Status,action:item.TargetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"contest":jQuery.each(item_data.items,function(index,value){title=value.Title,CustomText=value.CustomText,status=value.Status,targetUrl=value.TargetUrl,date=value.Data}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),content=data.notify.template_content.two_line({title:title,content:CustomText}),promo_inner=data.notify.template_promo.contest(),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:targetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"blog_homepage":case"bugtracker_changingstatus":jQuery.each(item_data.items,function(index,value){title=value.Title,CustomText=value.CustomText,status=value.Status,targetUrl=value.TargetUrl,date=value.Data}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),content=data.notify.template_content.two_line({title:title,content:CustomText}),promo_inner=data.notify.template_promo.blog_homepage(),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:targetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"badges":jQuery.each(item_data.items,function(index,value){title=value.Title,CustomText=value.CustomText,status=value.Status,targetUrl=value.TargetUrl,date=value.Data,Avatar=value.Avatar}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),content=data.notify.template_content.two_line({title:title,content:data.notify.strings.badges()}),promo_inner=data.notify.template_promo.badges({badgeImg:Avatar}),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:targetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,notifyType:item_data.Type})]);break;case"custom":jQuery.each(item_data.items,function(index,value){title=value.Title,CustomText=value.CustomText,status=value.Status,script=value.ScriptText.length>0&&value.ScriptText,UserName="Redakcja",targetUrl=value.TargetUrl.length>0?value.TargetUrl:"#",avatar=value.Avatar||"//static.dpcdn.pl/assets/img/notify_150x150.png",date=value.Data}),content=data.notify.template_content.two_line({title:"<b>Redakcja:</b>",content:title}),datetime=methods.dateFormat.call(this,date),datetime_universal=new Date(date).toLocaleString(),promo_inner=data.notify.template_promo.custom({avatarURL:avatar}),methods.insertNotification.apply($this,[id,data.notify.template({id:id,status:status,action:"#",grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,title:title,script:script,url:targetUrl,text:CustomText,notifyType:item_data.Type}),!0,{id:id,status:status,action:targetUrl,grid:"",promo_inner:promo_inner,content:content,timeUniversal:datetime_universal,timeStr:datetime,title:title,script:script,url:targetUrl,text:CustomText}]);break;default:console.log(pluginName+": Nieznany typ powiadomienia ("+item_data.Type+") ID: "+id+"!"),delete data.notifications[id]}methods.updateMainCounter.apply($this,[]),methods.setPopUpHeight.apply($this,[data.objNotifyList])},findDeletedNotifications:function(ids){var $this=$(this),data=$this.data(pluginName);$(data.objNotifyList).find("li.item").each(function(){jQuery.inArray($(this).attr("id"),ids)===-1&&void 0===$(this).attr("role")&&$(this).remove()}),$(data.objNotifyList).find("li.item").length>0&&methods.setPopUpHeight.apply($this,[data.objNotifyList])},dateFormat:function(time){var date=new Date(time),current=new Date,offset=60*current.getTimezoneOffset()*1e3,now=current.getTime()-offset,diffMs=now-time,diffMin=Math.round(diffMs/6e4);if(diffMin<=1)return"mniej niÅ¼ minutÄ temu";if(diffMin<=60)return diffMin+" "+window.Dp.stem(diffMin,"minutÄ","minuty","minut")+" temu";if(diffMin<=1440){var diffHr=Math.round(diffMin/60);return diffHr+" "+window.Dp.stem(diffHr,"godzinÄ","godziny","godzin")+" temu"}return diffMin<=2880?"wczoraj o "+date.getHours()+":"+("0"+date.getMinutes()).slice(-2):diffMin>2880?date.toLocaleDateString():null},deleteNotify:function(group_id){var notify,$this=$(this),data=$this.data(pluginName);if(void 0===group_id)return!1;if(data.lock=!0,group_id instanceof Array){for(var notifications_ids=[],i=0;i<group_id.length;i++)notify=methods.findNotificationsIdInGroup.apply($this,[group_id[i]]),notifications_ids=notifications_ids.concat(notify);$.ajax({url:data.providerUrl,type:"POST",dataType:"json",cache:!1,data:{deleteNotify:notifications_ids},success:function(responseData){$this.find("#"+group_id).remove();for(var i=0;i<group_id.length;i++)delete data.notifications[group_id[i]],i+1===group_id.length&&(delete data.notifications[group_id],methods.updateMainCounter.apply($this,[]),methods.setPopUpHeight.apply($this,[data.objNotifyList]),data.lock=!1,methods.checkNotifications.apply($this,[]))},error:function(xhr,status){console.log(pluginName,status+": ",JSON.stringify(xhr,null,2))}})}else $.ajax({url:data.providerUrl,type:"POST",dataType:"json",cache:!1,data:{deleteNotify:methods.findNotificationsIdInGroup.apply($this,[group_id])},success:function(responseData){$this.find("#"+group_id).remove(),delete data.notifications[group_id],methods.updateMainCounter.apply($this,[]),methods.setPopUpHeight.apply($this,[data.objNotifyList]),data.lock=!1,methods.checkNotifications.apply($this,[])},error:function(xhr,status){console.log(pluginName,status+": ",JSON.stringify(xhr,null,2))}})},insertNotification:function(id,output,isGlobalNotify,global){var $this=$(this),data=$this.data(pluginName),listItem=$(data.objNotifyList).children("#"+id);if(null!==listItem&&$(listItem).fadeOut().remove(),$(data.objNotifyList).prepend($(output).fadeIn()),isGlobalNotify&&global&&$("#newsletterModal").length>0){$("#notify_"+global.id).length>0&&$("#notify_"+global.id).remove();var action_text,global_modal=$("<div/>",{id:"notify_"+global.id,class:"modal hide fade modal-dp modal-in-page global-notification",role:"dialog"}),modal_watermark=$("<div/>",{class:"modal-watermark",html:'<i class="icon-dobreprogramy"></i>'}),top_close=$("<button/>",{type:"button",id:"cboxClose","data-dismiss":"modal","aria-hidden":!0,text:"x"}),modal_header=$("<div/>",{class:"modal-header",html:"<span>"+global.title+"</span>"}),modal_body=$("<div/>",{class:"modal-body",html:"<p>"+global.text+"</p>"}),modal_footer=$("<div/>",{class:"modal-footer",html:'<a href="#" role="button" class="as-link button normal color-content" data-dismiss="modal" aria-hidden="true">Zamknij</a>'}),modal_action=$("<a/>",{href:"#",role:"button",class:"accept button action float-right normal"});switch(!0){case global.action.length>1&&0===global.script.length:action_text="PrzejdÅº";break;case global.script.length>1&&1===global.action.length:action_text='<i class="popover-x icon-info-circle" data-toggle="tooltip" data-trigger="hover" data-html="true" data-placement="top" title="Informacja" data-content="KlikniÄcie przycisku Zastosuj oznacza zgodÄ na opisane w komunikacie powyÅ¼ej dziaÅania."></i>&nbsp;&nbsp;&nbsp;Zastosuj';break;default:action_text='<i class="popover-x icon-info-circle" data-toggle="tooltip" data-trigger="hover" data-html="true" data-placement="top" title="Informacja" data-content="KlikniÄcie przycisku Ok oznacza zgodÄ na opisane w komunikacie powyÅ¼ej informacje."></i>&nbsp;&nbsp;&nbsp;Ok'}modal_action.html(action_text).appendTo(modal_footer),global_modal.append(modal_watermark).append(top_close).append(modal_header).append(modal_body).append(modal_footer).appendTo("body").on("show",function(){$("#form1").addClass("blur")}).on("hide",function(){$("#form1").removeClass("blur")}),modal_action.on("click",function(event){if(event.preventDefault(),global.action.length>1)return console.log("Jump to:",global.action),window.location.href=global.action;if(global.script.length>1){var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,r,i,s,o,u,a,t="",f=0;for(e=Base64._utf8_encode(e);f<e.length;)n=e.charCodeAt(f++),r=e.charCodeAt(f++),i=e.charCodeAt(f++),s=n>>2,o=(3&n)<<4|r>>4,u=(15&r)<<2|i>>6,a=63&i,isNaN(r)?u=a=64:isNaN(i)&&(a=64),t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);return t},decode:function(e){var n,r,i,s,o,u,a,t="",f=0;for(e=e.replace(/[^A-Za-z0-9+\/=]/g,"");f<e.length;)s=this._keyStr.indexOf(e.charAt(f++)),o=this._keyStr.indexOf(e.charAt(f++)),u=this._keyStr.indexOf(e.charAt(f++)),a=this._keyStr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(15&o)<<4|u>>2,i=(3&u)<<6|a,t+=String.fromCharCode(n),64!==u&&(t+=String.fromCharCode(r)),64!==a&&(t+=String.fromCharCode(i));return t=Base64._utf8_decode(t)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),
t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}},global_function=Base64.decode(global.script);return $.globalEval(global_function),global_modal.modal("toggle")}return global_modal.modal("toggle")})}},markAsRead:function(group_id,url){var $this=$(this),data=$this.data(pluginName);return void 0===group_id?-1:void $.ajax({cache:!1,url:data.providerUrl,type:"POST",dataType:"json",data:{markAsRead:methods.findNotificationsIdInGroup.apply($this,[group_id])},success:function(responseData){var group=$this.find("#"+group_id);group.length>0&&($(data.notifications[group_id].items).each(function(){"unread"===this.Status&&(this.Status="read")}),group.removeClass("unread").addClass("read"),methods.updateMainCounter.call($this)),$("body").removeClass("wait");var notify_type=group.find("a").first().data("type");return"custom"===notify_type?$("#notify_"+group.get(0).id).modal("toggle"):url&&"#"!==url?window.location.href=url:void 0},error:function(xhr,status){console.log(pluginName,status+": ",JSON.stringify(xhr,null,2))}})},findNotificationsIdInGroup:function(group_id){var $this=$(this),data=$this.data(pluginName),items_id=[];return jQuery.each(data.notifications[group_id].items,function(){items_id.push(this.id)}),items_id},changeTitlebar:function(clear){var $this=$(this),data=$this.data(pluginName),counter=data.unreadCount;return counter<1||clear===!0?document.title=data.pageTitle:document.title="("+counter+") "+data.pageTitle},updateMainCounter:function(){var counter,$this=$(this),data=$this.data(pluginName);data.count=data.unreadCount=0,jQuery.each(data.notifications,function(){jQuery.each(this.items,function(){"unread"===this.Status&&data.unreadCount++,this.hasOwnProperty("Status")&&data.count++})}),data.unreadCount>0?(methods.togglePlaceholder.call($this,data.objNotifyList,!1),counter=data.unreadCount):counter="",data.count>0?(methods.togglePlaceholder.call($this,data.objNotifyList,!1),methods.toggleFeatureToolbar.call($this,data.objNotifyList,!0),methods.toggleCleanAllNotificationsButton.call($this,data.objMenuWrapper,!0)):(methods.toggleFeatureToolbar.call($this,data.objNotifyList,!1),methods.togglePlaceholder.call($this,data.objNotifyList,!0),methods.toggleCleanAllNotificationsButton.call($this,data.objMenuWrapper,!1)),$(data.objCounter).html(counter),""!==counter?($(data.objUserPanelClass).find(".card-inner").addClass("flipped").delay(2e3).queue(function(next){$(this).removeClass("flipped"),next()}),data.changeTitlebar===!0&&methods.changeTitlebar.call($this)):data.changeTitlebar===!0&&methods.changeTitlebar.call($this,!0)},togglePlaceholder:function(targetSelector,show){var listObject=($(this),$(targetSelector));show===!0?listObject.addClass("placeholder-enable"):listObject.removeClass("placeholder-enable")},toggleFeatureToolbar:function(targetSelector,show){var listObject=($(this),$(targetSelector));show===!0?listObject.addClass("feature-enable").prev().show():listObject.removeClass("feature-enable").prev().hide()},toggleCleanAllNotificationsButton:function(targetSelector,show){var listObject=($(this),$(targetSelector));show===!0?listObject.find('a[data-action="removeAllNotifications"]').show():listObject.find('a[data-action="removeAllNotifications"]').hide()},clearAllNotifications:function(){var $this=$(this),data=$this.data(pluginName),ids=[];$(data.objNotifyList).find("li.item").each(function(){ids.push($(this).attr("id"))}),methods.deleteNotify.call($this,ids)}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="dpScroller",defaults={label:"FLESZ",interval:4500,intervalObj:null,current:0,currentPosition:0,first_run:!0,animation_speed:500,accel:Modernizr.testAllProps("perspective"),animate_class:"",use_dp_pvapi:!0,transition:{accel:{xProp:"transform",xPref:"translate3d(0,",xSuf:"px,0)"},legacy:{xProp:"top",xPref:"",xSur:"px"}}},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);settings.accel===!1?settings.accel="legacy":settings.accel="accel";var target={elementsContainer:$this.find("ul"),elements:$this.find("li"),label:$this.find(".category"),height:$this.find("li").outerHeight()};settings=$.extend({},settings,target),$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=$(this),$data=$this.data(pluginName);$data.elementsContainer.css("position","absolute").addClass("animate"),"accel"===$data.accel&&$data.elementsContainer.addClass("animate"),methods.play.apply(this,[]),$this.hover(function(){methods.stop.apply($this,[])},function(){methods.play.apply($this,[])}),$this.on("click","[data-action=prev]",function(){methods.goToPrev.apply($this,[])}),$this.on("click","[data-action=next]",function(){methods.goToNext.apply($this,[])})},goToPrev:function(){var $this=$(this),$data=$this.data(pluginName);return($data.use_dp_pvapi!==!0||Dp.pageVisible!==!1)&&void("undefined"!=typeof $data.elements[$data.current-1]?methods.setCurrent.apply(this,[$data.current-1]):methods.setCurrent.apply(this,[0]))},goToNext:function(){var $this=$(this),$data=$this.data(pluginName);return($data.use_dp_pvapi!==!0||Dp.pageVisible!==!1)&&void("undefined"!=typeof $data.elements[$data.current+1]?methods.setCurrent.apply(this,[$data.current+1]):methods.setCurrent.apply(this,[0]))},setCurrent:function(pos){var $this=$(this),data=$this.data(pluginName);data.current=pos;var options=JSON.parse($(data.elements[pos]).children("script").html());"legacy"===data.accel?(methods.setLabel.apply(this,[options.label]),methods.setContainerClass.apply(this,[options.weight]),data.elementsContainer.css("top",-(pos*data.height))):(methods.setLabel.apply(this,[options.label]),methods.setContainerClass.apply(this,[options.weight]),data.elementsContainer.css(data.transition[data.accel].xProp,data.transition[data.accel].xPref+-(pos*data.height)+data.transition[data.accel].xSuf))},setLabel:function(content){$(this).data(pluginName).label.text(content)},setContainerClass:function(weightName){return"undefined"==typeof weightName?$(this).attr("class","short"):void $(this).addClass(weightName)},play:function(){var $this=$(this),data=$this.data(pluginName);data.first_run===!0&&(methods.setCurrent.apply(this,[0]),data.first_run=!1),$(this).data(pluginName).intervalObj=setInterval(function(){methods.goToNext.apply($this,[])},$(this).data(pluginName).interval)},stop:function(){clearInterval($(this).data(pluginName).intervalObj)}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="rating",defaults={star_template:{prefix:'<i class="icon icon-',suffix:'"></i>'},star_class_name:{full:"star",half:"star-half"},scale:{from:1,to:5,step:.5},setHiddenInput:!1,hiddenInputSelector:'[data-type="rating_value"]',_backgroundWidth:0,_starWidth:0,providerUrl:null,customData:null},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=this,data=$(this).data(pluginName);$(window).on("load",function(){data._backgroundWidth=$($this).find('[data-type="background"]').width(),data._starWidth=data._backgroundWidth/data.scale.to,data.setHiddenInput===!1&&methods.getCurrentRating.apply($this,[]),$($this).on("mousemove","[data-clickable=true]",function(e){var relX=e.pageX-$(this).offset().left;if(relX%data._starWidth===0)$(this).children('[data-type="value"]').width(relX+data._starWidth);else{var position=Math.ceil(relX/data._starWidth);$(this).children('[data-type="value"]').width(position*data._starWidth)}}).on("mouseleave","[data-clickable=true]",function(){$(this).children('[data-type="value"]').width($(this).data("value")*data._starWidth)}).on("click","[data-clickable=true]",function(e){var relX=e.pageX-$(this).offset().left,value=Math.ceil(relX/data._starWidth);data.setHiddenInput===!0?methods.setInputValue.apply($this,[value,this]):methods.rate.apply($this,[value,this])}).on("click","[data-clickable=false]",function(){1===window.Dp.user.id&&$(window.Dp.loginModal).loginBox("show")}),1===Dp.user.id&&$($this).find('[data-type="rating-user"]').addClass("cursor-pointer").attr("title","OceniaÄ programy mogÄ jedynie zarejestrowani uÅ¼ytkownicy portalu.").data("directon","bottom").tooltip()})},getCurrentRating:function(){var $this=$(this),data=$this.data(pluginName);$.ajax({url:$(this).data(pluginName).providerUrl,type:"GET",dataType:"json",data:{get:data.customData},success:function(data){methods.applyValues.apply($this,[data])},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},applyValues:function(series){var $this=$(this),data=$this.data(pluginName);$.each(series,function(key,value){var obj=$this.children('[data-type="rating-'+key+'"]');$(obj).find('[data-type="value"]').animate({width:value*data._starWidth},1e3,function(){}).parent().attr("data-value",value)})},rate:function(value,obj){var $this=$(this),$data=$this.data(pluginName),userRating={rate:value},request=$.extend({},$data.customData,userRating);$.ajax({url:$data.providerUrl,type:"POST",dataType:"json",data:{set:request},success:function(data){$(obj).data("value",value).children('[data-type="value"]').width(value*$data._starWidth)},error:function(xhr,status){console.log(pluginName+": "+xhr+" "+status)}})},setInputValue:function(value,obj){var $this=$(this),data=$this.data(pluginName);$(data.hiddenInputSelector).val(value),$(obj).data("value",value).children('[data-type="value"]').width(value*data._starWidth)}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="programsFilter",defaults={input_groups:{systems:"input[name=systems]:checked",license:"input[name=license]:checked",lang_pl:"input[name=lang_pl]:checked",stable:"input[name=stable]:checked",update_date:"input[name=update_date]"},currentDate:null,tableSelector:"#programs tbody > tr.filter"},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=$(this),data=$this.data(pluginName);$(this).find("input.trigger").on("change",function(){methods.filterData.apply($this,[])}),$(this).parents("table").find("[data-action=reset]").on("click",function(e){e.preventDefault(),methods.reset.apply($this,[])}),$(this).find("input[name=date_diff]").on("change",function(){if(""==$(this).val())data.currentDate=null;else{var filterDate=new Date(Date.now());filterDate.setDate(filterDate.getDate()-$(this).val()),filterDate=filterDate.getTime(),data.currentDate=filterDate}methods.filterData.apply($this,[])}),$(document).click(function(e){e.stopPropagation();var container=$(".dropdown");0===container.has(e.target).length&&($this.find(".dropdown.active").length>0&&e.preventDefault(),$this.find(".dropdown").removeClass("active"))}),$(this).find(".dropdown").on("click",function(){$(this).hasClass("active")?$(this).parent().find(".dropdown").removeClass("active"):($(this).parent().find(".dropdown").removeClass("active"),$(this).addClass("active"))})},reset:function(){$(this).find("input").prop("checked",!1),$(this).find("input.default").prop("checked",!0).trigger("change"),methods.filterData.apply(this,[])},filterData:function(){var lang_pl,stable,$this=$(this),data=$this.data(pluginName),systems=[],license=[],count=0;return $(data.input_groups.systems).each(function(){systems.push($(this).val())}),$(data.input_groups.license).each(function(){license.push($(this).val())}),lang_pl=$(data.input_groups.lang_pl).val(),stable=$(data.input_groups.stable).val(),update_date=data.currentDate,0==systems.length&&0==license.length&&void 0==lang_pl&&void 0==stable&&null==update_date?($(data.tableSelector).show(),$(this).parents("table").find(".no-items").hide(),!1):($(data.tableSelector).each(function(){var foundSystems=($(this),!1),foundLicense=!1,foundLang=!1;foundStable=!1,foundDate=!1;var itemSystems=$(this).attr("data-system"),itemLicense=$(this).data("license"),itemLang_pl=$(this).data("pl"),itemStable=$(this).data("stable"),itemDate=Date.parse($(this).data("update"));return void 0!=itemSystems&&void 0!=itemLicense&&void 0!=itemLang_pl&&void 0!=itemStable&&void 0!=itemDate&&(systems.length>0?jQuery.each(systems,function(key,value){itemSystems.indexOf(value)!=-1&&(foundSystems=!0)}):foundSystems=!0,license.length>0?jQuery.each(license,function(key,value){itemLicense==value&&(foundLicense=!0)}):foundLicense=!0,void 0!=lang_pl?"True"==itemLang_pl&&(foundLang=!0):foundLang=!0,void 0!=stable?"True"==itemStable&&(foundStable=!0):foundStable=!0,null!=update_date?itemDate>update_date&&(foundDate=!0):foundDate=!0,1==foundLicense&&1==foundSystems&&1==foundLang&&1==foundStable&&1==foundDate?display=!0:display=!1,void(0==display?$(this).fadeOut():1==display&&($(this).show(),count++)))}),void(0==count&&$(this).parents("table").find(".no-items").show()))}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="shortener",defaults={pattern:null,target:null,targetChildrenSel:"li",leaveOne:!0,blockPatternSel:"section",offset:50},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var limit,$this=$(this),data=$this.data(pluginName);null!==data.pattern&&null!==data.target||console.log(pluginName+": NaleÅ¼y podaÄ wszystkie parametry");var position=$(data.pattern).position(),positionB=$(data.target).position(),childrens=$(data.targetChildrenSel).length,patternHeight=position.top+$(data.pattern).height()+data.offset,targetHeight=positionB.top+$(data.target).height(),children=$(data.targetChildrenSel).last();for(limit=data.leaveOne===!0?1:0;patternHeight<targetHeight&&childrens>limit;){var old=$(children);childrens--,0===childrens&&0===limit?$(children).parents(data.blockPatternSel).remove():(children=$(children).prev(),$(old).remove(),targetHeight=positionB.top+$(data.target).height())}}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($){var pluginName="loginBox",defaults={options:{backdrop:!0,keyboard:!0,show:!1},providerUrl:null,fallbackSite:null,itemsContainerSelector:"#modal-select",lock:!1},methods={init:function(options){return this.each(function(){var $this=$(this),settings=$.extend({},defaults,options);$this.data(pluginName,settings),methods.bootstrap.apply(this,[])})},bootstrap:function(){var $this=$(this),data=$this.data(pluginName);$("body").prepend($(this)),$(this).modal(data.options),$(this).on("submit",function(e){$(this).attr("action").indexOf(window.location)===-1&&(e.preventDefault(),methods.send.apply($this,[$(this).find(".button.action")]))}),$(this).find(".button.action").on("click",function(){$this.find("input[type=submit]").trigger("click")}),$("[data-action=loginbox]").on("click",function(e){e.preventDefault(),window.Dp.ie_legacy===!1&&jQuery.support.cors!==!1?$this.modal("show"):window.location=data.fallbackSite}),$(this).on("keyup",function(e){13===e.keyCode&&$this.find(".button.action").trigger("click")})},show:function(){var $this=$(this),data=$this.data(pluginName);jQuery.support.cors===!1?window.location=data.fallbackSite:$this.modal("show")},send:function(btn_obj){var $this=$(this),data=$this.data(pluginName),ajaxType="json",btn_width=$(btn_obj).outerWidth(),btn_content=$(btn_obj).html();return data.lock!==!0&&void $.ajax({type:"POST",data:{what:"login",login:$("#txtLogin").val(),password:$("#txtPassword").val(),persistent:$("#chkRemember").is(":checked")},url:data.providerUrl,dataType:ajaxType,beforeSend:function(){data.lock=!0,$(btn_obj).html('<span id="login_spinner" style="position:relative; display:inline-block;top:5px;"></span>').css({width:btn_width}),Spinners.create($(btn_obj).children("span"),{radius:6,height:5,width:3.3,dashes:12,opacity:1,padding:0,rotation:650,color:"#fff"}).play()},success:function(){window.location.href=window.location.href},complete:function(){data.lock=!1,$(btn_obj).html(btn_content)},error:function(result,status,error){return"Unauthorized"===error?$this.find("#loginMessenger").text("Wprowadzone dane logowania sÄ nieprawidÅowe.").show():$this.find("#loginMessenger").text("Formularz zawiera bÅÄdnie wypeÅnione pola.").show(),!1},xhrFields:{withCredentials:!0}})}};$.fn[pluginName]=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery."+pluginName):methods.init.apply(this,arguments)}}(jQuery),function($,document,window){function $tag(tag,id,css){var element=document.createElement(tag);return id&&(element.id=prefix+id),css&&(element.style.cssText=css),$(element)}function winheight(){return window.innerHeight?window.innerHeight:$(window).height()}function getIndex(increment){var max=$related.length,newIndex=(index+increment)%max;return newIndex<0?max+newIndex:newIndex}function setSize(size,dimension){return Math.round((/%/.test(size)?("x"===dimension?$window.width():winheight())/100:1)*parseInt(size,10))}function isImage(settings,url){return settings.photo||settings.photoRegex.test(url)}function retinaUrl(settings,url){return settings.retinaUrl&&window.devicePixelRatio>1?url.replace(settings.photoRegex,settings.retinaSuffix):url}function trapFocus(e){"contains"in $box[0]&&!$box[0].contains(e.target)&&(e.stopPropagation(),$box.focus())}function makeSettings(){var i,data=$.data(element,colorbox);null==data?(settings=$.extend({},defaults),console&&console.log&&console.log("Error: cboxElement missing settings object")):settings=$.extend({},data);for(i in settings)$.isFunction(settings[i])&&"on"!==i.slice(0,2)&&(settings[i]=settings[i].call(element));settings.rel=settings.rel||element.rel||$(element).data("rel")||"nofollow",settings.href=settings.href||$(element).attr("href"),settings.title=settings.title||element.title,"string"==typeof settings.href&&(settings.href=$.trim(settings.href))}function trigger(event,callback){$(document).trigger(event),$events.trigger(event),$.isFunction(callback)&&callback.call(element)}function slideshow(){var timeOut,clear,set,start,stop,className=prefix+"Slideshow_",click="click."+prefix;settings.slideshow&&$related[1]?(clear=function(){clearTimeout(timeOut)},set=function(){(settings.loop||$related[index+1])&&(timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed))},start=function(){$slideshow.html(settings.slideshowStop).off(click).one(click,stop),$events.on(event_complete,set).on(event_load,clear).on(event_cleanup,stop),$box.removeClass(className+"off").addClass(className+"on")},stop=function(){clear(),$events.off(event_complete,set).off(event_load,clear).off(event_cleanup,stop),$slideshow.html(settings.slideshowStart).off(click).one(click,function(){publicMethod.next(),start()}),$box.removeClass(className+"on").addClass(className+"off")},settings.slideshowAuto?start():stop()):$box.removeClass(className+"off "+className+"on")}function launch(target){closing||(element=target,makeSettings(),$related=$(element),index=0,"nofollow"!==settings.rel&&($related=$("."+boxElement).filter(function(){var relRelated,data=$.data(this,colorbox);return data&&(relRelated=$(this).data("rel")||data.rel||this.rel),relRelated===settings.rel}),index=$related.index(element),index===-1&&($related=$related.add(element),index=$related.length-1)),$overlay.css({opacity:parseFloat(settings.opacity),cursor:settings.overlayClose?"pointer":"auto",visibility:"visible"}).show(),className&&$box.add($overlay).removeClass(className),settings.className&&$box.add($overlay).addClass(settings.className),className=settings.className,settings.closeButton?$close.html(settings.close).appendTo($content):$close.appendTo("<div/>"),open||(open=active=!0,$box.css({visibility:"hidden",display:"block"}),$loaded=$tag(div,"LoadedContent","width:0; height:0; overflow:hidden").appendTo($content),interfaceHeight=$topBorder.outerHeight()+$bottomBorder.outerHeight()+$content.outerHeight(!0)-$content.height(),interfaceWidth=$leftBorder.outerWidth()+$rightBorder.outerWidth()+$content.outerWidth(!0)-$content.width(),loadedHeight=$loaded.outerHeight(!0),loadedWidth=$loaded.outerWidth(!0),settings.w=setSize(settings.initialWidth,"x"),settings.h=setSize(settings.initialHeight,"y"),publicMethod.position(),slideshow(),trigger(event_open,settings.onOpen),$groupControls.add($title).hide(),$box.focus(),settings.trapFocus&&document.addEventListener&&(document.addEventListener("focus",trapFocus,!0),$events.one(event_closed,function(){document.removeEventListener("focus",trapFocus,!0)})),settings.returnFocus&&$events.one(event_closed,function(){$(element).focus()})),load())}function appendHTML(){!$box&&document.body&&(init=!1,$window=$(window),$box=$tag(div).attr({id:colorbox,class:$.support.opacity===!1?prefix+"IE":"",role:"dialog",tabindex:"-1"}).hide(),$overlay=$tag(div,"Overlay").hide(),$loadingOverlay=$([$tag(div,"LoadingOverlay")[0],$tag(div,"LoadingGraphic")[0]]),$wrap=$tag(div,"Wrapper"),$content=$tag(div,"Content").append($title=$tag(div,"Title"),$current=$tag(div,"Current"),$prev=$('<button type="button"/>').attr({id:prefix+"Previous"}),$next=$('<button type="button"/>').attr({id:prefix+"Next"}),$slideshow=$tag("button","Slideshow"),$loadingOverlay),$close=$('<button type="button"/>').attr({id:prefix+"Close"}),$wrap.append($tag(div).append($tag(div,"TopLeft"),$topBorder=$tag(div,"TopCenter"),$tag(div,"TopRight")),$tag(div,!1,"clear:left").append($leftBorder=$tag(div,"MiddleLeft"),$content,$rightBorder=$tag(div,"MiddleRight")),$tag(div,!1,"clear:left").append($tag(div,"BottomLeft"),$bottomBorder=$tag(div,"BottomCenter"),$tag(div,"BottomRight"))).find("div div").css({float:"left"}),$loadingBay=$tag(div,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),$groupControls=$next.add($prev).add($current).add($slideshow),$(document.body).append($overlay,$box.append($wrap,$loadingBay)))}function addBindings(){function clickHandler(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),launch(this))}return!!$box&&(init||(init=!0,$next.click(function(){publicMethod.next()}),$prev.click(function(){publicMethod.prev()}),$close.click(function(){publicMethod.close()}),$overlay.click(function(){settings.overlayClose&&publicMethod.close()}),$(document).on("keydown."+prefix,function(e){var key=e.keyCode;open&&settings.escKey&&27===key&&(e.preventDefault(),publicMethod.close()),open&&settings.arrowKey&&$related[1]&&!e.altKey&&(37===key?(e.preventDefault(),$prev.click()):39===key&&(e.preventDefault(),$next.click()))}),$.isFunction($.fn.on)?$(document).on("click."+prefix,"."+boxElement,clickHandler):$("."+boxElement).live("click."+prefix,clickHandler)),!0)}function load(){var href,setResize,$inline,prep=publicMethod.prep,request=++requests;active=!0,photo=!1,element=$related[index],makeSettings(),trigger(event_purge),trigger(event_load,settings.onLoad),settings.h=settings.height?setSize(settings.height,"y")-loadedHeight-interfaceHeight:settings.innerHeight&&setSize(settings.innerHeight,"y"),settings.w=settings.width?setSize(settings.width,"x")-loadedWidth-interfaceWidth:settings.innerWidth&&setSize(settings.innerWidth,"x"),settings.mw=settings.w,settings.mh=settings.h,settings.maxWidth&&(settings.mw=setSize(settings.maxWidth,"x")-loadedWidth-interfaceWidth,settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw),settings.maxHeight&&(settings.mh=setSize(settings.maxHeight,"y")-loadedHeight-interfaceHeight,settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh),href=settings.href,loadingTimer=setTimeout(function(){$loadingOverlay.show()},100),settings.inline?($inline=$tag(div).hide().insertBefore($(href)[0]),$events.one(event_purge,function(){$inline.replaceWith($loaded.children())}),prep($(href))):settings.iframe?prep(" "):settings.html?prep(settings.html):isImage(settings,href)?(href=retinaUrl(settings,href),photo=document.createElement("img"),$(photo).addClass(prefix+"Photo").on("error",function(){settings.title=!1,prep($tag(div,"Error").html(settings.imgError))}).one("load",function(){var percent;request===requests&&(photo.alt=$(element).attr("alt")||$(element).attr("data-alt")||"",settings.retinaImage&&window.devicePixelRatio>1&&(photo.height=photo.height/window.devicePixelRatio,photo.width=photo.width/window.devicePixelRatio),settings.scalePhotos&&(setResize=function(){photo.height-=photo.height*percent,photo.width-=photo.width*percent},settings.mw&&photo.width>settings.mw&&(percent=(photo.width-settings.mw)/photo.width,setResize()),settings.mh&&photo.height>settings.mh&&(percent=(photo.height-settings.mh)/photo.height,setResize())),settings.h&&(photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+"px"),$related[1]&&(settings.loop||$related[index+1])&&(photo.style.cursor="pointer",photo.onclick=function(){publicMethod.next()}),photo.style.width=photo.width+"px",photo.style.height=photo.height+"px",setTimeout(function(){prep(photo)},1))}),setTimeout(function(){photo.src=href},1)):href&&$loadingBay.load(href,settings.data,function(data,status){request===requests&&prep("error"===status?$tag(div,"Error").html(settings.xhrError):$(this).contents())})}var $overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,element,index,photo,open,active,closing,loadingTimer,publicMethod,className,init,defaults={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},colorbox="colorbox",prefix="cbox",boxElement=prefix+"Element",event_open=prefix+"_open",event_load=prefix+"_load",event_complete=prefix+"_complete",event_cleanup=prefix+"_cleanup",event_closed=prefix+"_closed",event_purge=prefix+"_purge",$events=$("<a/>"),div="div",requests=0,previousCSS={};$.colorbox||($(appendHTML),publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var $this=this;if(options=options||{},appendHTML(),addBindings()){if($.isFunction($this))$this=$("<a/>"),options.open=!0;else if(!$this[0])return $this;callback&&(options.onComplete=callback),$this.each(function(){$.data(this,colorbox,$.extend({},$.data(this,colorbox)||defaults,options))}).addClass(boxElement),($.isFunction(options.open)&&options.open.call($this)||options.open)&&launch($this[0])}return $this},publicMethod.position=function(speed,loadedCallback){function modalDimensions(){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=parseInt($box[0].style.width,10)-interfaceWidth+"px",$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=parseInt($box[0].style.height,10)-interfaceHeight+"px"}var css,scrollTop,scrollLeft,top=0,left=0,offset=$box.offset();if($window.off("resize."+prefix),$box.css({top:-9e4,left:-9e4}),scrollTop=$window.scrollTop(),scrollLeft=$window.scrollLeft(),settings.fixed?(offset.top-=scrollTop,offset.left-=scrollLeft,$box.css({position:"fixed"})):(top=scrollTop,left=scrollLeft,$box.css({position:"absolute"})),left+=settings.right!==!1?Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.right,"x"),0):settings.left!==!1?setSize(settings.left,"x"):Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2),top+=settings.bottom!==!1?Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.bottom,"y"),0):settings.top!==!1?setSize(settings.top,"y"):Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2),$box.css({top:offset.top,left:offset.left,visibility:"visible"}),$wrap[0].style.width=$wrap[0].style.height="9999px",css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left},speed){var tempSpeed=0;$.each(css,function(i){if(css[i]!==previousCSS[i])return void(tempSpeed=speed)}),speed=tempSpeed}previousCSS=css,speed||$box.css(css),$box.dequeue().animate(css,{duration:speed||0,complete:function(){modalDimensions(),active=!1,$wrap[0].style.width=settings.w+loadedWidth+interfaceWidth+"px",$wrap[0].style.height=settings.h+loadedHeight+interfaceHeight+"px",settings.reposition&&setTimeout(function(){$window.on("resize."+prefix,publicMethod.position)},1),loadedCallback&&loadedCallback()},step:modalDimensions})},publicMethod.resize=function(options){var scrolltop;open&&(options=options||{},options.width&&(settings.w=setSize(options.width,"x")-loadedWidth-interfaceWidth),options.innerWidth&&(settings.w=setSize(options.innerWidth,"x")),$loaded.css({width:settings.w}),options.height&&(settings.h=setSize(options.height,"y")-loadedHeight-interfaceHeight),options.innerHeight&&(settings.h=setSize(options.innerHeight,"y")),options.innerHeight||options.height||(scrolltop=$loaded.scrollTop(),$loaded.css({height:"auto"}),settings.h=$loaded.height()),$loaded.css({height:settings.h}),scrolltop&&$loaded.scrollTop(scrolltop),publicMethod.position("none"===settings.transition?0:settings.speed))},publicMethod.prep=function(object){function getWidth(){return settings.w=settings.w||$loaded.outerWidth(),settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w,settings.w}function getHeight(){return settings.h=settings.h||$loaded.outerHeight(),settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h,settings.h}if(open){var callback,speed="none"===settings.transition?0:settings.speed;$loaded.empty().remove(),$loaded=$tag(div,"LoadedContent").append(object),$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.scrolling?"auto":"hidden"}).css({height:getHeight()}).prependTo($content),
$loadingBay.hide(),$(photo).css({float:"none"}),callback=function(){function removeFilter(){$.support.opacity===!1&&$box[0].style.removeAttribute("filter")}var iframe,complete,total=$related.length,frameBorder="frameBorder",allowTransparency="allowTransparency";open&&(complete=function(){clearTimeout(loadingTimer),$loadingOverlay.hide(),trigger(event_complete,settings.onComplete)},$title.html(settings.title).add($loaded).show(),total>1?("string"==typeof settings.current&&$current.html(settings.current.replace("{current}",index+1).replace("{total}",total)).show(),$next[settings.loop||index<total-1?"show":"hide"]().html(settings.next),$prev[settings.loop||index?"show":"hide"]().html(settings.previous),settings.slideshow&&$slideshow.show(),settings.preloading&&$.each([getIndex(-1),getIndex(1)],function(){var src,img,i=$related[this],data=$.data(i,colorbox);data&&data.href?(src=data.href,$.isFunction(src)&&(src=src.call(i))):src=$(i).attr("href"),src&&isImage(data,src)&&(src=retinaUrl(data,src),img=document.createElement("img"),img.src=src)})):$groupControls.hide(),settings.iframe?(iframe=$tag("iframe")[0],frameBorder in iframe&&(iframe[frameBorder]=0),allowTransparency in iframe&&(iframe[allowTransparency]="true"),settings.scrolling||(iframe.scrolling="no"),$(iframe).attr({src:settings.href,name:(new Date).getTime(),class:prefix+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",complete).appendTo($loaded),$events.one(event_purge,function(){iframe.src="//about:blank"}),settings.fastIframe&&$(iframe).trigger("load")):complete(),"fade"===settings.transition?$box.fadeTo(speed,1,removeFilter):removeFilter())},"fade"===settings.transition?$box.fadeTo(speed,0,function(){publicMethod.position(0,callback)}):publicMethod.position(speed,callback)}},publicMethod.next=function(){!active&&$related[1]&&(settings.loop||$related[index+1])&&(index=getIndex(1),launch($related[index]))},publicMethod.prev=function(){!active&&$related[1]&&(settings.loop||index)&&(index=getIndex(-1),launch($related[index]))},publicMethod.close=function(){open&&!closing&&(closing=!0,open=!1,trigger(event_cleanup,settings.onCleanup),$window.off("."+prefix),$overlay.fadeTo(settings.fadeOut||0,0),$box.stop().fadeTo(settings.fadeOut||0,0,function(){$box.add($overlay).css({opacity:1,cursor:"auto"}).hide(),trigger(event_purge),$loaded.empty().remove(),setTimeout(function(){closing=!1,trigger(event_closed,settings.onClosed)},1)}))},publicMethod.remove=function(){$box&&($box.stop(),$.colorbox.close(),$box.stop().remove(),$overlay.remove(),closing=!1,$box=null,$("."+boxElement).removeData(colorbox).removeClass(boxElement),$(document).off("click."+prefix))},publicMethod.element=function(){return $(element)},publicMethod.settings=defaults)}(jQuery,document,window),$(function(){var searchResultsStyle="";if(Dp.isMobile&&(searchResultsStyle="max-height: "+$(window).height()+"px; -webkit-overflow-scrolling: touch; overflow:scroll"),$(".panel-search input").on("keyup.keydown.change",function(){""===$(this).val()?$(this).parent().removeClass("mode-search"):$(this).parent().addClass("mode-search")}).on(".webkitspeechchange",function(){$(".search-btn").trigger("click")}).typeahead({menu:'<ul class="typeahead dropdown-menu" style="'+searchResultsStyle+'"></ul>',limit:10,source:function(query,process){query.length>=2&&$.ajax({type:"POST",data:{type:"typeahead",query:query},dataType:"json",url:"/Providers/SearchHandler.ashx",success:function(result){var links=[];$.each(result,function(i,link){links.push(JSON.stringify(link))}),process(links)}})},updater:function(item){var result;return void 0!==item?(document.location=JSON.parse(item).Url,result=JSON.parse(item).Title):($(".search-btn").trigger("click"),result=$(".panel-search input").val()),result},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),jsonObj=JSON.parse(item),title=jsonObj.Title;return title=title.replace(new RegExp("("+query+")","ig"),function($1,match){return'<strong class="color-warn">'+match+"</strong>"}),'<span style="width:8%; float:left;">'+jsonObj.PlatformIcon+'</span>                     <span style="width:92% float:left;">'+title+"</span>"},matcher:function(item){return JSON.parse(item).Title.toLocaleLowerCase().indexOf(this.query.toLocaleLowerCase())!==-1},sorter:function(items){return items}}),""!==$(".panel-search input").val()&&$(".panel-search input").parent().addClass("mode-search"),Dp.speech===!0&&$(".panel-search i.icon-mic").show(),$(".panel-search input").off("keypress"),$(".panel-search input").on("keyup",function(e){13===e.keyCode&&0===$(this).parent().find("li.active").length&&$(".search-btn").trigger("click")}),window.Dp.isMobile){var searchInterval;$(".search-trigger").click(function(){$(".panel-search ").toggleClass("mode-search").find("input").focus(),searchInterval=setInterval(function(){var $input=$(".panel-search input");""===$input.val()&&($(".panel-search ").removeClass("mode-search"),searchInterval&&(clearInterval(searchInterval),searchInterval=!1))},5e3)}),$(".icon-cancel-circle").click(function(){$(".panel-search ").removeClass("mode-search").find("input").val(""),searchInterval&&(clearInterval(searchInterval),searchInterval=!1)})}$(".search-btn").on("click",function(e){e.preventDefault(),""!==$(".panel-search input").val()&&(window.location="/szukaj.html?q="+$(".panel-search input").val())})});var Spinners={version:"3.0.0"};!function($){function getOpacityArray(dashes){for(var step=1/dashes,array=[],i=0;i<dashes;i++)array.push((i+1)*step);return array}function pyth(a,b){return Math.sqrt(a*a+b*b)}function radian(degrees){return degrees*Math.PI/180}function Collection(element){this.element=element}function Spinner(element){element&&(this.element=element,All.remove(element),All.removeDetached(),this._position=0,this._state="stopped",this.setOptions($.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},arguments[1]||{})),this.drawPosition(0),All.add(this))}var _={scroll:function(array,distance){if(!distance)return array;var first=array.slice(0,distance),last=array.slice(distance,array.length);return last.concat(first)},isElement:function(object){return object&&1==object.nodeType},element:{isAttached:function(){function findTopAncestor(element){for(var ancestor=element;ancestor&&ancestor.parentNode;)ancestor=ancestor.parentNode;return ancestor}return function(element){var topAncestor=findTopAncestor(element);return!(!topAncestor||!topAncestor.body)}}()}},Canvas={drawRoundedRectangle:function(ctx){var options=$.extend({top:0,left:0,width:0,height:0,radius:0},arguments[1]||{}),o=options,left=o.left,top=o.top,width=o.width,height=o.height,radius=o.radius;ctx.beginPath(),ctx.moveTo(left+radius,top),ctx.arc(left+width-radius,top+radius,radius,radian(-90),radian(0),!1),ctx.arc(left+width-radius,top+height-radius,radius,radian(0),radian(90),!1),ctx.arc(left+radius,top+height-radius,radius,radian(90),radian(180),!1),ctx.arc(left+radius,top+radius,radius,radian(-180),radian(-90),!1),ctx.closePath(),ctx.fill()}},Color=function(){function returnRGB(rgb){var result=rgb;return result.red=rgb[0],result.green=rgb[1],result.blue=rgb[2],result}function h2d(h){return parseInt(h,16)}function hex2rgb(hex){var rgb=[];if(0==hex.indexOf("#")&&(hex=hex.substring(1)),hex=hex.toLowerCase(),""!=hex.replace(hexRegExp,""))return null;3==hex.length?(rgb[0]=hex.charAt(0)+hex.charAt(0),rgb[1]=hex.charAt(1)+hex.charAt(1),rgb[2]=hex.charAt(2)+hex.charAt(2)):(rgb[0]=hex.substring(0,2),rgb[1]=hex.substring(2,4),rgb[2]=hex.substring(4));for(var i=0;i<rgb.length;i++)rgb[i]=h2d(rgb[i]);return returnRGB(rgb)}function hex2rgba(hex,opacity){var rgba=hex2rgb(hex);return rgba[3]=opacity,rgba.opacity=opacity,rgba}function hex2fill(hex,opacity){return"undefined"==typeof opacity&&(opacity=1),"rgba("+hex2rgba(hex,opacity).join()+")"}var hexNumber="0123456789abcdef",hexRegExp=new RegExp("["+hexNumber+"]","g"),rgb2hex=function(){function toPaddedString(string,length,radix){return string=string.toString(radix||10),new Array(length-string.length).join("0")+string}return function(red,green,blue){return"#"+toPaddedString(red,2,16)+toPaddedString(green,2,16)+toPaddedString(blue,2,16)}}();return{hex2rgb:hex2rgb,hex2fill:hex2fill,rgb2hex:rgb2hex}}();$.extend(Spinners,{enabled:!1,support:{canvas:function(){var canvas=$("<canvas>")[0];return!(!canvas.getContext||!canvas.getContext("2d"))}()},init:function(){(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1)&&(window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0)},create:function(element,options){return Collection.create(element,options),this.get(element)},get:function(element){return new Collection(element)},play:function(element){return this.get(element).play(),this},pause:function(element){return this.get(element).pause(),this},toggle:function(element){return this.get(element).toggle(),this},stop:function(element){return this.get(element).stop(),this},remove:function(element){return this.get(element).remove(),this},removeDetached:function(element){return All.removeDetached(),this},center:function(element){return this.get(element).center(),this},setOptions:function(element,options){return this.get(element).setOptions(options),this},getDimensions:function(element){var spinner=All.get(element)[0],diameter=2*spinner.getLayout().workspace.radius;return{width:diameter,height:diameter}}});var All={spinners:[],get:function(element){if(element){var matched=[];return $.each(this.spinners,function(i,spinner){spinner&&(_.isElement(element)?spinner.element==element:$(spinner.element).is(element))&&matched.push(spinner)}),matched}},add:function(spinner){this.spinners.push(spinner)},remove:function(element){$($.map(this.spinners,function(spinner,i){if(_.isElement(element)?spinner.element==element:$(spinner.element).is(element))return spinner.element})).each($.proxy(function(i,e){this.removeByElement(e)},this))},removeByElement:function(element){var spinner=this.get(element)[0];spinner&&(spinner.remove(),this.spinners=$.grep(this.spinners,function(s){return s.element!=element}))},removeDetached:function(){$.each(this.spinners,$.proxy(function(i,spinner){spinner&&spinner.element&&!_.element.isAttached(spinner.element)&&this.remove(spinner.element)},this))}};$.extend(Collection,{create:function(element){if(element){var options=arguments[1]||{},spinners=[];return _.isElement(element)?spinners.push(new Spinner(element,options)):$(element).each(function(i,el){spinners.push(new Spinner(el,options))}),spinners}}}),$.extend(Collection.prototype,{items:function(){return All.get(this.element)},play:function(){return $.each(this.items(),function(i,s){s.play()}),this},stop:function(){return $.each(this.items(),function(i,s){s.stop()}),this},pause:function(){return $.each(this.items(),function(i,s){s.pause()}),this},toggle:function(){return $.each(this.items(),function(i,s){s.toggle()}),this},center:function(){return $.each(this.items(),function(i,s){s.center()}),this},setOptions:function(options){return $.each(this.items(),function(i,s){s.setOptions(options)}),this},remove:function(){return All.remove(this.element),this}}),$.extend(Spinner.prototype,{setOptions:function(options){if(this.options=$.extend({},this.options,options||{}),this.options.radii){var radii=this.options.radii;this.options.radius=Math.min(radii[0],radii[1]),this.options.height=Math.max(radii[0],radii[1])-this.options.radius}this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);var state=this._state,position=this._position;switch(this._layout=null,this.build(),position&&position>=this.options.dashes-1&&(this._position=this.options.dashes-1),state){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),$(this.canvas).remove(),this.canvas=null,this.ctx=null)},build:function(){this.remove();var radius=this.getLayout().workspace.radius;return $(document.body).append(this.canvas=$("<canvas>").attr({width:2*radius,height:2*radius}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,$(this.element).append(this.canvas),this.ctx.translate(radius,radius),this},drawPosition:function(position){var workspace=this.getLayout().workspace,opacities=_.scroll(workspace.opacities,position*-1),radius=workspace.radius,dashes=this.options.dashes,rotation=radian(360/dashes);this.ctx.clearRect(radius*-1,radius*-1,2*radius,2*radius);for(var i=0,len=dashes;i<len;i++)this.drawDash(opacities[i],this.options.color),this.ctx.rotate(rotation)},drawDash:function(opacity,color){this.ctx.fillStyle=Color.hex2fill(color,opacity);var layout=this.getLayout(),workspaceRadius=layout.workspace.radius,dashPosition=layout.dash.position,dashDimensions=layout.dash.dimensions;Canvas.drawRoundedRectangle(this.ctx,{top:dashPosition.top-workspaceRadius,left:dashPosition.left-workspaceRadius,width:dashDimensions.width,height:dashDimensions.height,radius:Math.min(dashDimensions.height,dashDimensions.width)/2})},_nextPosition:function(){var ms=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout($.proxy(this._nextPosition,this),ms)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var ms=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout($.proxy(this._nextPosition,this),ms),this}},pause:function(){if("paused"!=this._state)return this._pause(),this._state="paused",this},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){if("stopped"!=this._state)return this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;var options=this.options,dashes=options.dashes,width=options.width,minRadius=options.radius,maxRadius=options.radius+options.height,maxWorkspaceRadius=Math.max(width,maxRadius),radius=Math.ceil(Math.max(maxWorkspaceRadius,pyth(maxRadius,width/2)));radius+=options.padding;var layout={workspace:{radius:radius,opacities:getOpacityArray(dashes)},dash:{position:{top:radius-maxRadius,left:radius-width/2},dimensions:{width:width,height:maxRadius-minRadius}}};return this._layout=layout,layout},center:function(){var diameter=2*this.getLayout().workspace.radius;$(this.element.parentNode).css({position:"relative"}),$(this.element).css({position:"absolute",height:diameter+"px",width:diameter+"px",top:"50%",left:"50%",marginLeft:-.5*diameter+"px",marginTop:-.5*diameter+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(Collection.create=function(){return[]})}(jQuery),eval(function(a,g,b,d,c,e){if(c=function(a){return(a<g?"":c(parseInt(a/g)))+(35<(a%=g)?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;b--;)e[c(b)]=d[b]||c(b);d=[function(a){return e[a]}],c=function(){return"\\w+"},b=1}for(;b--;)d[b]&&(a=a.replace(RegExp("\\b"+c(b)+"\\b","g"),d[b]));return a}('K M;I(M)1S 2U("2a\'t 4k M 4K 2g 3l 4G 4H");(6(){6 r(f,e){I(!M.1R(f))1S 3m("3s 15 4R");K a=f.1w;f=M(f.1m,t(f)+(e||""));I(a)f.1w={1m:a.1m,19:a.19?a.19.1a(0):N};H f}6 t(f){H(f.1J?"g":"")+(f.4s?"i":"")+(f.4p?"m":"")+(f.4v?"x":"")+(f.3n?"y":"")}6 B(f,e,a,b){K c=u.L,d,h,g;v=R;5K{O(;c--;){g=u[c];I(a&g.3r&&(!g.2p||g.2p.W(b))){g.2q.12=e;I((h=g.2q.X(f))&&h.P===e){d={3k:g.2b.W(b,h,a),1C:h};1N}}}}5v(i){1S i}5q{v=11}H d}6 p(f,e,a){I(3b.Z.1i)H f.1i(e,a);O(a=a||0;a<f.L;a++)I(f[a]===e)H a;H-1}M=6(f,e){K a=[],b=M.1B,c=0,d,h;I(M.1R(f)){I(e!==1d)1S 3m("2a\'t 5r 5I 5F 5B 5C 15 5E 5p");H r(f)}I(v)1S 2U("2a\'t W 3l M 59 5m 5g 5x 5i");e=e||"";O(d={2N:11,19:[],2K:6(g){H e.1i(g)>-1},3d:6(g){e+=g}};c<f.L;)I(h=B(f,c,b,d)){a.U(h.3k);c+=h.1C[0].L||1}Y I(h=n.X.W(z[b],f.1a(c))){a.U(h[0]);c+=h[0].L}Y{h=f.3a(c);I(h==="[")b=M.2I;Y I(h==="]")b=M.1B;a.U(h);c++}a=15(a.1K(""),n.Q.W(e,w,""));a.1w={1m:f,19:d.2N?d.19:N};H a};M.3v="1.5.0";M.2I=1;M.1B=2;K C=/\\$(?:(\\d\\d?|[$&`\'])|{([$\\w]+)})/g,w=/[^5h]+|([\\s\\S])(?=[\\s\\S]*\\1)/g,A=/^(?:[?*+]|{\\d+(?:,\\d*)?})\\??/,v=11,u=[],n={X:15.Z.X,1A:15.Z.1A,1C:1r.Z.1C,Q:1r.Z.Q,1e:1r.Z.1e},x=n.X.W(/()??/,"")[1]===1d,D=6(){K f=/^/g;n.1A.W(f,"");H!f.12}(),y=6(){K f=/x/g;n.Q.W("x",f,"");H!f.12}(),E=15.Z.3n!==1d,z={};z[M.2I]=/^(?:\\\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S]))/;z[M.1B]=/^(?:\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\\d*|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S])|\\(\\?[:=!]|[?*+]\\?|{\\d+(?:,\\d*)?}\\??)/;M.1h=6(f,e,a,b){u.U({2q:r(f,"g"+(E?"y":"")),2b:e,3r:a||M.1B,2p:b||N})};M.2n=6(f,e){K a=f+"/"+(e||"");H M.2n[a]||(M.2n[a]=M(f,e))};M.3c=6(f){H r(f,"g")};M.5l=6(f){H f.Q(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,"\\\\$&")};M.5e=6(f,e,a,b){e=r(e,"g"+(b&&E?"y":""));e.12=a=a||0;f=e.X(f);H b?f&&f.P===a?f:N:f};M.3q=6(){M.1h=6(){1S 2U("2a\'t 55 1h 54 3q")}};M.1R=6(f){H 53.Z.1q.W(f)==="[2m 15]"};M.3p=6(f,e,a,b){O(K c=r(e,"g"),d=-1,h;h=c.X(f);){a.W(b,h,++d,f,c);c.12===h.P&&c.12++}I(e.1J)e.12=0};M.57=6(f,e){H 6 a(b,c){K d=e[c].1I?e[c]:{1I:e[c]},h=r(d.1I,"g"),g=[],i;O(i=0;i<b.L;i++)M.3p(b[i],h,6(k){g.U(d.3j?k[d.3j]||"":k[0])});H c===e.L-1||!g.L?g:a(g,c+1)}([f],0)};15.Z.1p=6(f,e){H J.X(e[0])};15.Z.W=6(f,e){H J.X(e)};15.Z.X=6(f){K e=n.X.1p(J,14),a;I(e){I(!x&&e.L>1&&p(e,"")>-1){a=15(J.1m,n.Q.W(t(J),"g",""));n.Q.W(f.1a(e.P),a,6(){O(K c=1;c<14.L-2;c++)I(14[c]===1d)e[c]=1d})}I(J.1w&&J.1w.19)O(K b=1;b<e.L;b++)I(a=J.1w.19[b-1])e[a]=e[b];!D&&J.1J&&!e[0].L&&J.12>e.P&&J.12--}H e};I(!D)15.Z.1A=6(f){(f=n.X.W(J,f))&&J.1J&&!f[0].L&&J.12>f.P&&J.12--;H!!f};1r.Z.1C=6(f){M.1R(f)||(f=15(f));I(f.1J){K e=n.1C.1p(J,14);f.12=0;H e}H f.X(J)};1r.Z.Q=6(f,e){K a=M.1R(f),b,c;I(a&&1j e.58()==="3f"&&e.1i("${")===-1&&y)H n.Q.1p(J,14);I(a){I(f.1w)b=f.1w.19}Y f+="";I(1j e==="6")c=n.Q.W(J,f,6(){I(b){14[0]=1f 1r(14[0]);O(K d=0;d<b.L;d++)I(b[d])14[0][b[d]]=14[d+1]}I(a&&f.1J)f.12=14[14.L-2]+14[0].L;H e.1p(N,14)});Y{c=J+"";c=n.Q.W(c,f,6(){K d=14;H n.Q.W(e,C,6(h,g,i){I(g)5b(g){24"$":H"$";24"&":H d[0];24"`":H d[d.L-1].1a(0,d[d.L-2]);24"\'":H d[d.L-1].1a(d[d.L-2]+d[0].L);5a:i="";g=+g;I(!g)H h;O(;g>d.L-3;){i=1r.Z.1a.W(g,-1)+i;g=1Q.3i(g/10)}H(g?d[g]||"":"$")+i}Y{g=+i;I(g<=d.L-3)H d[g];g=b?p(b,i):-1;H g>-1?d[g+1]:h}})})}I(a&&f.1J)f.12=0;H c};1r.Z.1e=6(f,e){I(!M.1R(f))H n.1e.1p(J,14);K a=J+"",b=[],c=0,d,h;I(e===1d||+e<0)e=5D;Y{e=1Q.3i(+e);I(!e)H[]}O(f=M.3c(f);d=f.X(a);){I(f.12>c){b.U(a.1a(c,d.P));d.L>1&&d.P<a.L&&3b.Z.U.1p(b,d.1a(1));h=d[0].L;c=f.12;I(b.L>=e)1N}f.12===d.P&&f.12++}I(c===a.L){I(!n.1A.W(f,"")||h)b.U("")}Y b.U(a.1a(c));H b.L>e?b.1a(0,e):b};M.1h(/\\(\\?#[^)]*\\)/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"});M.1h(/\\((?!\\?)/,6(){J.19.U(N);H"("});M.1h(/\\(\\?<([$\\w]+)>/,6(f){J.19.U(f[1]);J.2N=R;H"("});M.1h(/\\\\k<([\\w$]+)>/,6(f){K e=p(J.19,f[1]);H e>-1?"\\\\"+(e+1)+(3R(f.2S.3a(f.P+f[0].L))?"":"(?:)"):f[0]});M.1h(/\\[\\^?]/,6(f){H f[0]==="[]"?"\\\\b\\\\B":"[\\\\s\\\\S]"});M.1h(/^\\(\\?([5A]+)\\)/,6(f){J.3d(f[1]);H""});M.1h(/(?:\\s+|#.*)+/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"},M.1B,6(){H J.2K("x")});M.1h(/\\./,6(){H"[\\\\s\\\\S]"},M.1B,6(){H J.2K("s")})})();1j 2e!="1d"&&(2e.M=M);K 1v=6(){6 r(a,b){a.1l.1i(b)!=-1||(a.1l+=" "+b)}6 t(a){H a.1i("3e")==0?a:"3e"+a}6 B(a){H e.1Y.2A[t(a)]}6 p(a,b,c){I(a==N)H N;K d=c!=R?a.3G:[a.2G],h={"#":"1c",".":"1l"}[b.1o(0,1)]||"3h",g,i;g=h!="3h"?b.1o(1):b.5u();I((a[h]||"").1i(g)!=-1)H a;O(a=0;d&&a<d.L&&i==N;a++)i=p(d[a],b,c);H i}6 C(a,b){K c={},d;O(d 2g a)c[d]=a[d];O(d 2g b)c[d]=b[d];H c}6 w(a,b,c,d){6 h(g){g=g||1P.5y;I(!g.1F){g.1F=g.52;g.3N=6(){J.5w=11}}c.W(d||1P,g)}a.3g?a.3g("4U"+b,h):a.4y(b,h,11)}6 A(a,b){K c=e.1Y.2j,d=N;I(c==N){c={};O(K h 2g e.1U){K g=e.1U[h];d=g.4x;I(d!=N){g.1V=h.4w();O(g=0;g<d.L;g++)c[d[g]]=h}}e.1Y.2j=c}d=e.1U[c[a]];d==N&&b!=11&&1P.1X(e.13.1x.1X+(e.13.1x.3E+a));H d}6 v(a,b){O(K c=a.1e("\\n"),d=0;d<c.L;d++)c[d]=b(c[d],d);H c.1K("\\n")}6 u(a,b){I(a==N||a.L==0||a=="\\n")H a;a=a.Q(/</g,"&1y;");a=a.Q(/ {2,}/g,6(c){O(K d="",h=0;h<c.L-1;h++)d+=e.13.1W;H d+" "});I(b!=N)a=v(a,6(c){I(c.L==0)H"";K d="";c=c.Q(/^(&2s;| )+/,6(h){d=h;H""});I(c.L==0)H d;H d+\'<17 1g="\'+b+\'">\'+c+"</17>"});H a}6 n(a,b){a.1e("\\n");O(K c="",d=0;d<50;d++)c+="                    ";H a=v(a,6(h){I(h.1i("\\t")==-1)H h;O(K g=0;(g=h.1i("\\t"))!=-1;)h=h.1o(0,g)+c.1o(0,b-g%b)+h.1o(g+1,h.L);H h})}6 x(a){H a.Q(/^\\s+|\\s+$/g,"")}6 D(a,b){I(a.P<b.P)H-1;Y I(a.P>b.P)H 1;Y I(a.L<b.L)H-1;Y I(a.L>b.L)H 1;H 0}6 y(a,b){6 c(k){H k[0]}O(K d=N,h=[],g=b.2D?b.2D:c;(d=b.1I.X(a))!=N;){K i=g(d,b);I(1j i=="3f")i=[1f e.2L(i,d.P,b.23)];h=h.1O(i)}H h}6 E(a){K b=/(.*)((&1G;|&1y;).*)/;H a.Q(e.3A.3M,6(c){K d="",h=N;I(h=b.X(c)){c=h[1];d=h[2]}H\'<a 2h="\'+c+\'">\'+c+"</a>"+d})}6 z(){O(K a=1E.36("1k"),b=[],c=0;c<a.L;c++)a[c].3s=="20"&&b.U(a[c]);H b}6 f(a){a=a.1F;K b=p(a,".20",R);a=p(a,".3O",R);K c=1E.4i("3t");I(!(!a||!b||p(a,"3t"))){B(b.1c);r(b,"1m");O(K d=a.3G,h=[],g=0;g<d.L;g++)h.U(d[g].4z||d[g].4A);h=h.1K("\\r");c.39(1E.4D(h));a.39(c);c.2C();c.4C();w(c,"4u",6(){c.2G.4E(c);b.1l=b.1l.Q("1m","")})}}I(1j 3F!="1d"&&1j M=="1d")M=3F("M").M;K e={2v:{"1g-27":"","2i-1s":1,"2z-1s-2t":11,1M:N,1t:N,"42-45":R,"43-22":4,1u:R,16:R,"3V-17":R,2l:11,"41-40":R,2k:11,"1z-1k":11},13:{1W:"&2s;",2M:R,46:11,44:11,34:"4n",1x:{21:"4o 1m",2P:"?",1X:"1v\\n\\n",3E:"4r\'t 4t 1D O: ",4g:"4m 4B\'t 51 O 1z-1k 4F: ",37:\'<!4T 1z 4S "-//4V//3H 4W 1.0 4Z//4Y" "1Z://2y.3L.3K/4X/3I/3H/3I-4P.4J"><1z 4I="1Z://2y.3L.3K/4L/5L"><3J><4N 1Z-4M="5G-5M" 6K="2O/1z; 6J=6I-8" /><1t>6L 1v</1t></3J><3B 1L="25-6M:6Q,6P,6O,6N-6F;6y-2f:#6x;2f:#6w;25-22:6v;2O-3D:3C;"><T 1L="2O-3D:3C;3w-32:1.6z;"><T 1L="25-22:6A-6E;">1v</T><T 1L="25-22:.6C;3w-6B:6R;"><T>3v 3.0.76 (72 73 3x)</T><T><a 2h="1Z://3u.2w/1v" 1F="38" 1L="2f:#3y">1Z://3u.2w/1v</a></T><T>70 17 6U 71.</T><T>6T 6X-3x 6Y 6D.</T></T><T>6t 61 60 J 1k, 5Z <a 2h="6u://2y.62.2w/63-66/65?64=5X-5W&5P=5O" 1L="2f:#3y">5R</a> 5V <2R/>5U 5T 5S!</T></T></3B></1z>\'}},1Y:{2j:N,2A:{}},1U:{},3A:{6n:/\\/\\*[\\s\\S]*?\\*\\//2c,6m:/\\/\\/.*$/2c,6l:/#.*$/2c,6k:/"([^\\\\"\\n]|\\\\.)*"/g,6o:/\'([^\\\\\'\\n]|\\\\.)*\'/g,6p:1f M(\'"([^\\\\\\\\"]|\\\\\\\\.)*"\',"3z"),6s:1f M("\'([^\\\\\\\\\']|\\\\\\\\.)*\'","3z"),6q:/(&1y;|<)!--[\\s\\S]*?--(&1G;|>)/2c,3M:/\\w+:\\/\\/[\\w-.\\/?%&=:@;]*/g,6a:{18:/(&1y;|<)\\?=?/g,1b:/\\?(&1G;|>)/g},69:{18:/(&1y;|<)%=?/g,1b:/%(&1G;|>)/g},6d:{18:/(&1y;|<)\\s*1k.*?(&1G;|>)/2T,1b:/(&1y;|<)\\/\\s*1k\\s*(&1G;|>)/2T}},16:{1H:6(a){6 b(i,k){H e.16.2o(i,k,e.13.1x[k])}O(K c=\'<T 1g="16">\',d=e.16.2x,h=d.2X,g=0;g<h.L;g++)c+=(d[h[g]].1H||b)(a,h[g]);c+="</T>";H c},2o:6(a,b,c){H\'<2W><a 2h="#" 1g="6e 6h\'+b+" "+b+\'">\'+c+"</a></2W>"},2b:6(a){K b=a.1F,c=b.1l||"";b=B(p(b,".20",R).1c);K d=6(h){H(h=15(h+"6f(\\\\w+)").X(c))?h[1]:N}("6g");b&&d&&e.16.2x[d].2B(b);a.3N()},2x:{2X:["21","2P"],21:{1H:6(a){I(a.V("2l")!=R)H"";K b=a.V("1t");H e.16.2o(a,"21",b?b:e.13.1x.21)},2B:6(a){a=1E.6j(t(a.1c));a.1l=a.1l.Q("47","")}},2P:{2B:6(){K a="68=0";a+=", 18="+(31.30-33)/2+", 32="+(31.2Z-2Y)/2+", 30=33, 2Z=2Y";a=a.Q(/^,/,"");a=1P.6Z("","38",a);a.2C();K b=a.1E;b.6W(e.13.1x.37);b.6V();a.2C()}}}},35:6(a,b){K c;I(b)c=[b];Y{c=1E.36(e.13.34);O(K d=[],h=0;h<c.L;h++)d.U(c[h]);c=d}c=c;d=[];I(e.13.2M)c=c.1O(z());I(c.L===0)H d;O(h=0;h<c.L;h++){O(K g=c[h],i=a,k=c[h].1l,j=3W 0,l={},m=1f M("^\\\\[(?<2V>(.*?))\\\\]$"),s=1f M("(?<27>[\\\\w-]+)\\\\s*:\\\\s*(?<1T>[\\\\w-%#]+|\\\\[.*?\\\\]|\\".*?\\"|\'.*?\')\\\\s*;?","g");(j=s.X(k))!=N;){K o=j.1T.Q(/^[\'"]|[\'"]$/g,"");I(o!=N&&m.1A(o)){o=m.X(o);o=o.2V.L>0?o.2V.1e(/\\s*,\\s*/):[]}l[j.27]=o}g={1F:g,1n:C(i,l)};g.1n.1D!=N&&d.U(g)}H d},1M:6(a,b){K c=J.35(a,b),d=N,h=e.13;I(c.L!==0)O(K g=0;g<c.L;g++){b=c[g];K i=b.1F,k=b.1n,j=k.1D,l;I(j!=N){I(k["1z-1k"]=="R"||e.2v["1z-1k"]==R){d=1f e.4l(j);j="4O"}Y I(d=A(j))d=1f d;Y 6H;l=i.3X;I(h.2M){l=l;K m=x(l),s=11;I(m.1i("<![6G[")==0){m=m.4h(9);s=R}K o=m.L;I(m.1i("]]\\>")==o-3){m=m.4h(0,o-3);s=R}l=s?m:l}I((i.1t||"")!="")k.1t=i.1t;k.1D=j;d.2Q(k);b=d.2F(l);I((i.1c||"")!="")b.1c=i.1c;i.2G.74(b,i)}}},2E:6(a){w(1P,"4k",6(){e.1M(a)})}};e.2E=e.2E;e.1M=e.1M;e.2L=6(a,b,c){J.1T=a;J.P=b;J.L=a.L;J.23=c;J.1V=N};e.2L.Z.1q=6(){H J.1T};e.4l=6(a){6 b(j,l){O(K m=0;m<j.L;m++)j[m].P+=l}K c=A(a),d,h=1f e.1U.5Y,g=J,i="2F 1H 2Q".1e(" ");I(c!=N){d=1f c;O(K k=0;k<i.L;k++)(6(){K j=i[k];g[j]=6(){H h[j].1p(h,14)}})();d.28==N?1P.1X(e.13.1x.1X+(e.13.1x.4g+a)):h.2J.U({1I:d.28.17,2D:6(j){O(K l=j.17,m=[],s=d.2J,o=j.P+j.18.L,F=d.28,q,G=0;G<s.L;G++){q=y(l,s[G]);b(q,o);m=m.1O(q)}I(F.18!=N&&j.18!=N){q=y(j.18,F.18);b(q,j.P);m=m.1O(q)}I(F.1b!=N&&j.1b!=N){q=y(j.1b,F.1b);b(q,j.P+j[0].5Q(j.1b));m=m.1O(q)}O(j=0;j<m.L;j++)m[j].1V=c.1V;H m}})}};e.4j=6(){};e.4j.Z={V:6(a,b){K c=J.1n[a];c=c==N?b:c;K d={"R":R,"11":11}[c];H d==N?c:d},3Y:6(a){H 1E.4i(a)},4c:6(a,b){K c=[];I(a!=N)O(K d=0;d<a.L;d++)I(1j a[d]=="2m")c=c.1O(y(b,a[d]));H J.4e(c.6b(D))},4e:6(a){O(K b=0;b<a.L;b++)I(a[b]!==N)O(K c=a[b],d=c.P+c.L,h=b+1;h<a.L&&a[b]!==N;h++){K g=a[h];I(g!==N)I(g.P>d)1N;Y I(g.P==c.P&&g.L>c.L)a[b]=N;Y I(g.P>=c.P&&g.P<d)a[h]=N}H a},4d:6(a){K b=[],c=2u(J.V("2i-1s"));v(a,6(d,h){b.U(h+c)});H b},3U:6(a){K b=J.V("1M",[]);I(1j b!="2m"&&b.U==N)b=[b];a:{a=a.1q();K c=3W 0;O(c=c=1Q.6c(c||0,0);c<b.L;c++)I(b[c]==a){b=c;1N a}b=-1}H b!=-1},2r:6(a,b,c){a=["1s","6i"+b,"P"+a,"6r"+(b%2==0?1:2).1q()];J.3U(b)&&a.U("67");b==0&&a.U("1N");H\'<T 1g="\'+a.1K(" ")+\'">\'+c+"</T>"},3Q:6(a,b){K c="",d=a.1e("\\n").L,h=2u(J.V("2i-1s")),g=J.V("2z-1s-2t");I(g==R)g=(h+d-1).1q().L;Y I(3R(g)==R)g=0;O(K i=0;i<d;i++){K k=b?b[i]:h+i,j;I(k==0)j=e.13.1W;Y{j=g;O(K l=k.1q();l.L<j;)l="0"+l;j=l}a=j;c+=J.2r(i,k,a)}H c},49:6(a,b){a=x(a);K c=a.1e("\\n");J.V("2z-1s-2t");K d=2u(J.V("2i-1s"));a="";O(K h=J.V("1D"),g=0;g<c.L;g++){K i=c[g],k=/^(&2s;|\\s)+/.X(i),j=N,l=b?b[g]:d+g;I(k!=N){j=k[0].1q();i=i.1o(j.L);j=j.Q(" ",e.13.1W)}i=x(i);I(i.L==0)i=e.13.1W;a+=J.2r(g,l,(j!=N?\'<17 1g="\'+h+\' 5N">\'+j+"</17>":"")+i)}H a},4f:6(a){H a?"<4a>"+a+"</4a>":""},4b:6(a,b){6 c(l){H(l=l?l.1V||g:g)?l+" ":""}O(K d=0,h="",g=J.V("1D",""),i=0;i<b.L;i++){K k=b[i],j;I(!(k===N||k.L===0)){j=c(k);h+=u(a.1o(d,k.P-d),j+"48")+u(k.1T,j+k.23);d=k.P+k.L+(k.75||0)}}h+=u(a.1o(d),c()+"48");H h},1H:6(a){K b="",c=["20"],d;I(J.V("2k")==R)J.1n.16=J.1n.1u=11;1l="20";J.V("2l")==R&&c.U("47");I((1u=J.V("1u"))==11)c.U("6S");c.U(J.V("1g-27"));c.U(J.V("1D"));a=a.Q(/^[ ]*[\\n]+|[\\n]*[ ]*$/g,"").Q(/\\r/g," ");b=J.V("43-22");I(J.V("42-45")==R)a=n(a,b);Y{O(K h="",g=0;g<b;g++)h+=" ";a=a.Q(/\\t/g,h)}a=a;a:{b=a=a;h=/<2R\\s*\\/?>|&1y;2R\\s*\\/?&1G;/2T;I(e.13.46==R)b=b.Q(h,"\\n");I(e.13.44==R)b=b.Q(h,"");b=b.1e("\\n");h=/^\\s*/;g=4Q;O(K i=0;i<b.L&&g>0;i++){K k=b[i];I(x(k).L!=0){k=h.X(k);I(k==N){a=a;1N a}g=1Q.4q(k[0].L,g)}}I(g>0)O(i=0;i<b.L;i++)b[i]=b[i].1o(g);a=b.1K("\\n")}I(1u)d=J.4d(a);b=J.4c(J.2J,a);b=J.4b(a,b);b=J.49(b,d);I(J.V("41-40"))b=E(b);1j 2H!="1d"&&2H.3S&&2H.3S.1C(/5s/)&&c.U("5t");H b=\'<T 1c="\'+t(J.1c)+\'" 1g="\'+c.1K(" ")+\'">\'+(J.V("16")?e.16.1H(J):"")+\'<3Z 5z="0" 5H="0" 5J="0">\'+J.4f(J.V("1t"))+"<3T><3P>"+(1u?\'<2d 1g="1u">\'+J.3Q(a)+"</2d>":"")+\'<2d 1g="17"><T 1g="3O">\'+b+"</T></2d></3P></3T></3Z></T>"},2F:6(a){I(a===N)a="";J.17=a;K b=J.3Y("T");b.3X=J.1H(a);J.V("16")&&w(p(b,".16"),"5c",e.16.2b);J.V("3V-17")&&w(p(b,".17"),"56",f);H b},2Q:6(a){J.1c=""+1Q.5d(1Q.5n()*5k).1q();e.1Y.2A[t(J.1c)]=J;J.1n=C(e.2v,a||{});I(J.V("2k")==R)J.1n.16=J.1n.1u=11},5j:6(a){a=a.Q(/^\\s+|\\s+$/g,"").Q(/\\s+/g,"|");H"\\\\b(?:"+a+")\\\\b"},5f:6(a){J.28={18:{1I:a.18,23:"1k"},1b:{1I:a.1b,23:"1k"},17:1f M("(?<18>"+a.18.1m+")(?<17>.*?)(?<1b>"+a.1b.1m+")","5o")}}};H e}();1j 2e!="1d"&&(2e.1v=1v);',62,441,"      function                                     return if this var length XRegExp null for index replace true  div push getParam call exec else prototype  false lastIndex config arguments RegExp toolbar code left captureNames slice right id undefined split new class addToken indexOf typeof script className source params substr apply toString String line title gutter SyntaxHighlighter _xregexp strings lt html test OUTSIDE_CLASS match brush document target gt getHtml regex global join style highlight break concat window Math isRegExp throw value brushes brushName space alert vars http syntaxhighlighter expandSource size css case font Fa name htmlScript dA can handler gm td exports color in href first discoveredBrushes light collapse object cache getButtonHtml trigger pattern getLineHtml nbsp numbers parseInt defaults com items www pad highlighters execute focus func all getDiv parentNode navigator INSIDE_CLASS regexList hasFlag Match useScriptTags hasNamedCapture text help init br input gi Error values span list 250 height width screen top 500 tagName findElements getElementsByTagName aboutDialog _blank appendChild charAt Array copyAsGlobal setFlag highlighter_ string attachEvent nodeName floor backref output the TypeError sticky Za iterate freezeTokens scope type textarea alexgorbatchev version margin 2010 005896 gs regexLib body center align noBrush require childNodes DTD xhtml1 head org w3 url preventDefault container tr getLineNumbersHtml isNaN userAgent tbody isLineHighlighted quick void innerHTML create table links auto smart tab stripBrs tabs bloggerMode collapsed plain getCodeLinesHtml caption getMatchesHtml findMatches figureOutLineNumbers removeNestedMatches getTitleHtml brushNotHtmlScript substring createElement Highlighter load HtmlScript Brush pre expand multiline min Can ignoreCase find blur extended toLowerCase aliases addEventListener innerText textContent wasn select createTextNode removeChild option same frame xmlns dtd twice 1999 equiv meta htmlscript transitional 1E3 expected PUBLIC DOCTYPE on W3C XHTML TR EN Transitional  configured srcElement Object after run dblclick matchChain valueOf constructor default switch click round execAt forHtmlScript token gimy functions getKeywords 1E6 escape within random sgi another finally supply MSIE ie toUpperCase catch returnValue definition event border imsx constructing one Infinity from when Content cellpadding flags cellspacing try xhtml Type spaces 2930402 hosted_button_id lastIndexOf donate active development keep to xclick _s Xml please like you paypal cgi cmd webscr bin highlighted scrollbars aspScriptTags phpScriptTags sort max scriptScriptTags toolbar_item _ command command_ number getElementById doubleQuotedString singleLinePerlComments singleLineCComments multiLineCComments singleQuotedString multiLineDoubleQuotedString xmlComments alt multiLineSingleQuotedString If https 1em 000 fff background 5em xx bottom 75em Gorbatchev large serif CDATA continue utf charset content About family sans Helvetica Arial Geneva 3em nogutter Copyright syntax close write 2004 Alex open JavaScript highlighter July 02 replaceChild offset 83".split(" "),0,{})),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:RegExp(this.getKeywords("class interface function package"),"gm"),css:"color3"},{regex:RegExp(this.getKeywords("-Infinity ...rest Array as AS3 Boolean break case catch const continue Date decodeURI decodeURIComponent default delete do dynamic each else encodeURI encodeURIComponent escape extends false final finally flash_proxy for get if implements import in include Infinity instanceof int internal is isFinite isNaN isXMLName label namespace NaN native new null Null Number Object object_proxy override parseFloat parseInt private protected public return set static String super switch this throw true try typeof uint undefined unescape use void while with"),"gm"),css:"keyword"},{regex:RegExp("var","gm"),
css:"variable"},{regex:RegExp("trace","gm"),css:"color1"}],this.forHtmlScript(SyntaxHighlighter.regexLib.scriptScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["actionscript3","as3"],SyntaxHighlighter.brushes.AS3=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/^#!.*$/gm,css:"preprocessor bold"},{regex:/\/[\w-\/]+/gm,css:"plain"},{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:RegExp(this.getKeywords("if fi then elif else for do done until while break continue case function return in eq ne ge le"),"gm"),css:"keyword"},{regex:RegExp(this.getKeywords("alias apropos awk basename bash bc bg builtin bzip2 cal cat cd cfdisk chgrp chmod chown chrootcksum clear cmp comm command cp cron crontab csplit cut date dc dd ddrescue declare df diff diff3 dig dir dircolors dirname dirs du echo egrep eject enable env ethtool eval exec exit expand export expr false fdformat fdisk fg fgrep file find fmt fold format free fsck ftp gawk getopts grep groups gzip hash head history hostname id ifconfig import install join kill less let ln local locate logname logout look lpc lpr lprint lprintd lprintq lprm ls lsof make man mkdir mkfifo mkisofs mknod more mount mtools mv netstat nice nl nohup nslookup open op passwd paste pathchk ping popd pr printcap printenv printf ps pushd pwd quota quotacheck quotactl ram rcp read readonly renice remsync rm rmdir rsync screen scp sdiff sed select seq set sftp shift shopt shutdown sleep sort source split ssh strace su sudo sum symlink sync tail tar tee test time times touch top traceroute trap tr true tsort tty type ulimit umask umount unalias uname unexpand uniq units unset unshar useradd usermod users uuencode uudecode v vdir vi watch wc whereis which who whoami Wget xargs yes"),"gm"),css:"functions"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["bash","shell"],SyntaxHighlighter.brushes.Bash=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/^ *#.*/gm,css:"preprocessor"},{regex:RegExp(this.getKeywords("ATOM BOOL BOOLEAN BYTE CHAR COLORREF DWORD DWORDLONG DWORD_PTR DWORD32 DWORD64 FLOAT HACCEL HALF_PTR HANDLE HBITMAP HBRUSH HCOLORSPACE HCONV HCONVLIST HCURSOR HDC HDDEDATA HDESK HDROP HDWP HENHMETAFILE HFILE HFONT HGDIOBJ HGLOBAL HHOOK HICON HINSTANCE HKEY HKL HLOCAL HMENU HMETAFILE HMODULE HMONITOR HPALETTE HPEN HRESULT HRGN HRSRC HSZ HWINSTA HWND INT INT_PTR INT32 INT64 LANGID LCID LCTYPE LGRPID LONG LONGLONG LONG_PTR LONG32 LONG64 LPARAM LPBOOL LPBYTE LPCOLORREF LPCSTR LPCTSTR LPCVOID LPCWSTR LPDWORD LPHANDLE LPINT LPLONG LPSTR LPTSTR LPVOID LPWORD LPWSTR LRESULT PBOOL PBOOLEAN PBYTE PCHAR PCSTR PCTSTR PCWSTR PDWORDLONG PDWORD_PTR PDWORD32 PDWORD64 PFLOAT PHALF_PTR PHANDLE PHKEY PINT PINT_PTR PINT32 PINT64 PLCID PLONG PLONGLONG PLONG_PTR PLONG32 PLONG64 POINTER_32 POINTER_64 PSHORT PSIZE_T PSSIZE_T PSTR PTBYTE PTCHAR PTSTR PUCHAR PUHALF_PTR PUINT PUINT_PTR PUINT32 PUINT64 PULONG PULONGLONG PULONG_PTR PULONG32 PULONG64 PUSHORT PVOID PWCHAR PWORD PWSTR SC_HANDLE SC_LOCK SERVICE_STATUS_HANDLE SHORT SIZE_T SSIZE_T TBYTE TCHAR UCHAR UHALF_PTR UINT UINT_PTR UINT32 UINT64 ULONG ULONGLONG ULONG_PTR ULONG32 ULONG64 USHORT USN VOID WCHAR WORD WPARAM WPARAM WPARAM char bool short int __int32 __int64 __int8 __int16 long float double __wchar_t clock_t _complex _dev_t _diskfree_t div_t ldiv_t _exception _EXCEPTION_POINTERS FILE _finddata_t _finddatai64_t _wfinddata_t _wfinddatai64_t __finddata64_t __wfinddata64_t _FPIEEE_RECORD fpos_t _HEAPINFO _HFILE lconv intptr_t jmp_buf mbstate_t _off_t _onexit_t _PNH ptrdiff_t _purecall_handler sig_atomic_t size_t _stat __stat64 _stati64 terminate_function time_t __time64_t _timeb __timeb64 tm uintptr_t _utimbuf va_list wchar_t wctrans_t wctype_t wint_t signed"),"gm"),css:"color1 bold"},{regex:RegExp(this.getKeywords("assert isalnum isalpha iscntrl isdigit isgraph islower isprintispunct isspace isupper isxdigit tolower toupper errno localeconv setlocale acos asin atan atan2 ceil cos cosh exp fabs floor fmod frexp ldexp log log10 modf pow sin sinh sqrt tan tanh jmp_buf longjmp setjmp raise signal sig_atomic_t va_arg va_end va_start clearerr fclose feof ferror fflush fgetc fgetpos fgets fopen fprintf fputc fputs fread freopen fscanf fseek fsetpos ftell fwrite getc getchar gets perror printf putc putchar puts remove rename rewind scanf setbuf setvbuf sprintf sscanf tmpfile tmpnam ungetc vfprintf vprintf vsprintf abort abs atexit atof atoi atol bsearch calloc div exit free getenv labs ldiv malloc mblen mbstowcs mbtowc qsort rand realloc srand strtod strtol strtoul system wcstombs wctomb memchr memcmp memcpy memmove memset strcat strchr strcmp strcoll strcpy strcspn strerror strlen strncat strncmp strncpy strpbrk strrchr strspn strstr strtok strxfrm asctime clock ctime difftime gmtime localtime mktime strftime time"),"gm"),css:"functions bold"},{regex:RegExp(this.getKeywords("break case catch class const __finally __exception __try const_cast continue private public protected __declspec default delete deprecated dllexport dllimport do dynamic_cast else enum explicit extern if for friend goto inline mutable naked namespace new noinline noreturn nothrow register reinterpret_cast return selectany sizeof static static_cast struct switch template this thread throw true false try typedef typeid typename union using uuid virtual void volatile whcar_t while"),"gm"),css:"keyword bold"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["cpp","c"],SyntaxHighlighter.brushes.Cpp=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,func:function(a){var b=0==a[0].indexOf("///")?"color1":"comments";return[new SyntaxHighlighter.Match(a[0],a.index,b)]}},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:/@"(?:[^"]|"")*"/g,css:"string"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/^\s*#.*/gm,css:"preprocessor"},{regex:RegExp(this.getKeywords("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach get goto if implicit in int interface internal is lock long namespace new null object operator out override params private protected public readonly ref return sbyte sealed set short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual void while"),"gm"),css:"keyword"},{regex:/\bpartial(?=\s+(?:class|interface|struct)\b)/g,css:"keyword"},{regex:/\byield(?=\s+(?:return|break)\b)/g,css:"keyword"}],this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["c#","c-sharp","csharp"],SyntaxHighlighter.brushes.CSharp=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)/g,css:"value"},{regex:/!important/g,css:"color3"},{regex:RegExp("\\b([a-z_]|)"+"ascent azimuth background-attachment background-color background-image background-position background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index".replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b","gm"),css:"keyword"},{regex:RegExp("\\b"+"above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero default digits disc dotted double embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow".replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b","g"),css:"value"},{regex:RegExp(this.getKeywords("[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif"),"g"),css:"color1"}],this.forHtmlScript({left:/(&lt;|<)\s*style.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*style\s*(&gt;|>)/gi})}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["css"],SyntaxHighlighter.brushes.CSS=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/\(\*[\s\S]*?\*\)/gm,css:"comments"},{regex:/{(?!\$)[\s\S]*?}/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\{\$[a-zA-Z]+ .+\}/g,css:"color1"},{regex:/\b[\d\.]+\b/g,css:"value"},{regex:/\$[a-zA-Z0-9]+\b/g,css:"value"},{regex:RegExp(this.getKeywords("abs addr and ansichar ansistring array as asm begin boolean byte cardinal case char class comp const constructor currency destructor div do double downto else end except exports extended false file finalization finally for function goto if implementation in inherited int64 initialization integer interface is label library longint longword mod nil not object of on or packed pansichar pansistring pchar pcurrency pdatetime pextended pint64 pointer private procedure program property pshortstring pstring pvariant pwidechar pwidestring protected public published raise real real48 record repeat set shl shortint shortstring shr single smallint string then threadvar to true try type unit until uses val var varirnt while widechar widestring with word write writeln xor"),"gmi"),css:"keyword"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["delphi","pascal","pas"],SyntaxHighlighter.brushes.Delphi=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/^\+\+\+.*$/gm,css:"color2"},{regex:/^\-\-\-.*$/gm,css:"color2"},{regex:/^\s.*$/gm,css:"color1"},{regex:/^@@.*@@$/gm,css:"variable"},{regex:/^\+[^\+]{1}.*$/gm,css:"string"},{regex:/^\-[^\-]{1}.*$/gm,css:"comments"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["diff","patch"],SyntaxHighlighter.brushes.Diff=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:/\/\*([^\*][\s\S]*)?\*\//gm,css:"comments"},{regex:/\/\*(?!\*\/)\*[\s\S]*?\*\//gm,css:"preprocessor"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:/(?!\@interface\b)\@[\$\w]+\b/g,css:"color1"},{regex:/\@interface\b/g,css:"color2"},{regex:RegExp(this.getKeywords("abstract assert boolean break byte case catch char class const continue default do double else enum extends false final finally float for goto if implements import instanceof int interface long native new null package private protected public return short static strictfp super switch synchronized this throw throws true transient try void volatile while"),"gm"),css:"keyword"}],this.forHtmlScript({left:/(&lt;|<)%[@!=]?/g,right:/%(&gt;|>)/g})}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["java"],SyntaxHighlighter.brushes.Java=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){var a=SyntaxHighlighter.regexLib;this.regexList=[{regex:a.multiLineDoubleQuotedString,css:"string"},{regex:a.multiLineSingleQuotedString,css:"string"},{regex:a.singleLineCComments,css:"comments"},{regex:a.multiLineCComments,css:"comments"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:RegExp(this.getKeywords("break case catch continue default delete do else false  for function if in instanceof new null return super switch this throw true try typeof var while with"),"gm"),css:"keyword"}],this.forHtmlScript(a.scriptScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["js","jscript","javascript"],SyntaxHighlighter.brushes.JScript=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\$\w+/g,css:"variable"},{regex:RegExp(this.getKeywords("abs acos acosh addcslashes addslashes array_change_key_case array_chunk array_combine array_count_values array_diff array_diff_assoc array_diff_key array_diff_uassoc array_diff_ukey array_fill array_filter array_flip array_intersect array_intersect_assoc array_intersect_key array_intersect_uassoc array_intersect_ukey array_key_exists array_keys array_map array_merge array_merge_recursive array_multisort array_pad array_pop array_product array_push array_rand array_reduce array_reverse array_search array_shift array_slice array_splice array_sum array_udiff array_udiff_assoc array_udiff_uassoc array_uintersect array_uintersect_assoc array_uintersect_uassoc array_unique array_unshift array_values array_walk array_walk_recursive atan atan2 atanh base64_decode base64_encode base_convert basename bcadd bccomp bcdiv bcmod bcmul bindec bindtextdomain bzclose bzcompress bzdecompress bzerrno bzerror bzerrstr bzflush bzopen bzread bzwrite ceil chdir checkdate checkdnsrr chgrp chmod chop chown chr chroot chunk_split class_exists closedir closelog copy cos cosh count count_chars date decbin dechex decoct deg2rad delete ebcdic2ascii echo empty end ereg ereg_replace eregi eregi_replace error_log error_reporting escapeshellarg escapeshellcmd eval exec exit exp explode extension_loaded feof fflush fgetc fgetcsv fgets fgetss file_exists file_get_contents file_put_contents fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype floatval flock floor flush fmod fnmatch fopen fpassthru fprintf fputcsv fputs fread fscanf fseek fsockopen fstat ftell ftok getallheaders getcwd getdate getenv gethostbyaddr gethostbyname gethostbynamel getimagesize getlastmod getmxrr getmygid getmyinode getmypid getmyuid getopt getprotobyname getprotobynumber getrandmax getrusage getservbyname getservbyport gettext gettimeofday gettype glob gmdate gmmktime ini_alter ini_get ini_get_all ini_restore ini_set interface_exists intval ip2long is_a is_array is_bool is_callable is_dir is_double is_executable is_file is_finite is_float is_infinite is_int is_integer is_link is_long is_nan is_null is_numeric is_object is_readable is_real is_resource is_scalar is_soap_fault is_string is_subclass_of is_uploaded_file is_writable is_writeable mkdir mktime nl2br parse_ini_file parse_str parse_url passthru pathinfo print readlink realpath rewind rewinddir rmdir round str_ireplace str_pad str_repeat str_replace str_rot13 str_shuffle str_split str_word_count strcasecmp strchr strcmp strcoll strcspn strftime strip_tags stripcslashes stripos stripslashes stristr strlen strnatcasecmp strnatcmp strncasecmp strncmp strpbrk strpos strptime strrchr strrev strripos strrpos strspn strstr strtok strtolower strtotime strtoupper strtr strval substr substr_compare"),"gmi"),css:"functions"},{regex:RegExp(this.getKeywords("__FILE__ __LINE__ __METHOD__ __FUNCTION__ __CLASS__"),"gmi"),css:"constants"},{regex:RegExp(this.getKeywords("abstract and array as break case catch cfunction class clone const continue declare default die do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function include include_once global goto if implements interface instanceof namespace new old_function or private protected public return require require_once static switch throw try use var while xor "),"gm"),css:"keyword"}],this.forHtmlScript(SyntaxHighlighter.regexLib.phpScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["php"],SyntaxHighlighter.brushes.Php=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["text","plain"],SyntaxHighlighter.brushes.Plain=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/#.*$/gm,css:"comments"},{regex:/\$[a-zA-Z0-9]+\b/g,css:"value"},{regex:/\-[a-zA-Z]+\b/g,css:"keyword"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:RegExp(this.getKeywords("Add-Content Add-History Add-Member Add-PSSnapin Clear(-Content)? Clear-Item Clear-ItemProperty Clear-Variable Compare-Object ConvertFrom-SecureString Convert-Path ConvertTo-Html ConvertTo-SecureString Copy(-Item)? Copy-ItemProperty Export-Alias Export-Clixml Export-Console Export-Csv ForEach(-Object)? Format-Custom Format-List Format-Table Format-Wide Get-Acl Get-Alias Get-AuthenticodeSignature Get-ChildItem Get-Command Get-Content Get-Credential Get-Culture Get-Date Get-EventLog Get-ExecutionPolicy Get-Help Get-History Get-Host Get-Item Get-ItemProperty Get-Location Get-Member Get-PfxCertificate Get-Process Get-PSDrive Get-PSProvider Get-PSSnapin Get-Service Get-TraceSource Get-UICulture Get-Unique Get-Variable Get-WmiObject Group-Object Import-Alias Import-Clixml Import-Csv Invoke-Expression Invoke-History Invoke-Item Join-Path Measure-Command Measure-Object Move(-Item)? Move-ItemProperty New-Alias New-Item New-ItemProperty New-Object New-PSDrive New-Service New-TimeSpan New-Variable Out-Default Out-File Out-Host Out-Null Out-Printer Out-String Pop-Location Push-Location Read-Host Remove-Item Remove-ItemProperty Remove-PSDrive Remove-PSSnapin Remove-Variable Rename-Item Rename-ItemProperty Resolve-Path Restart-Service Resume-Service Select-Object Select-String Set-Acl Set-Alias Set-AuthenticodeSignature Set-Content Set-Date Set-ExecutionPolicy Set-Item Set-ItemProperty Set-Location Set-PSDebug Set-Service Set-TraceSource Set(-Variable)? Sort-Object Split-Path Start-Service Start-Sleep Start-Transcript Stop-Process Stop-Service Stop-Transcript Suspend-Service Tee-Object Test-Path Trace-Command Update-FormatData Update-TypeData Where(-Object)? Write-Debug Write-Error Write(-Host)? Write-Output Write-Progress Write-Verbose Write-Warning"),"gmi"),css:"keyword"},{regex:RegExp(this.getKeywords("ac asnp clc cli clp clv cpi cpp cvpa diff epal epcsv fc fl ft fw gal gc gci gcm gdr ghy gi gl gm gp gps group gsv gsnp gu gv gwmi iex ihy ii ipal ipcsv mi mp nal ndr ni nv oh rdr ri rni rnp rp rsnp rv rvpa sal sasv sc select si sl sleep sort sp spps spsv sv tee cat cd cp h history kill lp ls mount mv popd ps pushd pwd r rm rmdir echo cls chdir del dir erase rd ren type % \\?"),"gmi"),css:"keyword"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["powershell","ps"],SyntaxHighlighter.brushes.PowerShell=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:/^\s*@\w+/gm,css:"decorator"},{regex:/(['\"]{3})([^\1])*?\1/gm,css:"comments"},{regex:/"(?!")(?:\.|\\\"|[^\""\n])*"/gm,css:"string"},{regex:/'(?!')(?:\.|(\\\')|[^\''\n])*'/gm,css:"string"},{regex:/\+|\-|\*|\/|\%|=|==/gm,css:"keyword"},{regex:/\b\d+\.?\w*/g,css:"value"},{regex:RegExp(this.getKeywords("__import__ abs all any apply basestring bin bool buffer callable chr classmethod cmp coerce compile complex delattr dict dir divmod enumerate eval execfile file filter float format frozenset getattr globals hasattr hash help hex id input int intern isinstance issubclass iter len list locals long map max min next object oct open ord pow print property range raw_input reduce reload repr reversed round set setattr slice sorted staticmethod str sum super tuple type type unichr unicode vars xrange zip"),"gmi"),css:"functions"},{regex:RegExp(this.getKeywords("and assert break class continue def del elif else except exec finally for from global if import in is lambda not or pass print raise return try yield while"),"gm"),css:"keyword"},{regex:RegExp(this.getKeywords("None True False self cls class_"),"gm"),css:"color1"}],this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["py","python"],SyntaxHighlighter.brushes.Python=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b[A-Z0-9_]+\b/g,css:"constants"},{regex:/:[a-z][A-Za-z0-9_]*/g,css:"color2"},{regex:/(\$|@@|@)\w+/g,css:"variable bold"},{regex:RegExp(this.getKeywords("alias and BEGIN begin break case class def define_method defined do each else elsif END end ensure false for if in module new next nil not or raise redo rescue retry return self super then throw true undef unless until when while yield"),"gm"),css:"keyword"},{regex:RegExp(this.getKeywords("Array Bignum Binding Class Continuation Dir Exception FalseClass File::Stat File Fixnum Fload Hash Integer IO MatchData Method Module NilClass Numeric Object Proc Range Regexp String Struct::TMS Symbol ThreadGroup Thread Time TrueClass"),"gm"),css:"color1"}],this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["ruby","rails","ror","rb"],SyntaxHighlighter.brushes.Ruby=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){var a=SyntaxHighlighter.regexLib;this.regexList=[{regex:a.multiLineCComments,css:"comments"},{regex:a.singleLineCComments,css:"comments"},{regex:a.doubleQuotedString,css:"string"},{regex:a.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/\b(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)\b/g,css:"value"},{regex:/\$\w+/g,css:"variable"},{regex:RegExp(this.getKeywords("!important !default"),"g"),css:"color3"},{regex:RegExp(this.getKeywords("@import @extend @debug @warn @if @for @while @mixin @include"),"g"),css:"preprocessor"},{regex:RegExp("\\b([a-z_]|)"+"ascent azimuth background-attachment background-color background-image background-position background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index".replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b","gm"),css:"keyword"},{regex:RegExp("\\b"+"above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero digits disc dotted double embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow".replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b","g"),css:"value"},{regex:RegExp(this.getKeywords("[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif"),"g"),css:"color1"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["sass","scss"],SyntaxHighlighter.brushes.Sass=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineSingleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.multiLineDoubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/0x[a-f0-9]+|\d+(\.\d+)?/gi,css:"value"},{regex:RegExp(this.getKeywords("val sealed case def true trait implicit forSome import match object null finally super override try lazy for var catch throw type extends class while with new final yield abstract else do if return protected private this package false"),"gm"),css:"keyword"},{regex:RegExp("[_:=><%#@]+","gm"),css:"keyword"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["scala"],SyntaxHighlighter.brushes.Scala=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/--(.*)$/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineDoubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.multiLineSingleQuotedString,css:"string"},{regex:RegExp(this.getKeywords("abs avg case cast coalesce convert count current_timestamp current_user day isnull left lower month nullif replace right session_user space substring sum system_user upper user year"),"gmi"),
css:"color2"},{regex:RegExp(this.getKeywords("all and any between cross in join like not null or outer some"),"gmi"),css:"color1"},{regex:RegExp(this.getKeywords("absolute action add after alter as asc at authorization begin bigint binary bit by cascade char character check checkpoint close collate column commit committed connect connection constraint contains continue create cube current current_date current_time cursor database date deallocate dec decimal declare default delete desc distinct double drop dynamic else end end-exec escape except exec execute false fetch first float for force foreign forward free from full function global goto grant group grouping having hour ignore index inner insensitive insert instead int integer intersect into is isolation key last level load local max min minute modify move name national nchar next no numeric of off on only open option order out output partial password precision prepare primary prior privileges procedure public read real references relative repeatable restrict return returns revoke rollback rollup rows rule schema scroll second section select sequence serializable set size smallint static statistics table temp temporary then time timestamp to top transaction translation trigger true truncate uncommitted union unique update values varchar varying view when where with work"),"gmi"),css:"keyword"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["sql"],SyntaxHighlighter.brushes.Sql=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:/'.*$/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:/^\s*#.*$/gm,css:"preprocessor"},{regex:RegExp(this.getKeywords("AddHandler AddressOf AndAlso Alias And Ansi As Assembly Auto Boolean ByRef Byte ByVal Call Case Catch CBool CByte CChar CDate CDec CDbl Char CInt Class CLng CObj Const CShort CSng CStr CType Date Decimal Declare Default Delegate Dim DirectCast Do Double Each Else ElseIf End Enum Erase Error Event Exit False Finally For Friend Function Get GetType GoSub GoTo Handles If Implements Imports In Inherits Integer Interface Is Let Lib Like Long Loop Me Mod Module MustInherit MustOverride MyBase MyClass Namespace New Next Not Nothing NotInheritable NotOverridable Object On Option Optional Or OrElse Overloads Overridable Overrides ParamArray Preserve Private Property Protected Public RaiseEvent ReadOnly ReDim REM RemoveHandler Resume Return Select Set Shadows Shared Short Single Static Step Stop String Structure Sub SyncLock Then Throw To True Try TypeOf Unicode Until Variant When While With WithEvents WriteOnly Xor"),"gm"),css:"keyword"}],this.forHtmlScript(SyntaxHighlighter.regexLib.aspScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["vb","vbnet"],SyntaxHighlighter.brushes.Vb=a,"undefined"!=typeof exports?exports.Brush=a:null}(),function(){function a(){this.regexList=[{regex:new XRegExp("(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)","gm"),css:"color2"},{regex:SyntaxHighlighter.regexLib.xmlComments,css:"comments"},{regex:new XRegExp("(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)","sg"),func:function(a){var b=SyntaxHighlighter.Match,d=a[0],c=new XRegExp("(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)","xg").exec(d),e=[];if(null!=a.attributes)for(var f,h=new XRegExp("(?<name> [\\w:\\-\\.]+)\\s*=\\s*(?<value> \".*?\"|'.*?'|\\w+)","xg");null!=(f=h.exec(d));)e.push(new b(f.name,a.index+f.index,"color1")),e.push(new b(f.value,a.index+f.index+f[0].indexOf(f.value),"string"));return null!=c&&e.push(new b(c.name,a.index+c[0].indexOf(c.name),"keyword")),e}}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,a.prototype=new SyntaxHighlighter.Highlighter,a.aliases=["xml","xhtml","xslt","html"],SyntaxHighlighter.brushes.Xml=a,"undefined"!=typeof exports?exports.Brush=a:null}(),$(function(){var latestComments=$(".short-comments ul li");if(latestComments.length>0&&!$("body").hasClass("variant-mobile")){var comments={parent:latestComments.parent(),main:$(".short-comments"),delay:7e3,length:latestComments.length,current:1,height:latestComments.first().outerHeight()+parseInt(latestComments.first().css("margin-bottom")),top:0,nav:$(".short-comments .navigation"),slide:!1};comments.loop=function(){comments.current=1,comments.top=0,comments.parent.css("top",comments.top+"px")},comments.next=function(){return comments.current===comments.length?comments.loop():(comments.current++,comments.top+=comments.height,void comments.parent.css("top","-"+comments.top+"px"))},comments.prev=function(){0===comments.current&&(comments.current=comments.length,comments.top=comments.length*comments.height),comments.current--,comments.top-=comments.height,comments.parent.css("top","-"+comments.top+"px")},comments.slider=function(){return comments.slide=setInterval(function(){comments.current<comments.length?comments.next():comments.loop()},comments.delay)},comments.main.hover(function(){if(comments.slide!==!1)return clearInterval(comments.slide),comments.slide=!1},function(){if(!comments.slide)return comments.slider()}),comments.nav.on("click",function(e){if($(e.target).data("action"))switch($(e.target).data("action")){case"previous":e.preventDefault(),comments.prev();break;case"next":e.preventDefault(),comments.next()}}),comments.slider()}}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})}),Element.prototype.documentOffsetTop=Element.prototype.documentOffsetTop||function(){return this.offsetTop+(this.offsetParent?this.offsetParent.documentOffsetTop():0)},function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){$.ui=$.ui||{};var widgetUuid=($.ui.version="1.12.0",0),widgetSlice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;null!=(elem=elems[i]);i++)try{events=$._data(elem,"events"),events&&events.remove&&$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData),$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;return prototype||(prototype=base,base=$.Widget),$.isArray(prototype)&&(prototype=$.extend.apply(null,[{}].concat(prototype))),$.expr.pseudos[fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?void(proxiedPrototype[prop]=function(){function _super(){return base.prototype[prop].apply(this,arguments)}function _superApply(args){return base.prototype[prop].apply(this,args)}return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()):void(proxiedPrototype[prop]=value)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){for(var key,value,input=widgetSlice.call(arguments,1),inputIndex=0,inputLength=input.length;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&void 0!==value&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=widgetSlice.call(arguments,1),returnValue=this;return isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);return"instance"===options?(returnValue=instance,!1):instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widgetUuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy(),$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),1===arguments.length)return void 0===curOption[key]?null:curOption[key];curOption[key]=value}else{if(1===arguments.length)return void 0===this.options[key]?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return"classes"===key&&this._setOptionClasses(value),this.options[key]=value,"disabled"===key&&this._setOptionDisabled(value),this},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value)currentElements=this.classesElementLookup[classKey],value[classKey]!==this.options.classes[classKey]&&currentElements&&currentElements.length&&(elements=$(currentElements.get()),this._removeClass(currentElements,classKey),elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:!0})))},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value),value&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(options){function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++)current=that.classesElementLookup[classes[i]]||$(),current=$(options.add?$.uniqueSort(current.get().concat(options.element.get())):current.not(options.element).get()),that.classesElementLookup[classes[i]]=current,full.push(classes[i]),checkOption&&options.classes[classes[i]]&&full.push(options.classes[classes[i]])}var full=[],that=this;return options=$.extend({element:this.element,classes:this.options.classes||{}},options),options.keys&&processClassString(options.keys.match(/\S+/g)||[],!0),options.extra&&processClassString(options.extra.match(/\S+/g)||[]),full.join(" ")},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!1)},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!0)},_toggleClass:function(element,keys,extra,add){add="boolean"==typeof add?add:extra;var shift="string"==typeof element||null===element,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};return options.element.toggleClass(this._classes(options),add),this},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){if(suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.on(eventName,selector,handlerProxy):element.on(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.off(eventName).off(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover")},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus")},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}});$.widget;!function(){function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];return 9===raw.nodeType?{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}:$.isWindow(raw)?{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}:raw.preventDefault?{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}:{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;supportsOffsetFractions=function(){var element=$("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),support=1.5===element.offset().top;return element.remove(),supportsOffsetFractions=function(){return support},support},$.position={scrollbarWidth:function(){if(void 0!==cachedScrollbarWidth)return cachedScrollbarWidth;var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];return $("body").append(div),w1=innerDiv.offsetWidth,div.css("overflow","scroll"),w2=innerDiv.offsetWidth,w1===w2&&(w2=div[0].clientWidth),div.remove(),cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX="scroll"===overflowX||"auto"===overflowX&&within.width<within.element[0].scrollWidth,hasOverflowY="scroll"===overflowY||"auto"===overflowY&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&9===withinElement[0].nodeType,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}},$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};return dimensions=getDimensions(target),target[0].preventDefault&&(options.at="left top"),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset,basePosition=$.extend({},targetOffset),$.each(["my","at"],function(){var horizontalOffset,verticalOffset,pos=(options[this]||"").split(" ");1===pos.length&&(pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]),pos[0]=rhorizontal.test(pos[0])?pos[0]:"center",pos[1]=rvertical.test(pos[1])?pos[1]:"center",horizontalOffset=roffset.exec(pos[0]),verticalOffset=roffset.exec(pos[1]),offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0],options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]}),1===collision.length&&(collision[1]=collision[0]),"right"===options.at[0]?basePosition.left+=targetWidth:"center"===options.at[0]&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:"center"===options.at[1]&&(basePosition.top+=targetHeight/2),atOffset=getOffsets(offsets.at,targetWidth,targetHeight),basePosition.left+=atOffset[0],basePosition.top+=atOffset[1],this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());"right"===options.my[0]?position.left-=elemWidth:"center"===options.my[0]&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:"center"===options.my[1]&&(position.top-=elemHeight/2),position.left+=myOffset[0],position.top+=myOffset[1],supportsOffsetFractions()||(position.left=round(position.left),position.top=round(position.top)),collisionPosition={marginLeft:marginLeft,marginTop:marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}),options.using&&(using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};targetWidth<elemWidth&&abs(left+right)<targetWidth&&(feedback.horizontal="center"),targetHeight<elemHeight&&abs(top+bottom)<targetHeight&&(feedback.vertical="middle"),max(abs(left),abs(right))>max(abs(top),abs(bottom))?feedback.important="horizontal":feedback.important="vertical",options.using.call(this,props,feedback)}),elem.offset($.extend(position,{using:using}))})},$.ui.position={fit:{left:function(position,data){var newOverRight,within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;data.collisionWidth>outerWidth?overLeft>0&&overRight<=0?(newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset,position.left+=overLeft-newOverRight):overRight>0&&overLeft<=0?position.left=withinOffset:overLeft>overRight?position.left=withinOffset+outerWidth-data.collisionWidth:position.left=withinOffset:overLeft>0?position.left+=overLeft:overRight>0?position.left-=overRight:position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var newOverBottom,within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;data.collisionHeight>outerHeight?overTop>0&&overBottom<=0?(newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset,position.top+=overTop-newOverBottom):overBottom>0&&overTop<=0?position.top=withinOffset:overTop>overBottom?position.top=withinOffset+outerHeight-data.collisionHeight:position.top=withinOffset:overTop>0?position.top+=overTop:overBottom>0?position.top-=overBottom:position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var newOverRight,newOverLeft,within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];overLeft<0?(newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset,(newOverRight<0||newOverRight<abs(overLeft))&&(position.left+=myOffset+atOffset+offset)):overRight>0&&(newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft,(newOverLeft>0||abs(newOverLeft)<overRight)&&(position.left+=myOffset+atOffset+offset))},top:function(position,data){var newOverTop,newOverBottom,within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top="top"===data.my[1],myOffset=top?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];overTop<0?(newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset,(newOverBottom<0||newOverBottom<abs(overTop))&&(position.top+=myOffset+atOffset+offset)):overBottom>0&&(newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop,(newOverTop>0||abs(newOverTop)<overBottom)&&(position.top+=myOffset+atOffset+offset))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}}}();$.ui.position,$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},$.fn.extend({uniqueId:function(){var uuid=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement}catch(error){activeElement=document.body}return activeElement||(activeElement=document.body),activeElement.nodeName||(activeElement=document.body),
activeElement},$.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target),active=$($.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&target.not(".ui-state-disabled").length&&(this.select(event),event.isPropagationStopped()||(this.mouseHandled=!0),target.has(".ui-menu").length?this.expand(event):!this.element.is(":focus")&&active.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(event){if(!this.previousFilter){var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);actualTarget[0]===target[0]&&(this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(event,target))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);keepActiveItem||this.focus(event,item)},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));notContained&&this.collapseAll(event)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(event){this._closeOnDocumentClick(event)&&this.collapseAll(event),this.mouseHandled=!1}})},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),submenus.children().each(function(){var elem=$(this);elem.data("ui-menu-submenu-caret")&&elem.remove()})},_keydown:function(event){var match,prev,character,skip,preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=!1,prev=this.previousFilter||"",character=String.fromCharCode(event.keyCode),skip=!1,clearTimeout(this.filterTimer),character===prev?skip=!0:character=prev+character,match=this._filterMenuItems(character),match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match,match.length||(character=String.fromCharCode(event.keyCode),match=this._filterMenuItems(character)),match.length?(this.focus(event,match),this.previousFilter=character,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}preventDefault&&event.preventDefault()},_activate:function(event){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(event):this.select(event))},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",!0);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon),item.attr("aria-haspopup","true").prepend(submenuCaret),menu.attr("aria-labelledby",item.attr("id"))}),this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front"),menus=submenus.add(this.element),items=menus.find(this.options.items),items.not(".ui-menu-item").each(function(){var item=$(this);that._isDivider(item)&&that._addClass(item,"ui-menu-divider","ui-widget-content")}),newItems=items.not(".ui-menu-item, .ui-menu-divider"),newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper"),items.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if("icons"===key){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu)}this._super(key,value)},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",String(value)),this._toggleClass(null,"ui-state-disabled",!!value)},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&"focus"===event.type),this._scrollIntoView(item),this.active=item.first(),focused=this.active.children(".ui-menu-item-wrapper"),this._addClass(focused,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",focused.attr("id")),activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(activeParent,null,"ui-state-active"),event&&"keydown"===event.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),nested=item.children(".ui-menu"),nested.length&&event&&/^mouse/.test(event.type)&&this._startOpening(nested),this.activeMenu=item.parent(),this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;this._hasScroll()&&(borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop,scroll=this.activeMenu.scrollTop(),elementHeight=this.activeMenu.height(),itemHeight=item.outerHeight(),offset<0?this.activeMenu.scrollTop(scroll+offset):offset+itemHeight>elementHeight&&this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight))},blur:function(event,fromFocus){fromFocus||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",event,{item:this.active}),this.active=null)},_startOpening:function(submenu){clearTimeout(this.timer),"true"===submenu.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(submenu)},this.delay))},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true"),submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer),this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));currentMenu.length||(currentMenu=this.element),this._close(currentMenu),this.blur(event),this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){startMenu||(startMenu=this.active?this.active.parent():this.element),startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);newItem&&newItem.length&&(this._close(),this.focus(event,newItem))},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();newItem&&newItem.length&&(this._open(newItem.parent()),this._delay(function(){this.focus(event,newItem)}))},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;this.active&&(next="first"===direction||"last"===direction?this.active["first"===direction?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[direction+"All"](".ui-menu-item").eq(0)),next&&next.length&&this.active||(next=this.activeMenu.find(this.options.items)[filter]()),this.focus(event,next)},nextPage:function(event){var item,base,height;return this.active?void(this.isLastItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base-height<0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(event)},previousPage:function(event){var item,base,height;return this.active?void(this.isFirstItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base+height>0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items).first()))):void this.next(event)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(event,!0),this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()))})}});$.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea="textarea"===nodeName,isInput="input"===nodeName;this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element),this.valueMethod=this.element[isTextarea||isInput?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly"))return suppressKeyPress=!0,suppressInput=!0,void(suppressKeyPressRepeat=!0);suppressKeyPress=!1,suppressInput=!1,suppressKeyPressRepeat=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=!0,this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=!0,this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=!0,this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=!0,this._keyEvent("next",event);break;case keyCode.ENTER:this.menu.active&&(suppressKeyPress=!0,event.preventDefault(),this.menu.select(event));break;case keyCode.TAB:this.menu.active&&this.menu.select(event);break;case keyCode.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(event),event.preventDefault());break;default:suppressKeyPressRepeat=!0,this._searchTimeout(event)}},keypress:function(event){if(suppressKeyPress)return suppressKeyPress=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||event.preventDefault());if(!suppressKeyPressRepeat){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event)}}},input:function(event){return suppressInput?(suppressInput=!1,void event.preventDefault()):void this._searchTimeout(event)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(event){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(event),void this._change(event))}}),this._initSource(),this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(event){event.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==$.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(event,ui){var label,item;return this.isNewMenu&&(this.isNewMenu=!1,event.originalEvent&&/^mouse/.test(event.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)})):(item=ui.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",event,{item:item})&&event.originalEvent&&/^key/.test(event.originalEvent.type)&&this._value(item.value),label=ui.item.attr("aria-label")||item.value,void(label&&$.trim(label).length&&(this.liveRegion.children().hide(),$("<div>").text(label).appendTo(this.liveRegion))))},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;this.element[0]!==$.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=previous,this._delay(function(){this.previous=previous,this.selectedItem=item})),!1!==this._trigger("select",event,{item:item})&&this._value(item.value),this.term=this._value(),this.close(event),this.selectedItem=item}}),this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo(this._appendTo()),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target)},_closeOnClickOutside:function(event){this._isEventTargetInWidget(event)||this.close()},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element&&element[0]||(element=this.element.closest(".ui-front, dialog")),element.length||(element=this.document[0].body),element},_initSource:function(){var array,url,that=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){that.xhr&&that.xhr.abort(),that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}):this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching),this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;equalValues&&(!equalValues||menuVisible||modifierKey)||(this.selectedItem=null,this.search(null,event))},this.options.delay)},search:function(value,event){return value=null!=value?value:this._value(),this.term=this._value(),value.length<this.options.minLength?this.close(event):this._trigger("search",event)!==!1?this._search(value):void 0},_search:function(value){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){index===this.requestIndex&&this.__response(content),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(content){content&&(content=this._normalize(content)),this._trigger("response",null,{content:content}),!this.options.disabled&&content&&content.length&&!this.cancelSearch?(this._suggest(content),this._trigger("open")):this._close()},close:function(event){this.cancelSearch=!0,this._close(event)},_close:function(event){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",event))},_change:function(event){this.previous!==this._value()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items),this.isNewMenu=!0,this.menu.refresh(),ul.css("display","inline-block"),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul)},_move:function(direction,event){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[direction](event):void this.search(null,event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(keyEvent,event),event.preventDefault())},_isContentEditable:function(element){if(!element.length)return!1;var editable=element.prop("contentEditable");return"inherit"===editable?this._isContentEditable(element.parent()):"true"===editable}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments),this.options.disabled||this.cancelSearch||(message=content&&content.length?this.options.messages.results(content.length):this.options.messages.noResults,this.liveRegion.children().hide(),$("<div>").text(message).appendTo(this.liveRegion))}});$.ui.autocomplete}),function(){function diffChars(oldString,newString){function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath,addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],oldPos=(removePath?removePath.newPos:0)-diagonalPath;addPath&&(bestPath[diagonalPath-1]=void 0);var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=oldPos&&oldPos<oldLen;if(canAdd||canRemove){if(!canAdd||canRemove&&addPath.newPos<removePath.newPos?(basePath=clonePath(removePath),pushComponent(basePath.components,void 0,!0)):(basePath=addPath,basePath.newPos++,pushComponent(basePath.components,!0,void 0)),oldPos=extractCommon(basePath,newString,oldString,diagonalPath),basePath.newPos+1>=newLen&&oldPos+1>=oldLen)return buildValues(basePath.components,newString,oldString);bestPath[diagonalPath]=basePath}else bestPath[diagonalPath]=void 0}editLength++}if(newString===oldString)return[{value:newString}];if(!newString)return[{value:oldString,removed:!0}];if(!oldString)return[{value:newString,added:!0}];var newLen=newString.length,oldLen=oldString.length,maxEditLength=newLen+oldLen,bestPath=[{newPos:-1,components:[]}],oldPos=extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen)return[{value:newString}];for(var editLength=1;editLength<=maxEditLength;){var ret=execEditLength();if(ret)return ret}}function buildValues(components,newString,oldString){for(var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;componentPos<componentLen;componentPos++){var component=components[componentPos];component.removed?(component.value=oldString.slice(oldPos,oldPos+component.count),oldPos+=component.count):(component.value=newString.slice(newPos,newPos+component.count),newPos+=component.count,component.added||(oldPos+=component.count))}return components}function pushComponent(components,added,removed){var last=components[components.length-1];last&&last.added===added&&last.removed===removed?components[components.length-1]={count:last.count+1,added:added,removed:removed}:components.push({count:1,added:added,removed:removed})}function extractCommon(basePath,newString,oldString,diagonalPath){for(var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;newPos+1<newLen&&oldPos+1<oldLen&&newString[newPos+1]==oldString[oldPos+1];)newPos++,oldPos++,commonCount++;return commonCount&&basePath.components.push({count:commonCount}),basePath.newPos=newPos,oldPos}function clonePath(path){return{newPos:path.newPos,components:path.components.slice(0)}}var MentionsBase,MentionsContenteditable,MentionsInput,Selection,entityMap,escapeHtml,escapeRegExp,namespace,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,slice=[].slice;namespace="mentionsInput",Selection={get:function(input){return{start:input[0].selectionStart,end:input[0].selectionEnd}},set:function(input,start,end){if(null==end&&(end=start),input[0].selectionStart)return input[0].selectStart=start,input[0].selectionEnd=end}},entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},escapeHtml=function(text){return text.replace(/[&<>"'\/]/g,function(s){return entityMap[s]})},escapeRegExp=function(str){var specials;return specials=/[.*+?|()\[\]{}\\$^]/g,str.replace(specials,"\\$&")},$.widget("ui.areacomplete",$.ui.autocomplete,{options:$.extend({},$.ui.autocomplete.prototype.options,{matcher:"(\\b[^,]*)",suffix:""}),_create:function(){return this.overriden={select:this.options.select,focus:this.options.focus},this.options.select=$.proxy(this.selectCallback,this),this.options.focus=$.proxy(this.focusCallback,this),$.ui.autocomplete.prototype._create.call(this),this.matcher=new RegExp(this.options.matcher+"$")},selectCallback:function(event,ui){var after,before,newval,value;return value=this._value(),before=value.substring(0,this.start),after=value.substring(this.end),newval=ui.item.value+this.options.suffix,value=before+newval+after,this._value(value),Selection.set(this.element,before.length+newval.length),this.overriden.select&&(ui.item.pos=this.start,this.overriden.select(event,ui)),!1},focusCallback:function(){return!!this.overriden.focus&&this.overriden.focus(event,ui)},search:function(value,event){var match,pos;if(!value){if(value=this._value(),pos=Selection.get(this.element).start,value=value.substring(0,pos),match=this.matcher.exec(value),!match)return"";this.start=match.index,this.end=match.index+match[0].length,this.searchTerm=match[1]}return $.ui.autocomplete.prototype.search.call(this,this.searchTerm,event)},_renderItem:function(ul,item){var anchor,li,regexp,value;return li=$("<li>"),anchor=$("<a>").appendTo(li),item.image&&anchor.append('<img src="'+item.image+'" />'),regexp=new RegExp("("+escapeRegExp(this.searchTerm)+")","gi"),value=item.value.replace(regexp,'<strong class="mention">$&</strong>'),anchor.append(value),li.appendTo(ul)}}),$.widget("ui.editablecomplete",$.ui.areacomplete,{options:$.extend({},$.ui.areacomplete.prototype.options,{showAtCaret:!1}),selectCallback:function(event,ui){var mention,pos;return pos={start:this.start,end:this.end},(!this.overriden.select||(ui.item.pos=pos,this.overriden.select(event,ui)!==!1))&&(mention=document.createTextNode(ui.item.value),insertMention(mention,pos,this.options.suffix),this.element.change(),!1)},search:function(value,event){var match,node,pos,sel;if(!value){if(sel=window.getSelection(),node=sel.focusNode,value=node.textContent,pos=sel.focusOffset,value=value.substring(0,pos),match=this.matcher.exec(value),!match)return"";this.start=match.index,this.end=match.index+match[0].length,this._setDropdownPosition(node),this.searchTerm=match[1]}return $.ui.autocomplete.prototype.search.call(this,this.searchTerm,event)},_setDropdownPosition:function(node){var boundary,posX,posY,rect,offset=10;if(this.options.showAtCaret)return boundary=document.createRange(),boundary.setStart(node,this.start),boundary.collapse(!0),rect=boundary.getClientRects()[0]||boundary.getClientRects(),posX=rect.left+(window.scrollX||window.pageXOffset),posY=rect.top+rect.height+(window.scrollY||window.pageYOffset),this.options.position.of=document,this.options.position.at="left+"+posX+" top+"+(posY+offset)}}),MentionsBase=function(){function MentionsBase(input1,options){this.input=input1,this.options=$.extend({},this.settings,options),this.options.source||(this.options.source=this.input.data("source")||[])}return MentionsBase.prototype.marker="â",MentionsBase.prototype._getMatcher=function(){var allowedChars;return allowedChars="[^"+this.options.trigger+"]","\\B["+this.options.trigger+"]("+allowedChars+"{0,20})"},MentionsBase.prototype._markupMention=function(mention){return"@["+mention.name+"]("+mention.uid+")"},MentionsBase}(),MentionsInput=function(superClass){function MentionsInput(input1,options){var container;this.input=input1,this._updateHScroll=bind(this._updateHScroll,this),this._updateVScroll=bind(this._updateVScroll,this),this._updateValue=bind(this._updateValue,this),this._onSelect=bind(this._onSelect,this),this._addMention=bind(this._addMention,this),this._updateMentions=bind(this._updateMentions,this),this._update=bind(this._update,this),this.settings={trigger:"@",widget:"areacomplete",suffix:"",autocomplete:{autoFocus:!0,delay:0}},MentionsInput.__super__.constructor.call(this,this.input,options),this.mentions=[],this.input.addClass("input"),container=$("<div>",{class:"mentions-input"}),container.css("display",this.input.css("display")),this.container=this.input.wrapAll(container).parent(),this.hidden=this._createHidden(),this.highlighter=this._createHighlighter(),this.highlighterContent=$("div",this.highlighter),this.input.focus(function(_this){return function(){return _this.highlighter.addClass("focus")}}(this)).blur(function(_this){return function(){return _this.highlighter.removeClass("focus")}}(this)),options=$.extend({matcher:this._getMatcher(),select:this._onSelect,suffix:this.options.suffix,source:this.options.source,appendTo:this.input.parent()},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](options),this._setValue(this.input.val()),this._initEvents()}var mimicProperties;return extend(MentionsInput,superClass),mimicProperties=["backgroundColor","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderLeftWidth","borderBottomWidth","borderRightWidth","fontSize","fontStyle","fontFamily","fontWeight","lineHeight","height","boxSizing"],MentionsInput.prototype._initEvents=function(){var tagName;return this.input.on("input."+namespace+" change."+namespace,this._update),tagName=this.input.prop("tagName"),"INPUT"===tagName?(this.input.on("focus."+namespace,function(_this){return function(){return _this.interval=setInterval(_this._updateHScroll,10)}}(this)),this.input.on("blur."+namespace,function(_this){return function(){return setTimeout(_this._updateHScroll,10),clearInterval(_this.interval)}}(this))):"TEXTAREA"===tagName?(this.input.on("scroll."+namespace,function(_this){return function(){return setTimeout(_this._updateVScroll,10)}}(this)),this.input.on("resize."+namespace,function(_this){return function(){return setTimeout(_this._updateVScroll,10)}}(this))):void 0},MentionsInput.prototype._setValue=function(value){var match,mentionRE,offset;for(offset=0,mentionRE=/@\[([^\]]+)\]\(([^ \)]+)\)/g,this.value=value.replace(mentionRE,"$1"),this.input.val(this.value),match=mentionRE.exec(value);match;)this._addMention({name:match[1],uid:match[2],pos:match.index-offset}),offset+=match[2].length+5,match=mentionRE.exec(value);return this._updateValue()},MentionsInput.prototype._createHidden=function(){var hidden;return hidden=$("<input>",{type:"hidden",name:this.input.attr("name")}),hidden.appendTo(this.container),this.input.removeAttr("name"),hidden},MentionsInput.prototype._createHighlighter=function(){var content,highlighter,j,len,property;for(highlighter=$("<div>",{class:"highlighter"}),"INPUT"===this.input.prop("tagName")?highlighter.css("whiteSpace","pre"):(highlighter.css("whiteSpace","pre-wrap"),highlighter.css("wordWrap","break-word")),content=$("<div>",{class:"highlighter-content"}),highlighter.append(content).prependTo(this.container),j=0,len=mimicProperties.length;j<len;j++)property=mimicProperties[j],highlighter.css(property,this.input.css(property));return this.input.css("backgroundColor","transparent"),highlighter},MentionsInput.prototype._update=function(){return this._updateMentions(),this._updateValue()},MentionsInput.prototype._updateMentions=function(){var change,cursor,diff,i,j,k,len,mention,piece,ref,update_pos,value;for(value=this.input.val(),diff=diffChars(this.value,value),update_pos=function(_this){return function(cursor,delta){var j,len,mention,ref,results;for(ref=_this.mentions,results=[],j=0,len=ref.length;j<len;j++)mention=ref[j],mention.pos>=cursor?results.push(mention.pos+=delta):results.push(void 0);return results}}(this),cursor=0,j=0,len=diff.length;j<len;j++)change=diff[j],
change.added?update_pos(cursor,change.count):change.removed&&update_pos(cursor,-change.count),change.removed||(cursor+=change.count);for(ref=this.mentions.slice(0),i=k=ref.length-1;k>=0;i=k+=-1)mention=ref[i],piece=value.substring(mention.pos,mention.pos+mention.name.length),mention.name!==piece&&this.mentions.splice(i,1);return this.value=value},MentionsInput.prototype._addMention=function(mention){return this.mentions.push(mention),this.mentions.sort(function(a,b){return a.pos-b.pos})},MentionsInput.prototype._onSelect=function(event,ui){return this._updateMentions(),this._addMention({name:ui.item.value,pos:ui.item.pos,uid:ui.item.uid}),this._updateValue()},MentionsInput.prototype._updateValue=function(){var cursor,hdContent,hlContent,j,len,mention,piece,ref,value;for(value=this.input.val(),hlContent=[],hdContent=[],cursor=0,ref=this.mentions,j=0,len=ref.length;j<len;j++)mention=ref[j],piece=value.substring(cursor,mention.pos),hlContent.push(escapeHtml(piece)),hdContent.push(piece),hlContent.push("<strong>"+mention.name+"</strong>"),hdContent.push(this._markupMention(mention)),cursor=mention.pos+mention.name.length;return piece=value.substring(cursor),this.highlighterContent.html(hlContent.join("")+escapeHtml(piece)),this.hidden.val(hdContent.join("")+piece)},MentionsInput.prototype._updateVScroll=function(){var scrollTop;return scrollTop=this.input.scrollTop(),this.highlighterContent.css({top:"-"+scrollTop+"px"}),this.highlighter.height(this.input.height())},MentionsInput.prototype._updateHScroll=function(){var scrollLeft;return scrollLeft=this.input.scrollLeft(),this.highlighterContent.css({left:"-"+scrollLeft+"px"})},MentionsInput.prototype._replaceWithSpaces=function(value,what){return value.replace(what,Array(what.length).join(" "))},MentionsInput.prototype._cutChar=function(value,index){return value.substring(0,index)+value.substring(index+1)},MentionsInput.prototype.setValue=function(){var j,len,piece,pieces,value;for(pieces=1<=arguments.length?slice.call(arguments,0):[],value="",j=0,len=pieces.length;j<len;j++)piece=pieces[j],value+="string"==typeof piece?piece:this._markupMention(piece);return this._setValue(value)},MentionsInput.prototype.getValue=function(){return this.hidden.val()},MentionsInput.prototype.getRawValue=function(){return this.input.val().replace(this.marker,"")},MentionsInput.prototype.getMentions=function(){return this.mentions},MentionsInput.prototype.clear=function(){return this.input.val(""),this._update()},MentionsInput.prototype.destroy=function(){return this.input.areacomplete("destroy"),this.input.off("."+namespace).attr("name",this.hidden.attr("name")),this.container.replaceWith(this.input)},MentionsInput}(MentionsBase),MentionsContenteditable=function(superClass){function MentionsContenteditable(input1,options){this.input=input1,this._onSelect=bind(this._onSelect,this),this._addMention=bind(this._addMention,this),this.settings={trigger:"@",widget:"editablecomplete",autocomplete:{autoFocus:!0,delay:0}},MentionsContenteditable.__super__.constructor.call(this,this.input,options),options=$.extend({matcher:this._getMatcher(),suffix:this.marker,select:this._onSelect,source:this.options.source,showAtCaret:this.options.showAtCaret},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](options),this._setValue(this.input.html()),this._initEvents()}var insertMention,mentionTpl;return extend(MentionsContenteditable,superClass),MentionsContenteditable.prototype.selector="[data-mention]",mentionTpl=function(mention){return'<strong data-mention="'+mention.uid+'">@'+mention.value+"</strong>"},insertMention=function(mention,pos,suffix){var node,range,selection;return selection=window.getSelection(),node=selection.focusNode,range=selection.getRangeAt(0),range.setStart(node,pos.start),range.setEnd(node,pos.end),range.deleteContents(),range.insertNode(mention),suffix?(suffix=document.createTextNode(suffix),$(suffix).insertAfter(mention),range.setStartAfter(suffix)):range.setStartAfter(mention),range.collapse(!0),selection.removeAllRanges(),selection.addRange(range),mention},MentionsContenteditable.prototype._initEvents=function(){return this.input.find(this.selector).each(function(_this){return function(i,el){return _this._watch(el)}}(this))},MentionsContenteditable.prototype._setValue=function(value){if(null!==value&&""!=value){var mentionRE=/@\[([^\]]+)\]\(([^ \)]+)\)/g;return value=value.replace(mentionRE,function(_this){return function(match,value,uid){return mentionTpl({value:value,uid:uid})}}(this)),this.input.html(value)}},MentionsContenteditable.prototype._addMention=function(data){var mention,mentionNode;return mentionNode=$(mentionTpl(data))[0],mention=insertMention(mentionNode,data.pos,this.options.suffix),this._watch(mention)},MentionsContenteditable.prototype._onSelect=function(event,ui){return this._addMention(ui.item),this.input.trigger("change."+namespace),!1},MentionsContenteditable.prototype._watch=function(mention){return mention.addEventListener("DOMCharacterDataModified",function(e){var offset,range,sel,text;if(e.newValue!==e.prevValue)return text=e.target,sel=window.getSelection(),offset=sel.focusOffset,$(text).insertBefore(mention),$(mention).remove(),range=document.createRange(),range.setStart(text,offset),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range)})},MentionsContenteditable.prototype.update=function(){return this._initValue(),this._initEvents(),this.input.focus()},MentionsContenteditable.prototype.setValue=function(){var j,len,piece,pieces,value;for(pieces=1<=arguments.length?slice.call(arguments,0):[],value="",j=0,len=pieces.length;j<len;j++)piece=pieces[j],value+="string"==typeof piece?piece:this._markupMention(piece);return this._setValue(value),this._initEvents(),this.input.focus()},MentionsContenteditable.prototype.getValue=function(){var markupMention,value;return value=this.input.clone(),markupMention=this._markupMention,$(this.selector,value).replaceWith(function(){var name,uid;return uid=$(this).data("mention"),name=$(this).text(),markupMention({name:name,uid:uid})}),value.html().replace(this.marker,"")},MentionsContenteditable.prototype.getMentions=function(){var mentions;return mentions=[],$(this.selector,this.input).each(function(){return mentions.push({uid:$(this).data("mention"),name:$(this).text()})}),mentions},MentionsContenteditable.prototype.clear=function(){return this.input.html("")},MentionsContenteditable.prototype.destroy=function(){return this.input.editablecomplete("destroy"),this.input.off("."+namespace),this.input.html(this.getValue())},MentionsContenteditable}(MentionsBase),$.fn[namespace]=function(){var args,options,returnValue;return options=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],returnValue=this,this.each(function(){var instance,ref;if("string"==typeof options&&"_"!==options.charAt(0)){if(instance=$(this).data("mentionsInput"),options in instance)return returnValue=instance[options].apply(instance,args)}else{if("INPUT"===(ref=this.tagName)||"TEXTAREA"===ref)return $(this).data("mentionsInput",new MentionsInput($(this),options));if("true"===this.contentEditable)return $(this).data("mentionsInput",new MentionsContenteditable($(this),options))}}),returnValue}}.call(this),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=function(root,jQuery){return void 0===jQuery&&(jQuery="undefined"!=typeof window?require("jquery"):require("jquery")(root)),factory(jQuery),jQuery}:factory(jQuery)}(function($){var Comments={$el:null,commentsById:{},currentSortKey:"",contentLength:[],selectedComment:null,currentEdited:null,commentsCount:{total:0,current:-1,unread:[]},performance:{start:null,end:null},replyByQuote:!1,options:{commentPrefix:"komentarz-",defaultAvatar:"//static.dpcdn.pl/assets/img/avatar_150x150.png",provider_URL:null,publication_ID:null,profilePictureURL:"",currentUserIsAdmin:"admin",currentUserIsLoggedIn:!1,currentUserID:null,currentUserName:null,page:{total:null,current:1},friends:!1,mentions:{enabled:!0,dropdown_visible:!1,trigger:"@",min_chars:2,suffix:": ",jump_URL:window.location.origin?window.location.origin.indexOf("//ng.")>-1?"http://ng.dp.do/u":"http://dp.do/u":window.location.host.indexOf("ng.")>-1?"http://ng.dp.do/u":"http://dp.do/u",current:[],in_publication:[]},textareaPlaceholderText:"Dodaj komentarz",newestText:"Najnowsze",oldestText:"Najstarsze",popularText:"Popularne",sendText:"Odpowiedz",replyText:"Odpowiedz",replyByQuoteText:"Odpowiedz cytujÄc",editText:"Edytuj",editedText:"Autor edytowaÅ komentarz w&nbsp;dniu:",youText:"twÃ³j komentarz",saveText:"Zapisz",deleteText:"UsuÅ",toModerateText:"ZgÅoÅ do moderacji",moderateText:"Moderuj",ignoreText:"Ukryj komentarze uÅ¼ytkownika",unIgnoreText:"Pokazuj komentarze uÅ¼ytkownika",notloggedinText:"(niezalogowany)",viewAllRepliesText:"PokaÅ¼ wszystkie __replyCount__ odpowiedzi",showMoreText:"czytaj dalej",hideRepliesText:"Ukryj odpowiedzi",noCommentsText:"Jeszcze nikt nie skomentowaÅ, moÅ¼esz to zrobiÄ, jako pierwszy",attachmentDropText:"UpuÅÄ pliki tutaj",yourNicknameText:"TwÃ³j nick",anonymousText:"Anonim",loginText:"Zaloguj siÄ",loadMoreText:"ZaÅaduj wiÄcej...",goToProfileText:"PrzejdÅº do profilu",messanger:{pending:{text:"Komentarz oczekuje na zatwierdzenie przez moderatora",css:"alert-info"},empty:{text:"Pola formularza nie mogÄ byÄ puste",css:"alert-danger"},error:{text:"WystÄpiÅ bÅÄd po stronie serwera, nie moÅ¼na w tej chwili wysÅaÄ komentarza",css:"alert-danger"},erorr403:{text:"Nie masz uprawnieÅ do komentowania tej publikacji",css:"alert-danger"},success:{text:"Komentarz dodany",css:"alert-success"},edited:{text:"Komentarz zmodyfikowany",css:"alert-success"},report:{success:{text:"Komentarz zostaÅ zgÅoszony do moderacji",css:"alert-success"},error:{text:"WystÄpiÅ bÅÄd podczas zgÅaszania komentarza do moderacji",css:"alert-danger"}},ignore:{success:{text:"Od teraz komentarze uÅ¼ytkownika bÄdÄ ignorowane",css:"alert-success"},error:{text:"WystÄpiÅ bÅÄd, uniemoÅ¼liwiajÄcy zignorowanie komentarzy uÅ¼ytkownika",css:"alert-danger"}},unignore:{success:{text:"Od teraz komentarze uÅ¼ytkownika bÄdÄ dla ciebie widoczne",css:"alert-success"},error:{text:"WystÄpiÅ bÅÄd, uniemoÅ¼liwiajÄcy staÅe odkrycie komentarzy uÅ¼ytkownika",css:"alert-danger"}}},titles:{clickToLogIn:"Kliknij, aby siÄ zalogowaÄ",clickToClose:"Kliknij, aby zamknÄÄ",clickToDelete:"Kliknij, aby usunÄÄ",clickToUpload:"Kliknij, aby wgraÄ pliki",clickToSave:"Kliknij, aby wysÅaÄ",clickToReply:"Kliknij, aby odpowiedzieÄ na ten komentarz",mustBeLoggedIn:"Musisz byÄ zalogowany!"},textFormatter:function(text){return text},maxUserBadgesToRender:5,performanceTest:!1,enableNestedComments:!1,enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!1,enableDeletingCommentWithReplies:!1,enableNavigation:!0,enableNewCommentsNavigation:!0,postCommentOnEnter:!1,forceResponsive:!0,readOnly:!1,defaultNavigationSortKey:"popularity",isMobile:null,concatMaxReplies:!1,shortenLongComments:!0,shortenAfter:1400,shortenAfterNewLines:6,highlightColor:"#2793e6",deleteButtonColor:"#C9302C",roundProfilePictures:!1,textareaRows:2,textareaRowsOnFocus:4,textareaMaxRows:10,maxRepliesVisible:4,refresh:function(self){},specialCharacters:{nbsp:"&nbsp;",dot:"&#8226;"}},events:{"click .popover":"stopPropagate","click .self-click":"stopPropagate","focus [contenteditable]":"saveEditableContent","keyup [contenteditable]":"checkEditableContentForChange","paste [contenteditable]":"checkEditableContentForChange","input [contenteditable]":"checkEditableContentForChange","blur [contenteditable]":"checkEditableContentForChange","click .navigation li[data-sort-key]":"navigationElementClicked","click .navigation li.title":"toggleNavigationDropdown","click li.comment .btn-group":"toggleCommentDropdown","keydown .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .close":"hideMainCommentingField","click .commenting-field .textarea":"increaseTextareaHeight","keydown .commenting-field .textarea":"handleTextareaInput","change .commenting-field .textarea":"increaseTextareaHeight textareaContentChanged","click .commenting-field:not(.main) .close":"removeCommentingField","click .commenting-field .send.enabled":"postComment","click .commenting-field .update.enabled":"putComment","click .commenting-field .delete.enabled":"deleteComment",'click .new-comments-navigation .navigation-wrapper a[data-role="next"]':"selectNextNewComment","click .new-comments-navigation":"selectNextNewComment",'click .new-comments-navigation .navigation-wrapper a[data-role="previous"]':"selectPrevNewComment","click li.comment button.upvote":"upvoteComment","mouseover li.comment button.upvote":"showlikes","click li.comment button.report":"reportComment","click li.comment button.ignore":"ignoreUser","click li.comment button.delete.enabled":"deleteComment","click li.comment button.moderate":"moderateComment","click li.comment .read-more":"expandComment","mouseover li.comment .badges-list":"expandBadges","mouseover li.comment .reply-to":"highlightComment","mouseout li.comment .reply-to":"unHighlightComment","click li.comment .reply-to":"jumpToParent","click li.comment ul.child-comments .toggle-all":"toggleReplies","click li.comment button.reply":"replyButtonClicked","click li.comment button.edit":"editButtonClicked","click li.comment .comment-wrapper .ignored-info .show-ignored":"ignoreUser","click li.comment .comment-number":"jumpToCommentNumber","mouseup li.comment .comment-wrapper .wrapper .content":"checkCommentSelect"},init:function(options,el){this.$el=$(el),this.$el.addClass("jquery-comments"),this.undelegateEvents(),this.delegateEvents(),$.extend(this.options,options),this.options.performanceTest&&"undefined"!=typeof window.performance&&(this.performance.start=window.performance.now()),function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),$.browser.mobile&&null===this.options.isMobile?(this.options.isMobile=!0,this.$el.addClass("mobile")):this.options.isMobile===!0&&this.$el.addClass("mobile"),this.options.readOnly&&this.$el.addClass("read-only");var saved_sortkey=localStorage.getItem("DP_comments_sort_key");null!==saved_sortkey?this.currentSortKey=saved_sortkey:this.currentSortKey=this.options.defaultNavigationSortKey,this.fetchDataAndRender()},delegateEvents:function(){this.bindEvents(!1)},undelegateEvents:function(){this.bindEvents(!0)},bindEvents:function(unbind){var bindFunction=unbind?"off":"on";for(var key in this.events){var eventName=key.split(" ")[0],selector=key.split(" ").slice(1).join(" "),methodNames=this.events[key].split(" ");for(var index in methodNames)if(methodNames.hasOwnProperty(index)){var method=this[methodNames[index]];method=$.proxy(method,this),""==selector?this.$el[bindFunction](eventName,method):this.$el[bindFunction](eventName,selector,method)}}},fetchDataAndRender:function(){var self=this;this.$el.empty(),this.createHTML(),this.commentsById={};var success=function(commentsArray){var commentModels=commentsArray.map(function(commentsJSON){return self.createCommentModel(commentsJSON)});self.sortComments(commentModels,"reply-to"),$(commentModels).each(function(index,commentModel){self.addCommentToDataModel(commentModel)}),self.render()};$.ajax({url:self.options.provider_URL,type:"POST",dataType:"JSON",data:{put:{what:"listNew",user_id:self.options.currentUserID,id:self.options.publication_ID,page:self.options.page.current}},success:function(responseData){success(responseData.list)},error:function(xhr,status){console.log("Error parsing comments from provider:",status),console.log(xhr.responseText)}})},createCommentModel:function(commentJSON){return commentJSON.childs=[],commentJSON},addCommentToDataModel:function(commentModel){if(!(commentModel.comment_id in this.commentsById)){if(null!==commentModel.comment_parent)if(this.commentsById[commentModel.comment_parent]){var outermostParent=this.getOutermostParent(commentModel.comment_parent);outermostParent.childs.push(commentModel.comment_id)}else console.log({error:"Missing parent!",parent_ID:commentModel.comment_parent,reply_ID:commentModel.comment_id,parent:this.commentsById[commentModel.comment_parent],reply:commentModel,typeof:typeof this.commentsById[commentModel.comment_parent]}),commentModel.comment_parent=null,commentModel.comment_parent_deleted=!0;this.commentsById[commentModel.comment_id]=commentModel}},updateCommentModel:function(commentModel){$.extend(this.commentsById[commentModel.comment_id],commentModel)},render:function(){var self=this;if(this.showActiveContainer(),this.createComments(),this.options.currentUserName){var inputNick=document.createElement("input");inputNick.type="hidden",inputNick.value=this.options.currentUserName,inputNick.id="nick",inputNick=$(inputNick).appendTo(this.$el)}if(this.$el.find(".user-badge").tooltip(),this.$el.find(".user-agent").tooltip(),this.$el.find('[data-toggle="tooltip"]').tooltip(),$(window).scroll($.throttle(250,function(ev){var el_height=self.$el.outerHeight(!0),el_offset=self.$el.offset().top,scroll=$(window).scrollTop(),commentingField=self.$el.find(".commenting-field.main").first(),parent=commentingField.parent();commentingField.length<1||(0===commentingField.index()&&scroll>el_height/2+el_offset?commentingField.detach().appendTo(parent):0!==commentingField.index()&&scroll<el_height/2+el_offset&&commentingField.detach().prependTo(parent))})),window.location.hash.indexOf("#"+this.options.commentPrefix)!==-1){var jump_id=Number(window.location.hash.replace("#"+this.options.commentPrefix,"")),comment=this.$el.find("#"+this.options.commentPrefix+jump_id);if(comment.length<1)return;var complete_check=(comment.get(0).documentOffsetTop()-comment.outerHeight(),setInterval(function(){"complete"===document.readyState&&(self.jumpToComment(jump_id),clearInterval(complete_check))},100))}$("body").click(function(ev){return self.closeDropdowns(ev)}),self.updateCommentsNumeration(),self.commentsCount.total<1&&self.$el.find("ul.navigation").hide(),this.removeSpinner(),this.options.performanceTest&&"undefined"!=typeof window.performance&&(this.performance.end=performance.now(),console.log({browser:window.jQBrowser.name,script:"ajaxComments()",comments:this.commentsCount.total,time:+(this.performance.end-this.performance.start).toFixed(4)+" ms",sorting:this.currentSortKey})),this.options.refresh(this)},removeSpinner:function(){var self=this;return this.$el.find("> .spinner").fadeOut(100,function(){self.$el.removeClass("lock"),this.remove()})},showActiveContainer:function(){var activeNavigationEl=this.$el.find(".navigation li[data-container-name].active"),containerName=activeNavigationEl.data("container-name"),containerEl=this.$el.find('[data-container="'+containerName+'"]');containerEl.siblings("[data-container]").hide(),containerEl.show()},createComments:function(){var self=this;this.$el.find("#comment-list").remove();var commentList=document.createElement("ul");commentList.id="comment-list",commentList.className="main",commentList=$(commentList);var mainLevelComments=[],replies=[];$(this.getComments()).each(function(index,commentModel){null===commentModel.comment_parent||self.options.enableNestedComments===!1?mainLevelComments.push(commentModel):replies.push(commentModel)}),this.sortComments(mainLevelComments,self.currentSortKey),"oldest"!==self.currentSortKey&&mainLevelComments.reverse(),$(mainLevelComments).each(function(index,commentModel){self.addComment(commentModel,commentList)}),this.sortComments(replies,"oldest");var repliesCount=$(replies).length;repliesCount.length<1&&self.options.enableNewCommentsNavigation&&self.updateNewCommentsCounter(),$(replies).each(function(index,commentModel){self.addComment(commentModel,commentList),self.options.enableNewCommentsNavigation&&index===repliesCount-1&&self.updateNewCommentsCounter()}),this.$el.find('[data-container="comments"]').prepend(commentList)},isFriend:function(id){var self=this;if(!self.options.friends||self.options.friends.length<1)return!1;for(var i=0,len=self.options.friends.length;i<len;i++)if(self.options.friends[i].id===id)return!0},addComment:function(commentModel,commentList){commentList=commentList||this.$el.find("#comment-list");var commentEl=this.createCommentElement(commentModel);if(null!==commentModel.comment_parent&&this.options.enableNestedComments!==!1){var directParentEl=commentList.find('.comment[data-id="'+commentModel.comment_parent+'"]');this.reRenderCommentActionBar(commentModel.comment_parent);var outerMostParent=directParentEl.parents(".comment").last();0===outerMostParent.length&&(outerMostParent=directParentEl);var childCommentsEl=outerMostParent.find(".child-comments"),commentingField=childCommentsEl.find(".commenting-field");commentModel.manual?childCommentsEl.append(commentEl):commentingField.length?commentingField.before(commentEl):childCommentsEl.append(commentEl),this.options.concatMaxReplies&&this.updateToggleAllButton(outerMostParent)}else{switch(this.currentSortKey){case"popularity":case"newest":commentModel.manual?(commentList.append(commentEl),this.jumpToComment(commentModel.comment_id)):commentList.prepend(commentEl);break;case"oldest":commentList.append(commentEl)}commentModel.manual&&this.updateCommentsNumeration()}},removeComment:function(commentId){var self=this,commentModel=this.commentsById[commentId],childComments=this.getChildComments(commentModel.comment_id);if($(childComments).each(function(index,childComment){self.removeComment(childComment.comment_id)}),null!==commentModel.comment_parent){var outermostParent=this.getOutermostParent(commentModel.comment_parent),indexToRemove=outermostParent.childs.indexOf(commentModel.comment_id);outermostParent.childs.splice(indexToRemove,1)}delete this.commentsById[commentId];var commentElements=this.$el.find('li.comment[data-id="'+commentId+'"]');commentElements.parents("li.comment").last();commentElements.remove(),this.options.concatMaxReplies&&this.updateToggleAllButton(outerMostParent),this.showMainCommentingField(!1)},updateToggleAllButton:function(parentEl){var childCommentsEl=parentEl.find(".child-comments"),childComments=childCommentsEl.find(".comment"),toggleAllButton=childCommentsEl.find("li.toggle-all");childComments.removeClass("hidden-reply");var hiddenReplies=childComments.slice(0,-this.options.maxRepliesVisible);if(hiddenReplies.addClass("hidden-reply"),toggleAllButton.find("span.text").text()===this.options.hideRepliesText&&hiddenReplies.addClass("visible"),childComments.length>this.options.maxRepliesVisible){if(!toggleAllButton.length){toggleAllButton=document.createElement("li"),toggleAllButton.className="toggle-all highlight-font-bold no-select";var toggleAllButtonText=document.createElement("span");toggleAllButtonText.className="text no-select";var caret=document.createElement("span");caret.className="caret no-select",toggleAllButton.appendChild(toggleAllButtonText),toggleAllButton.appendChild(caret),childCommentsEl.prepend($(toggleAllButton))}this.setToggleAllButtonText($(toggleAllButton),!1)}else toggleAllButton.remove()},sortComments:function(comments,sortKey){"reply-to"==sortKey?comments.sort(function(commentA,commentB){return(null===commentA.comment_parent?commentA.comment_timestamp:commentA.comment_timestamp+1e5)-(null===commentB.comment_parent?commentB.comment_timestamp:commentB.comment_timestamp+1e5)}):"popularity"==sortKey?comments.sort(function(commentA,commentB){var pointsOfA=commentA.childs.length+3*commentA.comment_upvote_count,pointsOfB=commentB.childs.length+3*commentB.comment_upvote_count;return pointsOfB!=pointsOfA?pointsOfB-pointsOfA:commentB.comment_timestamp-commentA.comment_timestamp}):comments.sort(function(commentA,commentB){return"oldest"==sortKey?commentA.comment_timestamp-commentB.comment_timestamp:commentB.comment_timestamp-commentA.comment_timestamp})},sortAndReArrangeComments:function(sortKey){var self=this,commentList=this.$el.find("#comment-list"),spinner=this.createSpinner();return commentList.parent().addClass("loader"),spinner.hide().stop().appendTo(commentList).fadeIn(300,function(){var mainLevelComments=self.getComments().filter(function(commentModel){return!commentModel.comment_parent});self.sortComments(mainLevelComments,sortKey),$(mainLevelComments).each(function(index,commentModel){var commentEl=commentList.find("> li.comment[data-id="+commentModel.comment_id+"]");commentList.append(commentEl)}),self.updateCommentsNumeration(),spinner.fadeOut(300,function(){commentList.parent().removeClass("loader"),self.$el.removeClass("lock"),spinner.remove()})}),!1},showActiveSort:function(){var activeElements=this.$el.find('.navigation li[data-sort-key="'+this.currentSortKey+'"]');this.$el.find(".navigation li").removeClass("active"),activeElements.addClass("active");var titleEl=this.$el.find(".navigation .title");titleEl.addClass("active"),titleEl.find("header").html(activeElements.first().html()),this.showActiveContainer()},forceResponsive:function(){this.$el.addClass("responsive")},closeDropdowns:function(ev){this.$el.find(".dropdown").hide(),this.$el.find(".dropdown-menu").hide();var like_popovers=this.$el.find(".actions > .popover");like_popovers.length>0&&like_popovers.each(function(){$(this).parent().find(".upvote").first().popover("hide").popover("destroy")})},stopPropagate:function(ev){ev.stopPropagation()},saveEditableContent:function(ev){var el=$(ev.currentTarget);el.data("before",el.html())},checkEditableContentForChange:function(ev){var self=this,el=$(ev.currentTarget);if("paste"===(ev.type||ev.orginalEvent.type).toLowerCase()){ev.preventDefault();var content,clipboard=(ev.originalEvent||ev).clipboardData;"undefined"!=typeof clipboard&&void 0!==clipboard&&null!==clipboard?(content=((ev.originalEvent||ev).clipboardData.getData("text/plain")||"").trim(),""!==content&&(document.execCommand("insertText",!1,content),self.moveCursorToEnd(el))):window.clipboardData&&(content=(window.clipboardData.getData("Text")||"").trim(),""!==content&&(window.getSelection?(window.getSelection().getRangeAt(0).insertNode(document.createTextNode(content)),self.moveCursorToEnd(el)):(document.selection.createRange().pasteHTML(content),self.moveCursorToEnd(el))))}el.data("before")!==el.html()&&(el.data("before",el.html()),el.trigger("change"))},navigationElementClicked:function(ev){var navigationEl=$(ev.currentTarget),sortKey=navigationEl.data().sortKey;this.closeDropdowns();for(var sum=0,i=0;i<this.contentLength.length;i++)sum+=parseInt(this.contentLength[i],10);sum/this.contentLength.length;this.sortAndReArrangeComments(sortKey),this.currentSortKey=sortKey,localStorage.setItem("DP_comments_sort_key",sortKey),this.showActiveSort()},toggleNavigationDropdown:function(ev){ev.stopPropagation(),this.closeDropdowns();var dropdown=$(ev.currentTarget).find("~ .dropdown");dropdown.toggle()},toggleCommentDropdown:function(ev){ev.stopPropagation(),ev.preventDefault(),this.closeDropdowns();var dropdown=$(ev.currentTarget),menu=dropdown.find(".dropdown-menu");return menu.toggle()},keyboardFunctions:function(ev){var self=this,propagate=["textarea","heightfix","input","select","dropdown","button"],focus={class:document.activeElement.className.split(" ")[0],tagname:document.activeElement.tagName.toLocaleLowerCase()},top_navigation=self.$el.find("ul.navigation > .new-comments-navigation > .counter");if($.inArray(focus.class,propagate)===-1&&$.inArray(focus.tagname,propagate)===-1&&top_navigation.hasClass("blinking-animation")){switch(ev.which){case 46:return ev.stopPropagation(),ev.preventDefault(),self.$el.find('.new-comments-navigation a[data-role="next"]').first().trigger("click");case 44:return ev.stopPropagation(),ev.preventDefault(),self.$el.find('.new-comments-navigation a[data-role="previous"]').first().trigger("click");default:return}return!1}},showMainCommentingField:function(ev){var form=this.$el.find(".commenting-field.main");if(ev===!1)return form.show();if(!form.hasClass("expanded")){var mainTextarea=$(ev.currentTarget);mainTextarea.siblings(".control-row").show(),mainTextarea.parent().find(".close").show(),mainTextarea.focus(),form.addClass("expanded")}},hideMainCommentingField:function(ev){var form=this.$el.find(".commenting-field.main");form.find(".textarea").first();if(ev===!1)return form.hide();if(form.hasClass("expanded")){var closeButton=$(ev.currentTarget),mainTextarea=this.$el.find(".commenting-field.main .textarea"),mainControlRow=this.$el.find(".commenting-field.main .control-row");this.clearTextarea(mainTextarea),this.adjustTextareaHeight(mainTextarea,!1),mainControlRow.hide(),closeButton.hide(),mainTextarea.blur(),form.removeClass("expanded")}},increaseTextareaHeight:function(ev){var textarea=$(ev.currentTarget);this.adjustTextareaHeight(textarea,!0)},decreaseTextareaHeight:function(ev){var textarea=$(ev.currentTarget);this.adjustTextareaHeight(textarea,!1)},isIE:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},handleTextareaInput:function(ev){function stopInput(ev){return ev.preventDefault(),!1}var self=this,textarea=$(ev.currentTarget),keycode=(textarea.data("parent")||"new",ev.keyCode?ev.keyCode:ev.which);switch(keycode){case 9:if(self.options.mentions.dropdown_visible)return stopInput(ev);switch(window.jQBrowser.name){case"opera":case"mozilla":case"chrome":ev.stopPropagation(),ev.preventDefault(),document.execCommand("insertHTML",!1,"&#009");break;case"msie":ev.stopPropagation(),ev.preventDefault();var tab=document.createElement("div");tab.innerHTML="&#009";for(var node,lastNode,frag=document.createDocumentFragment();node=tab.firstChild;)lastNode=frag.appendChild(node);var range=window.getSelection().getRangeAt(0);return range.collapse(!1),
range.insertNode(frag),range.collapse(!0),!1;default:console.log("Unsuported browser:",window.jQBrowser.name,"key:",keycode)}break;case 13:if(self.options.mentions.dropdown_visible)return stopInput(ev);switch(window.jQBrowser.name){case"msie":ev.stopPropagation(),ev.preventDefault();var br=document.createElement("div");br.innerHTML="<br /> ";for(var node,lastNode,frag=document.createDocumentFragment();node=br.firstChild;)lastNode=frag.appendChild(node);var range=window.getSelection().getRangeAt(0);return range.collapse(!1),range.insertNode(frag),range.collapse(!0),!1;case"opera":case"chrome":case"mozilla":return ev.stopPropagation(),ev.preventDefault(),document.execCommand("insertHTML",!1,"<br /> "),!1;default:console.log("Unsuported browser:",window.jQBrowser.name,"key:",keycode)}break;case 27:return self.options.mentions.dropdown_visible?stopInput(ev):(ev.preventDefault(),textarea.prev().trigger("click"));case 33:if(self.options.mentions.dropdown_visible)return stopInput(ev);ev.preventDefault(),self.moveCursorToEnd(textarea,!0);break;case 34:if(self.options.mentions.dropdown_visible)return stopInput(ev);ev.preventDefault(),self.moveCursorToEnd(textarea)}},textareaContentChanged:function(ev){var commentId,textarea=$(ev.currentTarget),content=this.getTextareaContent(textarea),saveButton=textarea.siblings(".control-row").find(".save"),commentingField=textarea.parents(".commenting-field").first();textarea[0].scrollHeight>textarea.outerHeight()?commentingField.addClass("scrollable"):commentingField.removeClass("scrollable");var contentOrParentChangedIfEditing=!0;if(commentId=textarea.attr("data-comment")){var parentFromModel,contentChanged=content!==this.commentsById[commentId].comment_content;null!==this.commentsById[commentId].comment_parent&&(parentFromModel=this.commentsById[commentId].comment_parent.toString());var parentChanged=textarea.attr("data-parent")!==parentFromModel;contentOrParentChangedIfEditing=contentChanged||parentChanged}content.length&&contentOrParentChangedIfEditing?saveButton.addClass("enabled"):saveButton.removeClass("enabled")},removeCommentingField:function(ev){var self=this,closeButton=$(ev.currentTarget),id=closeButton.siblings(".textarea").data("parent"),textarea=closeButton.siblings(".textarea");textarea.attr("data-comment")&&closeButton.parents("li.comment").first().removeClass("edit");var commentingField=closeButton.parents(".commenting-field").first();commentingField.remove(),this.showMainCommentingField(!1),this.$el.find("li.comment#"+self.options.commentPrefix+id).removeClass("selected"),null!==this.currentEdited&&(this.currentEdited=null)},putComment:function(ev){var self=this,saveButton=$(ev.currentTarget),commentingField=saveButton.parents(".commenting-field").first(),textarea=commentingField.find(".textarea");saveButton.removeClass("enabled");var commentJSON=$.extend({},self.commentsById[textarea.attr("data-comment")]);$.extend(commentJSON,{comment_parent:textarea.attr("data-parent")||null,comment_raw:self.mentionsParser(self.getTextareaContent(textarea),"write_bbcode"),comment_content:self.mentionsParser(self.getTextareaContent(textarea),"write_html")});var success=function(commentJSON){var commentModel=self.createCommentModel(commentJSON);delete commentModel.childs,self.updateCommentModel(commentModel),commentingField.find(".close").trigger("click"),self.reRenderComment(commentModel.comment_id),self.showMainCommentingField(!1)},error=function(){var message=self.createMessage(self.options.messanger.error);return commentingField.prepend(message),saveButton.addClass("enabled"),setTimeout(function(){message.slideUp()},4e3)};$.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"save_comment",comment_id:commentJSON.comment_id,content:commentJSON.comment_raw}},success:function(responseData){success(commentJSON)},error:function(xhr,status){return error()}})},createComment:function(commentJSON){var commentModel=this.createCommentModel(commentJSON);this.addCommentToDataModel(commentModel),this.addComment(commentModel)},postComment:function(ev){function showError(message_model){if(message_model){var message=self.createMessage(message_model);return commentingField.prepend(message),sendButton.addClass("enabled"),setTimeout(function(){message.slideUp()},4e3)}}var self=this,sendButton=$(ev.currentTarget),commentingField=sendButton.parent().parent().parent(),textarea=commentingField.find(".textarea").first(),anonymousName=commentingField.find("input#anonymous_nick"),userName=self.$el.find("input#nick"),parentID=textarea.data("parent"),parent_comment=self.$el.find("li.comment#"+self.options.commentPrefix+parentID);sendButton.removeClass("enabled");var commentJSON=self.createCommentJSON(textarea);if(anonymousName.length>0){var new_anonim_username=anonymousName.val();localStorage.setItem("DP_comments_anonim_nick",new_anonim_username),self.options.currentUserName!==new_anonim_username&&(self.options.currentUserName=new_anonim_username,commentJSON.author_name=new_anonim_username)}commentJSON.comment_content=this.mentionsParser(commentJSON.comment_raw,"write_html"),commentJSON.comment_raw=this.mentionsParser(commentJSON.comment_raw,"write_bbcode");var comments=self.$el.find('li.comment[data-user="'+userName.val()+'"] .content');if(comments.length){var duplicates=$.map(comments,function(comment){if(comment.innerHTML===commentJSON.comment_content)return comment});if(duplicates.length)return showError({text:"<strong>"+userName.val()+"</strong>, juÅ¼ dodaÅeÅ(aÅ) komentarz o identycznej treÅci...",css:"alert-danger"})}$.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"comment",id:self.options.publication_ID,nick:self.options.currentUserName,reply_to:"undefined"==typeof commentJSON.comment_parent?null:+commentJSON.comment_parent,content:commentJSON.comment_raw}},beforeSend:function(){},success:function(responseData){switch(!0){case"pending"in responseData:commentJSON.message=self.options.messanger.pending,commentJSON.comment_id=responseData.pending.id,commentJSON.comment_created=responseData.pending.date,commentJSON.comment_timestamp=responseData.pending.timestamp,parent_comment.removeClass("selected");var navigation=self.$el.find("ul.navigation");navigation.is(":visible")||navigation.slideDown();break;case"ok"in responseData:default:commentJSON.message=self.options.messanger.success,commentJSON.comment_id=responseData.ok.id,commentJSON.comment_created=responseData.ok.date,commentJSON.comment_timestamp=responseData.ok.timestamp,parent_comment.removeClass("selected");var navigation=self.$el.find("ul.navigation");navigation.is(":visible")||navigation.slideDown()}self.createComment(commentJSON),commentingField.find(".close").trigger("click"),self.jumpToComment(commentJSON.comment_id)},error:function(xhr,status){switch(console.log(xhr),xhr.status){case 403:var message_model={text:xhr.responseJSON.reason,css:"alert-danger"};break;case 401:$(window.Dp.loginModal).loginBox("show");break;case 500:var message_model=self.options.messanger.error}return showError(message_model)},complete:function(){}})},deleteComment:function(ev){var self=this,deleteButton=$(ev.currentTarget),commentEl=deleteButton.parents(".comment").first(),commentJSON=$.extend({},this.commentsById[commentEl.attr("data-id")]),commentId=commentJSON.comment_id,parentId=commentJSON.comment_parent;deleteButton.removeClass("enabled");var success=function(){self.removeComment(commentId),parentId&&self.reRenderCommentActionBar(parentId)},error=function(){deleteButton.addClass("enabled")};$.ajax({url:this.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"delete",comment_id:commentId,userid:this.options.currentUserID}},success:function(response){success()},error:function(xhr,status){error(),console.log("deleteComment: "+xhr+" "+status)}})},moderateComment:function(ev){ev.preventDefault();var moderateButton=$(ev.currentTarget),commentEl=moderateButton.parents(".comment").first(),id=commentEl.data("id");return window.open(window.location.origin+"/Admin/Comments,Edit,"+id+".html","moderate-"+id,"location=1, menubar=0, resizable=1, scrollbars=1, status=1, titlebar=1, toolbar=0, height="+window.innerHeight+", width="+window.innerWidth,!1),!1},selectPrevNewComment:function(ev){ev.preventDefault();var self=this,navigation=$(ev.currentTarget).parent().parent(),new_comments=this.$el.find(".comment.unread");if(0===self.commentsCount.unread.length)return!1;new_comments.removeClass("selected"),self.commentsCount.current>0?self.commentsCount.current--:self.commentsCount.current=new_comments.length-1,self.jumpToComment(new_comments.eq(self.commentsCount.current).data("id"));var detached=self.$el.find(".new-comments-navigation.detached");if(!navigation.hasClass("detached")&&navigation.parent().hasClass("navigation")&&detached.length<1){var cloned=navigation.clone().addClass("detached");new_comments.eq(self.commentsCount.current).find(".comment-wrapper").first().append(cloned)}else new_comments.eq(self.commentsCount.current).find(".comment-wrapper").first().append(detached.detach());return!1},selectNextNewComment:function(ev){ev.preventDefault();var self=this,target=$(ev.currentTarget),navigation=target.hasClass("new-comments-navigation")?target:target.parent().parent(),new_comments=this.$el.find(".comment.unread");if(0===self.commentsCount.unread.length)return!1;new_comments.removeClass("selected"),self.commentsCount.current<new_comments.length-1?self.commentsCount.current++:self.commentsCount.current=0,self.jumpToComment(new_comments.eq(self.commentsCount.current).data("id"));var detached=self.$el.find(".new-comments-navigation.detached");if(!navigation.hasClass("detached")&&navigation.parent().hasClass("navigation")&&detached.length<1){var cloned=navigation.clone().addClass("detached");new_comments.eq(self.commentsCount.current).find(".comment-wrapper").first().append(cloned)}else new_comments.eq(self.commentsCount.current).find(".comment-wrapper").first().append(detached.detach());return!1},upvoteComment:function(ev){ev.preventDefault();var self=this,button=$(ev.currentTarget),commentEl=button.parents("li.comment").first(),commentModel=this.commentsById[commentEl.data("id")];if(!this.options.currentUserIsLoggedIn||commentModel.comment_created_by_current_user)return!1;var newUpvoteCount,previousUpvoteCount=commentModel.comment_upvote_count;newUpvoteCount=commentModel.user_has_upvoted?previousUpvoteCount-1:previousUpvoteCount+1,commentModel.user_has_upvoted=!commentModel.user_has_upvoted,commentModel.comment_upvote_count=newUpvoteCount,this.reRenderUpvotes(commentModel.comment_id);var commentJSON=$.extend({},commentModel),success=function(commentJSON){var commentModel=self.createCommentModel(commentJSON);self.updateCommentModel(commentModel),self.reRenderUpvotes(commentModel.comment_id);var popover=commentEl.find(".popover");popover.hide().popover("hide").popover("destroy").remove()},error=function(){commentModel.user_has_upvoted=!commentModel.user_has_upvoted,commentModel.comment_upvote_count=previousUpvoteCount,self.reRenderUpvotes(commentModel.comment_id)};return $.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"vote",comment_id:commentModel.comment_id,user_id:self.options.currentUserID}},success:function(responseData){success(commentJSON)},error:function(xhr,status){error(),console.log("upvoteComment: "+xhr+" "+status)}}),!1},showlikes:function(ev){function calculateDateDiff(startDate,endDate){return null!==startDate&&endDate.getTime()-startDate.getTime()}if(!(0===$(ev.currentTarget).find(".upvote-count").text()||$(ev.currentTarget).siblings(".popover").length>0)){var self=this,button=$(ev.currentTarget),commentEl=button.parents("li.comment").first(),use_session=!0,ttl=5e3,now=new Date,saved_likes_date=sessionStorage.getItem(self.options.commentPrefix+commentEl.data("id")+"_likes_date"),saved_likes=sessionStorage.getItem(self.options.commentPrefix+commentEl.data("id")+"_likes"),time_difference=calculateDateDiff(new Date(saved_likes_date),now);return null===saved_likes||!use_session||null===saved_likes_date||time_difference===!1||time_difference>ttl?($.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"wholikecomment"},get:{id:commentEl.data("id")}},success:function(responseData){return sessionStorage.setItem(self.options.commentPrefix+commentEl.data("id")+"_likes_date",new Date),sessionStorage.setItem(self.options.commentPrefix+commentEl.data("id")+"_likes",JSON.stringify(responseData)),self.renderLikes(responseData,button)},error:function(xhr,status){console.log("likes: "+xhr+" "+status),console.log(xhr)}}),!1):self.renderLikes(JSON.parse(saved_likes),button)}},renderLikes:function(responseData,button,direction,max_likes){if(!responseData||0===responseData.length||0===button.length)return!1;var self=this;self.closeDropdowns();var likes=document.createElement("div");likes.className="likes-list",likes.innerHTML="";for(var i=0,len=responseData.length;i<len;i++)likes.innerHTML+='<a href="'+self.options.mentions.jump_URL+responseData[i].id+'" class="liked-by"><img class="avatar" src="'+responseData[i].avatar+'">'+responseData[i].name+"</li>";var title=self.numeral(responseData.length,["osÃ³b lubi ten komentarz","osoba lubi ten komentarz","osoby lubiÄ ten komentarz"]);button.popover({animation:!0,html:!0,placement:"top",title:title,trigger:"manual",content:likes.outerHTML,delay:{show:100,hide:200},container:button.parent()}).popover("show").siblings(".popover").find(".popover-content").perfectScrollbar({suppressScrollX:!0,wheelSpeed:.5}).focus()},reportComment:function(ev){function makeRequest(){$.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:"report",id:commentJSON.comment_id}},success:function(responseData){commentModel.message=self.options.messanger.report.success,self.updateCommentModel(commentModel),self.reRenderComment(commentModel.comment_id)},error:function(xhr,status){commentModel.message=self.options.messanger.report.error,self.updateCommentModel(commentModel),self.reRenderComment(commentModel.comment_id),console.log("reportComment: "+xhr+" "+status)}})}ev.preventDefault();var self=this,commentEl=$(ev.currentTarget).parents("li.comment").first(),commentModel=this.commentsById[commentEl.data("id")];if(!this.options.currentUserIsLoggedIn||commentModel.comment_created_by_current_user)return!1;var commentJSON=$.extend({},commentModel);Dp.confirm({title:"PotwierdÅº swÃ³j wybÃ³r",question:"Czy na pewno chcesz zgÅosiÄ do moderacji komenatrz uÅ¼ytkownika <b>"+commentModel.author_name+"</b>?",confirm:"ZgÅoÅ",cancel:"Anuluj"}).then(function(confirmed){return!!confirmed&&makeRequest()}).catch(function(error){return console.log(error),!1})},ignoreUser:function(ev){ev.preventDefault();var self=this,commentEl=$(ev.currentTarget).parents("li.comment").first(),commentModel=this.commentsById[commentEl.data("id")];if(!this.options.currentUserIsLoggedIn||commentModel.comment_created_by_current_user)return!1;var ajax_action=($.extend({},commentModel),commentModel.author_ignored?"unIgnoreUser":"ignoreUser"),action=!commentModel.author_ignored;makeRequest=function(){$.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{put:{what:ajax_action,id:commentModel.author_id}},success:function(responseData){var ignored_comments=[];$.each(self.commentsById,function(index,value){this.author_id===commentModel.author_id&&(this.comment_id===commentModel.comment_id&&(this.message=commentModel.author_ignored?self.options.messanger.unignore.success:self.options.messanger.ignore.success),this.author_ignored=action,ignored_comments.push(this.comment_id),self.updateCommentModel(this),self.reRenderComment(this.comment_id))})},error:function(xhr,status){return commentModel.message=commentModel.author_ignored?self.options.messanger.unignore.error:self.options.messanger.ignore.error,self.updateCommentModel(commentModel),self.reRenderComment(commentModel.comment_id)}})},Dp.confirm({title:"PotwierdÅº swÃ³j wybÃ³r",question:"Czy na pewno chcesz "+("ignoreUser"==ajax_action?"ukryÄ":"widzieÄ")+" wszystkie komentarze uÅ¼ytkownika <b>"+commentModel.author_name+"</b>?",confirm:"ignoreUser"==ajax_action?"Ukryj wszystkie":"PokaÅ¼ wszystkie",cancel:"Anuluj"}).then(function(confirmed){return!!confirmed&&makeRequest()}).catch(function(error){return console.log(error),!1})},toggleReplies:function(ev){var el=$(ev.currentTarget);el.siblings(".hidden-reply").toggleClass("visible"),this.setToggleAllButtonText(el,!0)},updateCommentsNumeration:function(){for(var self=this,comments=self.$el.find("a.comment-number"),id=1,i=0,len=comments.length;i<len;i++)$(comments[i]).html("#"+id++).show()},jumpToCommentNumber:function(ev){return ev.preventDefault(),this.jumpToComment($(ev.currentTarget).parent().parent().data("id")),!1},checkCommentSelect:function(ev){var self=this,comment=$(ev.currentTarget).parents(".comment").first(),reply_btn=comment.find(".actions > .reply").first(),selected=self.getSelection();return 0===selected.length?(self.replyByQuote=!1,reply_btn.get(0).innerHTML=self.options.specialCharacters.nbsp+self.options.replyText,void sessionStorage.removeItem(self.options.commentPrefix+comment.data("id")+"_quote")):(self.replyByQuote=!0,reply_btn.get(0).innerHTML=self.options.specialCharacters.nbsp+self.options.replyByQuoteText,sessionStorage.setItem(self.options.commentPrefix+comment.data("id")+"_quote",selected),void 0)},getSelection:function(){var text="";return window.getSelection?text=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(text=document.selection.createRange().text),text},replyButtonClicked:function(ev){var self=this,replyButton=$(ev.currentTarget),comment=replyButton.parent().parent().parent().parent(),parentId=comment.data("id"),parentModel=this.commentsById[parentId],outermostParent=comment.parent().parent(),comment_textarea=comment.find(".textarea").first(),quotedUser=comment.data("user"),comment_is_reply=comment.parent().hasClass("child-comments"),replyField=this.$el.find(".child-comments > .commenting-field"),previousParentId=null;if(replyField.length&&(replyField.remove(),previousParentId=replyField.find(".textarea").attr("data-parent")),this.hideMainCommentingField(!1),previousParentId!==parentId){comment.addClass("selected");var new_replyField=this.createCommentingFieldElement(parentId);this.options.currentUserIsLoggedIn&&new_replyField.addClass("replying"),comment_textarea=new_replyField.find(".textarea").first();var local_storage=null,quote=sessionStorage.getItem(this.options.commentPrefix+parentId+"_quote");null===quote&&null!==local_storage&&local_storage.length>0?(console.log("restoring reply text ("+parentId+"):",local_storage),comment_textarea.mentionsInput("setValue",local_storage),sessionStorage.removeItem(self.options.commentPrefix+parentId)):(parentModel.author_logged_in?comment_textarea.mentionsInput("setValue",{name:quotedUser,uid:this.findMentionedUser(quotedUser).uid}):comment_textarea.get(0).innerHTML="<b>"+this.options.mentions.trigger+quotedUser+"</b>",comment_textarea.get(0).innerHTML+=": ",parentId&&this.replyByQuote&&null!==quote&&(comment_textarea.get(0).innerHTML+='<i>"'+quote+'"</i><br><br> ',sessionStorage.removeItem(this.options.commentPrefix+parentId+"_quote"),this.replyByQuote=!1)),comment_is_reply?outermostParent.find(".child-comments > li.comment#"+this.options.commentPrefix+parentId).after(new_replyField):comment.find(".child-comments").prepend(new_replyField),this.moveCursorToEnd(comment_textarea),this.scrollToElement(new_replyField)}},editButtonClicked:function(ev){ev.preventDefault();var editButton=$(ev.currentTarget),commentEl=editButton.parents("li.comment").first(),commentModel=this.commentsById[commentEl.data("id")];commentEl.addClass("edit"),this.hideMainCommentingField(!1);var editField=this.createCommentingFieldElement(commentModel.comment_parent,commentModel.comment_id,commentModel.author_avatar);commentEl.find(".comment-wrapper").first().append(editField);var textarea=editField.find(".textarea");return textarea.attr("data-comment",commentModel.comment_id),textarea.append(this.mentionsParser(commentModel.comment_raw,"read_bbcode")),this.moveCursorToEnd(textarea),null!=this.currentEdited&&(this.$el.find("#"+this.options.commentPrefix+this.currentEdited+" .close").trigger("click"),this.currentEdited=null),this.currentEdited=commentModel.comment_id,!1},createHTML:function(){var mainCommentingField=this.createCommentingFieldElement();mainCommentingField.addClass("main"),this.$el.append(mainCommentingField);var mainControlRow=mainCommentingField.find(".control-row");mainControlRow.hide(),mainCommentingField.find(".close").hide(),this.options.enableNavigation&&(this.$el.append(this.createNavigationElement()),this.showActiveSort());var spinner=this.createSpinner();this.$el.append(spinner);var commentsContainer=document.createElement("div");commentsContainer.className="data-container",commentsContainer.setAttribute("data-container","comments"),commentsContainer=$(commentsContainer),this.$el.append(commentsContainer);var noComments=document.createElement("div");noComments.className="no-comments no-data",noComments.innerHTML=this.options.noCommentsText,noComments=$(noComments);var noCommentsIcon=document.createElement("i");noCommentsIcon.className="icon-comment",noCommentsIcon=$(noCommentsIcon),noComments.prepend(noCommentsIcon),commentsContainer.append(noComments)},createProfilePictureElement:function(src,author){var profilePicture=document.createElement("img");return profilePicture.src=src?src:this.options.defaultAvatar,profilePicture.className="profile-picture no-select",author&&(profilePicture.alt=author.alt,profilePicture.title=author.title),$(profilePicture)},mentionsParser:function(string,action){var self=this,regex={new:/\<strong\sdata\-mention\=\"(\d+)\"\>\@(.*?)\<\/strong\>/g,bbcode:/\@\[mention\suser\=(\d+)\](.*?)\[\/mention\]/g,br:/\<br[^>]*?\>/gi,html:""};switch(action||(action="write_html"),action){case"read_html":return string=string.replace(self.options.mentions.html_regex,"$3");case"write_html":return string.replace(regex.new,'<a href="'+self.options.mentions.jump_URL+'$1">'+self.options.mentions.trigger+"$2</a>");case"read_bbcode":return string.replace(regex.bbcode,'<strong data-mention="$1">'+self.options.mentions.trigger+"$2</strong>");case"write_bbcode":var new_string=string.replace(regex.br,"\n");return new_string.replace(regex.new,self.options.mentions.trigger+"[mention user=$1]$2[/mention]");default:return}},findMentionedUser:function(username){var self=this;username=username.trim();for(var j=0,len=self.options.mentions.in_publication.length;j<len;j++)if(self.options.mentions.in_publication[j].name===username)return self.options.mentions.in_publication[j];return{name:username,value:username,uid:0,image:null}},attachMentionsSystem:function(element){var self=this;return element.mentionsInput({source:self.options.mentions.in_publication,suffix:self.options.mentions.suffix,trigger:self.options.mentions.trigger,widget:"editablecomplete",showAtCaret:!0,autocomplete:{delay:0,autoFocus:!0,minLength:self.options.mentions.min_chars,appendTo:"#komentarze",open:function(event,ui){return self.options.mentions.dropdown_visible=!0},close:function(event,ui){return setTimeout(function(){self.options.mentions.dropdown_visible=!1},200)}}})},createCommentingFieldElement:function(parentId,existingCommentId,src){var self=this,profilePictureSRC=src||!1,commentingField=document.createElement("div");commentingField.className="commenting-field",commentingField=$(commentingField);var profilePicture=this.createProfilePictureElement(profilePictureSRC?profilePictureSRC:this.options.profilePictureURL);if(profilePicture.addClass("by-current-user"),!this.options.currentUserIsLoggedIn){var anonymousWrapper=document.createElement("div");anonymousWrapper.className="anonymous-nick-wrapper",anonymousWrapper=$(anonymousWrapper);var saved_anonim_nick=localStorage.getItem("DP_comments_anonim_nick"),anonymousNick=document.createElement("input");anonymousNick.type="text",anonymousNick.value=null===saved_anonim_nick?"Anonim":saved_anonim_nick,anonymousNick.id="anonymous_nick",anonymousNick.name="anonymous_nick",anonymousNick.placeholder=this.options.yourNicknameText,anonymousNick.className="visible-input",anonymousNick=$(anonymousNick);var loginLink=document.createElement("a");loginLink.className="button as-link normal",loginLink.href="#",loginLink.text=this.options.loginText,loginLink.setAttribute("data-action","loginbox"),loginLink.setAttribute("data-toggle","tooltip"),loginLink.title=this.options.titles.clickToLogIn,loginLink.onclick=function(ev){return ev.preventDefault(),$(window.Dp.loginModal).loginBox("show"),!1},loginLink=$(loginLink),anonymousWrapper.append(anonymousNick).append(loginLink).appendTo(commentingField)}var textareaWrapper=document.createElement("div");textareaWrapper.className="textarea-wrapper",textareaWrapper=$(textareaWrapper);var controlRow=document.createElement("div");controlRow.className="control-row",controlRow=$(controlRow);var textarea=document.createElement("div");textarea.className="textarea",textarea.setAttribute("data-placeholder",this.options.textareaPlaceholderText),textarea.setAttribute("contentEditable",!0),textarea.setAttribute("data-parent",parentId),textarea=$(textarea),self.options.mentions.in_publication.length<1?$.ajax({url:self.options.provider_URL,type:"POST",dataType:"json",data:{get:{what:"mentions",id:self.options.publication_ID}},success:function(responseData){responseData.forEach(function(item){self.options.mentions.in_publication.push({value:item.name.replace(" (niezarejestrowany)",""),name:item.name.replace(" (niezarejestrowany)",""),uid:item.id,image:item.avatar})}),self.attachMentionsSystem(textarea)},error:function(xhr,status){console.log("Mentions: "+xhr+" "+status)}}):self.attachMentionsSystem(textarea),this.adjustTextareaHeight(textarea,!1);var closeButton=document.createElement("span");if(closeButton.className="close icon-cancel-circle",closeButton.title=this.options.titles.clickToClose,closeButton.setAttribute("data-toggle","tooltip"),closeButton=$(closeButton),!this.options.isMobile){var publish_info_icon=document.createElement("i");publish_info_icon.className="icon-info-circle",publish_info_icon=$(publish_info_icon);var publish_info=document.createElement("div");publish_info.className="notice no-select",publish_info.innerHTML='<span class="notice-content no-select no-mobile">'+this.options.specialCharacters.nbsp+'Prosimy o wypowiadanie siÄ w komentarzach w sposÃ³b uprzejmy, z poszanowaniem innych uczestnikÃ³w dyskusji i ich odrÄbnych stanowisk. KomentujÄc akceptujesz <a href="'+window.location.origin+'/Regulamin.html" target="_blank">Regulamin publikowania komentarzy</a>.</span>',publish_info=$(publish_info),publish_info.prepend(publish_info_icon)}var saveButton=document.createElement("span");return saveButton.className="save highlight-background"+(existingCommentId?" update":" send"),saveButton.title=this.options.titles.clickToSave,saveButton.innerHTML=existingCommentId?this.options.saveText:this.options.sendText,saveButton=$(saveButton),this.options.isMobile||controlRow.prepend(publish_info),controlRow.prepend(saveButton),textareaWrapper.append(closeButton).append(textarea).append(controlRow),commentingField.append(profilePicture).append(textareaWrapper),commentingField},createNavigationElement:function(){var self=this,navigationEl=document.createElement("ul");navigationEl.className="navigation",navigationEl=$(navigationEl);var navigationWrapper=document.createElement("div");navigationWrapper.className="navigation-wrapper",navigationWrapper=$(navigationWrapper),navigationEl.append(navigationWrapper);var newest=document.createElement("li");newest.innerHTML=this.options.newestText,newest.setAttribute("data-sort-key","newest"),newest.setAttribute("data-container-name","comments"),newest=$(newest);var oldest=document.createElement("li");oldest.innerHTML=this.options.oldestText,oldest.setAttribute("data-sort-key","oldest"),oldest.setAttribute("data-container-name","comments"),oldest=$(oldest);var popular=document.createElement("li");if(popular.innerHTML=this.options.popularText,popular.setAttribute("data-sort-key","popularity"),popular.setAttribute("data-container-name","comments"),popular=$(popular),this.options.enableNewCommentsNavigation){var newComments=document.createElement("li");newComments.className="new-comments-navigation",newComments.setAttribute("data-toggle","tooltip"),newComments.title="Kliknij, aby przejÅÄ do nowych komentarzy",newComments=$(newComments);var newCommentsCounter=document.createElement("div");newCommentsCounter.className="counter",newCommentsCounter.innerHTML=this.numeral(0,["nowych","nowy","nowe"]),newCommentsCounter=$(newCommentsCounter);var newCommentsNav=document.createElement("div");newCommentsNav.className="navigation-wrapper",newCommentsNav=$(newCommentsNav);var navUp=document.createElement("a");navUp.href="#",navUp.className="icon-up",navUp.setAttribute("data-role","previous"),navUp.setAttribute("data-toggle","tooltip"),navUp.title="Poprzedni nowy komentarz",navUp=$(navUp);var navDown=document.createElement("a");navDown.href="#",navDown.className="icon-down",navDown.setAttribute("data-role","next"),navDown.setAttribute("data-toggle","tooltip"),navDown.title="NastÄpny nowy komentarz",navDown=$(navDown),newComments.append(newCommentsCounter),newCommentsNav.append(navUp).append(navDown).appendTo(newComments),$(document).keypress(function(event){return self.keyboardFunctions(event)})}var dropdownNavigationWrapper=document.createElement("div");dropdownNavigationWrapper.className="navigation-wrapper responsive",dropdownNavigationWrapper=$(dropdownNavigationWrapper);var dropdownNavigation=document.createElement("ul");dropdownNavigation.className="dropdown",dropdownNavigation=$(dropdownNavigation);var dropdownTitle=document.createElement("li");dropdownTitle.className="title",dropdownTitle=$(dropdownTitle);var dropdownTitleHeader=document.createElement("header");return dropdownTitleHeader=$(dropdownTitleHeader),dropdownTitle.append(dropdownTitleHeader),dropdownNavigationWrapper.append(dropdownTitle),dropdownNavigationWrapper.append(dropdownNavigation),navigationEl.append(dropdownNavigationWrapper),navigationWrapper.append(newest).append(oldest),dropdownNavigation.append(newest.clone()).append(oldest.clone()),(this.options.enableReplying||this.options.enableUpvoting)&&(navigationWrapper.append(popular),dropdownNavigation.append(popular.clone())),this.options.enableNewCommentsNavigation&&(this.options.forceResponsive||this.options.isMobile?newComments.prependTo(navigationWrapper.parent()):navigationWrapper.append(newComments)),this.options.forceResponsive&&this.forceResponsive(),navigationEl},createSpinner:function(){var spinner=document.createElement("div");return spinner.className="spinner spin-animation",spinner.innerHTML='<i class="icon-cog"></i>',this.$el.addClass("lock"),$(spinner)},createCommentElement:function(commentModel){var commentEl=document.createElement("li");commentEl.className="comment"+(commentModel.comment_created_by_current_user?" by-current-user":"")+("comment_unread"in commentModel&&commentModel.comment_unread?" unread dim-selected":""),commentEl.id=this.options.commentPrefix+commentModel.comment_id,commentEl.setAttribute("data-id",commentModel.comment_id),commentEl.setAttribute("data-user",commentModel.author_name),null!==commentModel.comment_parent&&commentEl.setAttribute("data-reply-to",commentModel.comment_parent),commentEl=$(commentEl),"comment_unread"in commentModel&&commentModel.comment_unread&&this.commentsCount.unread.push(commentModel.comment_id);var childComments=document.createElement("ul");childComments.className="child-comments",childComments=$(childComments);var commentWrapper=this.createCommentWrapperElement(commentModel);if(commentEl.append(commentWrapper),this.options.shortenLongComments){var newLines=(commentModel.comment_content.match(/\<br\s?\/\>/gm)||[]).length,length=commentModel.comment_content.length;
if(length>this.options.shortenAfter||newLines>this.options.shortenAfterNewLines){var readMoreIcon=document.createElement("i");readMoreIcon.className="icon-down-open locked",readMoreIcon=$(readMoreIcon);var readMoreBtn=document.createElement("a");readMoreBtn.href="#",readMoreBtn.className="read-more",readMoreBtn.innerHTML=this.options.showMoreText+this.options.specialCharacters.nbsp,readMoreBtn=$(readMoreBtn),readMoreBtn.insertBefore(commentWrapper.find("> .wrapper .actions")).append(readMoreIcon),commentWrapper.find("> .wrapper .content").addClass("concated")}}return null===commentModel.comment_parent&&commentEl.append(childComments),commentEl},createCommentWrapperElement:function(commentModel){var commentWrapper=document.createElement("div");commentWrapper.className="comment-wrapper",commentWrapper=$(commentWrapper);var profilePictureAuthor={alt:commentModel.author_logged_in?commentModel.author_name:commentModel.author_name+" "+this.options.notloggedinText,title:commentModel.author_logged_in?this.options.goToProfileText+" "+commentModel.author_name:commentModel.author_name+" "+this.options.notloggedinText},profilePicture=this.createProfilePictureElement(commentModel.author_avatar,profilePictureAuthor);if(commentModel.author_url){var profilePictureLink=document.createElement("a");profilePictureLink.href=commentModel.author_url,profilePictureLink.className="profile-picture no-select",profilePictureLink.setAttribute("data-user-id",commentModel.author_id),profilePictureLink.setAttribute("data-user",commentModel.author_name),profilePictureLink.innerHTML=profilePicture.get(0).outerHTML,profilePictureLink=$(profilePictureLink),profilePicture=profilePictureLink}var time=document.createElement("time");if(time.setAttribute("data-original",commentModel.comment_created),commentModel.hasOwnProperty("comment_modified")&&time.setAttribute("data-modified",commentModel.comment_modified),time.innerHTML=commentModel.comment_created,time=$(time),this.commentsCount.total++,!this.options.isMobile){var commentNumber=document.createElement("a");commentNumber.className="comment-number no-select",commentNumber.href="#"+this.options.commentPrefix+ +commentModel.comment_id,commentNumber.title="Kliknij prawym przyciskiem, aby skopiowaÄ adres URL do tego komentarza.",commentNumber.setAttribute("data-toggle","tooltip"),commentNumber.innerHTML="#"+this.commentsCount.total,commentNumber.style.display="none",commentNumber=$(commentNumber)}var nameText=commentModel.author_name;commentModel.author_logged_in||(nameText+=this.options.isMobile?"":this.options.specialCharacters.nbsp+"<small>"+this.options.notloggedinText+"</small>");var name=document.createElement("div");if(name.className="name no-select",name=$(name),commentModel.hasOwnProperty("author_url")){var link=document.createElement("a");link.href=commentModel.author_url}else var link=document.createElement("span");if(link.innerHTML=nameText,link.title=commentModel.user_agent,link.className="user-agent no-select",link=$(link),name.html(link),commentModel.hasOwnProperty("author_role")&&!this.options.isMobile&&(name.get(0).innerHTML+=commentModel.author_role),"author_badges_url"in commentModel&&null!=commentModel.author_badges_url&&1!==commentModel.author_id){var badges_html='<div class="no-select"><i class="icon-award-1" style="font-size:20px;"></i><span>'+commentModel.author_badges.length+"</span></div>",badges=document.createElement("a");if(badges.href=commentModel.author_badges_url||"#",badges.className="badges-list no-select",!this.options.isMobile)for(var i=0,len=commentModel.author_badges.length;i<len;i++)i<this.options.maxUserBadgesToRender&&(badges_html+='<img src="'+(window.location.origin.indexOf("//ng.")>-1?window.location.origin.replace("//ng.","//ngcdn."):"//static.dpcdn.pl")+"/assets/img/_global/odznaki/"+commentModel.author_badges[i].icon+'" class="user-badge" data-trigger="hover" data-placement="top" title="'+commentModel.author_badges[i].name+'" alt="'+commentModel.author_badges[i].name+'" data-original-title="'+commentModel.author_badges[i].name+'" style="display: none;">');badges.innerHTML=badges_html,badges=$(badges).appendTo(name)}if(null!==commentModel.comment_parent&&!this.options.isMobile){var parent=this.commentsById[commentModel.comment_parent];if("undefined"!=typeof parent&&null!==parent.comment_parent){var replyTo=document.createElement("a");replyTo.className="reply-to no-select",replyTo.setAttribute("data-target",commentModel.comment_parent),replyTo.href="#"+this.options.commentPrefix+parent.comment_id,replyTo.innerHTML=parent.author_name+(parent.author_logged_in?"":this.options.specialCharacters.nbsp+this.options.notloggedinText),replyTo=$(replyTo);var replyIcon=document.createElement("i");replyIcon.className="icon-forward",replyIcon=$(replyIcon),replyTo.prepend(replyIcon),name.append(replyTo)}}var wrapper=document.createElement("div");wrapper.className="wrapper",wrapper=$(wrapper);var content=document.createElement("div");content.className="content",content.innerHTML=commentModel.alert?'<div class="comment-alert">Komentarz pojawi siÄ po 12 godzinach od opublikowania materiaÅu.</div>':this.linkify(commentModel.comment_content),content=$(content);var message="";if("message"in commentModel&&commentModel.message&&(message=this.createMessage(commentModel.message),setTimeout(function(){message.slideUp()},4e3)),commentModel.hasOwnProperty("comment_modified")&&commentModel.comment_modified!==commentModel.comment_created){var edited=document.createElement("time");edited.className="edited no-select",edited.setAttribute("data-original",commentModel.comment_modified),edited.innerHTML="<br/>"+this.options.editedText+this.options.specialCharacters.nbsp+commentModel.comment_modified,edited=$(edited),content.append(edited)}var actions=document.createElement("span");actions.className="actions no-select",actions=$(actions);var separator=document.createElement("span");separator.className="separator",separator.innerHTML=this.options.specialCharacters.dot,separator=$(separator);var reply=document.createElement("button");reply.className="do reply icon-reply",reply.type="button",reply.title=this.options.titles.clickToReply,reply.innerHTML=this.options.specialCharacters.nbsp+this.options.replyText,reply=$(reply);var upvoteIcon=document.createElement("i");upvoteIcon.className="icon-thumbs-up-1",upvoteIcon=$(upvoteIcon);var upvotes=this.createUpvoteElement(commentModel);if(this.options.enableReplying&&actions.append(reply).append(separator.clone()),this.options.enableUpvoting&&actions.append(upvotes).append(separator.clone()),this.options.isMobile){var mobile_menu=document.createElement("div");mobile_menu.className="btn-group no-select",mobile_menu=$(mobile_menu);var mobile_menu_toggle=document.createElement("a");mobile_menu_toggle.href="#",mobile_menu_toggle.className="btn dropdown-toggle",mobile_menu_toggle.setAttribute("data-toggle","dropdown"),mobile_menu_toggle.innerHTML='<i class="icon-up-open"></i>',mobile_menu_toggle=$(mobile_menu_toggle);var mobile_menu_ul=document.createElement("ul");if(mobile_menu_ul.className="dropdown-menu",mobile_menu_ul=$(mobile_menu_ul),this.options.enableEditing&&commentModel.comment_editable&&commentModel.comment_created_by_current_user&&!commentModel.alert){var editButton=document.createElement("button");editButton.className="do edit hover icon-edit",editButton.innerHTML=this.options.specialCharacters.nbsp+this.options.specialCharacters.nbsp+this.options.editText,editButton=$(editButton),mobile_menu_ul.append(editButton)}if(!commentModel.comment_created_by_current_user&&this.options.currentUserIsLoggedIn){var reportButton=document.createElement("button");if(reportButton.className="do report hover icon-attention no-select",reportButton.innerHTML=this.options.specialCharacters.nbsp+this.options.specialCharacters.nbsp+this.options.toModerateText,reportButton=$(reportButton),mobile_menu_ul.append(reportButton),commentModel.author_logged_in){var ignoreButton=document.createElement("button");ignoreButton.className="do ignore hover icon-minus-circle no-select",ignoreButton.innerHTML=this.options.specialCharacters.nbsp+this.options.specialCharacters.nbsp+(commentModel.author_ignored?this.options.unIgnoreText:this.options.ignoreText),ignoreButton=$(ignoreButton),mobile_menu_ul.append(ignoreButton)}if(this.options.currentUserIsAdmin){var moderateButton=document.createElement("button");moderateButton.className="do moderate hover icon-edit",moderateButton.innerHTML=this.options.specialCharacters.nbsp+this.options.specialCharacters.nbsp+this.options.moderateText,moderateButton.setAttribute("data-id",commentModel.comment_id),moderateButton=$(moderateButton),mobile_menu_ul.append(moderateButton)}}this.options.currentUserIsLoggedIn&&mobile_menu.append(mobile_menu_toggle).append(mobile_menu_ul)}else{if(this.options.enableEditing&&commentModel.comment_editable&&commentModel.comment_created_by_current_user&&!commentModel.alert){var editButton=document.createElement("button");editButton.className="do edit hover icon-edit",editButton.innerHTML=this.options.specialCharacters.nbsp+this.options.editText,editButton=$(editButton),actions.append(editButton).append(separator.clone())}if(!commentModel.comment_created_by_current_user&&this.options.currentUserIsLoggedIn){var reportButton=document.createElement("button");if(reportButton.className="do report hover icon-attention no-select",reportButton.innerHTML=this.options.specialCharacters.nbsp+this.options.toModerateText,reportButton=$(reportButton),actions.append(reportButton).append(separator.clone()),commentModel.author_logged_in){var ignoreButton=document.createElement("button");ignoreButton.className="do ignore hover icon-minus-circle no-select",ignoreButton.onclick=Dp.confirm,ignoreButton.innerHTML=this.options.specialCharacters.nbsp+(commentModel.author_ignored?this.options.unIgnoreText:this.options.ignoreText),ignoreButton=$(ignoreButton),actions.append(ignoreButton).append(separator.clone())}if(this.options.currentUserIsAdmin){var moderateButton=document.createElement("button");moderateButton.className="do moderate hover icon-edit",moderateButton.innerHTML=this.options.specialCharacters.nbsp+this.options.moderateText,moderateButton.setAttribute("data-id",commentModel.comment_id),moderateButton=$(moderateButton),actions.append(moderateButton)}}}if(wrapper.append(message).append(content).append(actions),this.options.isMobile&&wrapper.append(mobile_menu),commentWrapper.append(profilePicture),this.options.isMobile||commentWrapper.append(commentNumber),commentWrapper.append(time).append(name).append(wrapper),commentModel.author_ignored){commentWrapper.addClass("ignored");var ignored_info=document.createElement("i");ignored_info.className="ignored-info",ignored_info.innerHTML=this.options.specialCharacters.nbsp+"TreÅÄ komentarza zostaÅa ukryta",ignored_info=$(ignored_info);var show_ignored=document.createElement("a");show_ignored.className="show-ignored",show_ignored.href="#",show_ignored.innerHTML=this.options.specialCharacters.nbsp+"[pokaÅ¼]",show_ignored=$(show_ignored);var ignoredIcon=document.createElement("i");ignoredIcon.className="icon-info-circle",ignoredIcon=$(ignoredIcon),ignored_info.prepend(ignoredIcon).append(show_ignored).insertBefore(wrapper)}return commentWrapper},createMessage:function(comment_message){var message=document.createElement("div");message.className="comment-message alert no-select "+comment_message.css,message=$(message);var close_message_btn=document.createElement("button");return close_message_btn.type="button",close_message_btn.style.cssFloat="right",close_message_btn.className="icon-cancel color-inherit cursor-pointer",close_message_btn.setAttribute("data-dismiss","alert"),close_message_btn=$(close_message_btn),message.append(close_message_btn).append(comment_message.text),message},renderMessage:function(element,message){if(!element||!message)return!1;if(element.find(".control-row").length>0){var wrapper=element.find(".control-row");return wrapper.prepend(this.createMessage(message))}},createUpvoteElement:function(commentModel){var upvoteIcon=document.createElement("i");upvoteIcon.className="locked"+(commentModel.user_has_upvoted?" icon-thumbs-up-1":" icon-thumbs-up"),upvoteIcon=$(upvoteIcon);var upvoteCount=document.createElement("span");upvoteCount.className="upvote-count locked",upvoteCount.innerHTML=commentModel.comment_upvote_count,upvoteCount=$(upvoteCount);var upvoteEl=document.createElement("button");return upvoteEl.className="do upvote"+(commentModel.user_has_upvoted?" highlight-font":"")+(this.options.currentUserIsLoggedIn?"":" deny-cursor"),upvoteEl.title=this.numeral(commentModel.comment_upvote_count,["osÃ³b lubi ten komentarz","osoba lubi ten komentarz","osoby lubiÄ ten komentarz"],!1,!0),upvoteEl=$(upvoteEl),upvoteEl.append(upvoteCount).append(upvoteIcon),upvoteEl},reRenderComment:function(id){var commentModel=this.commentsById[id],commentElements=this.$el.find('li.comment[data-id="'+commentModel.comment_id+'"]'),self=this;commentElements.each(function(index,commentEl){var commentWrapper=self.createCommentWrapperElement(commentModel);$(commentEl).find(".comment-wrapper").first().replaceWith(commentWrapper)})},reRenderCommentActionBar:function(id){var commentModel=this.commentsById[id],commentElements=this.$el.find('li.comment[data-id="'+commentModel.comment_id+'"]'),self=this;commentElements.each(function(index,commentEl){var commentWrapper=self.createCommentWrapperElement(commentModel);$(commentEl).find(".actions").first().replaceWith(commentWrapper.find(".actions"))})},reRenderUpvotes:function(id){var commentModel=this.commentsById[id],commentElements=this.$el.find('li.comment[data-id="'+commentModel.comment_id+'"]'),self=this;commentElements.each(function(index,commentEl){var upvotes=self.createUpvoteElement(commentModel);$(commentEl).find(".upvote").first().replaceWith(upvotes)})},isElementInViewport:function(el){"function"==typeof jQuery&&el instanceof jQuery&&(el=el[0]);var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)},updateNewCommentsCounter:function(){var counter=this.$el.find(".new-comments-navigation .counter");return this.commentsCount.unread.length<1?counter.removeClass("blinking-animation"):counter.addClass("blinking-animation"),counter.html(this.numeral(this.commentsCount.unread.length,["nowych","nowy","nowe"]))},numeral:function(value,numerals,wovalue,space){var t0=value%10,t1=value%100,vo=[];return wovalue!==!0&&vo.push(value),1===value&&numerals[1]?vo.push(numerals[1]):(0===value||t0>=0&&t0<=1||t0>=5&&t0<=9||t1>10&&t1<20)&&numerals[0]?vo.push(numerals[0]):(t1<10||t1>20)&&t0>=2&&t0<=4&&numerals[2]&&vo.push(numerals[2]),vo.join(space===!0?" ":this.options.specialCharacters.nbsp)},expandComment:function(ev){return ev.preventDefault(),$(ev.currentTarget).prev(".content").removeClass("concated"),$(ev.currentTarget).remove(),!1},expandBadges:function(ev){if(ev.preventDefault(),this.options.isMobile)return!1;var self=this,badges=$(ev.currentTarget).children(),commentEl=$(ev.currentTarget).parents(".comment").first(),commentModel=this.commentsById[commentEl.data("id")];return"div"===badges.first().get(0).tagName.toLowerCase()?(badges.first().fadeOut(200,function(){if($(this).remove(),badges=$(ev.currentTarget).children(),commentModel.author_badges.length>self.options.maxUserBadgesToRender){var more_badges=document.createElement("span");more_badges.className="text-muted",more_badges.innerHTML=self.options.specialCharacters.nbsp+"+"+(commentModel.author_badges.length-self.options.maxUserBadgesToRender),more_badges=$(more_badges),more_badges.insertAfter(badges.last())}badges=$(ev.currentTarget).children();for(var i=0,len=badges.length;i<len;i++)$(badges[i]).fadeIn(100*i)}),!1):void 0},highlightComment:function(ev){var button=$(ev.currentTarget),id=button.data("target"),$target=this.$el.find("#"+this.options.commentPrefix+id);return $target.is(":visible")&&this.isElementInViewport($target)?$target.addClass("selected"):(button.popover({html:!0,placement:"top",title:"<b>"+$target.data("user")+"</b>&nbsp;napisaÅ/a:",content:$target.find(".content").first().html(),trigger:"manual"}).popover("show"),!1)},unHighlightComment:function(ev){var button=$(ev.currentTarget);if(!button.hasClass("clicked")){var id=button.data("target"),$target=this.$el.find("#"+this.options.commentPrefix+id);return $target.is(":visible")&&this.isElementInViewport($target)?$target.removeClass("selected"):button.popover("destroy")}},jumpToParent:function(ev){ev.preventDefault();var button=$(ev.currentTarget),target=button.data("target");return button.addClass("clicked"),this.jumpToComment(target),button.popover("destroy"),setTimeout(function(){button.removeClass("clicked")},200),!1},jumpToComment:function(ID){var top,comment;return this.selectedComment!==ID&&$("#"+this.options.commentPrefix+this.selectedComment).removeClass("selected"),comment=$("#"+this.options.commentPrefix+ID+" > .comment-wrapper"),comment.parent().length<1?console.error("Jump to comment error!\n","comment:",ID,"does not exists!"):(this.options.concatMaxReplies&&!comment.parent().is(":visible")&&comment.parent().parent().find(".toggle-all").trigger("click"),top=comment.get(0).documentOffsetTop(),comment.outerHeight(!0)<Math.max(document.documentElement.clientHeight,window.innerHeight||0)&&(top=comment.get(0).documentOffsetTop()-(window.innerHeight/2-comment.outerHeight(!0)/2)),comment.parent().addClass("selected"),this.selectedComment=ID,window.scrollTo(0,top))},scrollToElement:function(element){var top=element.get(0).documentOffsetTop();return element.outerHeight(!0)<Math.max(document.documentElement.clientHeight,window.innerHeight||0)&&(top=element.get(0).documentOffsetTop()-(window.innerHeight/2-element.outerHeight(!0)/2)),window.scrollTo(0,top)},getComments:function(){var self=this;return Object.keys(this.commentsById).map(function(id){return self.commentsById[id]})},getChildComments:function(parentId){return this.getComments().filter(function(comment){return comment.comment_parent===parentId})},getOutermostParent:function(directParentId){var parentId=directParentId;do{var parentComment=this.commentsById[parentId];parentId=parentComment.comment_parent}while("undefined"!=typeof parentComment&&null!==parentComment.comment_parent);return parentComment},createCommentJSON:function(textarea){var time=new Date,name=this.$el.find("input#nick").val(),parent=textarea.attr("data-parent"),commentJSON={author_name:name,author_id:this.options.currentUserID,author_ignored:!1,author_url:this.options.currentUserProfileURL,author_avatar:this.options.profilePictureURL,author_logged_in:this.options.currentUserIsLoggedIn,comment_id:this.getComments().length+1,comment_unread:!0,comment_parent:parent&&parent>0?parent:null,comment_timestamp:Math.floor(time.getTime()/1e3),comment_created:time,comment_created_by_current_user:!0,comment_content:this.getTextareaContent(textarea),comment_raw:this.getTextareaContent(textarea),comment_upvote_count:0,comment_editable:!0,user_agent:navigator.userAgent,user_has_upvoted:!1,manual:!0,file:null,fileURL:null,fileMimeType:null};return commentJSON},isAllowedToDelete:function(commentId){if(this.options.enableDeleting){var isAllowedToDelete=!0;return this.options.enableDeletingCommentWithReplies||$(this.getComments()).each(function(index,comment){comment.comment_parent===commentId&&(isAllowedToDelete=!1)}),isAllowedToDelete}return!1},addReadMoreButton:function(where){var readMore=document.createElement("a");return readMore.className="show-more-btn",readMore.href="#",readMore.setAttribute("data-role","show-more"),readMore.onclick=function(ev){return ev.preventDefault(),$(this).prev(".content").removeClass("show-more"),$(this).remove(),!1},readMore=$(readMore),where.after(readMore)},setToggleAllButtonText:function(toggleAllButton,toggle){var self=this,textContainer=toggleAllButton.find("span.text"),caret=toggleAllButton.find(".caret"),showExpandingText=function(){var text=self.options.textFormatter(self.options.viewAllRepliesText),replyCount=toggleAllButton.siblings(".comment").length;text=text.replace("__replyCount__",replyCount),textContainer.text(text)},hideRepliesText=this.options.hideRepliesText;toggle?(textContainer.text()===hideRepliesText?showExpandingText():textContainer.text(hideRepliesText),caret.toggleClass("up")):textContainer.text()!==hideRepliesText&&showExpandingText()},adjustTextareaHeight:function(textarea,focus){var textareaBaseHeight=3.2,lineHeight=1.45,setRows=function(rows){var height=textareaBaseHeight+(rows-1)*lineHeight;textarea.css("height",height+"em")};textarea=$(textarea);var rowCount=focus===!0?this.options.textareaRowsOnFocus:this.options.textareaRows;do{setRows(rowCount),rowCount++;var isAreaScrollable=textarea[0].scrollHeight>textarea.outerHeight(),maxRowsUsed=this.options.textareaMaxRows!==!1&&rowCount>this.options.textareaMaxRows}while(isAreaScrollable&&!maxRowsUsed)},clearTextarea:function(textarea){textarea.empty().trigger("input")},getTextareaContent:function(textarea){var ce=$("<pre/>").html(this.getTextareaContentAsEscapedHTML(textarea.html()));ce.find("div, p, br").replaceWith(function(){return"\n"+this.innerHTML});var text=ce.text().replace(/^\s+/g,"");return text},getTextareaContentAsEscapedHTML:function(html){var escaped=this.escape(html);return escaped.replace(/(?:\n)/g,"<br>")},moveCursorToEnd:function(el,atStart){if(el=$(el)[0],atStart=atStart||!1,$(el).trigger("input"),atStart?$(el).scrollTop(0):$(el).scrollTop(el.scrollHeight),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var range=document.createRange();range.selectNodeContents(el),range.collapse(atStart);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else if("undefined"!=typeof document.body.createTextRange){var textRange=document.body.createTextRange();textRange.moveToElementText(el),textRange.collapse(atStart),textRange.select()}el.focus()},escape:function(inputText){return $("<pre/>").text(inputText).html()},linkify:function(inputText){for(var i=0,replace=[/(\s|\n)(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gim,/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim],replaceTo=['$1<a href="$2" target="_blank" rel="nofollow" title="$2">$2</a>','<a href="mailto:$1">$1</a>'];i<=replace.length;)inputText=inputText.replace(replace[i],replaceTo[i]),i++;return inputText}};$.fn.ajaxComments=function(options){return this.each(function(){var comments=Object.create(Comments);comments.init(options||{},this),$.data(this,"ajaxComments",comments)})}}),$(function(){function handleAjaxComments(){var attachComments=function(element){return element.ajaxComments({publication_ID:Dp.user.publicationId,provider_URL:(window.location.origin?window.location.origin:"//"+window.location.host)+"/Providers/CommentsHandler.ashx",profilePictureURL:Dp.user.avatarUrl,currentUserIsAdmin:Dp.user.isadmin||!1,currentUserIsLoggedIn:1!=Dp.user.id,currentUserID:Dp.user.id,currentUserName:Dp.user.nick,currentUserProfileURL:1!=Dp.user.id&&Dp.user.profileUrl,enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!1,enableDeletingCommentWithReplies:!1,enableAttachments:!1,enableNavigation:!0,enableNewCommentsNavigation:!0,postCommentOnEnter:!1,forceResponsive:!0,readOnly:!1,defaultNavigationSortKey:"popularity",perfectScrollbar:!0,shortenLongComments:!1,shortenAfter:1400,shortenAfterNewLines:6,performanceTest:!0,enableNestedComments:!0,isMobile:Dp.isMobile,friends:!!Dp.user.hasOwnProperty("friends")&&Dp.user.friends})},comments_container=$("#comments-container");return comments_container.length<1?void console.info("No comments..."):window.location.hash.indexOf("#komentarz")!==-1?attachComments(comments_container):void $(window).on("scroll.AjaxComments",$.throttle(250,function(ev){if(Dp.env.dev&&console.log({browser:window.jQBrowser.name,scroll:!0,moment:$(window).scrollTop()>$("body").height()/3,pub_id:"publicationId"in Dp.user,loaded:comments_container.hasClass("jquery-comments"),trigger:$(window).scrollTop()>$("body").height()/3&&"publicationId"in Dp.user&&!comments_container.hasClass("jquery-comments")}),$(window).scrollTop()>$("body").height()/3&&"publicationId"in Dp.user&&!comments_container.hasClass("jquery-comments"))return $(window).off("scroll.AjaxComments"),attachComments(comments_container)}))}console.info("DP.ready..."),handleAjaxComments()}),$(function(){function canIBeADock(){"follow"===window.Dp.dockMode?(scrollTop=$(window).scrollTop(),headerHeight<scrollTop?"windowTop"!==window.Dp.dockState&&(window.Dp.dockState="windowTop",header.addClass("mode-dock")):"pageTop"!==window.Dp.dockState&&(window.Dp.dockState="pageTop",header.removeClass("mode-dock"))):"pinOnTop"!==window.Dp.dockState&&(window.Dp.dockState="pinOnTop",header.addClass("mode-dock-top"))}String.prototype.hash=String.prototype.hash||function(){var i,chr,len,hash=0;if(0===this.length)return hash;for(i=0,len=this.length;i<len;i++)chr=this.charCodeAt(i),hash=(hash<<5)-hash+chr,hash|=0;return hash<0&&(hash*=-1),hash},$("#phContent_HomeShowcaseControl_topdiv > a").on("click",function(e){this.href.indexOf(",Wideo,")>-1&&this.href.indexOf("#play")>-1&&(localStorage.setItem(this.href.hash(),this.href),console.info("["+this.href.hash()+"] Video ("+this.href+") will autoplay on load..."))});var header=$("#header"),headerHeight=header.outerHeight();$dockPin=$("#dockPin");var message={top:"Pozostaw pasek na gÃ³rze strony",follow:"Nie ukrywaj paska podczas przewijania strony"};if("follow"===window.Dp.dockMode?$dockPin.attr("title",message.top):"top"===window.Dp.dockMode&&($dockPin.css("opacity",1),$dockPin.attr("title",message.follow)),$dockPin.tooltip(),$dockPin.click(function(){console.info("pin click"),"follow"===window.Dp.dockMode?($(this).tooltip("destroy"),window.Dp.setDockMode("top"),$(this).css("opacity",1),$(this).attr("title",message.follow),$(this).tooltip(),header.removeClass("mode-dock"),canIBeADock()):($(this).tooltip("destroy"),header.removeClass("mode-dock-top"),$(this).attr("style",null),$(this).attr("title",message.top),$(this).tooltip(),window.Dp.setDockMode("follow"),canIBeADock())}),Dp.isMobile||(canIBeADock(),$(window).scroll($.throttle(250,function(){canIBeADock()}))),$("i.popover-x").popover(),window.location.hostname.toLowerCase().indexOf("ng.")>-1||window.location.hostname.toLowerCase().indexOf("ngssl.")>-1?Dp.env={name:"dev",dev:!0,app:!1}:Dp.env={name:"app",dev:!1,app:!0},Dp.log=function(message,fn,type){var logTypes=["log","info","error","table"];type=type.toLowerCase().trim(),$.inArray(type.toLowerCase(),logTypes)==-1&&(type="log");var style={app:"background:#388E3C;font-weight:bold;color:white;",module:"background:#607D8B;font-weight:bold;color:white;",message:{log:"background:#DCEDC8;color:black;",info:"background:#2196F3;color:white;",error:"background:#f44336;color:white;"},fn:"background:#FF9800;font-weight:bold;color:white;"};return fn&&"string"==typeof fn?console[type]("%c DP %c "+Dp.env.name.toUpperCase()+" %c "+fn+" %c %s ",style.app,style.module,style.fn,style.message[type],message.trim()):console[type]("%c DP %c "+Dp.env.name.toUpperCase()+" %c %s ",style.app,style.module,style.message[type],message.trim())},window.Dp.isMobile){var viewport=$("meta[name='viewport']"),vievportVal=$("meta[name='viewport']").attr("content").replace("user-scalable=yes","user-scalable=no")+", maximum-scale=1.0";viewport.attr("content",vievportVal)}else $("[rel=lightbox]").colorbox({maxWidth:"80%",maxHeight:"80%",reposition:!0,scrolling:!1,scalePhotos:!0,rel:"gal",title:function(){var url=$(this).attr("href");return'<a href="'+url+'" target="_blank">OtwÃ³rz obrazek w nowym oknie</a>'},current:"zdjÄcie {current} z {total}",previous:"poprzedni",next:"nastÄpny",close:"zamknij",imgError:"ZdjÄcie nie mogÅo zostaÄ zaÅadowane"});$("#notify-list").perfectScrollbar({suppressScrollX:!0,wheelSpeed:.5}),$("#skins-list").perfectScrollbar({suppressScrollX:!0,wheelSpeed:.5}),$("i.popover-x").popover(),$(".rrssb-buttons").each(function(){$(this).hasClass("loaded")||$(this).addClass("loaded").rrssb({title:document.title,url:window.location.href,description:document.title,emailBody:"Przeczytaj: "+document.title+" pod adresem: "+window.location.href})}),$.each($('textarea[data-autoexpand="true"]'),function(){$(this).css("overflow","hidden").one("focus",function(){var savedValue=this.value;this.value="",this.baseScrollHeight=this.scrollHeight,this.value=savedValue}).on("input",function(){var rows,minRows=0|this.getAttribute("data-min-rows");15|this.getAttribute("data-max-rows");this.rows=minRows,rows=Math.ceil((this.scrollHeight-this.baseScrollHeight)/17),this.rows=minRows+rows})}),window.Dp.legacy_mode=!1,window.Dp.ie_legacy=!1,Dp.browser.opera===!0&&(window.Dp.legacy_mode=!0,document.body.className+=" legacy-opera"),$("html").hasClass("ie-legacy")&&(window.Dp.legacy_mode=!0,window.Dp.ie_legacy=!0)}),$(window).on("load",function(){function initSidebarFloat(){if(window.Dp.isMobile)$(".panel-user-menu").css("width",$("#document > *:first-child, #phContent_document > *:first-child").outerWidth()),$("#mobileMenu").sidr({name:"sliding-menu",source:"#mobile-nav"});else{var url=window.location.href.toLowerCase(),sidebar=$("#sidebar"),share=$("#topSocial"),spacing=!1,header="follow"==Dp.dockMode?30:0;switch(!0){case url.indexOf(",wideo,")>-1:spacing={sidebar:{top:-100+header,bottom:250},share:{top:30+header,bottom:135}};break;case url.indexOf(",news,")>-1:spacing={sidebar:{top:30+header,bottom:135},share:{top:30+header,bottom:135}};break;case url.indexOf(",seria,")>-1:spacing={sidebar:{top:30+header,bottom:140},share:{top:30+header,bottom:140}}}if(!spacing)return;if(sidebar.outerHeight()<sidebar.parent().height()+200)var floatingSidebar=new $.Zebra_Pin(sidebar,{contain:!0,top_spacing:spacing.sidebar.top,bottom_spacing:spacing.sidebar.bottom});var floatingSharer=new $.Zebra_Pin(share,{contain:!0,top_spacing:spacing.share.top,bottom_spacing:spacing.share.bottom});$(window).on("resize",$.throttle(250,function(){sidebar.outerHeight()<sidebar.parent().height()&&floatingSidebar.update(),floatingSharer.update()})),$("#news_ticker").dpScroller({accel:!1}),window.Dp.loginModal="#login-modal"}}setTimeout(function(){if(Dp.unBlocker())return initSidebarFloat()},0)}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],function($){return factory($)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(require("jquery")):factory(window.jQuery)}(function(jQuery){"use strict";function uaMatch(ua){void 0===ua&&(ua=window.navigator.userAgent),ua=ua.toLowerCase();var match=/(edge)\/([\w.]+)/.exec(ua)||/(opr)[\/]([\w.]+)/.exec(ua)||/(chrome)[ \/]([\w.]+)/.exec(ua)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[],platform_match=/(ipad)/.exec(ua)||/(ipod)/.exec(ua)||/(iphone)/.exec(ua)||/(kindle)/.exec(ua)||/(silk)/.exec(ua)||/(android)/.exec(ua)||/(windows phone)/.exec(ua)||/(win)/.exec(ua)||/(mac)/.exec(ua)||/(linux)/.exec(ua)||/(cros)/.exec(ua)||/(playbook)/.exec(ua)||/(bb)/.exec(ua)||/(blackberry)/.exec(ua)||[],browser={},matched={browser:match[5]||match[3]||match[1]||"",version:match[2]||match[4]||"0",versionNumber:match[4]||match[2]||"0",platform:platform_match[0]||""};if(matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version,browser.versionNumber=parseInt(matched.versionNumber,10)),matched.platform&&(browser[matched.platform]=!0),(browser.android||browser.bb||browser.blackberry||browser.ipad||browser.iphone||browser.ipod||browser.kindle||browser.playbook||browser.silk||browser["windows phone"])&&(browser.mobile=!0),
(browser.cros||browser.mac||browser.linux||browser.win)&&(browser.desktop=!0),(browser.chrome||browser.opr||browser.safari)&&(browser.webkit=!0),browser.rv||browser.edge){var ie="msie";matched.browser=ie,browser[ie]=!0}if(browser.safari&&browser.blackberry){var blackberry="blackberry";matched.browser=blackberry,browser[blackberry]=!0}if(browser.safari&&browser.playbook){var playbook="playbook";matched.browser=playbook,browser[playbook]=!0}if(browser.bb){var bb="blackberry";matched.browser=bb,browser[bb]=!0}if(browser.opr){var opera="opera";matched.browser=opera,browser[opera]=!0}if(browser.safari&&browser.android){var android="android";matched.browser=android,browser[android]=!0}if(browser.safari&&browser.kindle){var kindle="kindle";matched.browser=kindle,browser[kindle]=!0}if(browser.safari&&browser.silk){var silk="silk";matched.browser=silk,browser[silk]=!0}return browser.name=matched.browser,browser.platform=matched.platform,browser}return window.jQBrowser=uaMatch(window.navigator.userAgent),window.jQBrowser.uaMatch=uaMatch,window.jQBrowser});