!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,i,r,o,s,a=function(){},l=!!window.jQuery,c=e(window),u=function(e,n){t.ev.on("mfp"+e+".mfp",n)},p=function(t,n,i,r){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),r?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},d=function(n,i){t.ev.triggerHandler("mfp"+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},f=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},h=function(){e.magnificPopup.instance||(t=new a,t.init(),e.magnificPopup.instance=t)},m=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};a.prototype={constructor:a,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=m(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,a=n.items;for(r=0;r<a.length;r++)if(s=a[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],o="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=p("bg").on("click.mfp",function(){t.close()}),t.wrap=p("wrap").attr("tabindex",-1).on("click.mfp",function(e){t._checkIfClose(e.target)&&t.close()}),t.container=p("container",t.wrap)),t.contentContainer=p("content"),t.st.preloader&&(t.preloader=p("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(r=0;r<l.length;r++){var h=l[r];h=h.charAt(0).toUpperCase()+h.slice(1),t["init"+h].call(t)}d("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(u("MarkupParse",function(e,t,n,i){n.close_replaceWith=f(i.type)}),o+=" mfp-close-btn-in"):t.wrap.append(f())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:c.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup.mfp",function(e){27===e.keyCode&&t.close()}),c.on("resize.mfp",function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var m=t.wH=c.height(),g={};if(t.fixedContentPos&&t._hasScrollBar(m)){var v=t._getScrollbarSize();v&&(g.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden");var b=t.st.mainClass;return t.isIE7&&(b+=" mfp-ie7"),b&&t._addClassToMFP(b),t.updateItemHTML(),d("BuildControls"),e("html").css(g),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),i.on("focusin.mfp",t._onFocusIn)},16),t.isOpen=!0,t.updateSize(m),d("Open"),n},close:function(){t.isOpen&&(d("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){d("Close");var n="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var r={marginRight:""};t.isIE7?e("body, html").css("overflow",""):r.overflow="",e("html").css(r)}i.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,d("AfterClose")},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||c.height();t.fixedContentPos||t.wrap.css("height",t.wH),d("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(d("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=!!t.st[i]&&t.st[i].markup;d("FirstMarkupParse",o),t.currTemplate[i]=!o||e(o)}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,d("Change",n),r=n.type,t.container.prepend(t.contentContainer),d("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(f()):t.content=e:t.content="",d("BeforeAppend"),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,r=t.items[n];if(r.tagName?r={el:e(r)}:(i=r.type,r={data:r,src:r.src}),r.el){for(var o=t.types,s=0;s<o.length;s++)if(r.el.hasClass("mfp-"+o[s])){i=o[s];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=i||t.st.type||"inline",r.index=n,r.parsed=!0,t.items[n]=r,d("ElementParse",r),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var r="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(r).on(r,i)):(n.isObj=!1,n.delegate?e.off(r).on(r,n.delegate,i):(n.items=e,e.off(r).on(r,i)))},_openClick:function(n,i,r){if((void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(c.width()<o)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),r.el=e(n.mfpEl),r.delegate&&(r.items=i.find(r.delegate)),t.open(r)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var r={status:e,text:i};d("UpdateStatus",r),e=r.status,i=r.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass("mfp-prevent-close")){var i=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(i&&r)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(r&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){if(n.target!==t.wrap[0]&&!e.contains(t.wrap[0],n.target))return t._setFocus(),!1},_parseMarkup:function(t,n,i){var r;i.data&&(n=e.extend(i.data,n)),d("MarkupParse",[t,n,i]),e.each(n,function(n,i){if(void 0===i||i===!1)return!0;if(r=n.split("_"),r.length>1){var o=t.find(".mfp-"+r[0]);if(o.length>0){var s=r[1];"replaceWith"===s?o[0]!==i[0]&&o.replaceWith(i):"img"===s?o.is("img")?o.attr("src",i):o.replaceWith(e("<img>").attr("src",i).attr("class",o.attr("class"))):o.attr(r[1],i)}}else t.find(".mfp-"+n).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(t,n){return h(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){h();var i=e(this);if("string"==typeof n)if("open"===n){var r,o=l?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?r=o.items[s]:(r=i,o.delegate&&(r=r.find(o.delegate)),r=r.eq(s)),t._openClick({mfpEl:r},i,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),l?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var g,v,b,y=function(){b&&(v.after(b.addClass(g)).detach(),b=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),u("Close.inline",function(){y()})},getInline:function(n,i){if(y(),n.src){var r=t.st.inline,o=e(n.src);if(o.length){var s=o[0].parentNode;s&&s.tagName&&(v||(g=r.hiddenClass,v=p(g),g="mfp-"+g),b=o.after(v).detach().removeClass(g)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var w,x=function(){w&&e(document.body).removeClass(w)},C=function(){x(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),w=t.st.ajax.cursor,u("Close.ajax",C),u("BeforeChange.ajax",C)},getAjax:function(n){w&&e(document.body).addClass(w),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,r,o){var s={data:i,xhr:o};d("ParseAjax",s),t.appendContent(e(s.data),"ajax"),n.finished=!0,x(),t._setFocus(),setTimeout(function(){t.wrap.addClass("mfp-ready")},16),t.updateStatus("ready"),d("AjaxContentAdded")},error:function(){x(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var k,S=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),u("Open"+i,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),u("Close"+i,function(){n.cursor&&e(document.body).removeClass(n.cursor),c.off("resize.mfp")}),u("Resize"+i,t.resizeImage),t.isLowIE&&u("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,k&&clearInterval(k),e.isCheckingImgSize=!1,d("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],r=function(o){k&&clearInterval(k),k=setInterval(function(){if(i.naturalWidth>0)return void t._onImageHasSize(e);n>200&&clearInterval(k),n++,3===n?r(10):40===n?r(50):100===n&&r(500)},o)};r(1)},getImage:function(n,i){var r=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,d("ImageLoadComplete")):(r++,r<200?setTimeout(o,100):s()))},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",o).on("error.mfploader",s),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:S(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(k&&clearInterval(k),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var T,E=function(){return void 0===T&&(T=void 0!==document.createElement("p").style.MozTransform),T};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var r,o,s=n.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=i,t.css(r),t},l=function(){t.content.css("visibility","visible")};u("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();o=a(e),o.css(t._getOffset()),t.wrap.append(o),r=setTimeout(function(){o.css(t._getOffset(!0)),r=setTimeout(function(){l(),setTimeout(function(){o.remove(),e=o=null,d("ZoomAnimationEnded")},16)},s)},16)}}),u("BeforeClose"+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;o=a(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),u("Close"+i,function(){t._allowZoom()&&(l(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var r=i.offset(),o=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);r.top-=e(window).scrollTop()-o;var a={width:i.width(),height:(l?i.innerHeight():i[0].offsetHeight)-s-o};return E()?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var P=function(e){if(t.currTemplate.iframe){var n=t.currTemplate.iframe.find("iframe");n.length&&(e||(n[0].src="//about:blank"),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),u("BeforeChange",function(e,t,n){t!==n&&("iframe"===t?P():"iframe"===n&&P(!0))}),u("Close.iframe",function(){P()})},getIframe:function(n,i){var r=n.src,o=t.st.iframe;e.each(o.patterns,function(){if(r.indexOf(this.index)>-1)return this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1});var s={};return o.srcAction&&(s[o.srcAction]=r),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var L=function(e){var n=t.items.length;return e>n-1?e-n:e<0?n+e:e},_=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,r=".mfp-gallery";if(t.direction=!0,!n||!n.enabled)return!1;o+=" mfp-gallery",u("Open"+r,function(){n.navigateByImgClick&&t.wrap.on("click"+r,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),i.on("keydown"+r,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),u("UpdateStatus"+r,function(e,n){n.text&&(n.text=_(n.text,t.currItem.index,t.items.length))}),u("MarkupParse"+r,function(e,i,r,o){var s=t.items.length;r.counter=s>1?_(n.tCounter,o.index,s):""}),u("BuildControls"+r,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,r=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),o=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");r.click(function(){t.prev()}),o.click(function(){t.next()}),t.container.append(r.add(o))}}),u("Change"+r,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),u("Close"+r,function(){i.off(r),t.wrap.off("click"+r),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=L(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=L(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),r=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?r:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:r);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=L(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),d("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,d("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(u("ImageHasSize.retina",function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),u("ElementParse.retina",function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),h()}),function(){"use strict";var e,t=function(i,r){function o(e){return Math.floor(e)}function s(){w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext(),w.emit("onAutoplay",w)):w.isEnd?r.autoplayStopOnLast?w.stopAutoplay():(w._slideTo(0),w.emit("onAutoplay",w)):(w._slideNext(),w.emit("onAutoplay",w))},w.params.autoplay)}function a(t,n){var i=e(t.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var r;return i.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0}if(0!==i.length)return i[0]}function l(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,i=new n(function(e){e.forEach(function(e){w.onResize(!0),w.emit("onObserverUpdate",w,e)})});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),w.observers.push(i)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!w.params.allowSwipeToNext&&(w.isHorizontal()&&39===t||!w.isHorizontal()&&40===t))return!1;if(!w.params.allowSwipeToPrev&&(w.isHorizontal()&&37===t||!w.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(w.container.parents(".swiper-slide").length>0&&0===w.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,o=window.innerHeight,s=w.container.offset();w.rtl&&(s.left=s.left-w.container[0].scrollLeft);for(var a=[[s.left,s.top],[s.left+w.width,s.top],[s.left,s.top+w.height],[s.left+w.width,s.top+w.height]],l=0;l<a.length;l++){var c=a[l];c[0]>=i.left&&c[0]<=i.left+r&&c[1]>=i.top&&c[1]<=i.top+o&&(n=!0)}if(!n)return}w.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!w.rtl||37===t&&w.rtl)&&w.slideNext(),(37===t&&!w.rtl||39===t&&w.rtl)&&w.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&w.slideNext(),38===t&&w.slidePrev())}}function u(e){e.originalEvent&&(e=e.originalEvent);var t=w.mousewheel.event,n=0,i=w.rtl?-1:1;if("mousewheel"===t)if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX*i}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*i:-e.wheelDeltaY;else if("DOMMouseScroll"===t)n=-e.detail;else if("wheel"===t)if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX*i}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*i:-e.deltaY;if(0!==n){if(w.params.mousewheelInvert&&(n=-n),w.params.freeMode){var r=w.getWrapperTranslate()+n*w.params.mousewheelSensitivity,o=w.isBeginning,s=w.isEnd;if(r>=w.minTranslate()&&(r=w.minTranslate()),r<=w.maxTranslate()&&(r=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(r),w.updateProgress(),w.updateActiveIndex(),(!o&&w.isBeginning||!s&&w.isEnd)&&w.updateClasses(),w.params.freeModeSticky?(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)):w.params.lazyLoading&&w.lazy&&w.lazy.load(),0===r||r===w.maxTranslate())return}else{if((new window.Date).getTime()-w.mousewheel.lastScrollTime>60)if(n<0)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext();else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev();w.mousewheel.lastScrollTime=(new window.Date).getTime()}return w.params.autoplay&&w.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function p(t,n){t=e(t);var i,r,o,s=w.rtl?-1:1;i=t.attr("data-swiper-parallax")||"0",r=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),r||o?(r=r||"0",o=o||"0"):w.isHorizontal()?(r=i,o="0"):(o=i,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*n*s+"%":r*n*s+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px",t.transform("translate3d("+r+", "+o+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(i,r);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=r&&r.virtualTranslate;r=r||{};var m={};for(var g in r)if("object"!=typeof r[g]||null===r[g]||(r[g].nodeType||r[g]===window||r[g]===document||void 0!==n&&r[g]instanceof n||"undefined"!=typeof jQuery&&r[g]instanceof jQuery))m[g]=r[g];else{m[g]={};for(var v in r[g])m[g][v]=r[g][v]}for(var b in f)if(void 0===r[b])r[b]=f[b];else if("object"==typeof r[b])for(var y in f[b])void 0===r[b][y]&&(r[b][y]=f[b][y]);var w=this;if(w.params=r,w.originalParams=m,w.classNames=[],void 0!==e&&void 0!==n&&(e=n),(void 0!==e||(e=void 0===n?window.Dom7||window.Zepto||window.jQuery:n))&&(w.$=e,w.currentBreakpoint=void 0,w.getActiveBreakpoint=function(){if(!w.params.breakpoints)return!1;var e,t=!1,n=[];for(e in w.params.breakpoints)w.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<n.length;i++)(e=n[i])>=window.innerWidth&&!t&&(t=e);return t||"max"},w.setBreakpoint=function(){var e=w.getActiveBreakpoint();if(e&&w.currentBreakpoint!==e){var t=e in w.params.breakpoints?w.params.breakpoints[e]:w.originalParams,n=w.params.loop&&t.slidesPerView!==w.params.slidesPerView;for(var i in t)w.params[i]=t[i];w.currentBreakpoint=e,n&&w.destroyLoop&&w.reLoop(!0)}},w.params.breakpoints&&w.setBreakpoint(),w.container=e(i),0!==w.container.length)){if(w.container.length>1){var x=[];return w.container.each(function(){x.push(new t(this,r))}),x}w.container[0].swiper=w,w.container.data("swiper",w),w.classNames.push("swiper-container-"+w.params.direction),w.params.freeMode&&w.classNames.push("swiper-container-free-mode"),w.support.flexbox||(w.classNames.push("swiper-container-no-flexbox"),w.params.slidesPerColumn=1),w.params.autoHeight&&w.classNames.push("swiper-container-autoheight"),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(w.params.effect)>=0&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push("swiper-container-3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push("swiper-container-"+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0,w.params.setWrapperSize=!1),"fade"!==w.params.effect&&"flip"!==w.params.effect||(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,w.params.spaceBetween=0,w.params.setWrapperSize=!1,void 0===h&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=e(w.params.pagination),w.params.uniqueNavElements&&"string"==typeof w.params.pagination&&w.paginationContainer.length>1&&1===w.container.find(w.params.pagination).length&&(w.paginationContainer=w.container.find(w.params.pagination)),"bullets"===w.params.paginationType&&w.params.paginationClickable?w.paginationContainer.addClass("swiper-pagination-clickable"):w.params.paginationClickable=!1,w.paginationContainer.addClass("swiper-pagination-"+w.params.paginationType)),(w.params.nextButton||w.params.prevButton)&&(w.params.nextButton&&(w.nextButton=e(w.params.nextButton),w.params.uniqueNavElements&&"string"==typeof w.params.nextButton&&w.nextButton.length>1&&1===w.container.find(w.params.nextButton).length&&(w.nextButton=w.container.find(w.params.nextButton))),w.params.prevButton&&(w.prevButton=e(w.params.prevButton),w.params.uniqueNavElements&&"string"==typeof w.params.prevButton&&w.prevButton.length>1&&1===w.container.find(w.params.prevButton).length&&(w.prevButton=w.container.find(w.params.prevButton)))),w.isHorizontal=function(){return"horizontal"===w.params.direction},w.rtl=w.isHorizontal()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push("swiper-container-rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),w.params.slidesPerColumn>1&&w.classNames.push("swiper-container-multirow"),w.device.android&&w.classNames.push("swiper-container-android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){w.params.allowSwipeToNext=!1},w.lockSwipeToPrev=function(){
w.params.allowSwipeToPrev=!1},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1},w.unlockSwipeToNext=function(){w.params.allowSwipeToNext=!0},w.unlockSwipeToPrev=function(){w.params.allowSwipeToPrev=!0},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0},w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab"),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(e,t,n,i,r){function o(){r&&r()}var s;e.complete&&i?o():t?(s=new window.Image,s.onload=o,s.onerror=o,n&&(s.srcset=n),t&&(s.src=t)):o()},w.preloadImages=function(){function e(){void 0!==w&&null!==w&&(void 0!==w.imagesLoaded&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var t=0;t<w.imagesToLoad.length;t++)w.loadImage(w.imagesToLoad[t],w.imagesToLoad[t].currentSrc||w.imagesToLoad[t].getAttribute("src"),w.imagesToLoad[t].srcset||w.imagesToLoad[t].getAttribute("srcset"),!0,e)},w.autoplayTimeoutId=void 0,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return void 0===w.autoplayTimeoutId&&(!!w.params.autoplay&&(!w.autoplaying&&(w.autoplaying=!0,w.emit("onAutoplayStart",w),void s())))},w.stopAutoplay=function(e){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=void 0,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(e){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===e?(w.autoplayPaused=!1,s()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?s():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateAutoHeight=function(){var e=w.slides.eq(w.activeIndex)[0];if(void 0!==e){var t=e.offsetHeight;t&&w.wrapper.css("height",t+"px")}},w.updateContainerSize=function(){var e,t;e=void 0!==w.params.width?w.params.width:w.container[0].clientWidth,t=void 0!==w.params.height?w.params.height:w.container[0].clientHeight,0===e&&w.isHorizontal()||0===t&&!w.isHorizontal()||(e=e-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),t=t-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=e,w.height=t,w.size=w.isHorizontal()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var e,t=w.params.spaceBetween,n=-w.params.slidesOffsetBefore,i=0,r=0;if(void 0!==w.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*w.size),w.virtualSize=-t,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""});var s;w.params.slidesPerColumn>1&&(s=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(s=Math.max(s,w.params.slidesPerView*w.params.slidesPerColumn)));var a,l=w.params.slidesPerColumn,c=s/l,u=c-(w.params.slidesPerColumn*c-w.slides.length);for(e=0;e<w.slides.length;e++){a=0;var p=w.slides.eq(e);if(w.params.slidesPerColumn>1){var d,f,h;"column"===w.params.slidesPerColumnFill?(f=Math.floor(e/l),h=e-f*l,(f>u||f===u&&h===l-1)&&++h>=l&&(h=0,f++),d=f+h*s/l,p.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):(h=Math.floor(e/c),f=e-h*c),p.css({"margin-top":0!==h&&w.params.spaceBetween&&w.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",h)}"none"!==p.css("display")&&("auto"===w.params.slidesPerView?(a=w.isHorizontal()?p.outerWidth(!0):p.outerHeight(!0),w.params.roundLengths&&(a=o(a))):(a=(w.size-(w.params.slidesPerView-1)*t)/w.params.slidesPerView,w.params.roundLengths&&(a=o(a)),w.isHorizontal()?w.slides[e].style.width=a+"px":w.slides[e].style.height=a+"px"),w.slides[e].swiperSlideSize=a,w.slidesSizesGrid.push(a),w.params.centeredSlides?(n=n+a/2+i/2+t,0===e&&(n=n-w.size/2-t),Math.abs(n)<.001&&(n=0),r%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n)):(r%w.params.slidesPerGroup==0&&w.snapGrid.push(n),w.slidesGrid.push(n),n=n+a+t),w.virtualSize+=a+t,i=a,r++)}w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter;var m;if(w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.support.flexbox&&!w.params.setWrapperSize||(w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),w.params.slidesPerColumn>1&&(w.virtualSize=(a+w.params.spaceBetween)*s,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(m=[],e=0;e<w.snapGrid.length;e++)w.snapGrid[e]<w.virtualSize+w.snapGrid[0]&&m.push(w.snapGrid[e]);w.snapGrid=m}if(!w.params.centeredSlides){for(m=[],e=0;e<w.snapGrid.length;e++)w.snapGrid[e]<=w.virtualSize-w.size&&m.push(w.snapGrid[e]);w.snapGrid=m,Math.floor(w.virtualSize-w.size)-Math.floor(w.snapGrid[w.snapGrid.length-1])>1&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(w.isHorizontal()?w.rtl?w.slides.css({marginLeft:t+"px"}):w.slides.css({marginRight:t+"px"}):w.slides.css({marginBottom:t+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()}},w.updateSlidesOffset=function(){for(var e=0;e<w.slides.length;e++)w.slides[e].swiperSlideOffset=w.isHorizontal()?w.slides[e].offsetLeft:w.slides[e].offsetTop},w.updateSlidesProgress=function(e){if(void 0===e&&(e=w.translate||0),0!==w.slides.length){void 0===w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var t=-e;w.rtl&&(t=e),w.slides.removeClass(w.params.slideVisibleClass);for(var n=0;n<w.slides.length;n++){var i=w.slides[n],r=(t-i.swiperSlideOffset)/(i.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var o=-(t-i.swiperSlideOffset),s=o+w.slidesSizesGrid[n];(o>=0&&o<w.size||s>0&&s<=w.size||o<=0&&s>=w.size)&&w.slides.eq(n).addClass(w.params.slideVisibleClass)}i.progress=w.rtl?-r:r}}},w.updateProgress=function(e){void 0===e&&(e=w.translate||0);var t=w.maxTranslate()-w.minTranslate(),n=w.isBeginning,i=w.isEnd;0===t?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(e-w.minTranslate())/t,w.isBeginning=w.progress<=0,w.isEnd=w.progress>=1),w.isBeginning&&!n&&w.emit("onReachBeginning",w),w.isEnd&&!i&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(e),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var e,t,n,i=w.rtl?w.translate:-w.translate;for(t=0;t<w.slidesGrid.length;t++)void 0!==w.slidesGrid[t+1]?i>=w.slidesGrid[t]&&i<w.slidesGrid[t+1]-(w.slidesGrid[t+1]-w.slidesGrid[t])/2?e=t:i>=w.slidesGrid[t]&&i<w.slidesGrid[t+1]&&(e=t+1):i>=w.slidesGrid[t]&&(e=t);(e<0||void 0===e)&&(e=0),n=Math.floor(e/w.params.slidesPerGroup),n>=w.snapGrid.length&&(n=w.snapGrid.length-1),e!==w.activeIndex&&(w.snapIndex=n,w.previousIndex=w.activeIndex,w.activeIndex=e,w.updateClasses())},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass);var t=w.slides.eq(w.activeIndex);t.addClass(w.params.slideActiveClass);var n=t.next("."+w.params.slideClass).addClass(w.params.slideNextClass);w.params.loop&&0===n.length&&w.slides.eq(0).addClass(w.params.slideNextClass);var i=t.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass);if(w.params.loop&&0===i.length&&w.slides.eq(-1).addClass(w.params.slidePrevClass),w.paginationContainer&&w.paginationContainer.length>0){var r,o=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length;if(w.params.loop?(r=Math.ceil((w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup),r>w.slides.length-1-2*w.loopedSlides&&(r-=w.slides.length-2*w.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==w.params.paginationType&&(r=o+r)):r=void 0!==w.snapIndex?w.snapIndex:w.activeIndex||0,"bullets"===w.params.paginationType&&w.bullets&&w.bullets.length>0&&(w.bullets.removeClass(w.params.bulletActiveClass),w.paginationContainer.length>1?w.bullets.each(function(){e(this).index()===r&&e(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(r).addClass(w.params.bulletActiveClass)),"fraction"===w.params.paginationType&&(w.paginationContainer.find("."+w.params.paginationCurrentClass).text(r+1),w.paginationContainer.find("."+w.params.paginationTotalClass).text(o)),"progress"===w.params.paginationType){var s=(r+1)/o,a=s,l=1;w.isHorizontal()||(l=s,a=1),w.paginationContainer.find("."+w.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+a+") scaleY("+l+")").transition(w.params.speed)}"custom"===w.params.paginationType&&w.params.paginationCustomRender&&(w.paginationContainer.html(w.params.paginationCustomRender(w,r+1,o)),w.emit("onPaginationRendered",w,w.paginationContainer[0]))}w.params.loop||(w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.isBeginning?(w.prevButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.prevButton)):(w.prevButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.prevButton))),w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.isEnd?(w.nextButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.nextButton)):(w.nextButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.nextButton))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&w.paginationContainer.length>0){var e="";if("bullets"===w.params.paginationType){for(var t=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length,n=0;n<t;n++)e+=w.params.paginationBulletRender?w.params.paginationBulletRender(n,w.params.bulletClass):"<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(e),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}"fraction"===w.params.paginationType&&(e=w.params.paginationFractionRender?w.params.paginationFractionRender(w,w.params.paginationCurrentClass,w.params.paginationTotalClass):'<span class="'+w.params.paginationCurrentClass+'"></span> / <span class="'+w.params.paginationTotalClass+'"></span>',w.paginationContainer.html(e)),"progress"===w.params.paginationType&&(e=w.params.paginationProgressRender?w.params.paginationProgressRender(w,w.params.paginationProgressbarClass):'<span class="'+w.params.paginationProgressbarClass+'"></span>',w.paginationContainer.html(e)),"custom"!==w.params.paginationType&&w.emit("onPaginationRendered",w,w.paginationContainer[0])}},w.update=function(e){function t(){n=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(n),w.updateActiveIndex(),w.updateClasses()}if(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),e){var n;w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode?(t(),w.params.autoHeight&&w.updateAutoHeight()):(("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0))||t()}else w.params.autoHeight&&w.updateAutoHeight()},w.onResize=function(e){w.params.breakpoints&&w.setBreakpoint();var t=w.params.allowSwipeToPrev,n=w.params.allowSwipeToNext;w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||e)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=void 0);var i=!1;if(w.params.freeMode){var r=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(r),w.updateActiveIndex(),w.updateClasses(),w.params.autoHeight&&w.updateAutoHeight()}else w.updateClasses(),i=("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.lazyLoading&&!i&&w.lazy&&w.lazy.load(),w.params.allowSwipeToPrev=t,w.params.allowSwipeToNext=n};var C=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?C=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(C=["MSPointerDown","MSPointerMove","MSPointerUp"]),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":C[0],move:w.support.touch||!w.params.simulateTouch?"touchmove":C[1],end:w.support.touch||!w.params.simulateTouch?"touchend":C[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(e){var t=e?"off":"on",n=e?"removeEventListener":"addEventListener",i="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],o=w.support.touch?i:document,s=!!w.params.nested;w.browser.ie?(i[n](w.touchEvents.start,w.onTouchStart,!1),o[n](w.touchEvents.move,w.onTouchMove,s),o[n](w.touchEvents.end,w.onTouchEnd,!1)):(w.support.touch&&(i[n](w.touchEvents.start,w.onTouchStart,!1),i[n](w.touchEvents.move,w.onTouchMove,s),i[n](w.touchEvents.end,w.onTouchEnd,!1)),!r.simulateTouch||w.device.ios||w.device.android||(i[n]("mousedown",w.onTouchStart,!1),document[n]("mousemove",w.onTouchMove,s),document[n]("mouseup",w.onTouchEnd,!1))),window[n]("resize",w.onResize),w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.nextButton[t]("click",w.onClickNext),w.params.a11y&&w.a11y&&w.nextButton[t]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.prevButton[t]("click",w.onClickPrev),w.params.a11y&&w.a11y&&w.prevButton[t]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(w.paginationContainer[t]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&w.paginationContainer[t]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&i[n]("click",w.preventClicks,!0)},w.attachEvents=function(){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(e){w.allowClick||(w.params.preventClicks&&e.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},w.onClickNext=function(e){e.preventDefault(),w.isEnd&&!w.params.loop||w.slideNext()},w.onClickPrev=function(e){e.preventDefault(),w.isBeginning&&!w.params.loop||w.slidePrev()},w.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*w.params.slidesPerGroup;w.params.loop&&(n+=w.loopedSlides),w.slideTo(n)},w.updateClickedSlide=function(t){var n=a(t,"."+w.params.slideClass),i=!1;if(n)for(var r=0;r<w.slides.length;r++)w.slides[r]===n&&(i=!0);if(!n||!i)return w.clickedSlide=void 0,void(w.clickedIndex=void 0);if(w.clickedSlide=n,w.clickedIndex=e(n).index(),w.params.slideToClickedSlide&&void 0!==w.clickedIndex&&w.clickedIndex!==w.activeIndex){var o,s=w.clickedIndex;if(w.params.loop){if(w.animating)return;o=e(w.clickedSlide).attr("data-swiper-slide-index"),w.params.centeredSlides?s<w.loopedSlides-w.params.slidesPerView/2||s>w.slides.length-w.loopedSlides+w.params.slidesPerView/2?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s):s>w.slides.length-w.params.slidesPerView?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s)}else w.slideTo(s)}};var k,S,T,E,P,L,_,M,A,I,z="input, select, textarea, button",B=Date.now(),N=[];w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var F,j;if(w.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(F="touchstart"===t.type)||!("which"in t)||3!==t.which){if(w.params.noSwiping&&a(t,"."+w.params.noSwipingClass))return void(w.allowClick=!0);if(!w.params.swipeHandler||a(t,w.params.swipeHandler)){var n=w.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i=w.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&n<=w.params.iOSEdgeSwipeThreshold)){if(k=!0,S=!1,T=!0,P=void 0,j=void 0,w.touches.startX=n,w.touches.startY=i,E=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=void 0,w.params.threshold>0&&(M=!1),"touchstart"!==t.type){var r=!0;e(t.target).is(z)&&(r=!1),document.activeElement&&e(document.activeElement).is(z)&&document.activeElement.blur(),r&&t.preventDefault()}w.emit("onTouchStart",w,t)}}}},w.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!F||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return w.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(w.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(w.params.onlyExternal)return w.allowClick=!1,void(k&&(w.touches.startX=w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.startY=w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,E=Date.now()));if(F&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(z))return S=!0,void(w.allowClick=!1);if(T&&w.emit("onTouchMove",w,t),!(t.targetTouches&&t.targetTouches.length>1)){if(w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===P){var n=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI;P=w.isHorizontal()?n>w.params.touchAngle:90-n>w.params.touchAngle}if(P&&w.emit("onTouchMoveOpposite",w,t),void 0===j&&w.browser.ieTouch&&(w.touches.currentX===w.touches.startX&&w.touches.currentY===w.touches.startY||(j=!0)),k){if(P)return void(k=!1);if(j||!w.browser.ieTouch){w.allowClick=!1,w.emit("onSliderMove",w,t),t.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&t.stopPropagation(),S||(r.loop&&w.fixLoop(),_=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),I=!1,w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grabbing",w.container[0].style.cursor="-moz-grabbin",w.container[0].style.cursor="grabbing")),S=!0;var i=w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;i*=w.params.touchRatio,w.rtl&&(i=-i),w.swipeDirection=i>0?"prev":"next",L=i+_;var o=!0;if(i>0&&L>w.minTranslate()?(o=!1,w.params.resistance&&(L=w.minTranslate()-1+Math.pow(-w.minTranslate()+_+i,w.params.resistanceRatio))):i<0&&L<w.maxTranslate()&&(o=!1,w.params.resistance&&(L=w.maxTranslate()+1-Math.pow(w.maxTranslate()-_-i,w.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&L<_&&(L=_),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&L>_&&(L=_),w.params.followFinger){if(w.params.threshold>0){if(!(Math.abs(i)>w.params.threshold||M))return void(L=_);if(!M)return M=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,L=_,void(w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}(w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===N.length&&N.push({position:w.touches[w.isHorizontal()?"startX":"startY"],time:E}),N.push({position:w.touches[w.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(L),w.setWrapperTranslate(L)}}}}}},w.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),T&&w.emit("onTouchEnd",w,t),T=!1,k){w.params.grabCursor&&S&&k&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab");var n=Date.now(),i=n-E;if(w.allowClick&&(w.updateClickedSlide(t),w.emit("onTap",w,t),i<300&&n-B>300&&(A&&clearTimeout(A),A=setTimeout(function(){w&&(w.params.paginationHide&&w.paginationContainer.length>0&&!e(t.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,t))},300)),i<300&&n-B<300&&(A&&clearTimeout(A),w.emit("onDoubleTap",w,t))),B=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),!k||!S||!w.swipeDirection||0===w.touches.diff||L===_)return void(k=S=!1);k=S=!1;var r;if(r=w.params.followFinger?w.rtl?w.translate:-w.translate:-L,w.params.freeMode){if(r<-w.minTranslate())return void w.slideTo(w.activeIndex);if(r>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(N.length>1){var o=N.pop(),s=N.pop(),a=o.position-s.position,l=o.time-s.time;w.velocity=a/l,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(w.velocity=0)}else w.velocity=0;N.length=0;var c=1e3*w.params.freeModeMomentumRatio,u=w.velocity*c,p=w.translate+u;w.rtl&&(p=-p);var d,f=!1,h=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(p<w.maxTranslate())w.params.freeModeMomentumBounce?(p+w.maxTranslate()<-h&&(p=w.maxTranslate()-h),d=w.maxTranslate(),f=!0,I=!0):p=w.maxTranslate();else if(p>w.minTranslate())w.params.freeModeMomentumBounce?(p-w.minTranslate()>h&&(p=w.minTranslate()+h),d=w.minTranslate(),f=!0,I=!0):p=w.minTranslate();else if(w.params.freeModeSticky){var m,g=0;for(g=0;g<w.snapGrid.length;g+=1)if(w.snapGrid[g]>-p){m=g;break}p=Math.abs(w.snapGrid[m]-p)<Math.abs(w.snapGrid[m-1]-p)||"next"===w.swipeDirection?w.snapGrid[m]:w.snapGrid[m-1],w.rtl||(p=-p)}if(0!==w.velocity)c=w.rtl?Math.abs((-p-w.translate)/w.velocity):Math.abs((p-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&f?(w.updateProgress(d),w.setWrapperTransition(c),w.setWrapperTranslate(p),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&I&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(d),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(p),w.setWrapperTransition(c),w.setWrapperTranslate(p),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(p),w.updateActiveIndex()}return void((!w.params.freeModeMomentum||i>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex()))}var v,b=0,y=w.slidesSizesGrid[0];for(v=0;v<w.slidesGrid.length;v+=w.params.slidesPerGroup)void 0!==w.slidesGrid[v+w.params.slidesPerGroup]?r>=w.slidesGrid[v]&&r<w.slidesGrid[v+w.params.slidesPerGroup]&&(b=v,y=w.slidesGrid[v+w.params.slidesPerGroup]-w.slidesGrid[v]):r>=w.slidesGrid[v]&&(b=v,y=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var x=(r-w.slidesGrid[b])/y;if(i>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(x>=w.params.longSwipesRatio?w.slideTo(b+w.params.slidesPerGroup):w.slideTo(b)),"prev"===w.swipeDirection&&(x>1-w.params.longSwipesRatio?w.slideTo(b+w.params.slidesPerGroup):w.slideTo(b))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(b+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(b)}}},w._slideTo=function(e,t){return w.slideTo(e,t,!0,!0)},w.slideTo=function(e,t,n,i){void 0===n&&(n=!0),void 0===e&&(e=0),e<0&&(e=0),w.snapIndex=Math.floor(e/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var r=-w.snapGrid[w.snapIndex];w.params.autoplay&&w.autoplaying&&(i||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(t):w.stopAutoplay()),w.updateProgress(r);for(var o=0;o<w.slidesGrid.length;o++)-Math.floor(100*r)>=Math.floor(100*w.slidesGrid[o])&&(e=o);return!(!w.params.allowSwipeToNext&&r<w.translate&&r<w.minTranslate())&&(!(!w.params.allowSwipeToPrev&&r>w.translate&&r>w.maxTranslate()&&(w.activeIndex||0)!==e)&&(void 0===t&&(t=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=e,w.rtl&&-r===w.translate||!w.rtl&&r===w.translate?(w.params.autoHeight&&w.updateAutoHeight(),w.updateClasses(),"slide"!==w.params.effect&&w.setWrapperTranslate(r),!1):(w.updateClasses(),w.onTransitionStart(n),0===t?(w.setWrapperTranslate(r),w.setWrapperTransition(0),w.onTransitionEnd(n)):(w.setWrapperTranslate(r),w.setWrapperTransition(t),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(n)}))),!0)))},w.onTransitionStart=function(e){void 0===e&&(e=!0),w.params.autoHeight&&w.updateAutoHeight(),w.lazy&&w.lazy.onTransitionStart(),e&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeStart",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextStart",w):w.emit("onSlidePrevStart",w)))},w.onTransitionEnd=function(e){w.animating=!1,w.setWrapperTransition(0),void 0===e&&(e=!0),w.lazy&&w.lazy.onTransitionEnd(),e&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeEnd",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextEnd",w):w.emit("onSlidePrevEnd",w))),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(e,t,n){if(w.params.loop){if(w.animating)return!1;w.fixLoop();w.container[0].clientLeft;return w.slideTo(w.activeIndex+w.params.slidesPerGroup,t,e,n)}return w.slideTo(w.activeIndex+w.params.slidesPerGroup,t,e,n)},w._slideNext=function(e){return w.slideNext(!0,e,!0)},w.slidePrev=function(e,t,n){if(w.params.loop){if(w.animating)return!1;w.fixLoop();w.container[0].clientLeft;return w.slideTo(w.activeIndex-1,t,e,n)}return w.slideTo(w.activeIndex-1,t,e,n)},w._slidePrev=function(e){return w.slidePrev(!0,e,!0)},w.slideReset=function(e,t,n){return w.slideTo(w.activeIndex,t,e)},w.setWrapperTransition=function(e,t){w.wrapper.transition(e),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(e),w.params.parallax&&w.parallax&&w.parallax.setTransition(e),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(e),w.params.control&&w.controller&&w.controller.setTransition(e,t),w.emit("onSetTransition",w,e)},w.setWrapperTranslate=function(e,t,n){var i=0,r=0;w.isHorizontal()?i=w.rtl?-e:e:r=e,w.params.roundLengths&&(i=o(i),r=o(r)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+i+"px, "+r+"px, 0px)"):w.wrapper.transform("translate("+i+"px, "+r+"px)")),w.translate=w.isHorizontal()?i:r;var s,a=w.maxTranslate()-w.minTranslate();s=0===a?0:(e-w.minTranslate())/a,s!==w.progress&&w.updateProgress(e),t&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,n),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(e,t){var n,i,r,o;return void 0===t&&(t="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===i?"":i)):(o=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),w.rtl&&i&&(i=-i),i||0)},w.getWrapperTranslate=function(e){return void 0===e&&(e=w.isHorizontal()?"x":"y"),w.getTranslate(w.wrapper[0],e)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var e=w.container.parents(),t=0;t<e.length;t++)l(e[t]);l(w.container[0],{childList:!1}),l(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var e=0;e<w.observers.length;e++)w.observers[e].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var t=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=t.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>t.length&&(w.loopedSlides=t.length);var n,i=[],r=[];for(t.each(function(n,o){var s=e(this);n<w.loopedSlides&&r.push(o),n<t.length&&n>=t.length-w.loopedSlides&&i.push(o),s.attr("data-swiper-slide-index",n)}),n=0;n<r.length;n++)w.wrapper.append(e(r[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(n=i.length-1;n>=0;n--)w.wrapper.prepend(e(i[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.reLoop=function(e){var t=w.activeIndex-w.loopedSlides;w.destroyLoop(),w.createLoop(),w.updateSlidesSize(),e&&w.slideTo(t+w.loopedSlides,0,!1)},w.fixLoop=function(){var e;w.activeIndex<w.loopedSlides?(e=w.slides.length-3*w.loopedSlides+w.activeIndex,e+=w.loopedSlides,w.slideTo(e,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(e=-w.slides.length+w.activeIndex+w.loopedSlides,e+=w.loopedSlides,w.slideTo(e,0,!1,!0))},w.appendSlide=function(e){if(w.params.loop&&w.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&w.wrapper.append(e[t]);else w.wrapper.append(e);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(e){w.params.loop&&w.destroyLoop();var t=w.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&w.wrapper.prepend(e[n]);t=w.activeIndex+e.length}else w.wrapper.prepend(e);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(t,0,!1)},w.removeSlide=function(e){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var t,n=w.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],w.slides[t]&&w.slides.eq(t).remove(),t<n&&n--;n=Math.max(n,0)}else t=e,w.slides[t]&&w.slides.eq(t).remove(),t<n&&n--,n=Math.max(n,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(n+w.loopedSlides,0,!1):w.slideTo(n,0,!1)},w.removeAllSlides=function(){for(var e=[],t=0;t<w.slides.length;t++)e.push(t);w.removeSlide(e)},w.effects={fade:{setTranslate:function(){
for(var e=0;e<w.slides.length;e++){var t=w.slides.eq(e),n=t[0].swiperSlideOffset,i=-n;w.params.virtualTranslate||(i-=w.translate);var r=0;w.isHorizontal()||(r=i,i=0);var o=w.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:o}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(e){if(w.slides.transition(e),w.params.virtualTranslate&&0!==e){var t=!1;w.slides.transitionEnd(function(){if(!t&&w){t=!0,w.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)w.wrapper.trigger(e[n])}})}}},flip:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var n=w.slides.eq(t),i=n[0].progress;w.params.flip.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var r=n[0].swiperSlideOffset,o=-180*i,s=o,a=0,l=-r,c=0;if(w.isHorizontal()?w.rtl&&(s=-s):(c=l,l=0,a=-s,s=0),n[0].style.zIndex=-Math.abs(Math.round(i))+w.slides.length,w.params.flip.slideShadows){var u=w.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),p=w.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),n.append(u)),0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),n.append(p)),u.length&&(u[0].style.opacity=Math.max(-i,0)),p.length&&(p[0].style.opacity=Math.max(i,0))}n.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+a+"deg) rotateY("+s+"deg)")}},setTransition:function(t){if(w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.virtualTranslate&&0!==t){var n=!1;w.slides.eq(w.activeIndex).transitionEnd(function(){if(!n&&w&&e(this).hasClass(w.params.slideActiveClass)){n=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<t.length;i++)w.wrapper.trigger(t[i])}})}}},cube:{setTranslate:function(){var t,n=0;w.params.cube.shadow&&(w.isHorizontal()?(t=w.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(t)),t.css({height:w.width+"px"})):(t=w.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.container.append(t))));for(var i=0;i<w.slides.length;i++){var r=w.slides.eq(i),o=90*i,s=Math.floor(o/360);w.rtl&&(o=-o,s=Math.floor(-o/360));var a=Math.max(Math.min(r[0].progress,1),-1),l=0,c=0,u=0;i%4==0?(l=4*-s*w.size,u=0):(i-1)%4==0?(l=0,u=4*-s*w.size):(i-2)%4==0?(l=w.size+4*s*w.size,u=w.size):(i-3)%4==0&&(l=-w.size,u=3*w.size+4*w.size*s),w.rtl&&(l=-l),w.isHorizontal()||(c=l,l=0);var p="rotateX("+(w.isHorizontal()?0:-o)+"deg) rotateY("+(w.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(a<=1&&a>-1&&(n=90*i+90*a,w.rtl&&(n=90*-i-90*a)),r.transform(p),w.params.cube.slideShadows){var d=w.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),f=w.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),r.append(d)),0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),r.append(f)),d.length&&(d[0].style.opacity=Math.max(-a,0)),f.length&&(f[0].style.opacity=Math.max(a,0))}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(w.isHorizontal())t.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var h=Math.abs(n)-90*Math.floor(Math.abs(n)/90),m=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),g=w.params.cube.shadowScale,v=w.params.cube.shadowScale/m,b=w.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(w.height/2+b)+"px, "+-w.height/2/v+"px) rotateX(-90deg)")}var y=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(w.isHorizontal()?0:n)+"deg) rotateY("+(w.isHorizontal()?-n:0)+"deg)")},setTransition:function(e){w.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),w.params.cube.shadow&&!w.isHorizontal()&&w.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=w.translate,n=w.isHorizontal()?-t+w.width/2:-t+w.height/2,i=w.isHorizontal()?w.params.coverflow.rotate:-w.params.coverflow.rotate,r=w.params.coverflow.depth,o=0,s=w.slides.length;o<s;o++){var a=w.slides.eq(o),l=w.slidesSizesGrid[o],c=a[0].swiperSlideOffset,u=(n-c-l/2)/l*w.params.coverflow.modifier,p=w.isHorizontal()?i*u:0,d=w.isHorizontal()?0:i*u,f=-r*Math.abs(u),h=w.isHorizontal()?0:w.params.coverflow.stretch*u,m=w.isHorizontal()?w.params.coverflow.stretch*u:0;Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0);var g="translate3d("+m+"px,"+h+"px,"+f+"px)  rotateX("+d+"deg) rotateY("+p+"deg)";if(a.transform(g),a[0].style.zIndex=1-Math.abs(Math.round(u)),w.params.coverflow.slideShadows){var v=w.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),b=w.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),a.append(v)),0===b.length&&(b=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),a.append(b)),v.length&&(v[0].style.opacity=u>0?u:0),b.length&&(b[0].style.opacity=-u>0?-u:0)}}if(w.browser.ie){w.wrapper[0].style.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){w.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if(void 0!==t&&(void 0===n&&(n=!0),0!==w.slides.length)){var i=w.slides.eq(t),r=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(r=r.add(i[0])),0!==r.length&&r.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var r=t.attr("data-background"),o=t.attr("data-src"),s=t.attr("data-srcset");w.loadImage(t[0],o||r,s,!1,function(){if(r?(t.css("background-image",'url("'+r+'")'),t.removeAttr("data-background")):(s&&(t.attr("srcset",s),t.removeAttr("data-srcset")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),w.params.loop&&n){var e=i.attr("data-swiper-slide-index");if(i.hasClass(w.params.slideDuplicateClass)){var a=w.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(a.index(),!1)}else{var l=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');w.lazy.loadImageInSlide(l.index(),!1)}}w.emit("onLazyImageReady",w,i[0],t[0])}),w.emit("onLazyImageLoad",w,i[0],t[0])})}},load:function(){var t;if(w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(e(this).index())});else if(w.params.slidesPerView>1)for(t=w.activeIndex;t<w.activeIndex+w.params.slidesPerView;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(w.params.slidesPerView>1||w.params.lazyLoadingInPrevNextAmount&&w.params.lazyLoadingInPrevNextAmount>1){var n=w.params.lazyLoadingInPrevNextAmount,i=w.params.slidesPerView,r=Math.min(w.activeIndex+i+Math.max(n,i),w.slides.length),o=Math.max(w.activeIndex-Math.max(i,n),0);for(t=w.activeIndex+w.params.slidesPerView;t<r;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);for(t=o;t<w.activeIndex;t++)w.slides[t]&&w.lazy.loadImageInSlide(t)}else{var s=w.wrapper.children("."+w.params.slideNextClass);s.length>0&&w.lazy.loadImageInSlide(s.index());var a=w.wrapper.children("."+w.params.slidePrevClass);a.length>0&&w.lazy.loadImageInSlide(a.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(e){var t=w.scrollbar,n=w.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=n-t.track.offset()[w.isHorizontal()?"left":"top"]-t.dragSize/2,r=-w.minTranslate()*t.moveDivider,o=-w.maxTranslate()*t.moveDivider;i<r?i=r:i>o&&(i=o),i=-i/t.moveDivider,w.updateProgress(i),w.setWrapperTranslate(i,!0)},dragStart:function(e){var t=w.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),w.params.scrollbarHide&&t.track.css("opacity",1),w.wrapper.transition(100),t.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(e){var t=w.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),w.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(e){var t=w.scrollbar;t.isTouched&&(t.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},enableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).on(w.touchEvents.start,t.dragStart),e(n).on(w.touchEvents.move,t.dragMove),e(n).on(w.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).off(w.touchEvents.start,t.dragStart),e(n).off(w.touchEvents.move,t.dragMove),e(n).off(w.touchEvents.end,t.dragEnd)},set:function(){if(w.params.scrollbar){var t=w.scrollbar;t.track=e(w.params.scrollbar),w.params.uniqueNavElements&&"string"==typeof w.params.scrollbar&&t.track.length>1&&1===w.container.find(w.params.scrollbar).length&&(t.track=w.container.find(w.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=w.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=w.size/w.virtualSize,t.moveDivider=t.divider*(t.trackSize/w.size),t.dragSize=t.trackSize*t.divider,w.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",w.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var e,t=w.scrollbar,n=(w.translate,t.dragSize);e=(t.trackSize-t.dragSize)*w.progress,w.rtl&&w.isHorizontal()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):e<0?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),w.isHorizontal()?(w.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(w.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),w.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){w.params.scrollbar&&w.scrollbar.drag.transition(e)}},w.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var n,i;this.x.length;this.interpolate=function(e){return e?(i=r(this.x,e),n=i-1,(e-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var r=function(){var e,t,n;return function(i,r){for(t=-1,e=i.length;e-t>1;)i[n=e+t>>1]<=r?t=n:e=n;return e}}()},getInterpolateFunction:function(e){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,e.slidesGrid):new w.controller.LinearSpline(w.snapGrid,e.snapGrid))},setTranslate:function(e,n){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(t),o=-w.controller.spline.interpolate(-e)),o&&"container"!==w.params.controlBy||(r=(t.maxTranslate()-t.minTranslate())/(w.maxTranslate()-w.minTranslate()),o=(e-w.minTranslate())*r+t.minTranslate()),w.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,w),t.updateActiveIndex()}var r,o,s=w.params.control;if(w.isArray(s))for(var a=0;a<s.length;a++)s[a]!==n&&s[a]instanceof t&&i(s[a]);else s instanceof t&&n!==s&&i(s)},setTransition:function(e,n){function i(t){t.setWrapperTransition(e,w),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===w.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var r,o=w.params.control;if(w.isArray(o))for(r=0;r<o.length;r++)o[r]!==n&&o[r]instanceof t&&i(o[r]);else o instanceof t&&n!==o&&i(o)}},w.hashnav={init:function(){if(w.params.hashnav){w.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=w.slides.length;t<n;t++){var i=w.slides.eq(t),r=i.attr("data-hash");if(r===e&&!i.hasClass(w.params.slideDuplicateClass)){var o=i.index();w.slideTo(o,0,w.params.runCallbacksOnInit,!0)}}}},setHash:function(){w.hashnav.initialized&&w.params.hashnav&&(document.location.hash=w.slides.eq(w.activeIndex).attr("data-hash")||"")}},w.disableKeyboardControl=function(){w.params.keyboardControl=!1,e(document).off("keydown",c)},w.enableKeyboardControl=function(){w.params.keyboardControl=!0,e(document).on("keydown",c)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl){try{new window.WheelEvent("wheel"),w.mousewheel.event="wheel"}catch(e){(window.WheelEvent||w.container[0]&&"wheel"in w.container[0])&&(w.mousewheel.event="wheel")}!w.mousewheel.event&&window.WheelEvent,w.mousewheel.event||void 0===document.onmousewheel||(w.mousewheel.event="mousewheel"),w.mousewheel.event||(w.mousewheel.event="DOMMouseScroll")}w.disableMousewheelControl=function(){return!!w.mousewheel.event&&(w.container.off(w.mousewheel.event,u),!0)},w.enableMousewheelControl=function(){return!!w.mousewheel.event&&(w.container.on(w.mousewheel.event,u),!0)},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,w.progress)}),w.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),n.transition(i)})}},w._plugins=[];for(var R in w.plugins){var O=w.plugins[R](w,w.params[R]);O&&w._plugins.push(O)}return w.callPlugins=function(e){for(var t=0;t<w._plugins.length;t++)e in w._plugins[t]&&w._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.emitterEventListeners={},w.emit=function(e){w.params[e]&&w.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(w.emitterEventListeners[e])for(t=0;t<w.emitterEventListeners[e].length;t++)w.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(e,t){return e=d(e),w.emitterEventListeners[e]||(w.emitterEventListeners[e]=[]),w.emitterEventListeners[e].push(t),w},w.off=function(e,t){var n;if(e=d(e),void 0===t)return w.emitterEventListeners[e]=[],w;if(w.emitterEventListeners[e]&&0!==w.emitterEventListeners[e].length){for(n=0;n<w.emitterEventListeners[e].length;n++)w.emitterEventListeners[e][n]===t&&w.emitterEventListeners[e].splice(n,1);return w}},w.once=function(e,t){e=d(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),w.off(e,n)};return w.on(e,n),w},w.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(w.params.nextButton)?(w.onClickNext(t),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):e(t.target).is(w.params.prevButton)&&(w.onClickPrev(t),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),e(t.target).is("."+w.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=w.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){w.params.nextButton&&w.nextButton&&w.nextButton.length>0&&(w.a11y.makeFocusable(w.nextButton),w.a11y.addRole(w.nextButton,"button"),w.a11y.addLabel(w.nextButton,w.params.nextSlideMessage)),w.params.prevButton&&w.prevButton&&w.prevButton.length>0&&(w.a11y.makeFocusable(w.prevButton),w.a11y.addRole(w.prevButton,"button"),w.a11y.addLabel(w.prevButton,w.params.prevSlideMessage)),e(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var t=e(this);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){w.a11y.liveRegion&&w.a11y.liveRegion.length>0&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&e(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&e(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(e,t){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),t&&w.cleanupStyles(),w.disconnectObservers(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.emit("onDestroy"),e!==!1&&(w=null)},w.init(),w}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var n=(function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var i=[],r=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var o,s,a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";for(0===a.indexOf("<li")&&(l="ul"),0===a.indexOf("<tr")&&(l="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(l="tr"),0===a.indexOf("<tbody")&&(l="table"),0===a.indexOf("<option")&&(l="select"),s=document.createElement(l),s.innerHTML=t,r=0;r<s.childNodes.length;r++)i.push(s.childNodes[r])}else for(o=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<o.length;r++)o[r]&&i.push(o[r])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)i.push(t[r]);return new e(i)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var n=0;n<this.length;n++){var i=this[n];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){var r=this[0].getAttribute("data-"+e);return r?r:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,r){function o(e){var r=e.target;if(t(r).is(n))i.call(r,e);else for(var o=t(r).parents(),s=0;s<o.length;s++)t(o[s]).is(n)&&i.call(o[s],e)}var s,a,l=e.split(" ");for(s=0;s<this.length;s++)if("function"==typeof n||n===!1)for("function"==typeof n&&(i=arguments[1],r=arguments[2]||!1),a=0;a<l.length;a++)this[s].addEventListener(l[a],i,r);else for(a=0;a<l.length;a++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:i,liveListener:o}),this[s].addEventListener(l[a],o,r);return this},off:function(e,t,n,i){for(var r=e.split(" "),o=0;o<r.length;o++)for(var s=0;s<this.length;s++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],i=arguments[2]||!1),this[s].removeEventListener(r[o],n,i);else if(this[s].dom7LiveListeners)for(var a=0;a<this[s].dom7LiveListeners.length;a++)this[s].dom7LiveListeners[a].listener===n&&this[s].removeEventListener(r[o],this[s].dom7LiveListeners[a].liveListener,i);return this},once:function(e,t,n,i){function r(s){n(s),o.off(e,t,r,i)}var o=this;"function"==typeof t&&(t=!1,n=arguments[1],i=arguments[2]),o.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(n){i=document.createEvent("Event"),i.initEvent(e,!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,i=e.clientTop||n.clientTop||0,r=e.clientLeft||n.clientLeft||0,o=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+o-i,left:t.left+s-r}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var i,r;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(i=t(n),r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(i=n.nodeType?[n]:n,r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var n,i=this.length;return t>i-1?new e([]):t<0?(n=i+t,new e(n<0?[]:[this[n]])):new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[n].appendChild(r.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].appendChild(t[i]);else this[n].appendChild(t);return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,i=r.childNodes.length-1;i>=0;i--)this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].insertBefore(t[i],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0]);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r])},insertAfter:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0].nextSibling);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var o=r.nextElementSibling;n?t(o).is(n)&&i.push(o):i.push(o),r=o}return new e(i)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var o=r.previousElementSibling;n?t(o).is(n)&&i.push(o):i.push(o),r=o}return new e(i)},parent:function(e){for(var n=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&n.push(this[i].parentNode):n.push(this[i].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].parentNode;r;)e?t(r).is(e)&&n.push(r):n.push(r),r=r.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].querySelectorAll(t),o=0;o<r.length;o++)n.push(r[o]);return new e(n)},children:function(n){
for(var i=[],r=0;r<this.length;r++)for(var o=this[r].childNodes,s=0;s<o.length;s++)n?1===o[s].nodeType&&t(o[s]).is(n)&&i.push(o[s]):1===o[s].nodeType&&i.push(o[s]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,i=this;for(e=0;e<arguments.length;e++){var r=t(arguments[e]);for(n=0;n<r.length;n++)i[i.length]=r[n],i.length++}return i}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t},t}()),i=["jQuery","Zepto","Dom7"],r=0;r<i.length;r++)window[i[r]]&&function(e){e.fn.swiper=function(n){var i;return e(this).each(function(){var e=new t(this,n);i||(i=e)}),i}}(window[i[r]]);var o;o=void 0===n?window.Dom7||window.Zepto||window.jQuery:n,o&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this}),"transform"in o.fn||(o.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in o.fn||(o.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(){var e,t,n,i,r,o,s,a,l=[].slice,c={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,r,o;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,o=n.length;r<o;r++)t=n[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=r=0,o=n.length;r<o;i=++r)if(n[i]===t){n.splice(i,1);break}return this},e}(),e=function(e){function n(e,t){var r,o,s;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,r=null!=(s=n.optionsForElement(this.element))?s:{},this.options=i({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,r;return u(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return s},forceFallback:!1,fallback:function(){var e,t,i,r,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),r=0,o=s.length;r<o;r++)e=s[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),i=t.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,r,o,s,a,l,c,u,p,d,f,h;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),p=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=p.length;o<l;o++)t=p[o],t.textContent=this._renameFilename(e.name);for(d=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=d.length;s<c;s++)t=d[s],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),h=[],a=0,u=f.length;a<u;a++)r=f[a],h.push(r.addEventListener("click",i));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=o.length;i<r;i++)n=o[i],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(e,t){var n,i,r,o,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,r=o.length;i<r;i++)n=o[i],s.push(n.textContent=t);return s}},errormultiple:s,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:s,uploadprogress:function(e,t,n){var i,r,o,s,a;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],r=0,o=s.length;r<o;r++)i=s[r],"PROGRESS"===i.nodeName?a.push(i.value=t):a.push(i.style.width=t+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:s,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,r,o,s;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],o=0,s=n.length;o<s;o++){t=n[o];for(e in t)r=t[e],i[e]=r}return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted&&r.push(e);return r},n.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted||r.push(e);return r},n.prototype.getFilesWithStatus=function(e){var t,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;n<i;n++)t=r[n],t.status===e&&o.push(t);return o},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var e,t,i,r,o;for(r=this.files,o=[],t=0,i=r.length;t<i;t++)e=r[t],e.status!==n.UPLOADING&&e.status!==n.QUEUED||o.push(e);return o},n.prototype.init=function(){var e,t,i,r,o,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,r,o;if(n=e.hiddenFileInput.files,n.length)for(r=0,o=n.length;r<o;r++)t=n[r],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,r=0,o=a.length;r<o;r++)e=a[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(e){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,o,s,a;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),o=0,s=a.length;o<s;o++)t=a[o],i+=t.upload.bytesSent,n+=t.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},n.prototype.getFallbackForm=function(){var e,t,i,r;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(r=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,r,o;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],i=0,r=o.length;i<r;i++)if(n=o[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;i<r;i++)e=o[i],s.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return s},n.prototype.removeEventListeners=function(){var e,t,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;i<r;i++)e=o[i],s.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return s},n.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(this.cancelUpload(e));return r},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,r,o,s,a,l;if(i=0,r="b",e>0){for(s=["TB","GB","MB","KB","b"],n=a=0,l=s.length;a<l;n=++a)if(o=s[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),r=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+r},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},n.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(this.addFile(t));return r},n.prototype._addFilesFromItems=function(e){var t,n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},n.prototype._addFilesFromDirectory=function(e,t){var n,i,r;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(r=function(e){return function(){return n.readEntries(function(n){var i,o,s;if(n.length>0){for(o=0,s=n.length;o<s;o++)i=n[o],i.isFile?i.file(function(n){if(!e.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=t+"/"+n.name,e.addFile(n)}):i.isDirectory&&e._addFilesFromDirectory(i,t+"/"+i.name);r()}return null},i)}}(this))()},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},n.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},n.prototype.removeFile=function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(e){var t,i,r,o;for(null==e&&(e=!1),o=this.files.slice(),i=0,r=o.length;i<r;i++)t=o[i],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n,i){var r;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=function(t){return function(){var i,s,a,l,c,u,p,d;if(e.width=r.width,e.height=r.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),s=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,o(s,r,null!=(c=a.srcX)?c:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(p=a.trgX)?p:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n)return n()}}(this),null!=n&&(r.onerror=n),r.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,r;for(i=0,r=e.length;i<r;i++)t=e[i],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t;return function(){var n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;n<i;n++)t=r[n],t.xhr===e&&o.push(t);return o}.call(this)},n.prototype.cancelUpload=function(e){var t,i,r,o,s,a,l;if(e.status===n.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),r=0,s=i.length;r<s;r++)t=i[r],t.status=n.CANCELED;for(e.xhr.abort(),o=0,a=i.length;o<a;o++)t=i[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==n.ADDED&&l!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,o,s,a,l,c,u,p,d,f,h,m,g,v,b,y,w,x,C,k,S,T,E,P,L,_,M,A,I,z,B,N,F,j;for(C=new XMLHttpRequest,k=0,P=e.length;k<P;k++)t=e[k],t.xhr=C;m=r(this.options.method,e),w=r(this.options.url,e),C.open(m,w,!0),C.withCredentials=!!this.options.withCredentials,b=null,s=function(n){return function(){var i,r,o;for(o=[],i=0,r=e.length;i<r;i++)t=e[i],o.push(n._errorProcessing(e,b||n.options.dictResponseError.replace("{{statusCode}}",C.status),C));return o}}(this),y=function(n){return function(i){var r,o,s,a,l,c,u,p,d;if(null!=i)for(o=100*i.loaded/i.total,s=0,c=e.length;s<c;s++)t=e[s],t.upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(r=!0,o=100,a=0,u=e.length;a<u;a++)t=e[a],100===t.upload.progress&&t.upload.bytesSent===t.upload.total||(r=!1),t.upload.progress=o,t.upload.bytesSent=t.upload.total;if(r)return}for(d=[],l=0,p=e.length;l<p;l++)t=e[l],d.push(n.emit("uploadprogress",t,o,t.upload.bytesSent));return d}}(this),C.onload=function(t){return function(i){var r;if(e[0].status!==n.CANCELED&&4===C.readyState){if(b=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(e){i=e,b="Invalid JSON response from server."}return y(),200<=(r=C.status)&&r<300?t._finished(e,b,i):s()}}}(this),C.onerror=function(t){return function(){if(e[0].status!==n.CANCELED)return s()}}(),v=null!=(I=C.upload)?I:C,v.onprogress=y,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers);for(a in c)(l=c[a])&&C.setRequestHeader(a,l);if(o=new FormData,this.options.params){z=this.options.params;for(h in z)x=z[h],o.append(h,x)}for(S=0,L=e.length;S<L;S++)t=e[S],this.emit("sending",t,C,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,o),"FORM"===this.element.tagName)for(B=this.element.querySelectorAll("input, textarea, select, button"),T=0,_=B.length;T<_;T++)if(p=B[T],d=p.getAttribute("name"),f=p.getAttribute("type"),"SELECT"===p.tagName&&p.hasAttribute("multiple"))for(N=p.options,E=0,M=N.length;E<M;E++)g=N[E],g.selected&&o.append(d,g.value);else(!f||"checkbox"!==(F=f.toLowerCase())&&"radio"!==F||p.checked)&&o.append(d,p.value);for(u=A=0,j=e.length-1;0<=j?A<=j:A>=j;u=0<=j?++A:--A)o.append(this._getParamName(u),e[u],this._renameFilename(e[u].name));return this.submitRequest(C,o,e)},n.prototype.submitRequest=function(e,t,n){return e.send(t)},n.prototype._finished=function(e,t,i){var r,o,s;for(o=0,s=e.length;o<s;o++)r=e[o],r.status=n.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(e,t,i){var r,o,s;for(o=0,s=e.length;o<s;o++)r=e[o],r.status=n.ERROR,this.emit("error",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n}(t),e.version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;n<r;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(i.push(t)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;r<o;r++)n=i[r],e.optionsForElement(n)!==!1?s.push(new e(n)):s.push(void 0);return s},
e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,r,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,i=0,r=o.length;i<r;i++)n=o[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)(n=e[i])!==t&&o.push(n);return o},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,r,o,s,a,l;if(e instanceof Array){i=[];try{for(r=0,s=e.length;r<s;r++)n=e[r],i.push(this.getElement(n,t))}catch(e){e,i=null}}else if("string"==typeof e)for(i=[],l=document.querySelectorAll(e),o=0,a=l.length;o<a;o++)n=l[o],i.push(n);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,r,o,s;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),o=0,s=t.length;o<s;o++)if(r=t[o],r=r.trim(),"."===r.charAt(0)){if(e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,n,i,r,o,s,a,l,c;for(e.naturalWidth,s=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,s).data,c=0,o=s,a=s;a>c;)t=r[4*(a-1)+3],0===t?o=a:c=a,a=o+c>>1;return l=a/s,0===l?1:l},o=function(e,t,n,i,o,s,a,l,c,u){var p;return p=r(t),e.drawImage(t,n,i,o,s,a,l,c,u/p)},i=function(e,t){var n,i,r,o,s,a,l,c,u;if(r=!1,u=!0,i=e.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[l](a+n.type,o,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0},s=function(){try{c.doScroll("left")}catch(e){return e,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(e){}u&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),e[n](a+"load",o,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},i(window,e._autoDiscoverFunction)}.call(this),fotoramaVersion="4.6.4",function(e,t,n,i,r){"use strict";function o(){}function s(e,t,n){return Math.max(isNaN(t)?-(1/0):t,Math.min(isNaN(n)?1/0:n,e))}function a(e){return e.match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]}function l(e){return zt?+a(e.css("transform")):+e.css("left").replace("px","")}function c(e){var t={};return zt?t.transform="translate3d("+e+"px,0,0)":t.left=e,t}function u(e){return{"transition-duration":e+"ms"}}function p(e,t){return isNaN(e)?t:e}function d(e,t){return p(+String(e).replace(t||"px",""))}function f(e){return/%$/.test(e)?d(e,"%"):r}function h(e,t){return p(f(e)/100*t,d(e))}function m(e){return(!isNaN(d(e))||!isNaN(d(e,"%")))&&e}function g(e,t,n,i){return(e-(i||0))*(t+(n||0))}function v(e,t,n,i){return-Math.round(e/(t+(n||0))-(i||0))}function b(e){var t=e.data();if(!t.tEnd){U(e[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[yt.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()}),t.tEnd=!0}}function y(e,t,n,i){var r,o=e.data();o&&(o.onEndFn=function(){r||(r=!0,clearTimeout(o.tT),n())},o.tProp=t,clearTimeout(o.tT),o.tT=setTimeout(function(){o.onEndFn()},1.5*i),b(e))}function w(e,t){if(e.length){var n=e.data();zt?(e.css(u(0)),n.onEndFn=o,clearTimeout(n.tT)):e.stop();var i=x(t,function(){return l(e)});return e.css(c(i)),i}}function x(){for(var e,t=0,n=arguments.length;t<n&&"number"!=typeof(e=t?arguments[t]():arguments[t]);t++);return e}function C(e,t){return Math.round(e+(t-e)/1.5)}function k(){return k.p=k.p||("https:"===n.protocol?"https://":"http://"),k.p}function S(e){var n=t.createElement("a");return n.href=e,n}function T(e,t){if("string"!=typeof e)return e;e=S(e);var n,i;if(e.host.match(/youtube\.com/)&&e.search){if(n=e.search.split("v=")[1]){var r=n.indexOf("&");r!==-1&&(n=n.substring(0,r)),i="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(n=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):e.host.match(/vimeo\.com/)&&(i="vimeo",n=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!t||(n=e.href,i="custom"),!!n&&{id:n,type:i,s:e.search.replace(/^\?/,""),p:k()}}function E(e,t,n){var r,o,s=e.video;return"youtube"===s.type?(o=k()+"img.youtube.com/vi/"+s.id+"/default.jpg",r=o.replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===s.type?i.ajax({url:k()+"vimeo.com/api/v2/video/"+s.id+".json",dataType:"jsonp",success:function(i){e.thumbsReady=!0,P(t,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},e.i,n)}}):e.thumbsReady=!0,{img:r,thumb:o}}function P(e,t,n,r){for(var o=0,s=e.length;o<s;o++){var a=e[o];if(a.i===n&&a.thumbsReady){var l={videoReady:!0};l[Xt]=l[Vt]=l[Gt]=!1,r.splice(o,1,i.extend({},a,l,t));break}}}function L(e){function t(e,t,r){var o=e.children("img").eq(0),s=e.attr("href"),a=e.attr("src"),l=o.attr("src"),c=t.video,u=!!r&&T(s,c===!0);u?s=!1:u=c,n(e,o,i.extend(t,{video:u,img:t.img||s||a||l,thumb:t.thumb||l||a||s}))}function n(e,t,n){var r=n.thumb&&n.img!==n.thumb,o=d(n.width||e.attr("width")),s=d(n.height||e.attr("height"));i.extend(n,{width:o,height:s,thumbratio:W(n.thumbratio||d(n.thumbwidth||t&&t.attr("width")||r||o)/d(n.thumbheight||t&&t.attr("height")||r||s))})}var r=[];return e.children().each(function(){var e=i(this),o=q(i.extend(e.data(),{id:e.attr("id")}));if(e.is("a, img"))t(e,o,!0);else{if(e.is(":empty"))return;n(e,null,i.extend(o,{html:this,_html:e.html()}))}r.push(o)}),r}function _(e){return 0===e.offsetWidth&&0===e.offsetHeight}function M(e){return!i.contains(t.documentElement,e)}function A(e,t,n,i){return A.i||(A.i=1,A.ii=[!0]),i=i||A.i,void 0===A.ii[i]&&(A.ii[i]=!0),e()?t():A.ii[i]&&setTimeout(function(){A.ii[i]&&A(e,t,n,i)},n||100),A.i++}function I(e){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+e)}function z(e,t,n,i){var r=e.data(),o=r.measures;if(o&&(!r.l||r.l.W!==o.width||r.l.H!==o.height||r.l.r!==o.ratio||r.l.w!==t.w||r.l.h!==t.h||r.l.m!==n||r.l.p!==i)){var a=o.width,l=o.height,c=t.w/t.h,u=o.ratio>=c,p="scaledown"===n,d="contain"===n,f="cover"===n,m=Q(i);u&&(p||d)||!u&&f?(a=s(t.w,0,p?a:1/0),l=a/o.ratio):(u&&f||!u&&(p||d))&&(l=s(t.h,0,p?l:1/0),a=l*o.ratio),e.css({width:a,height:l,left:h(m.x,t.w-a),top:h(m.y,t.h-l)}),r.l={W:o.width,H:o.height,r:o.ratio,w:t.w,h:t.h,m:n,p:i}}return!0}function B(e,t){var n=e[0];n.styleSheet?n.styleSheet.cssText=t:e.html(t)}function N(e,t,n){return t!==n&&(e<=t?"left":e>=n?"right":"left right")}function F(e,t,n,i){if(!n)return!1;if(!isNaN(e))return e-(i?0:1);for(var r,o=0,s=t.length;o<s;o++){if(t[o].id===e){r=o;break}}return r}function j(e,t,n){n=n||{},e.each(function(){var e,r=i(this),s=r.data();s.clickOn||(s.clickOn=!0,i.extend(te(r,{onStart:function(t){e=t,(n.onStart||o).call(this,t)},onMove:n.onMove||o,onTouchEnd:n.onTouchEnd||o,onEnd:function(n){n.moved||t.call(this,e)}}),{noMove:!0}))})}function R(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function O(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),i=e[t];e[t]=e[n],e[n]=i}return e}function H(e){return"[object Array]"==Object.prototype.toString.call(e)&&i.map(e,function(e){return i.extend({},e)})}function D(e,t,n){e.scrollLeft(t||0).scrollTop(n||0)}function q(e){if(e){var t={};return i.each(e,function(e,n){t[e.toLowerCase()]=n}),t}}function W(e){if(e){var t=+e;return isNaN(t)?(t=e.split("/"),+t[0]/+t[1]||r):t}}function U(e,t,n,i){t&&(e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n))}function Y(e){return!!e.getAttribute("disabled")}function $(e){return{tabindex:e*-1+"",disabled:e}}function X(e,t){U(e,"keyup",function(n){Y(e)||13==n.keyCode&&t.call(e,n)})}function G(e,t){U(e,"focus",e.onfocusin=function(n){t.call(e,n)},!0)}function V(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&e.stopPropagation&&e.stopPropagation()}function K(e){return e?">":"<"}function Q(e){return e=(e+"").split(/\s+/),{x:m(e[0])||Jt,y:m(e[1])||Jt}}function J(e,t){var n=e.data(),r=Math.round(t.pos),s=function(){n.sliding=!1,(t.onEnd||o)()};void 0!==t.overPos&&t.overPos!==t.pos&&(r=t.overPos,s=function(){J(e,i.extend({},t,{overPos:t.pos,time:Math.max(Dt,t.time/2)}))});var a=i.extend(c(r),t.width&&{width:t.width});n.sliding=!0,zt?(e.css(i.extend(u(t.time),a)),t.time>10?y(e,"transform",s,t.time):s()):e.stop().animate(a,t.time,Qt,s)}function Z(e,t,n,r,s,a){var l=void 0!==a;if(l||(s.push(arguments),Array.prototype.push.call(arguments,s.length),!(s.length>1))){e=e||i(e),t=t||i(t);var c=e[0],u=t[0],p="crossfade"===r.method,d=function(){if(!d.done){d.done=!0;var e=(l||s.shift())&&s.shift();e&&Z.apply(this,e),(r.onEnd||o)(!!e)}},f=r.time/(a||1);n.removeClass(qe+" "+De),e.stop().addClass(qe),t.stop().addClass(De),p&&u&&e.fadeTo(0,0),e.fadeTo(p?f:0,1,p&&d),t.fadeTo(f,0,d),c&&p||u||d()}}function ee(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY,e._now=i.now()}function te(e,n){function r(e){if(d=i(e.target),w.checked=m=g=b=!1,u||w.flow||e.touches&&e.touches.length>1||e.which>1||tn&&tn.type!==e.type&&rn||(m=n.select&&d.is(n.select,y)))return m;h="touchstart"===e.type,g=d.is("a, a *",y),f=w.control,v=w.noMove||w.noSwipe||f?16:w.snap?0:4,ee(e),p=tn=e,nn=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||o).call(y,e,{control:f,$target:d}),u=w.flow=!0,h&&!w.go||V(e)}function s(e){if(e.touches&&e.touches.length>1||Rt&&!e.isPrimary||nn!==e.type||!u)return u&&a(),void(n.onTouchEnd||o)();ee(e);var t=Math.abs(e._x-p._x),i=Math.abs(e._y-p._y),r=t-i,s=(w.go||w.x||r>=0)&&!w.noSwipe,l=r<0;h&&!w.checked?(u=s)&&V(e):(V(e),(n.onMove||o).call(y,e,{touch:h})),!b&&Math.sqrt(Math.pow(t,2)+Math.pow(i,2))>v&&(b=!0),w.checked=w.checked||s||l}function a(e){(n.onTouchEnd||o)();var t=u;w.control=u=!1,t&&(w.flow=!1),!t||g&&!w.checked||(e&&V(e),rn=!0,clearTimeout(on),on=setTimeout(function(){rn=!1},1e3),(n.onEnd||o).call(y,{moved:b,$target:d,control:f,touch:h,startEvent:p,aborted:!e||"MSPointerCancel"===e.type}))}function l(){w.flow||setTimeout(function(){w.flow=!0},10)}function c(){w.flow&&setTimeout(function(){w.flow=!1},Ht)}var u,p,d,f,h,m,g,v,b,y=e[0],w={};return Rt?(U(y,"MSPointerDown",r),U(t,"MSPointerMove",s),U(t,"MSPointerCancel",a),U(t,"MSPointerUp",a)):(U(y,"touchstart",r),U(y,"touchmove",s),U(y,"touchend",a),U(t,"touchstart",l),U(t,"touchend",c),U(t,"touchcancel",c),_t.on("scroll",c),e.on("mousedown",r),Mt.on("mousemove",s).on("mouseup",a)),e.on("click","a",function(e){w.checked&&V(e)}),w}function ne(e,t){function n(n,i){E=!0,u=p=n._x,g=n._now,m=[[g,u]],d=f=_.noMove||i?0:w(e,(t.getPos||o)()),(t.onStart||o).call(P,n)}function r(e,t){b=_.min,y=_.max,x=_.snap,k=e.altKey,E=T=!1,(S=t.control)||L.sliding||n(e)}function a(i,r){_.noSwipe||(E||n(i),p=i._x,m.push([i._now,p]),f=d-(u-p),h=N(f,b,y),f<=b?f=C(f,b):f>=y&&(f=C(f,y)),_.noMove||(e.css(c(f)),T||(T=!0,r.touch||Rt||e.addClass(it)),(t.onMove||o).call(P,i,{pos:f,edge:h})))}function l(r){if(!_.noSwipe||!r.moved){E||n(r.startEvent,!0),r.touch||Rt||e.removeClass(it),v=i.now();for(var a,l,c,u,h,g,w,C,S,T=v-Ht,L=null,M=Dt,A=t.friction,I=m.length-1;I>=0;I--){if(a=m[I][0],l=Math.abs(a-T),null===L||l<c)L=a,u=m[I][1];else if(L===T||l>c)break;c=l}w=s(f,b,y);var z=u-p,B=z>=0,N=v-L,F=N>Ht,j=!F&&f!==d&&w===f;x&&(w=s(Math[j?B?"floor":"ceil":"round"](f/x)*x,b,y),b=y=w),j&&(x||w===f)&&(S=-(z/N),M*=s(Math.abs(S),t.timeLow,t.timeHigh),h=Math.round(f+S*M/A),x||(w=h),(!B&&h>y||B&&h<b)&&(g=B?b:y,C=h-g,x||(w=g),C=s(w+.03*C,g-50,g+50),M=Math.abs((f-C)/(S/A)))),M*=k?10:1,(t.onEnd||o).call(P,i.extend(r,{moved:r.moved||F&&x,pos:f,newPos:w,overPos:C,time:M}))}}var u,p,d,f,h,m,g,v,b,y,x,k,S,T,E,P=e[0],L=e.data(),_={};return _=i.extend(te(t.$wrap,i.extend({},t,{onStart:r,onMove:a,onEnd:l})),_)}function ie(e,t){var n,r,s,a=e[0],l={prevent:{}};return U(a,Ot,function(e){var a=e.wheelDeltaY||-1*e.deltaY||0,c=e.wheelDeltaX||-1*e.deltaX||0,u=Math.abs(c)&&!Math.abs(a),p=K(c<0),d=r===p,f=i.now(),h=f-s<Ht;r=p,s=f,u&&l.ok&&(!l.prevent[p]||n)&&(V(e,!0),n&&d&&h||(t.shift&&(n=!0,clearTimeout(l.t),l.t=setTimeout(function(){n=!1},qt)),(t.onEnd||o)(e,t.shift?p:c)))}),l}function re(){i.each(i.Fotorama.instances,function(e,t){t.index=e})}function oe(e){i.Fotorama.instances.push(e),re()}function se(e){i.Fotorama.instances.splice(e.index,1),re()}var ae="fotorama",le="fullscreen",ce=ae+"__wrap",ue=ce+"--css2",pe=ce+"--css3",de=ce+"--video",fe=ce+"--fade",he=ce+"--slide",me=ce+"--no-controls",ge=ce+"--no-shadows",ve=ce+"--pan-y",be=ce+"--rtl",ye=ce+"--only-active",we=ce+"--no-captions",xe=ce+"--toggle-arrows",Ce=ae+"__stage",ke=Ce+"__frame",Se=ke+"--video",Te=Ce+"__shaft",Ee=ae+"__grab",Pe=ae+"__pointer",Le=ae+"__arr",_e=Le+"--disabled",Me=Le+"--prev",Ae=Le+"--next",Ie=ae+"__nav",ze=Ie+"-wrap",Be=Ie+"__shaft",Ne=Ie+"--dots",Fe=Ie+"--thumbs",je=Ie+"__frame",Re=je+"--dot",Oe=je+"--thumb",He=ae+"__fade",De=He+"-front",qe=He+"-rear",We=ae+"__shadow",Ue=We+"s",Ye=Ue+"--left",$e=Ue+"--right",Xe=ae+"__active",Ge=ae+"__select",Ve=ae+"--hidden",Ke=ae+"--fullscreen",Qe=ae+"__fullscreen-icon",Je=ae+"__error",Ze=ae+"__loading",et=ae+"__loaded",tt=et+"--full",nt=et+"--img",it=ae+"__grabbing",rt=ae+"__img",ot=rt+"--full",st=ae+"__dot",at=ae+"__thumb",lt=at+"-border",ct=ae+"__html",ut=ae+"__video",pt=ut+"-play",dt=ut+"-close",ft=ae+"__caption",ht=ae+"__caption__wrap",mt=ae+"__spinner",gt='" tabindex="0" role="button',vt=i&&i.fn.jquery.split(".");if(!vt||vt[0]<1||1==vt[0]&&vt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var bt={},yt=function(e,t,n){function i(e){m.cssText=e}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!o(r,"-")&&m[r]!==n)return"pfx"!=t||r}return!1}function a(e,t,i){for(var o in e){var s=t[e[o]];if(s!==n)return i===!1?e[o]:r(s,"function")?s.bind(i||t):s}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+b.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?s(o,t):(o=(e+" "+y.join(i+" ")+i).split(" "),a(o,t,n))}var c,u,p={},d=t.documentElement,f="modernizr",h=t.createElement(f),m=h.style,g=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),v="Webkit Moz O ms",b=v.split(" "),y=v.toLowerCase().split(" "),w={},x=[],C=x.slice,k=function(e,n,i,r){var o,s,a,l,c=t.createElement("div"),u=t.body,p=u||t.createElement("body");if(parseInt(i,10))for(;i--;)a=t.createElement("div"),a.id=r?r[i]:f+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),c.id=f,(u?c:p).innerHTML+=o,p.appendChild(c),u||(p.style.background="",p.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),s=n(c,e),u?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),d.style.overflow=l),!!s},S={}.hasOwnProperty;u=r(S,"undefined")||r(S.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return S.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,n.concat(C.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(C.call(arguments)))};return i}),w.csstransforms3d=function(){return!!l("perspective")};for(var T in w)u(w,T)&&(c=T.toLowerCase(),p[c]=w[T](),x.push((p[c]?"":"no-")+c));return p.addTest=function(e,t){if("object"==typeof e)for(var i in e)u(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(t?"":"no-")+e),p[e]=t}return p},i(""),h=null,p._version="2.6.2",p._prefixes=g,p._domPrefixes=y,p._cssomPrefixes=b,p.testProp=function(e){return s([e])},p.testAllProps=l,p.testStyles=k,p.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},p}(0,t),wt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},xt="webkit moz o ms khtml".split(" ");if(void 0!==t.cancelFullScreen)wt.ok=!0;else for(var Ct=0,kt=xt.length;Ct<kt;Ct++)if(wt.prefix=xt[Ct],void 0!==t[wt.prefix+"CancelFullScreen"]){wt.ok=!0;break}wt.ok&&(wt.event=wt.prefix+"fullscreenchange",wt.is=function(){switch(this.prefix){case"":return t.fullScreen;case"webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},wt.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},wt.cancel=function(e){return""===this.prefix?t.cancelFullScreen():t[this.prefix+"CancelFullScreen"]()});var St,Tt={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Et={top:"auto",left:"auto",className:""};!function(e,n){St=function(){function e(e,n){var i,r=t.createElement(e||"div");for(i in n)r[i]=n[i];return r}function n(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function i(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=p.substring(0,p.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return f[r]||(h.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",h.cssRules.length),f[r]=1),r}function o(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<d.length;i++)if(n=d[i]+t,o[n]!==r)return n;if(o[t]!==r)return t}function s(e,t){for(var n in t)e.style[o(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]===r&&(e[i]=n[i])}return e}function l(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function c(e,t){return"string"==typeof e?e:e[t%e.length]}function u(e){if(void 0===this)return new u(e);this.opts=a(e||{},u.defaults,m)}var p,d=["webkit","Moz","ms","O"],f={},h=function(){var i=e("style",{type:"text/css"});return n(t.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},a(u.prototype,{spin:function(t){this.stop();var n,i,r=this,o=r.opts,a=r.el=s(e(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),c=o.radius+o.length+o.width;if(t&&(t.insertBefore(a,t.firstChild||null),i=l(t),n=l(a),s(a,{left:("auto"==o.left?i.x-n.x+(t.offsetWidth>>1):parseInt(o.left,10)+c)+"px",top:("auto"==o.top?i.y-n.y+(t.offsetHeight>>1):parseInt(o.top,10)+c)+"px"})),a.setAttribute("role","progressbar"),r.lines(a,r.opts),!p){var u,d=0,f=(o.lines-1)*(1-o.direction)/2,h=o.fps,m=h/o.speed,g=(1-o.opacity)/(m*o.trail/100),v=m/o.lines;!function e(){d++;for(var t=0;t<o.lines;t++)u=Math.max(1-(d+(o.lines-t)*v)%m*g,o.opacity),r.opacity(a,t*o.direction+f,u,o);r.timeout=r.el&&setTimeout(e,~~(1e3/h))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=r),this},lines:function(t,r){function o(t,n){return s(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*l+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var a,l=0,u=(r.lines-1)*(1-r.direction)/2;l<r.lines;l++)a=s(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:p&&i(r.opacity,r.trail,u+l*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&n(a,s(o("#000","0 0 4px #000"),{top:"2px"})),n(t,n(a,o(c(r.color,l),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var g=s(e("group"),{behavior:"url(#default#VML)"});return!o(g,"transform")&&g.adj?function(){function t(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(e,i){function r(){return s(t("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(e,o,a){n(d,n(s(r(),{rotation:360/i.lines*e+"deg",left:~~o}),n(s(t("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:c(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}var a,l=i.length+i.width,u=2*l,p=2*-(i.width+i.length)+"px",d=s(r(),{position:"absolute",top:p,left:p});if(i.shadow)for(a=1;a<=i.lines;a++)o(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)o(a);return n(e,d)},u.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,(r=r&&r.firstChild)&&(r.opacity=n))}}():p=o(g,"animation"),u}()}();var Pt,Lt,_t=i(e),Mt=i(t),At="quirks"===n.hash.replace("#",""),It=yt.csstransforms3d,zt=It&&!At,Bt=It||"CSS1Compat"===t.compatMode,Nt=wt.ok,Ft=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),jt=!zt||Ft,Rt=navigator.msPointerEnabled,Ot="onwheel"in t.createElement("div")?"wheel":t.onmousewheel!==r?"mousewheel":"DOMMouseScroll",Ht=250,Dt=300,qt=1400,Wt=5e3,Ut=64,Yt=500,$t=333,Xt="$stageFrame",Gt="$navDotFrame",Vt="$navThumbFrame",Kt="auto",Qt=function(e){var t="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[t]){var n=function(e,t){var n=[null,null],i=[null,null],r=[null,null],o=function(o,s){return r[s]=3*e[s],i[s]=3*(t[s]-e[s])-r[s],n[s]=1-r[s]-i[s],o*(r[s]+o*(i[s]+o*n[s]))},s=function(e){return r[0]+e*(2*i[0]+3*n[0]*e)},a=function(e){for(var t,n=e,i=0;++i<14&&(t=o(n,0)-e,!(Math.abs(t)<.001));)n-=t/s(n);return n};return function(e){return o(a(e),1)}};i.easing[t]=function(t,i,r,o,s){return o*n([e[0],e[1]],[e[2],e[3]])(i/s)+r}}return t}([.1,0,.25,1]),Jt="50%",Zt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Jt,thumbposition:Jt,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Ut,thumbheight:Ut,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Dt,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},en={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};A.stop=function(e){A.ii[e]=!1};var tn,nn,rn,on;jQuery.Fotorama=function(e,r){function o(){i.each(Sn,function(e,t){if(!t.i){t.i=di++;var n=T(t.video,!0);if(n){var i={};t.video=n,t.img||t.thumb?t.thumbsReady=!0:i=E(t,Sn,li),P(Sn,{img:i.img,thumb:i.thumb},t.i,li)}}})}function a(e){return Qn[e]||li.fullScreen}function l(e){var t="keydown."+ae,n=ae+ci,i="keydown."+n,o="resize."+n+" orientationchange."+n;e?(Mt.on(i,function(e){var t,n;Ln&&27===e.keyCode?(t=!0,dn(Ln,!0,!0)):(li.fullScreen||r.keyboard&&!li.index)&&(27===e.keyCode?(t=!0,li.cancelFullScreen()):e.shiftKey&&32===e.keyCode&&a("space")||37===e.keyCode&&a("left")||38===e.keyCode&&a("up")?n="<":32===e.keyCode&&a("space")||39===e.keyCode&&a("right")||40===e.keyCode&&a("down")?n=">":36===e.keyCode&&a("home")?n="<<":35===e.keyCode&&a("end")&&(n=">>")),(t||n)&&V(e),n&&li.show({index:n,slow:e.altKey,user:!0})}),li.index||Mt.off(t).on(t,"textarea, input, select",function(e){!Lt.hasClass(le)&&e.stopPropagation()}),_t.on(o,li.resize)):(Mt.off(i),_t.off(o))}function p(t){t!==p.f&&(t?(e.html("").addClass(ae+" "+ui).append(gi).before(hi).before(mi),oe(li)):(gi.detach(),hi.detach(),mi.detach(),e.html(fi.urtext).removeClass(ui),se(li)),l(t),p.f=t)}function f(){Sn=li.data=Sn||H(r.data)||L(e),Tn=li.size=Sn.length,!kn.ok&&r.shuffle&&O(Sn),o(),Ni=S(Ni),Tn&&p(!0)}function b(){var e=Tn<2&&!r.enableifsingleframe||Ln;Ri.noMove=e||Un,Ri.noSwipe=e||!r.swipe,!Gn&&bi.toggleClass(Ee,!r.click&&!Ri.noMove&&!Ri.noSwipe),Rt&&gi.toggleClass(ve,!Ri.noSwipe)}function y(e){e===!0&&(e=""),r.autoplay=Math.max(+e||Wt,1.5*Xn)}function C(){function e(e,n){t[e?"add":"remove"].push(n)}li.options=r=q(r),Un="crossfade"===r.transition||"dissolve"===r.transition,Rn=r.loop&&(Tn>2||Un&&(!Gn||"slide"!==Gn)),Xn=+r.transitionduration||Dt,Kn="rtl"===r.direction,Qn=i.extend({},r.keyboard&&en,r.keyboard);var t={add:[],remove:[]};Tn>1||r.enableifsingleframe?(On=r.nav,Dn="top"===r.navposition,t.remove.push(Ge),Ci.toggle(!!r.arrows)):(On=!1,Ci.hide()),We(),Pn=new St(i.extend(Tt,r.spinner,Et,{direction:Kn?-1:1})),It(),Ft(),r.autoplay&&y(r.autoplay),Yn=d(r.thumbwidth)||Ut,$n=d(r.thumbheight)||Ut,Oi.ok=Di.ok=r.trackpad&&!jt,b(),rn(r,[ji]),Hn="thumbs"===On,Hn?(vt(Tn,"navThumb"),En=Pi,ai=Vt,B(hi,i.Fotorama.jst.style({w:Yn,h:$n,b:r.thumbborderwidth,m:r.thumbmargin,s:ci,q:!Bt})),Si.addClass(Fe).removeClass(Ne)):"dots"===On?(vt(Tn,"navDot"),En=Ei,ai=Gt,Si.addClass(Ne).removeClass(Fe)):(On=!1,Si.removeClass(Fe+" "+Ne)),On&&(Dn?ki.insertBefore(vi):ki.insertAfter(vi),Ct.nav=!1,Ct(En,Ti,"nav")),qn=r.allowfullscreen,qn?(_i.prependTo(vi),Wn=Nt&&"native"===qn):(_i.detach(),Wn=!1),e(Un,fe),e(!Un,he),e(!r.captions,we),e(Kn,be),e("always"!==r.arrows,xe),Vn=r.shadows&&!jt,e(!Vn,ge),gi.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),Fi=i.extend({},r)}function k(e){return e<0?(Tn+e%Tn)%Tn:e>=Tn?e%Tn:e}function S(e){return s(e,0,Tn-1)}function _(e){return Rn?k(e):S(e)}function Y(e){return!!(e>0||Rn)&&e-1}function Q(e){return!!(e<Tn-1||Rn)&&e+1}function ee(){Ri.min=Rn?-(1/0):-g(Tn-1,ji.w,r.margin,An),Ri.max=Rn?1/0:-g(0,ji.w,r.margin,An),Ri.snap=ji.w+r.margin}function te(){Hi.min=Math.min(0,ji.nw-Ti.width()),Hi.max=0,Ti.toggleClass(Ee,!(Hi.noMove=Hi.min===Hi.max))}function re(e,t,n){if("number"==typeof e){e=new Array(e);var r=!0}return i.each(e,function(e,i){if(r&&(i=e),"number"==typeof i){var o=Sn[k(i)];if(o){var s="$"+t+"Frame",a=o[s];n.call(this,e,i,o,a,s,a&&a.data())}}})}function He(e,t,n,i){(!Jn||"*"===Jn&&i===jn)&&(e=m(r.width)||m(e)||Yt,t=m(r.height)||m(t)||$t,li.resize({width:e,ratio:r.ratio||n||e/t},0,i!==jn&&"*"))}function De(e,t,n,o,s,a){re(e,t,function(e,l,c,u,p,d){function f(e){var t=k(l);on(e,{index:t,src:C,frame:Sn[t]})}function h(){y.remove(),i.Fotorama.cache[C]="error",c.html&&"stage"===t||!S||S===C?(!C||c.html||v?"stage"===t&&(u.trigger("f:load").removeClass(Ze+" "+Je).addClass(et),f("load"),He()):(u.trigger("f:error").removeClass(Ze).addClass(Je),f("error")),d.state="error",!(Tn>1&&Sn[l]===c)||c.html||c.deleted||c.video||v||(c.deleted=!0,li.splice(l,1))):(c[x]=C=S,De([l],t,n,o,s,!0))}function m(){i.Fotorama.measures[C]=w.measures=i.Fotorama.measures[C]||{width:b.width,height:b.height,ratio:b.width/b.height},He(w.measures.width,w.measures.height,w.measures.ratio,l),y.off("load error").addClass(rt+(v?" "+ot:"")).prependTo(u),z(y,(i.isFunction(n)?n():n)||ji,o||c.fit||r.fit,s||c.position||r.position),i.Fotorama.cache[C]=d.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(Ze+" "+Je).addClass(et+" "+(v?tt:nt)),"stage"===t?f("load"):(c.thumbratio===Kt||!c.thumbratio&&r.thumbratio===Kt)&&(c.thumbratio=w.measures.ratio,xn())},0)}function g(){var e=10;A(function(){return!oi||!e--&&!jt},function(){m()})}if(u){var v=li.fullScreen&&c.full&&c.full!==c.img&&!d.$full&&"stage"===t;if(!d.$img||a||v){var b=new Image,y=i(b),w=y.data();d[v?"$full":"$img"]=y;var x="stage"===t?v?"full":"img":"thumb",C=c[x],S=v?null:c["stage"===t?"thumb":"img"];if("navThumb"===t&&(u=d.$wrap),!C)return void h();i.Fotorama.cache[C]?function e(){"error"===i.Fotorama.cache[C]?h():"loaded"===i.Fotorama.cache[C]?setTimeout(g,0):setTimeout(e,100)}():(i.Fotorama.cache[C]="*",y.on("load",g).on("error",h)),d.state="",b.src=C}}})}function qe(e){Bi.append(Pn.spin().el).appendTo(e)}function We(){Bi.detach(),Pn&&Pn.stop()}function it(){var e=_n[Xt];e&&!e.data().state&&(qe(e),e.on("f:load f:error",function(){e.off("f:load f:error"),We()}))}function ut(e){X(e,bn),G(e,function(){setTimeout(function(){D(Si)},0),Qt({time:Xn,guessIndex:i(this).data().eq,minMax:Hi})})}function vt(e,t){re(e,t,function(e,n,r,o,s,a){if(!o){o=r[s]=gi[s].clone(),a=o.data(),a.data=r;var l=o[0];"stage"===t?(r.html&&i('<div class="'+ct+'"></div>').append(r._html?i(r.html).removeAttr("id").html(r._html):r.html).appendTo(o),r.caption&&i(R(ft,R(ht,r.caption))).appendTo(o),r.video&&o.addClass(Se).append(Ai.clone()),G(l,function(){setTimeout(function(){D(vi)},0),mn({index:a.eq,user:!0})}),yi=yi.add(o)):"navDot"===t?(ut(l),Ei=Ei.add(o)):"navThumb"===t&&(ut(l),a.$wrap=o.children(":first"),Pi=Pi.add(o),r.video&&a.$wrap.append(Ai.clone()))}})}function bt(e,t,n,i){return e&&e.length&&z(e,t,n,i)}function yt(e){re(e,"stage",function(e,t,n,o,s,a){if(o){var l=k(t),c=n.fit||r.fit,p=n.position||r.position;a.eq=l,Wi[Xt][l]=o.css(i.extend({left:Un?0:g(t,ji.w,r.margin,An)},Un&&u(0))),M(o[0])&&(o.appendTo(bi),dn(n.$video)),bt(a.$img,ji,c,p),bt(a.$full,ji,c,p)}})}function xt(e,t){if("thumbs"===On&&!isNaN(e)){var n=-e,o=-e+ji.nw;Pi.each(function(){var e=i(this),s=e.data(),a=s.eq,l=function(){return{h:$n,w:s.w}},c=l(),u=Sn[a]||{},p=u.thumbfit||r.thumbfit,d=u.thumbposition||r.thumbposition;c.w=s.w,s.l+s.w<n||s.l>o||bt(s.$img,c,p,d)||t&&De([a],"navThumb",l,p,d)})}}function Ct(e,t,n){if(!Ct[n]){var o="nav"===n&&Hn,s=0;t.append(e.filter(function(){for(var e,t=i(this),n=t.data(),r=0,o=Sn.length;r<o;r++)if(n.data===Sn[r]){e=!0,n.eq=r;break}return e||t.remove()&&!1}).sort(function(e,t){return i(e).data().eq-i(t).data().eq}).each(function(){if(o){var e=i(this),t=e.data(),n=Math.round($n*t.data.thumbratio)||Yn;t.l=s,t.w=n,e.css({width:n}),s+=n+r.thumbmargin}})),Ct[n]=!0}}function kt(e){return e-Ui>ji.w/3}function At(e){return!(Rn||Ni+e&&Ni-Tn+e||Ln)}function It(){var e=At(0),t=At(1);wi.toggleClass(_e,e).attr($(e)),xi.toggleClass(_e,t).attr($(t))}function Ft(){Oi.ok&&(Oi.prevent={"<":At(0),">":At(1)})}function Ot(e){var t,n,i=e.data();return Hn?(t=i.l,n=i.w):(t=e.position().left,n=e.width()),{c:t+n/2,min:-t+10*r.thumbmargin,max:-t+ji.w-n-10*r.thumbmargin}}function qt(e){var t=_n[ai].data();J(Li,{time:1.2*e,pos:t.l,width:t.w-2*r.thumbborderwidth})}function Qt(e){var t=Sn[e.guessIndex][ai];if(t){var n=Hi.min!==Hi.max,i=e.minMax||n&&Ot(_n[ai]),r=n&&(e.keep&&Qt.l?Qt.l:s((e.coo||ji.nw/2)-Ot(t).c,i.min,i.max)),o=n&&s(r,Hi.min,Hi.max);J(Ti,{time:1.1*e.time,pos:o||0,onEnd:function(){xt(o,!0)}}),pn(Si,N(o,Hi.min,Hi.max)),Qt.l=r}}function Jt(){Zt(ai),
qi[ai].push(_n[ai].addClass(Xe))}function Zt(e){for(var t=qi[e];t.length;)t.shift().removeClass(Xe)}function tn(e){var t=Wi[e];i.each(Mn,function(e,n){delete t[k(n)]}),i.each(t,function(e,n){delete t[e],n.detach()})}function nn(e){An=In=Ni;var t=_n[Xt];t&&(Zt(Xt),qi[Xt].push(t.addClass(Xe)),e||li.show.onEnd(!0),w(bi,0,!0),tn(Xt),yt(Mn),ee(),te())}function rn(e,t){e&&i.each(t,function(t,n){n&&i.extend(n,{width:e.width||n.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:W(e.ratio)})})}function on(t,n){e.trigger(ae+":"+t,[li,n])}function sn(){clearTimeout(an.t),oi=1,r.stopautoplayontouch?li.stopAutoplay():ni=!0}function an(){oi&&(r.stopautoplayontouch||(ln(),cn()),an.t=setTimeout(function(){oi=0},Dt+Ht))}function ln(){ni=!(!Ln&&!ii)}function cn(){if(clearTimeout(cn.t),A.stop(cn.w),!r.autoplay||ni)return void(li.autoplay&&(li.autoplay=!1,on("stopautoplay")));li.autoplay||(li.autoplay=!0,on("startautoplay"));var e=Ni,t=_n[Xt].data();cn.w=A(function(){return t.state||e!==Ni},function(){cn.t=setTimeout(function(){if(!ni&&e===Ni){var t=Fn,n=Sn[t][Xt].data();cn.w=A(function(){return n.state||t!==Fn},function(){ni||t!==Fn||li.show(Rn?K(!Kn):Fn)})}},r.autoplay)})}function un(){li.fullScreen&&(li.fullScreen=!1,Nt&&wt.cancel(pi),Lt.removeClass(le),Pt.removeClass(le),e.removeClass(Ke).insertAfter(mi),ji=i.extend({},ri),dn(Ln,!0,!0),vn("x",!1),li.resize(),De(Mn,"stage"),D(_t,ei,Zn),on("fullscreenexit"))}function pn(e,t){Vn&&(e.removeClass(Ye+" "+$e),t&&!Ln&&e.addClass(t.replace(/^|\s/g," "+Ue+"--")))}function dn(e,t,n){t&&(gi.removeClass(de),Ln=!1,b()),e&&e!==Ln&&(e.remove(),on("unloadvideo")),n&&(ln(),cn())}function fn(e){gi.toggleClass(me,e)}function hn(e){if(!Ri.flow){var t=e?e.pageX:hn.x,n=t&&!At(kt(t))&&r.click;hn.p!==n&&vi.toggleClass(Pe,n)&&(hn.p=n,hn.x=t)}}function mn(e){clearTimeout(mn.t),r.clicktransition&&r.clicktransition!==r.transition?setTimeout(function(){var t=r.transition;li.setOptions({transition:r.clicktransition}),Gn=t,mn.t=setTimeout(function(){li.show(e)},10)},0):li.show(e)}function gn(e,t){var n=e.target;i(n).hasClass(pt)?li.playVideo():n===Mi?li.toggleFullScreen():Ln?n===zi&&dn(Ln,!0,!0):t?fn():r.click&&mn({index:e.shiftKey||K(kt(e._x)),slow:e.altKey,user:!0})}function vn(e,t){Ri[e]=Hi[e]=t}function bn(e){mn({index:i(this).data().eq,slow:e.altKey,user:!0,coo:e._x-Si.offset().left})}function yn(e){mn({index:Ci.index(this)?">":"<",slow:e.altKey,user:!0})}function wn(e){G(e,function(){setTimeout(function(){D(vi)},0),fn(!1)})}function xn(){if(f(),C(),!xn.i){xn.i=!0;var e=r.startindex;(e||r.hash&&n.hash)&&(jn=F(e||n.hash.replace(/^#/,""),Sn,0===li.index||e,e)),Ni=An=In=zn=jn=_(jn)||0}if(Tn){if(Cn())return;Ln&&dn(Ln,!0),Mn=[],tn(Xt),xn.ok=!0,li.show({index:Ni,time:0}),li.resize()}else li.destroy()}function Cn(){if(!Cn.f===Kn)return Cn.f=Kn,Ni=Tn-1-Ni,li.reverse(),!0}function kn(){kn.ok||(kn.ok=!0,on("ready"))}Pt=i("html"),Lt=i("body");var Sn,Tn,En,Pn,Ln,_n,Mn,An,In,zn,Bn,Nn,Fn,jn,Rn,On,Hn,Dn,qn,Wn,Un,Yn,$n,Xn,Gn,Vn,Kn,Qn,Jn,Zn,ei,ti,ni,ii,ri,oi,si,ai,li=this,ci=i.now(),ui=ae+ci,pi=e[0],di=1,fi=e.data(),hi=i("<style></style>"),mi=i(R(Ve)),gi=i(R(ce)),vi=i(R(Ce)).appendTo(gi),bi=(vi[0],i(R(Te)).appendTo(vi)),yi=i(),wi=i(R(Le+" "+Me+gt)),xi=i(R(Le+" "+Ae+gt)),Ci=wi.add(xi).appendTo(vi),ki=i(R(ze)),Si=i(R(Ie)).appendTo(ki),Ti=i(R(Be)).appendTo(Si),Ei=i(),Pi=i(),Li=(bi.data(),Ti.data(),i(R(lt)).appendTo(Ti)),_i=i(R(Qe+gt)),Mi=_i[0],Ai=i(R(pt)),Ii=i(R(dt)).appendTo(vi),zi=Ii[0],Bi=i(R(mt)),Ni=!1,Fi={},ji={},Ri={},Oi={},Hi={},Di={},qi={},Wi={},Ui=0,Yi=[];gi[Xt]=i(R(ke)),gi[Vt]=i(R(je+" "+Oe+gt,R(at))),gi[Gt]=i(R(je+" "+Re+gt,R(st))),qi[Xt]=[],qi[Vt]=[],qi[Gt]=[],Wi[Xt]={},gi.addClass(zt?pe:ue).toggleClass(me,!r.controlsonstart),fi.fotorama=this,li.startAutoplay=function(e){return li.autoplay?this:(ni=ii=!1,y(e||r.autoplay),cn(),this)},li.stopAutoplay=function(){return li.autoplay&&(ni=ii=!0,cn()),this},li.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?In+1:"<"===t?In-1:"<<"===t?0:">>"===t?Tn-1:t,t=isNaN(t)?F(t,Sn,!0):t,t=void 0===t?Ni||0:t,li.activeIndex=Ni=_(t),Bn=Y(Ni),Nn=Q(Ni),Fn=k(Ni+(Kn?-1:1)),Mn=[Ni,Bn,Nn],In=Rn?t:Ni;var n=Math.abs(zn-In),i=x(e.time,function(){return Math.min(Xn*(1+(n-1)/12),2*Xn)}),o=e.overPos;e.slow&&(i*=10);var a=_n;li.activeFrame=_n=Sn[Ni];var l=a===_n&&!e.user;dn(Ln,_n.i!==Sn[k(An)].i),vt(Mn,"stage"),yt(jt?[In]:[In,Y(In),Q(In)]),vn("go",!0),l||on("show",{user:e.user,time:i}),ni=!0;var c=li.show.onEnd=function(t){if(!c.ok){if(c.ok=!0,t||nn(!0),l||on("showend",{user:e.user}),!t&&Gn&&Gn!==r.transition)return li.setOptions({transition:Gn}),void(Gn=!1);it(),De(Mn,"stage"),vn("go",!1),Ft(),hn(),ln(),cn()}};if(Un){Z(_n[Xt],Ni!==zn?Sn[zn][Xt]:null,yi,{time:i,method:r.transition,onEnd:c},Yi)}else J(bi,{pos:-g(In,ji.w,r.margin,An),overPos:o,time:i,onEnd:c});if(It(),On){Jt();var u=S(Ni+s(In-zn,-1,1));Qt({time:i,coo:u!==Ni&&e.coo,guessIndex:void 0!==e.coo?u:Ni,keep:l}),Hn&&qt(i)}return ti=void 0!==zn&&zn!==Ni,zn=Ni,r.hash&&ti&&!li.eq&&I(_n.id||Ni+1),this},li.requestFullScreen=function(){return qn&&!li.fullScreen&&(Zn=_t.scrollTop(),ei=_t.scrollLeft(),D(_t),vn("x",!0),ri=i.extend({},ji),e.addClass(Ke).appendTo(Lt.addClass(le)),Pt.addClass(le),dn(Ln,!0,!0),li.fullScreen=!0,Wn&&wt.request(pi),li.resize(),De(Mn,"stage"),it(),on("fullscreenenter")),this},li.cancelFullScreen=function(){return Wn&&wt.is()?wt.cancel(t):un(),this},li.toggleFullScreen=function(){return li[(li.fullScreen?"cancel":"request")+"FullScreen"]()},U(t,wt.event,function(){!Sn||wt.is()||Ln||un()}),li.resize=function(e){if(!Sn)return this;var t=arguments[1]||0,n=arguments[2];rn(li.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:q(e),[ji,n||li.fullScreen||r]);var i=ji.width,o=ji.height,a=ji.ratio,l=_t.height()-(On?Si.height():0);return m(i)&&(gi.addClass(ye).css({width:i,minWidth:ji.minwidth||0,maxWidth:ji.maxwidth||99999}),i=ji.W=ji.w=gi.width(),ji.nw=On&&h(r.navwidth,i)||i,r.glimpse&&(ji.w-=Math.round(2*(h(r.glimpse,i)||0))),bi.css({width:ji.w,marginLeft:(ji.W-ji.w)/2}),o=h(o,l),(o=o||a&&i/a)&&(i=Math.round(i),o=ji.h=Math.round(s(o,h(ji.minheight,l),h(ji.maxheight,l))),vi.stop().animate({width:i,height:o},t,function(){gi.removeClass(ye)}),nn(),On&&(Si.stop().animate({width:ji.nw},t),Qt({guessIndex:Ni,time:t,keep:!0}),Hn&&Ct.nav&&qt(t)),Jn=n||!0,kn())),Ui=vi.offset().left,this},li.setOptions=function(e){return i.extend(r,e),xn(),this},li.shuffle=function(){return Sn&&O(Sn)&&xn(),this},li.destroy=function(){return li.cancelFullScreen(),li.stopAutoplay(),Sn=li.data=null,p(),Mn=[],tn(Xt),xn.ok=!1,this},li.playVideo=function(){var e=_n,t=e.video,n=Ni;return"object"==typeof t&&e.videoReady&&(Wn&&li.fullScreen&&li.cancelFullScreen(),A(function(){return!wt.is()||n!==Ni},function(){n===Ni&&(e.$video=e.$video||i(i.Fotorama.jst.video(t)),e.$video.appendTo(e[Xt]),gi.addClass(de),Ln=e.$video,b(),Ci.blur(),_i.blur(),on("loadvideo"))})),this},li.stopVideo=function(){return dn(Ln,!0,!0),this},vi.on("mousemove",hn),Ri=ne(bi,{onStart:sn,onMove:function(e,t){pn(vi,t.edge)},onTouchEnd:an,onEnd:function(e){pn(vi);var t=(Rt&&!si||e.touch)&&r.arrows&&"always"!==r.arrows;if(e.moved||t&&e.pos!==e.newPos&&!e.control){var n=v(e.newPos,ji.w,r.margin,An);li.show({index:n,time:Un?Xn:e.time,overPos:e.overPos,user:!0})}else e.aborted||e.control||gn(e.startEvent,t)},timeLow:1,timeHigh:1,friction:2,select:"."+Ge+", ."+Ge+" *",$wrap:vi}),Hi=ne(Ti,{onStart:sn,onMove:function(e,t){pn(Si,t.edge)},onTouchEnd:an,onEnd:function(e){function t(){Qt.l=e.newPos,ln(),cn(),xt(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(ni=!0,J(Ti,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),xt(e.newPos),Vn&&pn(Si,N(e.newPos,Hi.min,Hi.max))):t();else{var n=e.$target.closest("."+je,Ti)[0];n&&bn.call(n,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Si}),Oi=ie(vi,{shift:!0,onEnd:function(e,t){sn(),an(),li.show({index:t,slow:e.altKey})}}),Di=ie(Si,{onEnd:function(e,t){sn(),an();var n=w(Ti)+.25*t;Ti.css(c(s(n,Hi.min,Hi.max))),Vn&&pn(Si,N(n,Hi.min,Hi.max)),Di.prevent={"<":n>=Hi.max,">":n<=Hi.min},clearTimeout(Di.t),Di.t=setTimeout(function(){Qt.l=n,xt(n,!0)},Ht),xt(n)}}),gi.hover(function(){setTimeout(function(){oi||fn(!(si=!0))},0)},function(){si&&fn(!(si=!1))}),j(Ci,function(e){V(e),yn.call(this,e)},{onStart:function(){sn(),Ri.control=!0},onTouchEnd:an}),Ci.each(function(){X(this,function(e){yn.call(this,e)}),wn(this)}),X(Mi,li.toggleFullScreen),wn(Mi),i.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){li[t]=function(){return Sn=Sn||[],"load"!==t?Array.prototype[t].apply(Sn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Sn=H(arguments[0])),xn(),li}}),xn()},i.fn.fotorama=function(t){return this.each(function(){var n=this,r=i(this),o=r.data(),s=o.fotorama;s?s.setOptions(t,!0):A(function(){return!_(n)},function(){o.urtext=r.html(),new i.Fotorama(r,i.extend({},Zt,e.fotoramaDefaults,t,o))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(e){var t,n="";bt.escape;return n+=".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},i.Fotorama.jst.video=function(e){var t="",n=(bt.escape,Array.prototype.join);return t+='<div class="fotorama__video"><iframe src="',function(){t+=n.call(arguments,"")}(("youtube"==e.type?e.p+"youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?e.p+"player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),t+='" frameborder="0" allowfullscreen></iframe></div>\n'},i(function(){i("."+ae+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t){function n(e,t,n){this.widget=e,this.likely=t,this.options=s.merge(n),this.init()}var i=e("./services"),r=e("./config"),o=e("./fetch"),s=e("./utils"),a=e("./dom"),l='<span class="{className}">{content}</span>';n.prototype={init:function(){this.detectService(),this.detectParams(),this.service&&(this.initHtml(),setTimeout(this.initCounter.bind(this),0))},update:function(e){var t="."+r.prefix+"counter";counters=a.findAll(t,this.widget),s.extend(this.options,s.merge({forceUpdate:!1},e)),s.toArray(counters).forEach(function(e){e.parentNode.removeChild(e)}),this.initCounter()},detectService:function(){var e=this.widget,t=s.getDataset(e).service;if(!t){for(var n=e.className.split(" "),r=0;r<n.length&&!(n[r]in i);r++);t=n[r]}t&&(this.service=t,s.extend(this.options,i[t]))},detectParams:function(){var e=this.options,t=s.getDataset(this.widget);if(t.counter){var n=parseInt(t.counter,10);isNaN(n)?e.counterUrl=t.counter:e.counterNumber=n}e.title=t.title||e.title,e.url=t.url||e.url},initHtml:function(){var e=this.options,t=this.widget,n=t.innerHTML;t.addEventListener("click",this.click.bind(this)),t.classList.remove(this.service),t.className+=" "+this.className("widget");var i=s.template(l,{className:this.className("button"),content:n}),r=s.template(l,{className:this.className("icon"),content:a.wrapSVG(e.svgi)});t.innerHTML=r+i},initCounter:function(){var e=this.options;e.counters&&e.counterNumber?this.updateCounter(e.counterNumber):e.counterUrl&&o(this.service,e.url,e)(this.updateCounter.bind(this))},className:function(e){var t=r.prefix+e;return t+" "+t+"--"+this.service},updateCounter:function(e){e=parseInt(e,10)||0;var t=a.find("."+r.name+"__counter",this.widget);t&&t.parentNode.removeChild(t);var n={className:this.className("counter"),content:e};e||this.options.zeroes||(n.className+=" "+r.prefix+"counter--empty",n.content=""),this.widget.appendChild(a.createNode(s.template(l,n))),this.likely.updateCounter(this.service,e)},click:function(){var e=this.options;if("more"==this.service)this.widget.classList.toggle("active"),this.widget.parentElement.classList.toggle(this.options.className);else if(e.click.call(this)){var t=this.likely.container.dataset.twitter,n=this.likely.container.dataset.twitterUrl,i=s.makeUrl(e.popupUrl,{url:"twitter"==this.service&&""!=n&&void 0!=n?n:e.url,title:"twitter"==this.service&&""!=t&&void 0!=t?t:e.title});a.openPopup(this.addAdditionalParamsToUrl(i),r.prefix+this.service,e.popupWidth,e.popupHeight)}return!1},addAdditionalParamsToUrl:function(e){var t=s.query(s.merge(this.widget.dataset,this.options.data)),n=-1===e.indexOf("?")?"?":"&";return""===t?e:e+n+t}},t.exports=n},{"./config":2,"./dom":3,"./fetch":6,"./services":11,"./utils":21}],2:[function(e,t){var n="https:"===window.location.protocol;t.exports={name:"likely",prefix:"likely__",secure:n,protocol:n?"https:":"http:"}},{}],3:[function(e,t){var n=document.createElement("div"),i=0,r=t.exports={wrapSVG:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M'+e+'z"/></svg>'},createNode:function(e){return n.innerHTML=e,n.children[0]},getScript:function(e){var t=document.createElement("script"),n=document.head;t.type="text/javascript",t.src=e,n.appendChild(t),n.removeChild(t)},getJSON:function(e,t){var n=encodeURIComponent("random_fun_"+ ++i);e=e.replace(/callback=(\?)/,"callback="+n),window[n]=t,r.getScript(e)},find:function(e,t){return(t||document).querySelector(e)},findAll:function(e,t){return(t||document).querySelectorAll(e)},openPopup:function(e,t,n,i){var r=Math.round(screen.width/2-n/2),o=0;screen.height>i&&(o=Math.round(screen.height/3-i/2));var s="left="+r+",top="+o+",width="+n+",height="+i+",personalbar=0,toolbar=0,scrollbars=1,resizable=1",a=window.open(e,t,s);return a?(a.focus(),a):location.href=e}}},{}],4:[function(e,t){t.exports=function(e){var t=[];return function(n){var i=typeof n;return"undefined"==i?e:void("function"==i?t.push(n):(e=n,t.forEach(function(e){e(n)})))}}},{}],5:[function(e){var t=e("./index.js");window.likely=t,document.addEventListener("DOMContentLoaded",t.initiate)},{"./index.js":7}],6:[function(e,t){var n=e("./services"),i=e("./factory"),r=e("./utils"),o=(e("./dom"),{});t.exports=function(e,t,s){o[e]||(o[e]={});var a=o[e],l=a[t];if(!s.forceUpdate&&l)return l;l=i();var c=r.makeUrl(s.counterUrl,{url:t});return n[e].counter(c,l,t),a[t]=l}},{"./dom":3,"./factory":4,"./services":11,"./utils":21}],7:[function(e,t){"use strict";var n=e("./widget"),i=e("./config"),r=e("./utils"),o=e("./dom"),s=function(e,t){t=t||{};var o=e[i.name];return o?o.update(t):e[i.name]=new n(e,r.merge({},s.defaults,t,r.bools(e))),o};s.initiate=s.initate=function(){var e=o.findAll("."+i.name);r.toArray(e).forEach(s)},s.defaults={counters:!0,timeout:1e3,zeroes:!1,title:document.title,wait:500,url:window.location.href.replace(window.location.hash,"")},t.exports=s},{"./config":2,"./dom":3,"./utils":21,"./widget":22}],8:[function(e,t){var n=e("./dom"),i=function(e,t){var i=this;n.getJSON(e,function(e){try{"function"==typeof i.convertNumber&&(e=i.convertNumber(e)),t(e)}catch(e){}})};t.exports=function(e){e.counter=e.counter||i,e.click=e.click||function(){return!0}}},{"./dom":3}],9:[function(e,t){t.exports={counterUrl:"https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?",convertNumber:function(e){return e.share.share_count},popupUrl:"https://www.facebook.com/sharer/sharer.php?u={url}",popupWidth:600,popupHeight:500}},{}],10:[function(e,t){var n=(e("../config"),e("../utils"),e("../dom"),{counterUrl:"https://share.yandex.net/counter/gpp/?url={url}&callback=?",gid:0,promises:{},popupUrl:"https://plus.google.com/share?url={url}",popupWidth:700,popupHeight:500});t.exports=n},{"../config":2,"../dom":3,"../utils":21}],11:[function(e,t){var n=e("../service"),i=e("../utils"),r=e("../svg.json"),o={odnoklassniki:e("./odnoklassniki"),vkontakte:e("./vk"),facebook:e("./facebook"),twitter:e("./twitter"),gplus:e("./gplus"),pocket:e("./pocket"),telegram:e("./telegram"),whatsapp:e("./whatsapp"),viber:e("./viber"),more:e("./more")};i.each(o,function(e,t){n(e),e.svgi=r[t],e.name=t}),t.exports=o},{"../service":8,"../svg.json":20,"../utils":21,"./facebook":9,"./gplus":10,"./more":12,"./odnoklassniki":13,"./pocket":14,"./telegram":15,"./twitter":16,"./viber":17,"./vk":18,"./whatsapp":19}],12:[function(e,t){var n=e("../config");t.exports={parent:n.name,className:n.name+"--expanded"}},{"../config":2}],13:[function(e,t){var n=e("../config"),i=e("../utils"),r=e("../dom"),o={counterUrl:n.secure?void 0:"http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}",counter:function(e,t){this.promises.push(t),r.getScript(i.makeUrl(e,{index:this.promises.length-1}))},promises:[],popupUrl:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}",popupWidth:640,popupHeight:400};i.set(window,"ODKL.updateCount",function(e,t){o.promises[e](t)}),t.exports=o},{"../config":2,"../dom":3,"../utils":21}],14:[function(e,t){var n=e("../config"),i={popupUrl:n.protocol+"//getpocket.com/save?url={url}&format=json&callback=?",popupWidth:600,popupHeight:300};t.exports=i},{"../config":2}],15:[function(e,t){t.exports={popupUrl:"tg://msg?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],16:[function(e,t){var n=e("../config"),i={counterUrl:"https://openshare.the.tj/count.json?url={url}",counter:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);count=e.count,t(count)}},n.send()},popupUrl:n.protocol+"//twitter.com/intent/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return/[\.\?:\-–—]\s*$/.test(this.options.title)||(this.options.title+=":"),!0}};t.exports=i},{"../config":2}],17:[function(e,t){t.exports={popupUrl:"viber://forward?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],18:[function(e,t){var n=e("../config"),i=e("../utils"),r=e("../dom"),o={counterUrl:"https://vk.com/share.php?act=count&url={url}&index={index}",counter:function(e,t){this.promises.push(t),r.getScript(i.makeUrl(e,{index:this.promises.length-1}))},promises:[],popupUrl:n.protocol+"//vk.com/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330};i.set(window,"VK.Share.count",function(e,t){o.promises[e](t)}),t.exports=o},{"../config":2,"../dom":3,"../utils":21}],19:[function(e,t){t.exports={popupUrl:"whatsapp://send?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],20:[function(e,t){t.exports={facebook:"5.9 16h3.3V8h2.2l.3-2.8H9.2V3.8c0-.7.1-1.1 1.1-1.1h1.4V0H9.5C6.9 0 5.9 1.3 5.9 3.6v1.7H4.3V8H6v8",twitter:"15.96 3.42c-.04.153-.144.31-.237.414l-.118.058v.118l-.59.532-.237.295c-.05.036-.398.21-.413.237V6.49h-.06v.473h-.058v.294h-.058v.296h-.06v.235h-.06v.237h-.058c-.1.355-.197.71-.295 1.064h-.06v.116h-.06c-.02.1-.04.197-.058.296h-.06c-.04.118-.08.237-.118.355h-.06c-.038.118-.078.236-.117.353l-.118.06-.06.235-.117.06v.116l-.118.06v.12h-.06c-.02.057-.038.117-.058.175l-.118.06v.117c-.06.04-.118.08-.177.118v.118l-.237.177v.118l-.59.53-.532.592h-.117c-.06.078-.118.156-.177.236l-.177.06-.06.117h-.118l-.06.118-.176.06v.058h-.118l-.06.118-.353.12-.06.117c-.078.02-.156.04-.235.058v.06c-.118.038-.236.078-.354.118v.058H8.76v.06h-.12v.06h-.176v.058h-.118v.06H8.17v.058H7.99v.06l-.413.058v.06h-.237c-.667.22-1.455.293-2.36.293h-.886v-.058h-.53v-.06H3.27v-.06h-.295v-.06H2.68v-.057h-.177v-.06h-.236v-.058H2.09v-.06h-.177v-.058h-.177v-.06H1.56v-.058h-.12v-.06l-.294-.06v-.057c-.118-.04-.236-.08-.355-.118v-.06H.674v-.058H.555v-.06H.437v-.058H.32l-.06-.12H.142v-.058c-.13-.08-.083.026-.177-.118H1.56v-.06c.294-.04.59-.077.884-.117v-.06h.177v-.058h.237v-.06h.118v-.06h.177v-.057h.118v-.06h.177v-.058l.236-.06v-.058l.236-.06c.02-.038.04-.078.058-.117l.237-.06c.02-.04.04-.077.058-.117h.118l.06-.118h.118c.036-.025.047-.078.118-.118V12.1c-1.02-.08-1.84-.54-2.303-1.183-.08-.058-.157-.118-.236-.176v-.117l-.118-.06v-.117c-.115-.202-.268-.355-.296-.65.453.004.987.008 1.354-.06v-.06c-.254-.008-.47-.08-.65-.175v-.058H2.32v-.06c-.08-.02-.157-.04-.236-.058l-.06-.118h-.117l-.118-.178h-.12c-.077-.098-.156-.196-.235-.294l-.118-.06v-.117l-.177-.12c-.35-.502-.6-1.15-.59-2.006h.06c.204.234.948.377 1.357.415v-.06c-.257-.118-.676-.54-.827-.768V5.9l-.118-.06c-.04-.117-.08-.236-.118-.354h-.06v-.118H.787c-.04-.196-.08-.394-.118-.59-.06-.19-.206-.697-.118-1.005h.06V3.36h.058v-.177h.06v-.177h.057V2.83h.06c.04-.118.078-.236.117-.355h.118v.06c.12.097.237.196.355.295v.118l.118.058c.08.098.157.197.236.295l.176.06.354.413h.118l.177.236h.118l.06.117h.117c.04.06.08.118.118.177h.118l.06.118.235.06.06.117.356.12.06.117.53.176v.06h.118v.058l.236.06v.06c.118.02.236.04.355.058v.06h.177v.058h.177v.06h.176v.058h.236v.06l.472.057v.06l1.417.18v-.237c-.1-.112-.058-.442-.057-.65 0-.573.15-.99.354-1.358v-.117l.118-.06.06-.235.176-.118v-.118c.14-.118.276-.236.414-.355l.06-.117h.117l.12-.177.235-.06.06-.117h.117v-.058H9.7v-.058h.177v-.06h.177v-.058h.177v-.06h.296v-.058h1.063v.058h.294v.06h.177v.058h.178v.06h.177v.058h.118v.06h.118l.06.117c.08.018.158.038.236.058.04.06.08.118.118.177h.118l.06.117c.142.133.193.163.472.178.136-.12.283-.05.472-.118v-.06h.177v-.058h.177v-.06l.236-.058v-.06h.177l.59-.352v.176h-.058l-.06.295h-.058v.117h-.06v.118l-.117.06v.118l-.177.118v.117l-.118.06-.354.412h-.117l-.177.236h.06c.13-.112.402-.053.59-.117l1.063-.353",vkontakte:"7.8 12.4h.9s.3 0 .4-.2c.1-.1.1-.4.1-.4s0-1.3.6-1.4c.6-.2 1.3 1.2 2.1 1.7.6.4 1 .3 1 .3H15s1.1-.1.6-.9c0-.1-.3-.6-1.6-1.8-1.3-1.2-1.1-1 .4-3.1 1-1.3 1.3-2.1 1.2-2.4.1-.3-.6-.3-.6-.3h-2.4s-.2 0-.3.1c-.1.1-.2.3-.2.3s-.4 1-.9 1.8c-1 1.8-1.5 1.9-1.6 1.8-.4-.3-.3-1-.3-1.6 0-1.7.3-2.4-.5-2.6-.3-.1-.4-.2-1.1-.2-.8 0-1.5 0-2 .2-.2.2-.4.5-.3.5.2 0 .5.1.7.3.2.3.2 1.1.2 1.1s.1 2-.3 2.3c-.3.1-.7-.2-1.7-1.8-.5-.8-.8-1.8-.8-1.8l-.2-.2-.4-.2H.7s-.3 0-.5.2c-.1.1 0 .4 0 .4S2 8.6 4 10.7c1.8 1.8 3.8 1.7 3.8 1.7",gplus:"8,6.5v3h4.291c-0.526,2.01-2.093,3.476-4.315,3.476C5.228,12.976,3,10.748,3,8c0-2.748,2.228-4.976,4.976-4.976c1.442,0,2.606,0.623,3.397,1.603L13.52,2.48C12.192,0.955,10.276,0,8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s7.5-3.582,7.5-8V6.5H8",odnoklassniki:"8 2.6c.9 0 1.7.7 1.7 1.7C9.7 5.2 9 6 8 6c-.9 0-1.7-.7-1.7-1.7S7.1 2.6 8 2.6zm0 5.7c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm1.6 3.2c.8-.2 1.6-.5 2.3-1 .5-.3.7-1.1.4-1.6-.3-.6-1.1-.7-1.6-.4-1.6 1-3.8 1-5.4 0-.6-.3-1.3-.1-1.6.4-.4.6-.2 1.3.3 1.7.7.5 1.5.8 2.3 1l-2.2 2.2c-.5.5-.5 1.2 0 1.7.2.2.5.3.8.3.3 0 .6-.1.8-.3L8 13.2l2.2 2.2c.5.5 1.2.5 1.7 0s.5-1.2 0-1.7l-2.3-2.2",pocket:"12.533 6.864L8.77 10.4c-.213.2-.486.3-.76.3-.273 0-.547-.1-.76-.3L3.488 6.865c-.437-.41-.45-1.09-.032-1.52.42-.428 1.114-.443 1.55-.032l3.006 2.823 3.004-2.823c.438-.41 1.132-.396 1.55.032.42.43.406 1.11-.03 1.52zm3.388-4.928c-.207-.56-.755-.936-1.363-.936H1.45C.854 1 .31 1.368.096 1.917.032 2.08 0 2.25 0 2.422v4.73l.055.94c.232 2.14 1.366 4.01 3.12 5.314.03.024.063.047.094.07l.02.013c.94.673 1.992 1.13 3.128 1.353.524.104 1.06.157 1.592.157.492 0 .986-.045 1.472-.133.058-.01.116-.022.175-.034.016-.003.033-.01.05-.018 1.088-.233 2.098-.677 3.003-1.326l.02-.015c.032-.022.064-.045.096-.07 1.753-1.303 2.887-3.173 3.12-5.312l.054-.94v-4.73c0-.165-.02-.327-.08-.487",telegram:"12.4 4.2L6.6 9.6c-.2.2-.3.4-.4.7L6 11.8c0 .2-.3.2-.3 0l-.8-2.6c-.1-.4.1-.7.3-.8l7-4.3c.2-.2.4 0 .2.1zm2.9-3L.5 6.9c-.4.1-.4.7 0 .8L4.1 9l1.4 4.5c.1.3.4.4.7.2l2-1.6c.2-.2.5-.2.7 0l3.6 2.6c.3.2.6 0 .7-.3l2.6-12.8c.1-.2-.2-.5-.5-.4",whatsapp:"15.8 7.8c0 4.2-3.4 7.6-7.6 7.6-1.3 0-2.6-.3-3.7-.9L.3 15.8l1.4-4.1C1 10.6.6 9.2.6 7.8.6 3.6 4 .2 8.2.2c4.2 0 7.6 3.4 7.6 7.6M8.1 1.4c-3.5 0-6.4 2.9-6.4 6.4 0 1.4.5 2.7 1.2 3.7l-.8 2.4 2.5-.8c1 .7 2.2 1.1 3.5 1.1 3.5 0 6.4-2.9 6.4-6.4.1-3.5-2.8-6.4-6.4-6.4M12 9.5c0-.1-.2-.1-.4-.2s-1.1-.5-1.3-.6c-.2-.1-.3-.1-.4.1-.1.2-.4.6-.6.7-.1.1-.2.1-.4 0-.1 0-.8-.2-1.5-.8-.6-.5-.9-1.1-1-1.3-.1-.2 0-.3.1-.4l.3-.3c.1-.1.1-.2.2-.3 0-.2 0-.3-.1-.4 0-.1-.4-1-.6-1.4-.1-.3-.3-.2-.4-.2h-.4c-.1 0-.3 0-.5.2-.1.2-.6.6-.6 1.5s.7 1.8.8 1.9c.1.1 1.3 2.1 3.2 2.8 1.9.7 1.9.5 2.2.5.3 0 1.1-.4 1.3-.9.1-.4.1-.8.1-.9",viber:"13.7 6.7c0 .3.1.7-.3.8-.6.1-.5-.4-.5-.8-.4-2.3-1.2-3.2-3.5-3.7-.4-.1-.9 0-.8-.5.1-.5.5-.4.9-.3 2.3.3 4.2 2.3 4.2 4.5zM8.8 1.2c3.7.6 5.5 2.4 5.9 6.1 0 .3-.1.9.4.9s.4-.5.4-.9c0-3.6-3.1-6.8-6.7-7-.2.1-.8-.1-.8.5 0 .4.4.3.8.4zm5.7 10.2c-.5-.4-1-.7-1.5-1.1-1-.7-1.9-.7-2.6.4-.4.6-1 .6-1.6.4-1.7-.8-2.9-1.9-3.7-3.6-.3-.7-.3-1.4.5-1.9.4-.3.8-.6.8-1.2 0-.8-2-3.5-2.7-3.7-.3-.1-.6-.1-1 0C.9 1.2.2 2.7.9 4.4c2.1 5.2 5.8 8.8 11 11 .3.1.6.2.8.2 1.2 0 2.5-1.1 2.9-2.2.3-1-.5-1.5-1.1-2zM9.7 4c-.2 0-.5 0-.6.3-.1.4.2.5.5.5.9.2 1.4.7 1.5 1.7 0 .3.2.5.4.4.3 0 .4-.3.4-.6 0-1.1-1.2-2.3-2.2-2.3",more:"14.725 6.667H9.333V1.275C9.333.57 8.738 0 8 0S6.667.57 6.667 1.275v5.392H1.275C.57 6.667 0 7.262 0 8s.57 1.334 1.275 1.334h5.392v5.393C6.667 15.43 7.262 16 8 16s1.333-.57 1.333-1.273V9.334h5.392C15.43 9.334 16 8.738 16 8s-.57-1.333-1.275-1.333"}},{}],21:[function(e,t){var n={yes:!0,no:!1},i={each:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},toArray:function(e){return Array.prototype.slice.call(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];if(n)for(var i in n)e[i]=n[i]}return e},extend:function(e,t){for(var n in t)e[n]=t[n]},flexboxSupport:function(e,t){var n,i=document,r="flex",o="-webkit-"+r,s=i.createElement("b");try{s.style.display=o,s.style.display=r,n=s.style.display==r||s.style.display==o?r:"no-"+r}catch(e){n="no-"+r}e.className+=" "+t+"--"+n},getDataset:function(e){if("object"==typeof e.dataset)return e.dataset;var t,n,i,r={},o=e.attributes,s=function(e){return e.charAt(1).toUpperCase()};for(t=o.length-1;t>=0;t--)(n=o[t])&&n.name&&/^data-\w[\w\-]*$/.test(n.name)&&(i=n.name.substr(5).replace(/-./g,s),r[i]=n.value);return r},bools:function(e){var t={},r=i.getDataset(e);for(var o in r){var s=r[o];t[o]=n[s]||s}return t},template:function(e,t){return e?e.replace(/\{([^\}]+)\}/g,function(e,n){return n in t?t[n]:e}):""},makeUrl:function(e,t){for(var n in t)t[n]=encodeURIComponent(t[n]);return i.template(e,t)},query:function(e){var t=encodeURIComponent,n=[];for(var i in e)"object"!=typeof e[i]&&n.push(t(i)+"="+t(e[i]));return n.join("&")},set:function(e,t,n){var i=t.split("."),r=null;i.forEach(function(t,n){void 0===e[t]&&(e[t]={}),n!==i.length-1&&(e=e[t]),r=t}),e[r]=n}};t.exports=i},{}],22:[function(e,t){function n(e,t){this.container=e,this.options=t,this.countersLeft=0,this.buttons=[],this.number=0,this.init()}var i=e("./button"),r=(e("./services"),e("./config")),o=e("./utils");n.prototype={init:function(){o.toArray(this.container.children).forEach(this.addButton.bind(this)),this.options.counters?(this.timer=setTimeout(this.appear.bind(this),this.options.wait),this.timeout=setTimeout(this.ready.bind(this),this.options.timeout)):this.appear(),o.flexboxSupport(this.container,r.name)},addButton:function(e){var t=new i(e,this,this.options);this.buttons.push(t),t.options.counterUrl&&this.countersLeft++},update:function(e){(e.forceUpdate||e.url!==this.options.url)&&(this.countersLeft=this.buttons.length,this.number=0,this.buttons.forEach(function(t){t.update(e)}))},updateCounter:function(e,t){t&&(this.number+=t),0===--this.countersLeft&&(this.appear(),this.ready())},appear:function(){this.container.classList.add(r.name+"--visible")},ready:function(){this.timeout&&(clearTimeout(this.timeout),this.container.classList.add(r.name+"--ready"))}},t.exports=n},{"./button":1,"./config":2,"./services":11,"./utils":21}]},{},[5]),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i=e("../main");"function"==typeof define&&define.amd?define(i):(window.PerfectScrollbar=i,void 0===window.Ps&&(window.Ps=i))},{"../main":7}],2:[function(e,t,n){"use strict";function i(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function r(e,t){var n=e.className.split(" "),i=n.indexOf(t);i>=0&&n.splice(i,1),e.className=n.join(" ")}n.add=function(e,t){e.classList?e.classList.add(t):i(e,t)},n.remove=function(e,t){e.classList?e.classList.remove(t):r(e,t)},n.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,n){"use strict";function i(e,t){return window.getComputedStyle(e)[t]}function r(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i=i.toString()+"px"),e.style[n]=i}return e}var s={};s.e=function(e,t){var n=document.createElement(e);return n.className=t,n},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,n){return"object"==typeof t?o(e,t):void 0===n?i(e,t):r(e,t,n)},s.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],4:[function(e,t,n){"use strict";var i=function(e){this.element=e,this.events={}};i.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},i.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(i){return!(!n||i===t)||(this.element.removeEventListener(e,i,!1),!1)},this)},i.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new i(e),this.eventElements.push(t)),t},r.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},r.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},r.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},r.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)},t.exports=r},{}],5:[function(e,t,n){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,n){"use strict";var i=e("./class"),r=e("./dom"),o=n.toInt=function(e){return parseInt(e,10)||0},s=n.clone=function(e){if(e){if(e.constructor===Array)return e.map(s);if("object"==typeof e){var t={};for(var n in e)t[n]=s(e[n]);return t}return e}return null};n.extend=function(e,t){var n=s(e);for(var i in t)n[i]=s(t[i]);return n},n.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},n.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&i.remove(e,r)}},n.outerWidth=function(e){
return o(r.css(e,"width"))+o(r.css(e,"paddingLeft"))+o(r.css(e,"paddingRight"))+o(r.css(e,"borderLeftWidth"))+o(r.css(e,"borderRightWidth"))},n.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),void 0!==t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},n.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),void 0!==t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,n){"use strict";var i=e("./plugin/destroy"),r=e("./plugin/initialize"),o=e("./plugin/update");t.exports={initialize:r,update:o,destroy:i}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,n){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/dom"),o=e("./instances");t.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),i.removePsClasses(e),o.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,n){"use strict";function i(e,t){function n(e){return e.getBoundingClientRect()}var i=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",i),t.event.bind(t.scrollbarYRail,"click",function(i){var r=i.pageY-window.pageYOffset-n(t.scrollbarYRail).top,a=r>t.scrollbarYTop?1:-1;s(e,"top",e.scrollTop+a*t.containerHeight),o(e),i.stopPropagation()}),t.event.bind(t.scrollbarX,"click",i),t.event.bind(t.scrollbarXRail,"click",function(i){var r=i.pageX-window.pageXOffset-n(t.scrollbarXRail).left,a=r>t.scrollbarXLeft?1:-1;s(e,"left",e.scrollLeft+a*t.containerWidth),o(e),i.stopPropagation()})}var r=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){i(e,r.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,n){"use strict";function i(e,t){function n(n){var r=i+n*t.railXRatio,s=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=r<0?0:r>s?s:r,c(e,"left",o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment)}var i=null,r=null,a=function(t){n(t.pageX-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarX,"mousedown",function(n){r=n.pageX,i=o.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function r(e,t){function n(n){var r=i+n*t.railYRatio,s=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=r<0?0:r>s?s:r,c(e,"top",o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight)))}var i=null,r=null,a=function(t){n(t.pageY-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarY,"mousedown",function(n){r=n.pageY,i=o.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=e("../../lib/helper"),s=e("../../lib/dom"),a=e("../instances"),l=e("../update-geometry"),c=e("../update-scroll");t.exports=function(e){var t=a.get(e);i(e,t),r(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,n){"use strict";function i(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var i=!1;t.event.bind(e,"mouseenter",function(){i=!0}),t.event.bind(e,"mouseleave",function(){i=!1});var s=!1;t.event.bind(t.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i||u){var p=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(p){if("IFRAME"===p.tagName)p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(r.isEditable(p))return}var d=0,f=0;switch(c.which){case 37:d=c.metaKey?-t.contentWidth:c.altKey?-t.containerWidth:-30;break;case 38:f=c.metaKey?t.contentHeight:c.altKey?t.containerHeight:30;break;case 39:d=c.metaKey?t.contentWidth:c.altKey?t.containerWidth:30;break;case 40:f=c.metaKey?-t.contentHeight:c.altKey?-t.containerHeight:-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:f=c.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-f),l(e,"left",e.scrollLeft+d),a(e),s=n(d,f),s&&c.preventDefault()}}})}var r=e("../../lib/helper"),o=e("../../lib/dom"),s=e("../instances"),a=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){i(e,s.get(e))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,n){"use strict";function i(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function i(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function r(t,n){var i=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var r=i.scrollHeight-i.clientHeight;if(r>0&&!(0===i.scrollTop&&n>0||i.scrollTop===r&&n<0))return!0;var o=i.scrollLeft-i.clientWidth;if(o>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&t>0))return!0}return!1}function a(a){var c=i(a),u=c[0],p=c[1];r(u,p)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(p?s(e,"top",e.scrollTop-p*t.settings.wheelSpeed):s(e,"top",e.scrollTop+u*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?s(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-p*t.settings.wheelSpeed),l=!0):(s(e,"top",e.scrollTop-p*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),(l=l||n(u,p))&&(a.stopPropagation(),a.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",a):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",a)}var r=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){i(e,r.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,n){"use strict";function i(e,t){t.event.bind(e,"scroll",function(){o(e)})}var r=e("../instances"),o=e("../update-geometry");t.exports=function(e){i(e,r.get(e))}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,n){"use strict";function i(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function i(){c||(c=setInterval(function(){if(!o.get(e))return void clearInterval(c);a(e,"top",e.scrollTop+u.top),a(e,"left",e.scrollLeft+u.left),s(e)},50))}function l(){c&&(clearInterval(c),c=null),r.stopScrolling(e)}var c=null,u={top:0,left:0},p=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?p=!0:(p=!1,l())}),t.event.bind(window,"mouseup",function(){p&&(p=!1,l())}),t.event.bind(window,"keyup",function(){p&&(p=!1,l())}),t.event.bind(window,"mousemove",function(t){if(p){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,r.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,r.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(o.top+3-n.y<5?u.top=-5:u.top=-20,r.startScrolling(e,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?u.top=5:u.top=20,r.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?l():i()}})}var r=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){i(e,o.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,n){"use strict";function i(e,t,n,i){function r(n,i){var r=e.scrollTop,o=e.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return!t.settings.swipePropagation}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){a(e,"top",e.scrollTop-n),a(e,"left",e.scrollLeft-t),s(e)}function c(){w=!0}function u(){w=!1}function p(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function f(e){if(d(e)){x=!0;var t=p(e);g.pageX=t.pageX,g.pageY=t.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function h(e){if(!x&&t.settings.swipePropagation&&f(e),!w&&x&&d(e)){var n=p(e),i={pageX:n.pageX,pageY:n.pageY},o=i.pageX-g.pageX,s=i.pageY-g.pageY;l(o,s),g=i;var a=(new Date).getTime(),c=a-v;c>0&&(b.x=o/c,b.y=s/c,v=a),r(o,s)&&(e.stopPropagation(),e.preventDefault())}}function m(){!w&&x&&(x=!1,clearInterval(y),y=setInterval(function(){return o.get(e)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)},10))}var g={},v=0,b={},y=null,w=!1,x=!1;n&&(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",m)),i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",m)))}var r=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){if(r.env.supportsTouch||r.env.supportsIePointer){i(e,o.get(e),r.env.supportsTouch,r.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/class"),o=e("./instances"),s=e("./update-geometry"),a={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var n=o.add(e);n.settings=i.extend(n.settings,t),r.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){a[t](e)}),l(e),s(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,n){"use strict";function i(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var i=this;i.settings=a.clone(c),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===u.css(e,"direction"),i.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new p,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),i.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",t),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=a.toInt(u.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:a.toInt(u.css(i.scrollbarXRail,"top")),i.railBorderXWidth=a.toInt(u.css(i.scrollbarXRail,"borderLeftWidth"))+a.toInt(u.css(i.scrollbarXRail,"borderRightWidth")),u.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=a.toInt(u.css(i.scrollbarXRail,"marginLeft"))+a.toInt(u.css(i.scrollbarXRail,"marginRight")),u.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),i.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",t),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=a.toInt(u.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:a.toInt(u.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?a.outerWidth(i.scrollbarY):null,i.railBorderYWidth=a.toInt(u.css(i.scrollbarYRail,"borderTopWidth"))+a.toInt(u.css(i.scrollbarYRail,"borderBottomWidth")),u.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=a.toInt(u.css(i.scrollbarYRail,"marginTop"))+a.toInt(u.css(i.scrollbarYRail,"marginBottom")),u.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function s(e){e.removeAttribute("data-ps-id")}var a=e("../lib/helper"),l=e("../lib/class"),c=e("./default-setting"),u=e("../lib/dom"),p=e("../lib/event-manager"),d=e("../lib/guid"),f={};n.add=function(e){var t=d();return o(e,t),f[t]=new i(e),f[t]},n.remove=function(e){delete f[r(e)],s(e)},n.get=function(e){return f[r(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,n){"use strict";function i(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function r(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,n);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,i),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=e("../lib/helper"),s=e("../lib/class"),a=e("../lib/dom"),l=e("./instances"),c=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=a.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=a.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=i(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=i(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),r(e,t),t.scrollbarXActive?s.add(e,"ps-active-x"):(s.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?s.add(e,"ps-active-y"):(s.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,n){"use strict";var i,r,o=e("./instances"),s=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};t.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(s("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(s("ps-x-reach-start")));var a=o.get(e);"top"===t&&n>=a.contentHeight-a.containerHeight&&(n=a.contentHeight-a.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(s("ps-y-reach-end"))),"left"===t&&n>=a.contentWidth-a.containerWidth&&(n=a.contentWidth-a.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(s("ps-x-reach-end"))),i||(i=e.scrollTop),r||(r=e.scrollLeft),"top"===t&&n<i&&e.dispatchEvent(s("ps-scroll-up")),"top"===t&&n>i&&e.dispatchEvent(s("ps-scroll-down")),"left"===t&&n<r&&e.dispatchEvent(s("ps-scroll-left")),"left"===t&&n>r&&e.dispatchEvent(s("ps-scroll-right")),"top"===t&&(e.scrollTop=i=n,e.dispatchEvent(s("ps-scroll-y"))),"left"===t&&(e.scrollLeft=r=n,e.dispatchEvent(s("ps-scroll-x")))}},{"./instances":18}],21:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/dom"),o=e("./instances"),s=e("./update-geometry"),a=e("./update-scroll");t.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(r.css(t.scrollbarXRail,"marginLeft"))+i.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(r.css(t.scrollbarYRail,"marginTop"))+i.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]);var GfyAnalytics=function(){function e(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function t(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+1e3*n),i="; expires="+r.toGMTString()}document.cookie=e+"="+t+i+";domain=.gfycat.com;path=/"}function n(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function i(){a||(a=n("_utc"))||(a=e(),t("_utc",a,31536e3)),l||(l=n("_stc"))||(l=e(),t("_stc",l,1800))}function r(e,t){if(!navigator.doNotTrack){i();var n=encodeURIComponent(a),r=encodeURIComponent(l),s=e,c="";for(var u in t)t[u]&&(c+="&"+u+"="+t[u]);var p="https://pixel.gfycat.com/pix.gif?tx="+s+c+"&utc="+n+"&stc="+r+"&rand="+1e5*Math.random(),d=o("GET",p);if(!d)throw new Error("CORS is not supported in your browser");d.onerror=function(){console.log("CORS Error")},d.send(),ga&&ga("gfyTracker.send","pageview",location.href)}}function o(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}function s(e){return Object.keys(e).map(function(t){return[t,e[t]].map(encodeURIComponent).join("=")}).join("&")}var a=0,l=0;return{sendEvent:function(e){if(!navigator.doNotTrack){i();var t="https://www.gfycat.com";void 0!==document.referrer&&document.referrer.length>1&&(t=document.referrer),e.utc=a,e.stc=l,e.ref=t;(new Image).src="https://metrics.gfycat.com/pix.gif?"+s(e),ga&&e.hasOwnProperty("event")&&ga("gfyTracker.send","event","gfyEvent",e.event)}},sendEventWithCallback:function(e,t){if(!navigator.doNotTrack){i();var n="https://www.gfycat.com";void 0!==document.referrer&&document.referrer.length>1&&(n=document.referrer),e.utc=a,e.stc=l,e.ref=n,(new Image).src="https://metrics.gfycat.com/pix.gif?"+s(e),ga&&e.hasOwnProperty("event")&&ga("gfyTracker.send","event","gfyEvent",e.event,{hitCallback:t})}},sendViewCount:r,initGA:function(){"undefined"!=typeof ga?ga(function(){ga.getByName("gfyTracker")||ga("create","UA-40130883-1","auto","gfyTracker")}):ga=void 0}}}(),gfyCollection=function(){function e(e,t){if(t.getElementsByClassName)return t.getElementsByClassName(e);for(var n=[],i=t.getElementsByTagName("*"),r=0;r<i.length;r++)(" "+i[r].className+" ").indexOf(" "+e+" ")>-1&&n.push(i[r]);return n}function t(e){GfyAnalytics&&GfyAnalytics.initGA(),e="string"==typeof e?e:o,n(e)}function n(t){t="string"==typeof t?t:o;var n=r.length;elem_coll=e(t,document);for(var i=0;i<elem_coll.length;i++){var s=new gfyObject(elem_coll[i],t);r.push(s)}for(var i=n;i<r.length;i++)r[i].init()}function i(){return r}var r=[],o="gfyitem";return{init:t,get:i,scan:n}}();document.addEventListener?document.addEventListener("DOMContentLoaded",function(){gfyCollection.init()},!1):document.attachEvent("onreadystatechange",gfyCollection.init);var gfyObject=function(e,t){function n(){ie={title:!1,controls:!1,autoplay:!0,optimize:!0,gif:!1,responsive:!1,hd:!0}}function i(e,t){if(t.getElementsByClassName)return t.getElementsByClassName(e);for(var n=[],i=t.getElementsByTagName("*"),r=0;r<i.length;r++)(" "+i[r].className+" ").indexOf(" "+e+" ")>-1&&n.push(i[r]);return n}function r(){if(ie.title&&te.title){ee=document.createElement("div"),ee.className="title",ee.style.position="absolute";try{ee.style.backgroundColor="rgba(0,0,0,0.4)"}catch(e){ee.style.backgroundColor="#000";try{ee.style.filter="alpha(opacity=60)"}catch(e){}}ee.style.color="#fff",ee.style.fontFamily="Arial,sans-serif",ee.style.fontSize="20px",ee.style.padding="10px",ee.innerHTML=te.title,ee.style.width="100%",ee.style.left="0",ee.style.top="0",ee.style.boxSizing="border-box",ee.style.display="none",ne.appendChild(ee)}}function o(){Z=document.createElement("div"),Z.className="overlay",Z.style.position="absolute",Z.style.width="100%",Z.style.left="0",Z.style.top="0",Z.style.boxSizing="border-box",ie.controls?Z.style.height="calc(100% - 22px)":Z.style.height="100%",ie.gif||(Z.style.cursor="pointer",Z.style.textAlign="center",Z.onclick=T,ie.controls||(Z.button=s())),ie.title&&te.title&&(Z.onmouseout=z,Z.onmouseover=I),ne.appendChild(Z)}function s(){var e=document.createElement("div");return e.className="play-button",e.style.position="relative",e.style.display="none",e.style.top="50%",e.style.marginTop="-39px",e.style.width="75px",e.style.height="75px",e.style.justifyContent="center",e.style.alignItems="center",e.style.boxSizing="border-box",e.style.border="1px solid rgba(100, 100, 100, .3)",e.style.borderRadius="50%",e.style.backgroundColor="rgba(255,255,255,.3)",e.style.color="#fff",e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.msUserSelect="none",e.style.MozUserSelect="none",e.innerHTML='<div style="width:0;height:0;margin-left:4px;border-style:solid;border-width: 17px 0 17px 29px;border-color: transparent transparent transparent #ffffff;"></div>',Z.appendChild(e),e}function a(){Q=document.createElement("video"),Q.className="gfy-video",ie.autoplay&&(Q.autoplay=!0),Q.loop=!0,Q.controls=!1,Q.setAttribute("playsinline",""),Q.setAttribute("muted",""),Q.style.width="100%",ie.responsive?(ie.controls?Q.style.height="calc(100% - 20px)":Q.style.height="100%",Q.style.position="absolute",Q.style.top="0",Q.style.left="0"):Q.style.height="auto",Q.setAttribute("poster","https://thumbs.gfycat.com/"+te.gfyName+"-poster.jpg"),ne.appendChild(Q),Q.addEventListener?Q.addEventListener("loadedmetadata",C,!1):Q.attachEvent("onloadedmetadata",C),U&&(Q.playbackRate=U),Q.addEventListener("play",L),Q.addEventListener("pause",_)}function l(){Q&&!ae&&(ie.hd&&(source2=document.createElement("source"),source2.src=te.webmUrl,source2.type="video/webm",source2.className="webmsource",Q.appendChild(source2)),source=document.createElement("source"),ie.hd?source.src=te.mp4Url:source.src=te.mobileUrl,source.type="video/mp4",source.className="mp4source",Q.appendChild(source),ae=!0)}function c(){J=document.createElement("img"),J.className="gif",ie.optimize?J.src="":J.src=ie.hd?te.gifUrl:te.max5mbGif,ie.responsive?(J.style.width="100%",J.style.position="absolute",J.style.top="0",J.style.left="0"):J.style.maxWidth=te.width+"px",J.style.height="auto",ne.appendChild(J)}function u(){if(ie.controls&&!$){$=document.createElement("div"),$.className="controls",$.style.position="relative",$.style.display="flex",$.style.justifyContent="flex-end",$.style.padding="5px",$.style.margin="0",$.style.width="100%",$.style.boxSizing="border-box";var e="https://assets.gfycat.com/img/gfycontrols.png";$.innerHTML='<div class="gfyCtrlPause" style="display:inline-block;width:12px;height:12px;margin-right:5px;border-style:none;background-repeat:no-repeat;background-image:url(\''+e+'\');cursor:pointer;"></div><div class="gfyCtrlReverse" style="display:inline-block;width:14px;height:12px;margin-right:5px;border-style:none;background-repeat:no-repeat;background-image:url(\''+e+'\');cursor:pointer;"></div><div class="gfyCtrlSlower" style="display:inline-block;width:14px;height:12px;margin-right:5px;border-style:none;background-repeat:no-repeat;background-image:url(\''+e+'\');cursor:pointer;"></div><div class="gfyCtrlFaster" style="display:inline-block;width:14px;height:12px;margin-right:5px;border-style:none;background-repeat:no-repeat;background-image:url(\''+e+"');cursor:pointer;\"></div>",X=$.getElementsByClassName("gfyCtrlPause")[0],X.onclick=T,G=$.getElementsByClassName("gfyCtrlReverse")[0],G.onclick=B,G.style.backgroundPosition="-46px 0",V=$.getElementsByClassName("gfyCtrlSlower")[0],K=$.getElementsByClassName("gfyCtrlFaster")[0],Q.paused?k():S(),ne.appendChild($)}}function p(e){return new Promise(function(n,i){var r=W;m(e),ae=!1,se=!1;try{if(!W)throw new Error("Gfyid is required!")}catch(e){return i(),void console.log(e)}if(r&&r===W)ne.innerHTML="",d(),n();else{var o=document.createElement("div"),s=ne.attributes,a=o.attributes,l=ne.className,c=l.indexOf(t);c>-1&&(l=0===c?l.replace(t,"").trim():l.replace(" "+t,""));for(var u=0;u<s.length;u++){var p=s.item(u),f=p.cloneNode();"style"==f.name&&"null"!=p.value&&a.setNamedItem(f)}ne.parentNode.replaceChild(o,ne),ne=o,l&&(ne.className=l),ne.style.position="relative",ne.style.padding=0,ne.style.fontSize=0,D(),v("https://gfycat.com/cajax/get/"+W,function(e){e?(te=e.gfyItem,d(),n()):i()})}})}function d(){if(f(),q(),!ie.gif&&document.createElement("video").canPlayType)if(a(),u(),r(),o(),ie.optimize)if(Q.poster){var e=new Image;e.onload=function(){h()},e.onerror=function(){h()},e.src=Q.poster}else h();else l(),ie.autoplay&&E();else ie.gif=!0,ie.controls=!1,ie.autoplay=!1,c(),y(),x(y),J.onload=function(){ie.title&&te.title&&(r(),o(),navigator.userAgent.toLowerCase(),ee.style.width=J.clientWidth+"px")}}function f(){if(ie.responsive){var e=document.createElement("div");e.className="sizer",e.style.position="relative";var t=te.width/te.height;e.style.paddingBottom=100/t+"%",ne.appendChild(e),ie.maxHeight&&(ne.style.maxWidth=ie.maxHeight*t+"px"),ne.style.margin="0 auto"}else ne.style.display="inline-block",ne.style.overflow="hidden",ne.style.boxSizing="border-box",ne.style.MozBoxSizing="border-box",ne.style.webkitBoxSizing="border-box"}function h(){b(),x(b)}function m(e){n(),Y||(Y=ne.dataset),e&&e.id?W=e.id:W||(W=Y.id),e&&e.playbackSpeed?U=e.playbackSpeed:U||(U=Y.playbackSpeed),U&&U>8&&(U=8),U&&U<.125&&(U=.125),e&&e.hasOwnProperty("expand")&&!e.hasOwnProperty("responsive")&&(e.responsive=e.expand),Y.hasOwnProperty("expand")&&!Y.hasOwnProperty("responsive")&&(Y.responsive=Y.expand),re?ie.title=!1:g("title","true",e),g("controls","true",e),g("autoplay","false",e),g("optimize","false",e),g("gif","true",e),g("responsive","true",e),g("hd","false",e),ie.responsive&&(e&&e.hasOwnProperty("maxHeight")?ie.maxHeight=e.maxHeight:Y&&Y.hasOwnProperty("maxHeight")&&(ie.maxHeight=Y.maxHeight)),Y={}}function g(e,t,n){n&&n.hasOwnProperty(e)?ie[e]=le[n[e]]:Y[e]===t&&(ie[e]=le[t])}function v(e,t,n){var i=Math.floor(1e7*Math.random()+1),r="_"+W+"_"+i++;e+=e.match(/\?/)?"&callback="+r:"?callback="+r;var o=document.createElement("script");o.type="text/javascript",o.src=e,window[r]=function(e){t.call(n||window,e),document.getElementsByTagName("head")[0].removeChild(o),o=null;try{delete window[r]}catch(e){}},document.getElementsByTagName("head")[0].appendChild(o)}function b(){var e=w(Q);e&&!se?(l(),ie.autoplay&&E(),se=!0):!e&&se&&(P(),se=!1)}function y(){w(J)&&!se&&(J.src&&J.src!==window.location.href||(J.src=ie.hd?te.gifUrl:te.max5mbGif),se=!0)}function w(e){var t=e.getBoundingClientRect();return t.top>=-t.height/2&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+t.height/2&&t.left>=-t.width/2&&t.right<=(window.innerWidth||document.documentElement.clientWidth)+t.width/2}function x(e){window.addEventListener?(addEventListener("DOMContentLoaded",e,!1),addEventListener("load",e,!1),addEventListener("scroll",e,!1),addEventListener("resize",e,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",e),attachEvent("onload",e),attachEvent("onscroll",e),attachEvent("onresize",e))}function C(){ie.autoplay||re||ie.controls||M(),window.addEventListener?Q.addEventListener("webkitendfullscreen",P):window.attachEvent&&Q.attachEvent("webkitendfullscreen",P)}function k(){
return ie.controls?(X.style.backgroundPosition="-71px 0",V.style.backgroundPosition="0 0",V.style.marginLeft="6px",K.style.backgroundPosition="-192px 0",K.style.width="8px",K.onclick=j,void(V.onclick=R)):void M()}function S(){return ie.controls?(X.style.backgroundPosition="-95px 0",K.style.backgroundPosition="-20px 0",V.style.backgroundPosition="-165px 0",K.style.width="14px",V.style.marginLeft="0px",K.onclick=F,void(V.onclick=N)):void A()}function T(){Q.paused?E():P()}function E(){Q.paused&&Q.play(),Q.paused&&k()}function P(){Q.paused||Q.pause()}function L(){S()}function _(){k()}function M(){Z&&Z.button&&(Z.button.style.display="inline-flex")}function A(){Z&&Z.button&&(Z.button.style.display="none")}function I(){ie.title&&te.title&&(ee.style.display="block")}function z(){ie.title&&te.title&&(ee.style.display="none")}function B(){X.style.backgroundPosition="-95px 0",V.style.backgroundPosition="0 0",V.style.marginLeft="6px",K.style.backgroundPosition="-192px 0",K.style.width="8px",K.onclick=j,V.onclick=R,P(),l();var e=i("mp4source",Q)[0],t=i("webmsource",Q)[0];oe?(e.src=e.src.replace(/-reverse\.mp4/g,".mp4"),e.src=e.src.replace(/-reverse\.webm/g,".webm"),t.src=t.src.replace(/-reverse\.webm/g,".webm"),G.style.backgroundPosition="-46px 0",oe=!1):(e.src=e.src.replace(/\.mp4/g,"-reverse.mp4"),e.src=e.src.replace(/\.webm/g,"-reverse.webm"),t.src=t.src.replace(/\.webm/g,"-reverse.webm"),G.style.backgroundPosition="-141px 0",oe=!0),Q.playbackRate=1,Q.load(),E()}function N(){Q.playbackRate<=1?Q.playbackRate=Q.playbackRate/2:Q.playbackRate--}function F(){Q.playbackRate<=1?Q.playbackRate=2*Q.playbackRate:Q.playbackRate++}function j(){if(window.opera){var e=Q.onplay;Q.onplay=function(){P(),Q.onplay=e},E()}else Q.currentTime+=1/te.frameRate}function R(){Q.currentTime-=1/te.frameRate}function O(){Q.load(),E()}function H(){return ne}function D(){var e="https://gfycat.com/cajax/getTx/"+W,t=new XMLHttpRequest;t.open("GET",e),t.send(),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status&&t.response){var e=JSON.parse(t.response);if(!e.tx)return;var n="";n=void 0!==document.referrer&&document.referrer?encodeURIComponent(document.referrer):location.href;var i={ref:n,module:"jsEmbed",device_type:re?"mobile":"desktop"};GfyAnalytics.sendViewCount(e.tx,i)}}}function q(){ne.classList.add("ready")}var W,U,Y,$,X,G,V,K,Q,J,Z,ee,te,ne=e,ie={},re=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|android|ipad|playbook|silk|blackberry|htc|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}(),oe=!1,se=!1,ae=!1,le={true:!0,false:!1};return{init:p,refresh:O,getRootElement:H}},sPush=function(e){return e.Registration=null,e.Permission=null,e.Subscription=null,e.subscribeButtons=null,e.isSubscribed=!1,e.version="2.0.2",e.settings={offerBlockId:null,subscribeButtonsSelector:"",serviceWorker:null,subscribeText:"Subscribe to "+location.host,unsubscribeText:"Unsubscribe from "+location.host,subscribePayloadUrl:"",unsubscribePayloadUrl:"",subscribeCallback:null,unsubscribeCallback:null,appleWebPushId:"",applePayloadUrl:"",minVisitsToShowOffer:0},e.init=function(t){if(!e.core.promiseSupported)return e.core.log("js-promise technology does not supported by your browser","warn"),void e.off(t);"safari"in window&&t.appleWebPushId?this.prepare(t,!0).then(this.safari.register).then(this.safari.check).then(this.safari.activate).catch(function(t){e.core.log("sPush initialization failed because %o","warn",t)}):this.prepare(t).then(this.client.removeDoublicatedWorkers).then(this.client.register).then(this.client.activate).catch(function(t){e.core.log("sPush initialization failed because %o","warn",t)})},e.prepare=function(t,n){return new Promise(function(i,r){t||r(Error("Required settings was not passed")),t.subscribePayloadUrl&&t.unsubscribePayloadUrl||r(Error("«subscribePayloadUrl» or «unsubscribePayloadUrl» missed")),n?e.core.safariPushSupported()||r(Error("PushNotifications does not supported by your browser")):(e.core.serviceWorkerSupported()||r(Error("serviceWorkers does not supported by your browser")),e.core.pushAPISupported()||r(Error("pushAPI does not supported by your browser")),e.core.fetchSupported()||r(Error("js-fetch does not supported by your browser")),t.serviceWorker?e.settings.serviceWorker=t.serviceWorker:r(Error("missed serviceWorker path")));for(var o in t)e.settings[o]=t[o]||e.settings[o]||null;e.subscribeButtons=document.querySelectorAll(t.subscribeButtonsSelector),e.subscribeButtons.length||r(Error("No one subscribe-button founded by selector: «"+t.subscribeButtonsSelector+"»")),e.offer.el=document.getElementById(t.offerBlockId),e.client.changeSubcsribeButtonsState({addClasses:["disabled","hide"],disabled:!0}),i()})},e.off=function(e){for(var t=document.querySelectorAll(e.subscribeButtonsSelector),n=t.length-1;n>=0;n--)t[n].classList.add("hide"),t[n].hidden=!0},e}({});sPush.client={removeDoublicatedWorkers:function(){return navigator.serviceWorker.getRegistrations().then(function(e){for(var t=[],n=sPush.settings.serviceWorker.split("/").pop(),i=sPush.client.getSavedEndpoint(),r=e.length-1;r>=0;r--)e[r].active&&(t.push(e[r]),e[r].pushManager.getSubscription().then(function(e){e&&!i&&(sPush.core.log("Subscription found but enpoint was not saved yet %o","log",e),sPush.client.storeEndpoint(e.endpoint))}));t.length<2||t.forEach(function(e){e.active&&e.active.scriptURL&&e.active.scriptURL.indexOf(n)!==-1&&(i?(sPush.core.log("Removing doublicated worker: %o","warn",e),e.unregister()):sPush.core.log("Doublicated worker found, but there is no saved subscribtion endpoint. Doublication will be removed on the next visit after endpoint saving."))})})},register:function(){return navigator.serviceWorker.register(sPush.settings.serviceWorker)},activate:function(e){sPush.Registration=e,sPush.core.log("push worker registered"),sPush.client.checkSubscribtion().then(function(e){var t=sPush.client.getSavedEndpoint();!e&&t?(sPush.core.log("Restore lost endpont. Resubscribe... "),sPush.client.subscribe()):e?(t||(sPush.core.log("Endpoint was not saved yet. Now we will save it for future ;)"),sPush.client.storeEndpoint(e.endpoint)),sPush.isSubscribed=!0,sPush.Subscription=e,sPush.client.changeSubcsribeButtonsState({action:"UNSUBSCRIBE",addClasses:["unsubscribe"],removeClasses:["subscribe"]})):(sPush.isSubscribed=!1,sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]}),sPush.offer.show()),sPush.client.changeSubcsribeButtonsState({disabled:!1,removeClasses:["disabled","hide"]})});for(var t=sPush.subscribeButtons.length-1;t>=0;t--)sPush.subscribeButtons[t].addEventListener("click",sPush.client.suscribeButtonClicked,!1)},suscribeButtonClicked:function(){sPush.isSubscribed?sPush.client.unsubscribe():sPush.client.subscribe()},subscribe:function(){sPush.client.changeSubcsribeButtonsState({addClasses:["loading"]}),sPush.Registration.pushManager.subscribe({userVisibleOnly:!0}).then(function(e){sPush.offer.hide(),sPush.Subscription=e,sPush.client.saveSubscribtion(e.endpoint),sPush.client.changeSubcsribeButtonsState({action:"UNSUBSCRIBE",addClasses:["unsubscribe"],removeClasses:["subscribe","loading"]}),sPush.isSubscribed=!0,sPush.client.storeEndpoint(e.endpoint),sPush.settings.subscribeCallback&&"function"==typeof sPush.settings.subscribeCallback&&sPush.settings.subscribeCallback.call(),sPush.core.setCookie(sPush.offer.VISITS_COUNT_COOKIE,0,new Date((new Date).getTime()-1e3),"/")}).catch(function(e){sPush.core.log(e,"warn"),sPush.client.changeSubcsribeButtonsState({removeClasses:["loading"]})})},unsubscribe:function(){var e=sPush.Subscription.endpoint;sPush.Subscription.unsubscribe().then(function(t){sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]}),sPush.client.deleteSubscribtion(e),sPush.client.clearSavedEndpoint(),sPush.core.log("Unsubscribed.","log",t),sPush.isSubscribed=!1,sPush.settings.unsubscribeCallback&&"function"==typeof sPush.settings.unsubscribeCallback&&sPush.settings.unsubscribeCallback.call()}).catch(function(e){sPush.core.log("Error unsubscribing","error",e),sPush.client.changeSubcsribeButtonsState({text:sPush.settings.unsubscribeText})})},checkSubscribtion:function(){return sPush.Registration.pushManager.getSubscription()},saveSubscribtion:function(e){fetch(sPush.settings.subscribePayloadUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({endpoint:e})}).then(function(e){e.json().then(function(e){sPush.core.log("Subscription response: %o","log",e)}).catch(function(e){sPush.core.log("Error sending subscribtion request: %o","error",e)})})},deleteSubscribtion:function(e){fetch(sPush.settings.unsubscribePayloadUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({endpoint:e})}).then(function(e){e.json().then(function(e){sPush.core.log("Unsubscription response: %o","log",e)}).catch(function(e){sPush.core.log("Error sending unsubscribtion request: %o","error",e)})})},changeSubcsribeButtonsState:function(e){for(var t,n=sPush.subscribeButtons.length-1;n>=0;n--){switch(t=sPush.subscribeButtons[n],e.action){case"SUBSCRIBE":t.innerHTML=t.dataset.subscribeText||sPush.settings.subscribeText;break;case"UNSUBSCRIBE":t.innerHTML=t.dataset.unsubscribeText||sPush.settings.unsubscribeText}if(e.text&&(t.innerHTML=e.text),e.addClasses&&Array.isArray(e.addClasses))for(var i=e.addClasses.length-1;i>=0;i--)t.classList.add(e.addClasses[i]);if(e.removeClasses&&Array.isArray(e.removeClasses))for(var r=e.removeClasses.length-1;r>=0;r--)t.classList.remove(e.removeClasses[r]);null!==e.disabled&&(t.disabled=e.disabled)}},storeEndpoint:function(e){"undefined"!=typeof Storage&&e&&(localStorage.setItem("sPush:endpoint",e),sPush.core.log("Endpoint saved to the Storage: %o","log",localStorage.getItem("sPush:endpoint")))},getSavedEndpoint:function(){if("undefined"!=typeof Storage)return localStorage.getItem("sPush:endpoint")},clearSavedEndpoint:function(){"undefined"!=typeof Storage&&(localStorage.removeItem("sPush:endpoint"),sPush.core.log("Endpoint removed from the Storage: %o","log",localStorage.getItem("sPush:endpoint")))}},sPush.offer={el:null,VISITS_COUNT_COOKIE:"pushVisitsCount",show:function(){if(this.el){var e=parseInt(sPush.core.getCookie(sPush.offer.VISITS_COUNT_COOKIE),10);if(isNaN(e)&&(e=0),!sPush.settings.minVisitsToShowOffer||e>=sPush.settings.minVisitsToShowOffer-1)this.el.classList.remove("hide"),this.el.classList.add("fadeIn"),sPush.settings.offerShowedCallback&&"function"==typeof sPush.settings.offerShowedCallback&&sPush.settings.offerShowedCallback.call();else{var t=new Date((new Date).getTime()+2592e6);e++,sPush.core.setCookie(sPush.offer.VISITS_COUNT_COOKIE,e,t,"/")}}},hide:function(){this.el&&(this.el.classList.remove("fadeIn"),this.el.classList.add("hide"))}},sPush.safari={SAFARI_OFF_COOKIE_NAME:"safari_push_off",SAFARI_OFF_COOKIE_LIFETIME:new Date((new Date).getTime()+2592e6),register:function(){sPush.Registration||(sPush.Registration=window.safari.pushNotification)},check:function(){sPush.Permission=sPush.Registration.permission(sPush.settings.appleWebPushId);var e="1"===sPush.core.getCookie(sPush.safari.SAFARI_OFF_COOKIE_NAME);"granted"!==sPush.Permission.permission||e?"default"===sPush.Permission.permission?(sPush.isSubscribed=!1,sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]}),sPush.offer.show()):("denied"===sPush.Permission.permission||e)&&(sPush.isSubscribed=!1,sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]})):(sPush.isSubscribed=!0,sPush.client.changeSubcsribeButtonsState({action:"UNSUBSCRIBE",addClasses:["unsubscribe"],removeClasses:["subscribe"]})),sPush.client.changeSubcsribeButtonsState({disabled:!1,removeClasses:["disabled","hide"]})},permission:function(){sPush.Permission=sPush.Registration.permission(sPush.settings.appleWebPushId),"default"===sPush.Permission.permission||"denied"===sPush.Permission.permission?(sPush.isSubscribed=!1,sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]})):"granted"===sPush.Permission.permission&&(sPush.isSubscribed=!0,sPush.client.changeSubcsribeButtonsState({action:"UNSUBSCRIBE",addClasses:["unsubscribe"],removeClasses:["subscribe"]}),sPush.settings.subscribeCallback&&"function"==typeof sPush.settings.subscribeCallback&&sPush.settings.subscribeCallback.call(),sPush.core.setCookie(sPush.offer.VISITS_COUNT_COOKIE,0,new Date((new Date).getTime()-1e3),"/")),sPush.offer.hide(),sPush.client.changeSubcsribeButtonsState({removeClasses:["loading"]})},activate:function(){if(sPush.subscribeButtons.length)for(var e=sPush.subscribeButtons.length-1;e>=0;e--)sPush.subscribeButtons[e].addEventListener("click",function(e){sPush.isSubscribed?sPush.safari.unsubscribe():sPush.safari.subscribe()})},subscribe:function(){sPush.client.changeSubcsribeButtonsState({addClasses:["loading"]}),"1"===sPush.core.getCookie(sPush.safari.SAFARI_OFF_COOKIE_NAME)?sPush.safari.resubscribe():sPush.Registration.requestPermission(sPush.settings.applePayloadUrl,sPush.settings.appleWebPushId,{},sPush.safari.permission)},resubscribe:function(){var e=sPush.Registration.permission(sPush.settings.appleWebPushId).deviceToken||"",t=sPush.settings.applePayloadUrl+"/v1/devices/:endpoint/registrations/:webpushid";e?sPush.core.ajax({type:"POST",url:t.replace(":endpoint",e).replace(":webpushid",sPush.settings.appleWebPushId),success:function(e){e=JSON.parse(e),e.success?(sPush.isSubscribed=!0,sPush.client.changeSubcsribeButtonsState({action:"UNSUBSCRIBE",addClasses:["unsubscribe"],removeClasses:["subscribe"]}),sPush.settings.subscribeCallback&&"function"==typeof sPush.settings.subscribeCallback&&sPush.settings.subscribeCallback.call(),sPush.core.setCookie(sPush.safari.SAFARI_OFF_COOKIE_NAME,0,0,"/")):sPush.core.log(e.error,"warn"),sPush.client.changeSubcsribeButtonsState({removeClasses:["loading"]})}}):(sPush.core.log("Not found safari enpoint. Get it again","log"),sPush.core.deleteCookie(sPush.safari.SAFARI_OFF_COOKIE_NAME),setTimeout(function(){sPush.safari.subscribe()},500))},unsubscribe:function(){var e=sPush.Registration.permission(sPush.settings.appleWebPushId).deviceToken||"",t=sPush.settings.applePayloadUrl+"/v1/devices/:endpoint/registrations/:webpushid";e?sPush.core.ajax({type:"DELETE",url:t.replace(":endpoint",e).replace(":webpushid",sPush.settings.appleWebPushId),success:function(e){e=JSON.parse(e),e.success?(sPush.settings.unsubscribeCallback&&"function"==typeof sPush.settings.unsubscribeCallback&&sPush.settings.unsubscribeCallback.call(),sPush.client.changeSubcsribeButtonsState({action:"SUBSCRIBE",addClasses:["subscribe"],removeClasses:["unsubscribe"]}),sPush.core.setCookie(sPush.safari.SAFARI_OFF_COOKIE_NAME,1,sPush.safari.SAFARI_OFF_COOKIE_LIFETIME,"/"),sPush.isSubscribed=!1):sPush.core.log(e.error,"warn")}}):sPush.core.log("Not found safari enpoint","log")}},sPush.core={promiseSupported:function(){return"undefined"!=typeof Promise&&Promise.toString().indexOf("[native code]")!==-1},fetchSupported:function(){return"undefined"!=typeof fetch&&window.fetch&&window.fetch.toString().indexOf("[native code]")!==-1},serviceWorkerSupported:function(){return"serviceWorker"in navigator},safariPushSupported:function(){return window.safari&&window.safari.pushNotification},pushAPISupported:function(){return"PushManager"in window&&window.navigator.userAgent.indexOf("OPR")==-1&&window.navigator.userAgent.indexOf("Opera")==-1},log:function(e,t,n){t=t||"log",n?e="[sPush]:      "+e:(n=e||"undefined",e="[sPush]:      %o");try{"console"in window&&console[t]&&(n?console[t](e,n):console[t](e))}catch(e){}},ajax:function(e){if(e&&e.url){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n=function(e){};e.async=!!e.async,e.type=e.type||"GET",e.data=e.data||"",e["content-type"]=e["content-type"]||"text/html",n=e.success||n,"GET"==e.type&&e.data&&(e.url=/\?/.test(e.url)?e.url+"&"+e.data:e.url+"?"+e.data),e.withCredentials&&(t.withCredentials=!0),t.open(e.type,e.url,e.async),t.setRequestHeader("Content-type",e["content-type"]),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&n(t.responseText)},t.send(e.data)}},setCookie:function(e,t,n,i,r){var o=e+"="+t;n&&(o+="; expires="+n.toGMTString()),i&&(o+="; path="+i),r&&(o+="; domain="+r),document.cookie=o},getCookie:function(e){var t=document.cookie,n=e+"=",i=t.indexOf("; "+n);if(i==-1){if(0!==(i=t.indexOf(n)))return null}else i+=2;var r=document.cookie.indexOf(";",i);return r==-1&&(r=t.length),unescape(t.substring(i+n.length,r))},deleteCookie:function(e){sPush.core.setCookie(e,0,new Date((new Date).getTime()-1e3),"/")}},window.newrphus=window.newrphus||function(){var e={},t={url:"example.php",callback:function(){alert("Thank you! Misprint was sent")},userId:0,maxLength:1e3,minLength:4,onBeforeSend:void 0},n=function(e,t,n){if(void 0!=window.XMLHttpRequest){var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){if(4===this.readyState&&this.status>=200&&this.status<400){var e=this.responseText;void 0!=n&&n(e)}};var r=[];for(var o in t)r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(r.join("&")),i=null}},i=function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:void 0},r=function(){var t=arguments[0]||window.event,n=t.keyCode?t.keyCode:t.which?t.which:t.charCode,r=i();!t.ctrlKey||13!=n&&10!=n||void 0!==r&&r.length<=e.maxLength&&r.length>=e.minLength&&("function"==typeof e.onBeforeSend?e.onBeforeSend(r):o(r))},o=function(t,i){e.callback(),n(e.url,{misprintText:t,misprintUrl:window.location.href?window.location.href:"",misprintUserId:e.userId,misprintComment:i||""})};return{init:function(n){e.url=n.url||t.url,e.callback=n.callback||t.callback,e.userId=n.userId||t.userId,e.minLength=n.minLength||t.minLength,e.maxLength=n.maxLength||t.maxLength,e.onBeforeSend=n.onBeforeSend||t.onBeforeSend,document.onkeypress=r},send:o}}(),function(){var e,t;e=window.jQuery,t=e(window),e.fn.stick_in_parent=function(n){var i,r,o,s,a,l,c,u,p,d,f,h,m;for(null==n&&(n={}),m=n.sticky_class,l=n.inner_scrolling,h=n.recalc_every,f=n.parent,p=n.offset_top,u=n.spacer,o=n.bottoming,null==p&&(p=0),null==f&&(f=void 0),null==l&&(l=!0),null==m&&(m="is_stuck"),i=e(document),null==o&&(o=!0),d=function(e){var t,n;return window.getComputedStyle?(e[0],t=window.getComputedStyle(e[0]),n=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(n+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),n):e.outerWidth(!0)},s=function(n,r,s,a,c,g,v,b){var y,w,x,C,k,S,T,E,P,L,_,M;if(!n.data("sticky_kit")){if(n.data("sticky_kit",!0),k=i.height(),T=n.parent(),null!=f&&(T=T.closest(f)),!T.length)throw"failed to find stick parent";if(x=!1,y=!1,_=null!=u?u&&n.closest(u):e("<div />"),_&&_.css("position",n.css("position")),E=function(){var e,t,o;if(!b)return k=i.height(),e=parseInt(T.css("border-top-width"),10),t=parseInt(T.css("padding-top"),10),r=parseInt(T.css("padding-bottom"),10),s=T.offset().top+e+t,a=T.height(),x&&(x=!1,y=!1,null==u&&(n.insertAfter(_),_.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(m),o=!0),c=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-p,g=n.outerHeight(!0),v=n.css("float"),_&&_.css({width:d(n),height:g,display:n.css("display"),"vertical-align":n.css("vertical-align"),float:v}),o?M():void 0},E(),g!==a)return C=void 0,S=p,L=h,M=function(){var e,d,f,w,P,M;if(!b)return f=!1,null!=L&&(L-=1)<=0&&(L=h,E(),f=!0),f||i.height()===k||(E(),f=!0),w=t.scrollTop(),null!=C&&(d=w-C),C=w,x?(o&&(P=w+g+S>a+s,y&&!P&&(y=!1,n.css({position:"fixed",bottom:"",top:S}).trigger("sticky_kit:unbottom"))),w<c&&(x=!1,S=p,null==u&&("left"!==v&&"right"!==v||n.insertAfter(_),_.detach()),e={position:"",width:"",top:""},n.css(e).removeClass(m).trigger("sticky_kit:unstick")),l&&(M=t.height(),g+p>M&&(y||(S-=d,S=Math.max(M-g,S),S=Math.min(p,S),x&&n.css({top:S+"px"}))))):w>c&&(x=!0,e={position:"fixed",top:S},e.width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(e).addClass(m),null==u&&(n.after(_),"left"!==v&&"right"!==v||_.append(n)),n.trigger("sticky_kit:stick")),x&&o&&(null==P&&(P=w+g+S>a+s),!y&&P)?(y=!0,"static"===T.css("position")&&T.css({position:"relative"}),n.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},P=function(){return E(),M()},w=function(){if(b=!0,t.off("touchmove",M),t.off("scroll",M),t.off("resize",P),e(document.body).off("sticky_kit:recalc",P),n.off("sticky_kit:detach",w),n.removeData("sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),T.position("position",""),x)return null==u&&("left"!==v&&"right"!==v||n.insertAfter(_),_.remove()),n.removeClass(m)},t.on("touchmove",M),t.on("scroll",M),t.on("resize",P),e(document.body).on("sticky_kit:recalc",P),n.on("sticky_kit:detach",w),setTimeout(M,0)}},a=0,c=this.length;a<c;a++)r=this[a],s(e(r));return this}}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.io=e()}}(function(){var e;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),o=i.source,c=i.id,u=i.path,p=l[c]&&l[c].nsps[u]&&u==l[c].nsps[u].nsp,d=t.forceNew||t["force new connection"]||!1===t.multiplex||p;return d?(a("ignoring socket cache for %s",o),n=s(o,t)):(l[c]||(a("new io instance for %s",o),l[c]=s(o,t)),n=l[c]),n.socket(i.path)}var r=e("./url"),o=e("socket.io-parser"),s=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=i;var l=n.managers={};n.protocol=o.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(e,t,n){function i(e,t){if(!(this instanceof i))return new i(e,t);e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}var r=(e("./url"),e("engine.io-client")),o=e("./socket"),s=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=(e("object-component"),e("debug")("socket.io-client:manager")),p=e("indexof"),d=e("backo2");t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},s(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=l(t,"open",function(){n.onopen(),e&&e()}),o=l(t,"error",function(t){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;u("connect attempt will timeout after %d",s);var a=setTimeout(function(){u("connect attempt timed out after %d",s),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose")))},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~p(n.connected,t)||n.connected.push(t)})}return t},i.prototype.destroy=function(e){var t=p(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(e,t,n){function i(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=i},{}],5:[function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=e("socket.io-parser"),o=e("component-emitter"),s=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=i;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},d=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n=r.EVENT
;u(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);c("sending ack %j",i);var o=u(i)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:i})}}},i.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data),this.acks[e.id].apply(this,e.data),delete this.acks[e.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(e,t,n){(function(n){function i(e,t){var i=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),i=r(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(t&&t.port==i.port?"":":"+i.port),i}var r=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],8:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],9:[function(e,t,n){function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],10:[function(e,t,n){function i(e){return i.enabled(e)?function(t){t=r(t);var n=new Date,o=n-(i[e]||n);i[e]=n,t=e+" "+t+" +"+i.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e}t.exports=i,i.names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)e=t[r].replace("*",".*?"),"-"===e[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(var t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],11:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":12}],12:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(e,t,n){(function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var r=t.host.split(":");t.hostname=r.shift(),r.length?t.port=r.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=e("./transports"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),p=e("parsejson"),d=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);return t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id),new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;p=p||t}p||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!p)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){p||"closed"!=d.readyState&&(a("changing transport and sending upgrade packet"),c(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,d.emit("upgradeError",n)}}))}function n(){p||(p=!0,c(),u.close(),u=null)}function r(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",i)}function o(){r("transport closed")}function s(){r("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",o),d.removeListener("close",s),d.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),p=!1,d=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",o),this.once("close",s),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},i.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:e,data:t};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var r=e("engine.io-parser"),o=e("component-emitter");t.exports=i,o(i.prototype),i.timestamps=0,i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(e,t,n){(function(t){function i(e){var n=!1,i=!1,a=!1!==e.jsonp;if(t.location){var l="https:"==location.protocol,c=location.port;c||(c=l?443:80),n=e.hostname!=location.hostname||c!=e.port,i=e.secure!=l}if(e.xdomain=n,e.xscheme=i,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new s(e)}var r=e("xmlhttprequest"),o=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(e,t,n){(function(n){function i(){}function r(e){o.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)},!1)}var o=e("./polling"),s=e("component-inherit");t.exports=r;var a;s(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(e)}catch(e){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),e=e.replace(/\\n/g,"\\\n"),this.area.value=e.replace(/\n/g,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(e,t,n){(function(n){function i(){}function r(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=n.location.hostname||i!=e.port,this.xs=e.secure!=t}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=o,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new o(e)},r.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),r=this;i.on("success",t),i.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=i},r.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),i=this;try{if(p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(e,t,n){function i(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("parseqs"),s=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=i;var c=function(){return null!=new(e("xmlhttprequest"))({xdomain:!1}).responseType}();a(i,r),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){l("pre-pause polling complete"),--i||t()})),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",function(){l("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,i){if("opening"==t.readyState&&t.onOpen(),"close"==e.type)return t.onClose(),!1;t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(e,t,n){function i(e){e&&e.forceBase64&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("engine.io-parser"),s=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=i,a(i,r),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.ws=new c(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),i.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,r=e.length;i<r;i++)o.encodePacket(e[i],this.supportsBinary,function(e){try{n.ws.send(e)}catch(e){l("websocket closed before onclose event")}});setTimeout(t,0)},i.prototype.onClose=function(){r.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},i.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===i.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(e,t,n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":38}],21:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],22:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(e){}}function a(){var e;try{e=localStorage.debug}catch(e){}return e}n=t.exports=e("./debug"),n.log=o,n.formatArgs=r,n.save=s,n.load=a,n.useColors=i,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":23}],23:[function(e,t,n){function i(){return n.colors[u++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,i){if("%"===t)return t;a++;var r=n.formatters[i];if("function"==typeof r){var o=s[a];t=r.call(e,o),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s)),(r.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,r.enabled=!0;var o=n.enabled(e)?r:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;r<i;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=r,n.coerce=l,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,u=0},{ms:24}],24:[function(e,t,n){function i(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"y":return n*p;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*l;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,u,"day")||s(e,c,"hour")||s(e,l,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,p=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t.long?o(e):r(e)}},{}],25:[function(e,t,n){(function(t){function i(e,t){return t("b"+n.packets[e.type]+e.data.data)}function r(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=v[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var r=new FileReader
;return r.onload=function(){e.data=r.result,n.encodePacket(e,t,!0,i)},r.readAsArrayBuffer(e.data)}function s(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(g)return o(e,t,i);var r=new Uint8Array(1);return r[0]=v[e.type],i(new w([r.buffer,e.data]))}function a(e,t,n){for(var i=new Array(e.length),r=d(e.length,n),o=0;o<e.length;o++)!function(e,n,r){t(n,function(t,n){i[e]=n,r(t,i)})}(o,e[o],r)}var l=e("./keys"),c=e("has-binary"),u=e("arraybuffer.slice"),p=e("base64-arraybuffer"),d=e("after"),f=e("utf8"),h=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=h||m;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(v),y={type:"error",data:"parser error"},w=e("blob");n.encodePacket=function(e,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return r(e,n,a);if(w&&l instanceof t.Blob)return s(e,n,a);if(l&&l.base64)return i(e,a);var c=v[e.type];return void 0!==e.data&&(c+=o?f.encode(String(e.data)):String(e.data)),a(""+c)},n.encodeBase64Packet=function(e,i){var r="b"+n.packets[e.type];if(w&&e.data instanceof w){var o=new FileReader;return o.onload=function(){i(r+o.result.split(",")[1])},o.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a[c];s=String.fromCharCode.apply(null,l)}return r+=t.btoa(s),i(r)},n.decodePacket=function(e,t,i){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i)try{e=f.decode(e)}catch(e){return y}var r=e.charAt(0);return Number(r)==r&&b[r]?e.length>1?{type:b[r],data:e.substring(1)}:{type:b[r]}:y}var o=new Uint8Array(e),r=o[0],s=u(e,1);return w&&"blob"===t&&(s=new w([s])),{type:b[r],data:s}},n.decodeBase64Packet=function(e,n){var i=b[e.charAt(0)];if(!t.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var r=p.decode(e.substr(1));return"blob"===n&&w&&(r=new w([r])),{type:i,data:r}},n.encodePayload=function(e,t,i){function r(e){return e.length+":"+e}function o(e,i){n.encodePacket(e,!!s&&t,!0,function(e){i(null,r(e))})}"function"==typeof t&&(i=t,t=null);var s=c(e);return t&&s?w&&!g?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?void a(e,o,function(e,t){return i(t.join(""))}):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var r;if(""==e)return i(y,0,1);for(var o,s,a="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(o=Number(a)))return i(y,0,1);if(s=e.substr(l+1,o),a!=s.length)return i(y,0,1);if(s.length){if(r=n.decodePacket(s,t,!0),y.type==r.type&&y.data==r.data)return i(y,0,1);if(!1===i(r,l+o,c))return}l+=o,a=""}}return""!=a?i(y,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return t(new ArrayBuffer(0));a(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),r=new Uint8Array(i),o=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);n=i.buffer}r[o++]=t?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]}),t(r.buffer)})},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,n[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,w){t(null,new w([n.buffer,a.buffer,e]))}})}a(e,i,function(e,n){return t(new w(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var r=e,o=[],s=!1;r.byteLength>0;){for(var a=new Uint8Array(r),l=0===a[0],c="",p=1;255!=a[p];p++){if(c.length>310){s=!0;break}c+=a[p]}if(s)return i(y,0,1);r=u(r,2+c.length),c=parseInt(c);var d=u(r,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var f=new Uint8Array(d);d="";for(var p=0;p<f.length;p++)d+=String.fromCharCode(f[p])}o.push(d),r=u(r,c)}var h=o.length;o.forEach(function(e,r){i(n.decodePacket(e,t,!0),r,h)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],27:[function(e,t,n){function i(e,t,n){function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=n):0!==i.count||o||t(null,r)}var o=!1;return n=n||r,i.count=e,0===e?t():i}function r(){}t.exports=i},{}],28:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},{}],29:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o="";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,i,r,o,s,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(n=0;n<l;n+=4)i=e.indexOf(t[n]),r=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),p[c++]=i<<2|r>>4,p[c++]=(15&r)<<4|o>>2,p[c++]=(3&o)<<6|63&s;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(e,t,n){(function(e){function n(e,t){t=t||{};for(var n=new i,r=0;r<e.length;r++)n.append(e[r]);return t.type?n.getBlob(t.type):n.getBlob()}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2==new Blob(["hi"]).size}catch(e){return!1}}(),o=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return r?e.Blob:o?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(t,n,i){(function(t){!function(r){function o(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function s(e){for(var t,n=e.length,i=-1,r="";++i<n;)t=e[i],t>65535&&(t-=65536,r+=y(t>>>10&1023|55296),t=56320|1023&t),r+=y(t);return r}function a(e,t){return y(e>>t&63|128)}function l(e){if(0==(4294967168&e))return y(e);var t="";return 0==(4294965248&e)?t=y(e>>6&31|192):0==(4294901760&e)?(t=y(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=y(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=y(63&e|128)}function c(e){for(var t,n=o(e),i=n.length,r=-1,s="";++r<i;)t=n[r],s+=l(t);return s}function u(){if(b>=v)throw Error("Invalid byte index");var e=255&g[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,i,r;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){var t=u();if((r=(31&e)<<6|t)>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),(r=(15&e)<<12|t<<6|n)>=2048)return r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),i=u(),(r=(15&e)<<18|t<<12|n<<6|i)>=65536&&r<=1114111))return r;throw Error("Invalid UTF-8 detected")}function d(e){g=o(e),v=g.length,b=0;for(var t,n=[];(t=p())!==!1;)n.push(t);return s(n)}var f="object"==typeof i&&i,h="object"==typeof n&&n&&n.exports==f&&n,m="object"==typeof t&&t;m.global!==m&&m.window!==m||(r=m);var g,v,b,y=String.fromCharCode,w={version:"2.0.0",encode:c,decode:d};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return w});else if(f&&!f.nodeType)if(h)h.exports=w;else{var x={},C=x.hasOwnProperty;for(var k in w)C.call(w,k)&&(f[k]=w[k])}else r.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(/^\s+/,"").replace(/\s+$/,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],34:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");n!=-1&&o!=-1&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=i.exec(e||""),a={},l=14;l--;)a[r[l]]=s[l]||"";return n!=-1&&o!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],35:[function(e,t,n){function i(e,t,n){return t?new o(e,t):new o(e)}var r=function(){return this}(),o=r.WebSocket||r.MozWebSocket;t.exports=o?i:null,o&&(i.prototype=o.prototype)},{}],36:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(r(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(e.hasOwnProperty(o)&&t(e[o]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],38:[function(e,t,n){var i=e("global");try{t.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(e){t.exports=!1}},{global:39}],39:[function(e,t,n){t.exports=function(){return this}()},{}],40:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],41:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],42:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=i.exec(e||""),n={},o=14;o--;)n[r[o]]=t[o]||"";return n}},{}],43:[function(e,t,n){(function(t){var i=e("isarray"),r=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(i(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var l in e)s[l]=t(e[l]);return s}return e}var n=[],o=e.data,s=e;return s.data=t(o),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){return t[e.num]}if(i(e)){for(var r=0;r<e.length;r++)e[r]=n(e[r]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=n(e[o]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function o(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--s||n(a)},u.readAsArrayBuffer(e)}else if(i(e))for(var p=0;p<e.length;p++)o(e[p],p,e);else if(e&&"object"==typeof e&&!r(e))for(var d in e)o(e[d],d,e)}var s=0,a=e;o(a),s||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(e,t,n){function i(){}function r(e){var t="",i=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=p.stringify(e.data)),u("encoded %j as %s",e,t),t}function o(e,t){function n(e){var n=f.deconstructPacket(e),i=r(n.packet),o=n.buffers;o.unshift(i),t(o)}f.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++i);)t.attachments+=e.charAt(i);t.attachments=Number(t.attachments)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var r=e.charAt(i);if(","==r)break;if(t.nsp+=r,i+1==e.length)break}else t.nsp="/";var o=e.charAt(i+1);if(""!=o&&Number(o)==o){for(t.id="";++i;){var r=e.charAt(i);if(null==r||Number(r)!=r){--i;break}if(t.id+=e.charAt(i),i+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++i))try{t.data=p.parse(e.substr(i))}catch(e){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),p=e("json3"),d=(e("isarray"),e("component-emitter")),f=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=s,i.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)o(e,t);else{t([r(e)])}},d(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,n){t.exports=e(37)},{}],47:[function(t,n,i){!function(t){function n(e){if(n[e]!==s)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var o=u.stringify,l="function"==typeof o&&p;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===o(0)&&"0"===o(new Number)&&'""'==o(new String)&&o(a)===s&&o(s)===s&&o()===s&&"1"===o(i)&&"[1]"==o([i])&&"[null]"==o([s])&&"null"==o(null)&&"[null,null,null]"==o([s,a,null])&&o({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===o(null,i)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new Date(-1))}catch(e){l=!1}}t=l}if("json-parse"==e){var c=u.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){i=c(r);var d=5==i.a.length&&1===i.a[0];if(d){try{d=!c('"\t"')}catch(e){}if(d)try{d=1!==c("01")}catch(e){}if(d)try{d=1!==c("1.")}catch(e){}}}}catch(e){d=!1}t=d}}return n[e]=!!t}var r,o,s,a={}.toString,l="function"==typeof e&&e.amd,c="object"==typeof JSON&&JSON,u="object"==typeof i&&i&&!i.nodeType&&i;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=t.JSON=c||{};var p=new Date(-0xc782b5b800cec);try{p=p.getUTCFullYear()==-109252&&0===p.getUTCMonth()&&1===p.getUTCDate()&&10==p.getUTCHours()&&37==p.getUTCMinutes()&&6==p.getUTCSeconds()&&708==p.getUTCMilliseconds()}catch(e){}if(!n("json")){var d=n("bug-string-char-index");if(!p)var f=Math.floor,h=[0,31,59,90,120,151,181,212,243,273,304,334],m=function(e,t){return h[t]+365*(e-1970)+f((e-1969+(t=+(t>1)))/4)-f((e-1901+t)/100)+f((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?r=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,r=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,r.call(this,e)});var g={boolean:1,number:1,string:1,undefined:1},v=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!g[n]};if(o=function(e,t){var n,i,s,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)r.call(i,s)&&l++;return n=i=null,l?o=2==l?function(e,t){var n,i={},o="[object Function]"==a.call(e);for(n in e)o&&"prototype"==n||r.call(i,n)||!(i[n]=1)||!r.call(e,n)||t(n)}:function(e,t){var n,i,o="[object Function]"==a.call(e);for(n in e)o&&"prototype"==n||!r.call(e,n)||(i="constructor"===n)||t(n);(i||r.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(e,t){var n,o,s="[object Function]"==a.call(e),l=!s&&"function"!=typeof e.constructor&&v(e,"hasOwnProperty")?e.hasOwnProperty:r;for(n in e)s&&"prototype"==n||!l.call(e,n)||t(n);for(o=i.length;n=i[--o];l.call(e,n)&&t(n));}),o(e,t)},!n("json-stringify")){var b={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},y=function(e,t){return("000000"+(t||0)).slice(-e)},w=function(e){var t,n='"',i=0,r=e.length,o=r>10&&d;for(o&&(t=e.split(""));i<r;i++){var s=e.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=b[s];break;default:if(s<32){n+="\\u00"+y(2,s.toString(16));break}n+=o?t[i]:d?e.charAt(i):e[i]}}return n+'"'},x=function(e,t,n,i,l,c,u){var p,d,h,g,v,b,C,k,S,T,E,P,L,_,M,A;try{p=t[e]}catch(e){}if("object"==typeof p&&p)if("[object Date]"!=(d=a.call(p))||r.call(p,"toJSON"))"function"==typeof p.toJSON&&("[object Number]"!=d&&"[object String]"!=d&&"[object Array]"!=d||r.call(p,"toJSON"))&&(p=p.toJSON(e));else if(p>-1/0&&p<1/0){if(m){for(v=f(p/864e5),h=f(v/365.2425)+1970-1;m(h+1,0)<=v;h++);for(g=f((v-m(h,0))/30.42);m(h,g+1)<=v;g++);v=1+v-m(h,g),b=(p%864e5+864e5)%864e5,C=f(b/36e5)%24,k=f(b/6e4)%60,S=f(b/1e3)%60,T=b%1e3}else h=p.getUTCFullYear(),g=p.getUTCMonth(),v=p.getUTCDate(),C=p.getUTCHours(),k=p.getUTCMinutes(),S=p.getUTCSeconds(),T=p.getUTCMilliseconds();p=(h<=0||h>=1e4?(h<0?"-":"+")+y(6,h<0?-h:h):y(4,h))+"-"+y(2,g+1)+"-"+y(2,v)+"T"+y(2,C)+":"+y(2,k)+":"+y(2,S)+"."+y(3,T)+"Z"}else p=null;if(n&&(p=n.call(t,e,p)),null===p)return"null";if("[object Boolean]"==(d=a.call(p)))return""+p;if("[object Number]"==d)return p>-1/0&&p<1/0?""+p:"null";if("[object String]"==d)return w(""+p);if("object"==typeof p){for(_=u.length;_--;)if(u[_]===p)throw TypeError();if(u.push(p),E=[],M=c,c+=l,"[object Array]"==d){for(L=0,_=p.length;L<_;L++)P=x(L,p,n,i,l,c,u),E.push(P===s?"null":P);A=E.length?l?"[\n"+c+E.join(",\n"+c)+"\n"+M+"]":"["+E.join(",")+"]":"[]"}else o(i||p,function(e){var t=x(e,p,n,i,l,c,u);t!==s&&E.push(w(e)+":"+(l?" ":"")+t)}),A=E.length?l?"{\n"+c+E.join(",\n"+c)+"\n"+M+"}":"{"+E.join(",")+"}":"{}";return u.pop(),A}};u.stringify=function(e,t,n){var i,r,o,s;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==(s=a.call(t)))r=t;else if("[object Array]"==s){o={};for(var l,c=0,u=t.length;c<u;l=t[c++],("[object String]"==(s=a.call(l))||"[object Number]"==s)&&(o[l]=1));}if(n)if("[object Number]"==(s=a.call(n))){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else"[object String]"==s&&(i=n.length<=10?n:n.slice(0,10));return x("",(l={},l[""]=e,l),r,o,i,"",[])}}if(!n("json-parse")){var C,k,S=String.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},E=function(){throw C=k=null,SyntaxError()},P=function(){for(var e,t,n,i,r,o=k,s=o.length;C<s;)switch(r=o.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=d?o.charAt(C):o[C],C++,e;case 34:for(e="@",C++;C<s;)if((r=o.charCodeAt(C))<32)E();else if(92==r)switch(r=o.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=T[r],C++;break;case 117:for(t=++C,n=C+4;C<n;C++)(r=o.charCodeAt(C))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||E();e+=S("0x"+o.slice(t,C));break;default:E()}else{if(34==r)break;for(r=o.charCodeAt(C),t=C;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++C);e+=o.slice(t,C)}if(34==o.charCodeAt(C))return C++,e;E();default:if(t=C,45==r&&(i=!0,r=o.charCodeAt(++C)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(C+1))>=48&&r<=57&&E(),i=!1;C<s&&(r=o.charCodeAt(C))>=48&&r<=57;C++);if(46==o.charCodeAt(C)){for(n=++C;n<s&&(r=o.charCodeAt(n))>=48&&r<=57;n++);n==C&&E(),C=n}if(101==(r=o.charCodeAt(C))||69==r){for(r=o.charCodeAt(++C),43!=r&&45!=r||C++,n=C;n<s&&(r=o.charCodeAt(n))>=48&&r<=57;n++);n==C&&E(),C=n}return+o.slice(t,C)}if(i&&E(),"true"==o.slice(C,C+4))return C+=4,!0;if("false"==o.slice(C,C+5))return C+=5,!1;if("null"==o.slice(C,C+4))return C+=4,null;E()}return"$"},L=function(e){var t,n;if("$"==e&&E(),"string"==typeof e){if("@"==(d?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=P());n||(n=!0))n&&(","==e?"]"==(e=P())&&E():E()),","==e&&E(),t.push(L(e));return t}if("{"==e){for(t={};"}"!=(e=P());n||(n=!0))n&&(","==e?"}"==(e=P())&&E():E()),","!=e&&"string"==typeof e&&"@"==(d?e.charAt(0):e[0])&&":"==P()||E(),t[e.slice(1)]=L(P());return t}E()}return e},_=function(e,t,n){var i=M(e,t,n);i===s?delete e[t]:e[t]=i},M=function(e,t,n){var i,r=e[t];if("object"==typeof r&&r)if("[object Array]"==a.call(r))for(i=r.length;i--;)_(r,i,n);else o(r,function(e){_(r,e,n)});return n.call(e,t,r)};u.parse=function(e,t){var n,i;return C=0,k=""+e,n=L(P()),"$"!=P()&&E(),C=k=null,t&&"[object Function]"==a.call(t)?M((i={},i[""]=n,i),"",t):n}}}l&&e(function(){return u})}(this)},{}],48:[function(e,t,n){function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=i},{}]},{},[1])(1)});var FontsObserver=function(){return{init:function(){WebFont.load({google:{families:["Roboto:300,400,400i,500,700:cyrillic-ext,latin-ext"]}})}}}(),Sticky=function(){var e,t,n=$(".b-aside"),i=$(".b-aside__adv"),r=n?n.parent().find(".b-main"):null,o=$(".js-sticky-last-comments"),s=$(".js-sticky-adv"),a=i.length?i:n,l={parent:a,offset_top:70,spacer:!1,inner_scrolling:!1,recalc_every:1};return{init:function(){Modernizr.csspositionsticky||(e=r[0]?r[0].offsetHeight:null,t=n[0]?n[0].offsetHeight:null,s&&e>=t?App.isDesktop()&&App.isLargeDesktop()||!o.length&&App.isDesktop()&&!App.isLargeDesktop()?s.stick_in_parent(l):(o.length&&App.isDesktop()&&App.isLargeDesktop(),s.trigger("sticky_kit:detach")):(o.length||s.length)&&s.trigger("sticky_kit:detach"))}}}(),Moment=function(){var e,t,n;return{init:function(){e=document.querySelectorAll(".js-moment-format");for(var i=0;i<e.length;i++){var r=e[i];t=r.dataset.momentSettings,n=r.dataset.momentTimestamp,moment.locale("ru"),"fromNow"==t?(r.innerHTML=moment.unix(n).fromNow(),r.title=moment.unix(n).format("LLL (UTCZ)")):(r.innerHTML=moment.unix(n).format(t),r.title=moment.unix(n).format("LLL (UTCZ)"))}}}}(),Anchors=function(){var e,t,n,i,r,o=function(e){i=App.isDesktop()?50:0,e&&(n=e.offsetTop,r=n-i,window.scrollTo(0,n))},s=function(n){for(var i=n.target;i.parentNode&&i!==n.currentTarget&&("path"===i.tagName||"svg"===i.tagName||"A"!=i.tagName);)i=i.parentNode;"A"==i.tagName&&i.hash&&(e=i.hash.substr(1),t=document.querySelector('[data-anchor="'+e+'"]'),o(t))},a=function(){e=location.hash.substr(1),t=document.querySelector('[data-anchor="'+e+'"]'),""!==e&&t&&o(t)};return{init:function(){a(),document.addEventListener("click",s)},go:o}}(),Popups=function(){var e=[{name:"login",selector:".js-popup-login",title:"Войти на сайт",template:function(e,t){return'<div class="b-social-login"><a class="b-social-login__item b-social-login__item--fb" data-gtm-event="FB Login — Init" href="/auth/facebookLogin?redirect='+encodeURIComponent(t)+'">Facebook</a><a class="b-social-login__item b-social-login__item--vk" data-gtm-event="VK Login — Init" href="/auth/vkLogin?redirect='+encodeURIComponent(t)+'">ВКонтакте</a><a class="b-social-login__item b-social-login__item--tw" data-gtm-event="Twitter Login — Init" href="/auth/twitterLogin?redirect='+encodeURIComponent(t)+'">Twitter</a></div>'},gtm:"Login Window Shown"},{name:"recover",selector:".js-popup-recover",title:"Восстановить пароль",template:function(e){return'<form action="/auth/simple/recover/request" method="POST" class="js-ajax-auth-form js-form-recover"><div class="form__error"></div><div class="form__success"></div><input type="hidden" name="x-csrf-token" value="'+(csrfToken||"")+'"><fieldset><label>Электронная почта:</label><input type="email" name="login"></fieldset><fieldset><a class="action js-popup-login" href="#"><u>Войти на сайт</u></a><input type="submit" value="Восстановить"></fieldset></form>'}},{name:"register",selector:".js-popup-register",title:"Регистрация на сайте",template:function(e){return'<form action="/auth/simple/register/request" method="POST" class="js-ajax-auth-form js-form-register"><div class="form__error"></div><div class="form__success"></div><input type="hidden" name="x-csrf-token" value="'+(csrfToken||"")+'"><fieldset><label>Имя и фамилия:</label><input type="text" name="name"></fieldset><fieldset><label>Электронная почта:</label><input type="email" name="login"></fieldset><fieldset><label>Пароль:</label><input type="password" name="password"></fieldset><fieldset><a class="action js-popup-login" href="#"><u>Войти на сайт</u></a><input type="submit" value="Регистрация"></fieldset></form>'}},{name:"work",selector:".js-popup-work",title:"Место работы",template:function(e){return'<form action="/users/'+(e.attr("data-user-id")||"")+'/update" method="POST"><div class="form__error"></div><div class="form__success"></div><fieldset><label>Название компании:</label><input type="text" name="work_name" value="'+(e.attr("data-name")||"")+'"></fieldset><fieldset><label>Сайт компании:</label><input type="text" name="work_url" value="'+(e.attr("data-url")||"")+'"></fieldset><fieldset><input type="submit" value="Отправить на модерацию"></fieldset></form>'},gtm:"Work Window Shown"},{name:"work-moderate",selector:".js-popup-work-moderate",title:"Место работы",template:function(e){return'<form action="/admin/users/work/edit" method="POST" class="js-ajax-work-moderate-form"><div class="form__error"></div><div class="form__success"></div><fieldset><label>Название компании:</label><input type="text" name="work_name" value="'+(e.attr("data-name")||"")+'"></fieldset><fieldset><label>Сайт компании:</label><input type="text" name="work_url" value="'+(e.attr("data-url")||"")+'"></fieldset><fieldset><input type="submit" value="Сохранить и одобрить"></fieldset></form>'}},{name:"qr",selector:".js-popup-qr",title:"QR-код для авторизации в мобильных приложениях",template:function(e){return'<div class="b-qr-image"><img src="'+e.attr("data-qr-image")+'" alt=""></div>'},gtm:"QR Window Shown"}],t=function(){var e,t;$("body").on("click",".js-popup-gallery",function(){for(e=$(this),t=[],i=0;i<e[0].children.length;i++)"A"==e[0].children[i].tagName&&t.push(e[0].children[i]);return t.length>0&&$.magnificPopup.open({items:t,gallery:{enabled:!0},type:"image",image:{cursor:null},callbacks:{imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},20)},close:function(){this.wrap.removeClass("mfp-image-loaded"),a()}}}),!1})},n=function(){$(".fancybox").magnificPopup({type:"image",image:{cursor:null},callbacks:{imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},20)},close:function(){this.wrap.removeClass("mfp-image-loaded"),a(this.scrollbarSize)}}})},r=function(){var e=localStorage.getItem("justLoginedFrom");null!==e&&$('a.js-comment-reply[data-redirect="'+e+'"]').trigger("click").addClass("active")},o=function(){for(var i=0;i<e.length;i++)!function(t){$("body").on("click",e[t].selector,function(){var n=$(this),i=window.location.pathname;if(n.attr("data-redirect")){var r=n.attr("data-redirect");"#"==r.charAt(0)?i+=r:i=r,"login"==e[t].name&&n.hasClass("js-popup-login-from-reply")&&localStorage.setItem("justLoginedFrom",r)}return $.magnificPopup.open({items:{src:'<div class="b-popup '+("avatar"==e[t].name?"b-popup--avatar":"")+'"><div class="b-popup__title '+("qr"==e[t].name?"centered":"")+'">'+e[t].title+"</div><div class=b-popup__content>"+e[t].template(n,i)+"</div></div>",type:"inline"}}),e[t].gtm&&Analytics.gtm(e[t].gtm),!1})}(i);t(),l(),n(),r(),$(window).on("load",function(){localStorage.removeItem("justLoginedFrom")})},s=function(e){var t=document.querySelector(".b-last-comments");document.documentElement.classList.add("popup-opened"),t&&(t.style.webkitTransform="translateX(-"+e+"px)",t.style.transform="translateX(-"+e+"px)")},a=function(e){var t=document.querySelector(".b-last-comments");document.documentElement.classList.remove("popup-opened"),t&&(t.style.webkitTransform="",t.style.transform="")},l=function(){$.extend(!0,$.magnificPopup.defaults,{removalDelay:300,mainClass:"mfp-fade",fixedContentPos:!0,fixedBgPos:!0,overflowY:"scroll",tClose:"Закрыть (Esc)",tLoading:"Загрузка...",gallery:{tPrev:"Предыдущая (←)",tNext:"Следующая (→)",tCounter:"%curr% из %total%"},image:{tError:'Не удалось загрузить <a href="%url%">изображение</a>'},ajax:{tError:'Не удалось загрузить <a href="%url%">содержимое</a>'},callbacks:{open:function(){s(this.scrollbarSize)},close:function(){a(this.scrollbarSize)}}})};return{init:o,openCallback:s,closeCallback:a}}(),DefaultForms=function(){var e,t,n=[{name:"auth",selector:".js-ajax-auth-form",onError:function(){e.children(".form__error").text(t.error).addClass("visible")},onSuccess:function(){e.hasClass("js-form-login")&&($.magnificPopup.close(),window.location.reload()),
(e.hasClass("js-form-register")||e.hasClass("js-form-recover"))&&(e.children(".form__success").text(t.result).addClass("visible"),e.find('input[type="text"]').val(""),e.find('input[type="email"]').val(""),e.find('input[type="password"]').val("")),e.hasClass("js-form-recover")&&e.find('input[type="email"]').val("")}},{name:"work",selector:".js-ajax-work-form",onError:function(){e.children(".form__error").text(t.error).addClass("visible")},onSuccess:function(){$.magnificPopup.close(),window.location.reload()}},{name:"work-moderate",selector:".js-ajax-work-moderate-form",onError:function(){e.children(".form__error").text(t.error).addClass("visible")},onSuccess:function(){$.magnificPopup.close(),$(".js-update-comments.active").click()}}],i=function(){$("body").on("click",".b-social-login__item",function(){if($(this).hasClass("disabled"))return!1;$(this).addClass("loading").siblings().addClass("disabled")})};return{init:function(){for(var r=0;r<n.length;r++)!function(i){$("body").on("submit",n[i].selector,function(){return e=$(this),formSubmitBtn=e.find('[type="submit"]'),!formSubmitBtn.hasClass("loading")&&(formSubmitBtn.addClass("loading"),e.children(".form__error").removeClass("visible").text(""),e.children(".form__success").removeClass("visible").text(""),$.post(e.attr("action"),e.serialize(),function(e){t=e,"error"in e?n[i].onError():n[i].onSuccess(),formSubmitBtn.removeClass("loading")},"json"),!1)})}(r);i()}}}(),VideoPreviews=function(){var e,t;return{init:function(){$("body").on("click",".js-video-preview",function(){e=$(this),t=e.data("iframe");return t+=t.indexOf("?")===-1?"?rel=0&amp;showinfo=0&amp;enablejsapi=1&amp;autoplay=1":"&amp;rel=0&amp;showinfo=0&amp;enablejsapi=1&amp;autoplay=1",e.addClass("loading").empty().append(function(e){return"<iframe src="+e+" allowfullscreen />"}(t)),e.find("iframe").on("load",function(){e.removeClass("loading").addClass("active")}),!1})}}}(),GifPreviews=function(){var e,t;return{init:function(){$("body").on("click",".js-gif-preview",function(){e=$(this),t=e.data("gif");return e.addClass("loading").empty().append(function(e){return'<img class="gif" src='+t+' alt="">'}()),e.find("img").on("load",function(){e.removeClass("loading").addClass("active")}),!1})}}}(),InstagramEmbeds=function(){return{init:function(){var e=document.createElement("script");e.setAttribute("src","//platform.instagram.com/en_US/embeds.js"),document.body.appendChild(e)}}}(),TwitterWidgets=function(){return{init:function(){window.twttr=function(e,t,n){var i,r=e.getElementsByTagName(t)[0],o=window.twttr||{};return e.getElementById(n)?o:(i=e.createElement(t),i.id=n,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),o._e=[],o.ready=function(e){o._e.push(e)},o)}(document,"script","twitter-wjs")}}}(),NewComments=function(){var e=!1,t=function(){return $(".b-comment[data-comment-id]").length},n=function(){var e=$(".b-comment[data-comment-id]"),t=[];if(void 0!==e&&e.length>0)for(var n=0;n<e.length;n++){var i=$(e[n]).data("comment-id");t.push(i)}return t},i=function(){for(var e=n(),t=0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return t},r=function(n){if(void 0!==n&&1==n&&(e=!1),"undefined"!=typeof entryId){var r=i(),o=t(),s={entry:entryId,comment:r,total:o};App.isLocalStorage()&&0==e&&(localStorage.setItem("lastSeenComment-"+entryId,JSON.stringify(s)),e=!0)}},o=function(){if("undefined"!=typeof entryId){var e=$(".b-comment[data-comment-id]"),t=localStorage.getItem("lastSeenComment-"+entryId),n=!1;null!==t&&(t=JSON.parse(t),e.each(function(){var e=$(this);e.data("comment-id")>t.comment&&(e.addClass("new"),n||(n=!0))}))}},s=function(){var e=$(".js-comments-counter");e.length&&e.each(function(){var e=$(this),t=e.find("a"),n=(t.attr("href"),e.data("entry-id")),i=e.data("count"),r=localStorage.getItem("lastSeenComment-"+n);if(null!==r){r=JSON.parse(r);var o=r.total;if(i>o){var s=i-o;e.attr("data-unread-count",s)}}})};return{init:function(){s(),o(),r()},rememberLast:r}}(),Search=function(){var e=document.querySelector(".js-search-button"),t=document.querySelector(".js-search-close"),n=e?e.parentElement.querySelector("input"):null,i=document.querySelector(".js-notifications-counter"),r=function(){var e;$.get("/helper/profileInfo",function(t){void 0!=(e=t.unreadCount)&&(i.innerHTML=e>0?e>99?"99+":e:"")},"json")},o=function(){e.classList.toggle("active"),n.focus()},s=function(){e.classList.remove("active"),n.value=""};return{init:function(){i&&r(),e&&(e.addEventListener("click",o),t.addEventListener("click",s))}}}(),Header=function(){return{init:function(){Search.init()}}}(),BestArticles=function(){var e=[],t={},n=document.querySelector(".js-best-articles"),i=n?n.querySelector(".js-best-articles-title"):null,r=n?n.querySelector(".b-article-grid"):null,o=function(e){return'<div class="b-article-cell"><a class="b-article-cell__link" href="'+e.url+'"></a><div class="b-article-cell__pic"><img data-src="'+e.picture_big_url+'" class="lazyload" alt=""></div><div class="b-article-cell__title"><span class="b-article-cell__title__text">'+e.title+'</span><span class="b-article-cell__stats"><span class="b-article-cell__comments" data-unread-count="0"><a href="'+e.url+'#comments"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M13.346 2.81c-.675 0-1.327.088-1.94.247-1.022-.4-2.162-.626-3.364-.626C3.67 2.43.112 5.4.112 9.053c0 1.937.994 3.747 2.738 5.007v3.51l3.638-2.025c.514.085 1.036.13 1.553.13 2.168 0 4.135-.73 5.567-1.912.328-.01.656-.043.98-.095l3.074 1.71v-2.97c1.418-1.04 2.225-2.527 2.225-4.117.002-3.02-2.932-5.48-6.54-5.48zM8.042 14.607c-.516 0-1.038-.05-1.55-.144l-.188-.036-2.386 1.33v-2.26l-.237-.16c-1.59-1.062-2.5-2.624-2.5-4.284 0-3.062 3.08-5.554 6.863-5.554.61 0 1.203.066 1.767.188C8.004 4.66 6.805 6.36 6.805 8.29c0 2.61 2.19 4.796 5.11 5.343-1.102.614-2.436.973-3.873.973zm8.792-2.92l-.237.158v1.72l-1.82-1.014h-.005l-.185.036c-.41.077-.826.115-1.24.115-.044 0-.088 0-.133-.002-2.957-.057-5.34-2.012-5.34-4.408 0-1.864 1.44-3.46 3.472-4.105.518-.164 1.073-.267 1.653-.297.114-.006.23-.01.347-.01 3.02 0 5.474 1.98 5.474 4.41 0 1.316-.723 2.554-1.986 3.398z"></path></svg>'+e.comments_count+'</a></span><span class="b-article-cell__views"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M19.762 10.408c.186-.255.178-.602-.02-.85-2.993-3.68-6.225-5.547-9.61-5.547C4.392 4.01.404 9.36.24 9.588c-.187.254-.18.602.02.85 2.988 3.684 6.22 5.55 9.605 5.55 5.74 0 9.727-5.35 9.897-5.58zm-9.897 4.194c-2.82 0-5.567-1.552-8.177-4.606 1.022-1.208 4.27-4.598 8.443-4.598 2.82 0 5.568 1.552 8.177 4.606-1.02 1.21-4.27 4.598-8.442 4.598z"></path><path d="M9.998 6.48c-1.94 0-3.52 1.58-3.52 3.52s1.58 3.52 3.52 3.52 3.52-1.58 3.52-3.52-1.58-3.52-3.52-3.52zm0 5.654c-1.175 0-2.133-.958-2.133-2.134s.958-2.134 2.133-2.134c1.176 0 2.133.958 2.133 2.134s-.956 2.134-2.132 2.134z"></path></svg>'+e.hits_beauty+"</span></span></div></div>"},s=function(e){t={type:"black",timing:e.dataset.timing,category:e.dataset.category,exclude:e.dataset.exclude,count:3},$.getJSON("/helper/bestArticles",t,function(e){var t=e.items;i.innerHTML=e.title;for(var n=0,s=t.length;n<s;n++)r.innerHTML+=o(t[n]);a()})},a=function(){if(App.isDesktop()){if(e.length>0){for(var t=0;t<e.length;t++)e[t].removeSlide(3),e[t].destroy(!0,!0);e=[]}}else{if(e.length>0)return;for(var n=document.querySelectorAll(".js-best-articles-swiper"),t=0;t<n.length;t++){var i=n[t],r=new Swiper(i,{slidesPerView:"auto",centeredSlides:!0,spaceBetween:30,wrapperClass:"b-article-grid",slideClass:"b-article-cell",pagination:i.parentElement.querySelector(".b-article-pagination"),onInit:function(e){e.appendSlide('<div class="b-article-cell b-article-cell--more"><a class="b-article-cell__pic" href="/paper/gold"><span class="b-article-cell__pic__text">Посмотреть все</span></a>')}});e.push(r)}}};return{init:function(){n&&s(n)},resize:function(){n&&a()}}}(),PopularArticles=function(){var e,t,n,i,r=document.querySelector(".js-more-popular-articles"),o=document.querySelector(".js-popular-articles"),s=o?o.querySelector(".js-popular-articles-title"):null,a=o?o.querySelector(".b-article-grid"):null,l={},c=[],u=function(e){return'<div class="b-article-cell"><a class="b-article-cell__link" href="'+e.url+'"></a><div class="b-article-cell__pic"><img data-src="'+e.picture_big_url+'" class="lazyload" alt=""></div><div class="b-article-cell__title"><span class="b-article-cell__title__text">'+e.title+'</span><span class="b-article-cell__stats"><span class="b-article-cell__comments" data-unread-count="0"><a href="'+e.url+'#comments"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M13.346 2.81c-.675 0-1.327.088-1.94.247-1.022-.4-2.162-.626-3.364-.626C3.67 2.43.112 5.4.112 9.053c0 1.937.994 3.747 2.738 5.007v3.51l3.638-2.025c.514.085 1.036.13 1.553.13 2.168 0 4.135-.73 5.567-1.912.328-.01.656-.043.98-.095l3.074 1.71v-2.97c1.418-1.04 2.225-2.527 2.225-4.117.002-3.02-2.932-5.48-6.54-5.48zM8.042 14.607c-.516 0-1.038-.05-1.55-.144l-.188-.036-2.386 1.33v-2.26l-.237-.16c-1.59-1.062-2.5-2.624-2.5-4.284 0-3.062 3.08-5.554 6.863-5.554.61 0 1.203.066 1.767.188C8.004 4.66 6.805 6.36 6.805 8.29c0 2.61 2.19 4.796 5.11 5.343-1.102.614-2.436.973-3.873.973zm8.792-2.92l-.237.158v1.72l-1.82-1.014h-.005l-.185.036c-.41.077-.826.115-1.24.115-.044 0-.088 0-.133-.002-2.957-.057-5.34-2.012-5.34-4.408 0-1.864 1.44-3.46 3.472-4.105.518-.164 1.073-.267 1.653-.297.114-.006.23-.01.347-.01 3.02 0 5.474 1.98 5.474 4.41 0 1.316-.723 2.554-1.986 3.398z"></path></svg>'+e.comments_count+'</a></span><span class="b-article-cell__views"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M19.762 10.408c.186-.255.178-.602-.02-.85-2.993-3.68-6.225-5.547-9.61-5.547C4.392 4.01.404 9.36.24 9.588c-.187.254-.18.602.02.85 2.988 3.684 6.22 5.55 9.605 5.55 5.74 0 9.727-5.35 9.897-5.58zm-9.897 4.194c-2.82 0-5.567-1.552-8.177-4.606 1.022-1.208 4.27-4.598 8.443-4.598 2.82 0 5.568 1.552 8.177 4.606-1.02 1.21-4.27 4.598-8.442 4.598z"></path><path d="M9.998 6.48c-1.94 0-3.52 1.58-3.52 3.52s1.58 3.52 3.52 3.52 3.52-1.58 3.52-3.52-1.58-3.52-3.52-3.52zm0 5.654c-1.175 0-2.133-.958-2.133-2.134s.958-2.134 2.133-2.134c1.176 0 2.133.958 2.133 2.134s-.956 2.134-2.132 2.134z"></path></svg>'+e.hits_beauty+"</span></span></div></div>"},p=function(n){l={type:"popular",timing:n.dataset.timing,category:n.dataset.category,exclude:n.dataset.exclude,count:12},$.getJSON("/helper/bestArticles",l,function(n){var i=n.items;s.innerHTML=n.title;for(var o=0,l=i.length;o<l;o++)a.innerHTML+=u(i[o]);t=i.length,e=a.children,f(),h(),r.addEventListener("click",m),g()})},d=function(){for(var t=0,n=0,i=e.length;n<i;n++){e[n].offsetTop-e[n].parentElement.offsetTop==0&&t++}return t},f=function(){i=d()},h=function(){n=d()},m=function(){i=i+n<=t?i+n:t;for(var o=0,s=i;o<s;o++)e[o].classList.add("visible");i==t&&(r.classList.add("hidden"),r.removeEventListener("click",m))},g=function(){if(App.isDesktop()){if(c.length>0){for(var e=0;e<c.length;e++)c[e].destroy(!0,!0);c=[]}}else{if(c.length>0)return;for(var t=document.querySelectorAll(".js-popular-articles-swiper"),e=0;e<t.length;e++){var n=t[e],i=new Swiper(n,{slidesPerView:"auto",centeredSlides:!0,spaceBetween:30,wrapperClass:"b-article-grid",slideClass:"b-article-cell",pagination:n.parentElement.querySelector(".b-article-pagination")});c.push(i)}}};return{init:function(){o&&p(o)},resize:function(){o&&(f(),h(),g())}}}(),Favorite=function(){var e,t,n,i,r,o,s=function(e,t,n){for(var i=1==n?"Article":"Comment",s=0,a=e.length;s<a;s++)if(e[s].classList.toggle(t),r&&o){var l=e[s].querySelector(".b-fav-button-article__text");e[s].classList.contains(t)?l.innerHTML=o:l.innerHTML=r}e[0].classList.contains(t)?Analytics.gtm(i+" — Favorite Add"):Analytics.gtm(i+" — Favorite Remove")},a=function(a){t=a.dataset.objectId,n=a.dataset.objectType,i=a.classList.contains("starred"),r=a.dataset.saveText,o=a.dataset.savedText,t&&n&&(e=document.querySelectorAll('[data-object-id="'+t+'"]'),s(e,"starred",n),$.post("/helper/favorite",{objectId:t,objectType:n,state:i},function(t){void 0!==t.error&&(s(e,"starred",n),Tip.show("error",t.error.message))}))},l=function(e){for(var t=e.target;t.parentNode&&t!==e.currentTarget&&("path"===t.tagName||"svg"===t.tagName||!t.classList||!t.classList.contains("js-favorite-btn"));)t=t.parentNode;t.classList&&t.classList.contains("js-favorite-btn")&&a(t)};return{init:function(){document.addEventListener("click",l)}}}(),Comments=function(){var e=!1;return{init:function(){MobileActions.init(),Highlight.init(),Like.init(),SortComments.init(),ModerateWork.init(),Moderate.init(),Likers.init()},setReplyActive:function(t){e="boolean"==typeof t&&t===!0},getReplyActive:function(){return e}}}(),MobileActions=function(){return{init:function(){$("body").on("click",".b-comment:not(.b-comment-form):not(.b-comment--expo)",function(){Comments.getReplyActive()!==!0&&($(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active").siblings().removeClass("active"))})}}}(),Highlight=function(){var e,t,n=function(){$("body").on("mouseenter",".b-comment:not(.b-comment-form):not(.b-comment--expo)",function(){$(this).removeClass("new")})};return{init:function(){$("body").on("mouseenter",".js-comment-replied-to",function(){e=$(this).data("comment-parent-id"),t=$(".b-comment[data-comment-id="+e+"]"),t.addClass("highlight")}).on("mouseleave",".js-comment-replied-to",function(){e=$(this).data("comment-parent-id"),t=$(".b-comment[data-comment-id="+e+"]"),t.removeClass("highlight")}),n()}}}(),Like=function(){return{init:function(){$("body").on("click",".js-comment-like, .js-comment-dislike",function(){if(userLogined){var e=$(this).attr("data-id"),t=$(this).attr("data-sign"),n=$(this).attr("data-hash"),i=$(this).closest(".b-comment").find(".js-comment-like"),r=$(this).closest(".b-comment").find(".js-comment-dislike"),o=$(this).closest(".b-comment").find('[data-liker-id="'+userLoginedId+'"]'),s=$(this).closest(".b-comment").find(".b-comment-likers");$.post("/helper/like",{commentId:e,sign:t,hash:n},function(t){if("likes_count"in t){var n=$(".js-comment-"+e+" .b-comment-rating__number");n.text((t.likes_count<0?"–":"")+Math.abs(t.likes_count)).attr("data-comment-rating",t.likes_count),s.removeClass("hidden"),t.likes_count>0?(n.removeClass("negative"),n.addClass("positive")):t.likes_count<0?(n.addClass("negative"),n.removeClass("positive")):(n.removeClass("negative"),n.removeClass("positive")),t.sign>0?(i.removeClass("inactive").addClass("active"),r.removeClass("active").addClass("inactive"),o.removeClass("negative").addClass("positive"),o.hasClass("b-comment-likers__self")&&o.removeClass("b-comment-likers__self")):t.sign<0&&(i.removeClass("active").addClass("inactive"),r.removeClass("inactive").addClass("active"),o.removeClass("positive").addClass("negative"),o.hasClass("b-comment-likers__self")&&o.removeClass("b-comment-likers__self"))}else Tip.show("error",t.error)}),t>0?Analytics.gtm("Comment — Vote Up"):t<0&&Analytics.gtm("Comment — Vote Down")}else Tip.show("error","Войдите на сайт, чтобы оценивать комментарии");return!1})}}}(),ModerateWork=function(){var e=function(){$("body").on("click",".js-work-user-options",function(){return $(this).closest(".b-comment__work").toggleClass("active"),!1})},t=function(){$("body").on("click",".js-work-reject, .js-work-confirm",function(){var e=$(this).closest(".b-comment__work").attr("data-user-id"),t=!!$(this).hasClass("js-work-confirm");return $(".js-work-user-block-"+e).removeClass("active").addClass("loading"),$.post("/admin/users/work/moderate",{id:e,action:t,"x-csrf-token":csrfToken||""},function(n){"result"in n&&0!=n.result&&(t===!0?$(".js-work-user-block-"+e).html('<a href="'+App.htmlEscape(n.result.url)+'" target="_blank">'+App.htmlEscape(n.result.name)+"</a>").removeClass("loading b-comment__work--unverified"):$(".js-work-user-block-"+e).hide().removeClass("loading"))}),!1})};return{init:function(n,i){e(),t()}}}(),SortComments=function(){var e,t=function(e,t){$.get("/helper/comments",{paperId:entryId,commentsSort:parseInt(e)},function(e){$("#ajax-load-into-this").html($(e).find("#ajax-load-this")),"function"==typeof t&&t(),Moment.init(),NewComments.rememberLast(!0),Likers.init()})};return{init:function(){$("body").on("click",".js-update-comments",function(n){n.preventDefault();var i=$(this).data("type");e=$(this),$(this).addClass("active loading").siblings().removeClass("active loading"),t(i,function(){e.removeClass("loading")})})}}}(),ReloadComments=function(){return{init:function(e,t,n){$.get("/helper/comments",{paperId:entryId,commentsSort:1},function(e){"function"==typeof t&&t(),$("#ajax-load-into-this").html($(e).find("#ajax-load-this")),"function"==typeof n&&n(),Moment.init(),NewComments.rememberLast(!0),Likers.init()})}}}(),Moderate=function(){var e={deleteComment:function(e,n,i){$.post("/administration/deleteComment",{id:n,hash:i},function(e){"result"in e&&0!=e.result&&(t(n),Analytics.gtm("Comment — Deleted"))}),$.magnificPopup.close()},banUser:function(e,t,n){$.post("/administration/banUser",{id:e,hash:n},function(t){"result"in t&&0!=t.result&&$(".b-comment[data-comment-author-id]").length>0&&$(".b-comment[data-comment-author-id="+e+"]").addClass("transparent")}),$.magnificPopup.close()},spamUser:function(e,t,n){$.post("/administration/spamUser",{id:e,hash:n},function(t){"result"in t&&0!=t.result&&$(".b-comment[data-comment-author-id]").length>0&&$(".b-comment[data-comment-author-id="+e+"]").addClass("transparent")}),$.magnificPopup.close()},banAndDeleteAll:function(e,t,n){$.post("/administration/banUser",{id:e,deleteComments:!0,hash:n},function(t){"result"in t&&0!=t.result&&$(".b-comment[data-comment-author-id]").length>0&&$(".b-comment[data-comment-author-id="+e+"]").addClass("transparent")}),$.magnificPopup.close()},hideWork:function(e,t,n){$.post("/administration/hideWork",{id:e,hash:n},function(t){"result"in t&&0!=t.result&&$('[data-user-id="'+e+'"').remove()}),$.magnificPopup.close()},pickBest:function(e,t,n){$.post("/administration/choiceComment",{id:t,hash:n},function(e){"result"in e&&0!=e.result&&ReloadComments.init()}),$.magnificPopup.close()},cancel:function(){$.magnificPopup.close()}},t=function(e){if($(".b-comment[data-comment-id="+e+"]").addClass("transparent"),$(".b-comment a[data-comment-parent-id="+e+"]").length>0){t($(".b-comment a[data-comment-parent-id="+e+"]").addClass("transparent").data("comment-id"))}},n=function(){for(var t in e)!function(t){$("body").on("click",".js-"+t,function(){var n=$(this),i=n.data("user"),r=n.data("comment"),o=n.data("hash");"hideWork"!==t&&n.addClass("loading"),"deleteComment"==t?$(".b-comment[data-comment-id="+r+"]").addClass("loading"):"hideWork"!==t&&"pickBest"!==t&&$(".b-comment[data-comment-author-id]").length>0&&$(".b-comment[data-comment-author-id="+i+"]").addClass("loading"),e[t](i,r,o)})}(t)},i=function(){var e=function(e,t,n){return"<p>"+e+'</p><button type="button" class="b-button js-'+t+'" data-user="'+n.user+'" data-comment="'+n.comment+'" data-hash="'+n.hash+'">OK</button><button type="button" class="b-button cancel js-cancel">Отмена</button>'};$("body").on("click",".js-comment-moderate",function(){var t=$(this),n=t.data("text"),i=t.data("action"),r={user:t.data("moderate-user"),comment:t.data("moderate-comment"),hash:t.data("hash")};return $.magnificPopup.open({items:{src:'<div class="b-popup b-popup--moderate"><div class=b-popup__content>'+e(n,i,r)+"</div></div>",type:"inline"}}),!1})};return{init:function(){i(),n()}}}(),Likers=function(){var e=(document.querySelector(".b-comments"),function(){for(var e=document.querySelectorAll(".js-scrollable-likers"),t=0,n=e.length;t<n;t++)Ps.initialize(e[t],{wheelSpeed:.5})});return{init:function(){e()}}}(),CommentsForm=function(){var e={filesLimit:2},t=$(".js-comment-form"),n=e.filesLimit,i=t.find(".b-comment-form__attachments"),r=t.find(".b-comment-form__submit"),o=t.find("textarea"),s=$(".js-comment-form-parent"),a=$(".b-comments__list"),l=t.find(".js-attach-video"),c=l.find("input[type=text]"),u=t.find(".js-attach-image"),p=t.find(".js-dropzone"),d=u.find("input[type=text]"),f=function(){t.on("submit",function(){if(""===$.trim(o.val())&&i.is(":empty"))Tip.show("error","Введите текст комментария или прикрепите файл");else{t.addClass("loading"),r.addClass("loading");var e=new FormData(t[0]),n=b.get(0).dropzone.getAcceptedFiles();if(n.length>0)for(var l=0,c=n.length;l<c;l++)e.append("file_attaches[]",n[l]);$.ajax({url:"/paper/addComment",type:"POST",data:e,processData:!1,contentType:!1,success:function(e){"commentId"in e?(ReloadComments.init({},function(){t.removeClass("loading"),r.removeClass("loading"),a.after(s.removeClass("b-comment--reply")),t.find('input[name="in_reply_to_comment_id"]').remove(),o.val(""),b.get(0).dropzone.removeAllFiles(),i.empty().removeClass("visible")},function(){Moment.init(),NewComments.rememberLast(!0)}),Analytics.gtm("Comment — Sent")):(Tip.show("error",e.error),t.removeClass("loading"),r.removeClass("loading"))}})}return!1}),h()},h=function(){o.on("keydown",function(e){13==e.keyCode&&(e.metaKey||e.ctrlKey)&&t.submit()})},m=function(){var e;$("body").on("click",".b-attachment__remove",function(){e=$(this).closest(".b-attachment"),e.remove(),i.is(":empty")&&i.removeClass("visible"),w()})},g=function(){for(var e=[{name:"image",selector:".js-popup-attach-image",options:{items:{src:u,type:"inline"}}},{name:"video",selector:".js-popup-attach-video",options:{items:{src:l,type:"inline"},callbacks:{open:function(){Popups.openCallback(this.scrollbarSize),setTimeout(function(){c.focus()},300)},close:function(){c.val("").removeClass("loading"),Popups.closeCallback(this.scrollbarSize)}}}}],t=0;t<e.length;t++)!function(t){$("body").on("click",e[t].selector,function(){return w()<n?$.magnificPopup.open(e[t].options):Tip.show("error","Нельзя прикрепить больше "+n+" файлов. Выбирайте с умом"),!1})}(t)},v=function(){c.on("input",function(){$(this).val().length>0&&!$(this).hasClass("loading")&&(clearTimeout(window.attachInputTimer),window.attachInputTimer=setTimeout(e($(this).val()),500))});var e=function(e){var o,s=function(e,t,n){return $('<div class="b-attachment b-attachment--video"><div class="b-attachment__pic"><a href='+e+" target=_blank><img src="+o+' alt=""></a></div><span class=b-attachment__remove></span><input type=hidden name=files['+n+"][] value="+e+"></div>")};c.addClass("loading"),t(e)||n(e)||r(e)?(t(e)&&(o="https://img.youtube.com/vi/"+t(e)+"/mqdefault.jpg",s(e,0,"youtube").appendTo(i),i.addClass("visible")),n(e)&&$.ajax({type:"GET",url:"https://vimeo.com/api/oembed.json?url="+e,jsonp:"callback",dataType:"jsonp",success:function(t){o=t.thumbnail_url,s(e,0,"vimeo").appendTo(i),i.addClass("visible")}}),r(e)&&(o="/static/main/img/ui/logo-coub.svg",s(e,0,"coubs").appendTo(i),i.addClass("visible")),c.val("").removeClass("loading"),$.magnificPopup.close(),w()):c.removeClass("loading")},t=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},n=function(e){return!!e.match(/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/)&&e},r=function(e){return!!e.match(/^.*(coub.com\/view\/).*/)&&e}},b=p.dropzone({url:"/comment/attach",previewsContainer:i[0],previewTemplate:'<div class=b-attachment><div class="b-attachment__pic"><img src="" alt="" data-dz-thumbnail></div><div class=b-attachment__spinner></div><span class=b-attachment__remove data-dz-remove></span></div>',thumbnailWidth:160,thumbnailHeight:160,maxFilesize:10,maxFiles:n,acceptedFiles:"image/*",autoProcessQueue:!1,paramName:"file_attaches",uploadMultiple:!0,parallelUploads:2,hiddenInputContainer:".js-comment-form",init:function(){this.on("addedfile",function(e){i.addClass("visible"),e.type.match(/image/g)||this.removeFile(e),$.magnificPopup.close(),w()}),this.on("maxfilesexceeded",function(e){this.removeFile(e)}),this.on("removedfile",function(e){i.is(":empty")&&i.removeClass("visible"),w()}),this.on("success",function(e,t){"uuid"in t&&$(e.previewElement).append('<input type="hidden" name="files[imagesUploaded][]" value="'+encodeURIComponent(JSON.stringify(t))+'"/>'),0==this.getUploadingFiles().length&&r.prop("disabled",!1)}),this.on("error",function(e,t){Tip.show("error",t),this.removeFile(e),0==this.getUploadingFiles().length&&r.prop("disabled",!1),w()})}}),y=function(){d.on("input",function(){$(this).val().length>0&&!$(this).hasClass("loading")&&(clearTimeout(window.attachInputTimer),window.attachInputTimer=setTimeout(e($(this).val()),500))});var e=function(e){d.addClass("loading");!function(e,t,n){n=n||1e4;var i,r=!1,o=new Image;o.onerror=o.onabort=function(){r||(clearTimeout(i),t(e,!1))},o.onload=function(){r||(clearTimeout(i),t(e,!0))},o.src=e,i=setTimeout(function(){r=!0,t(e,!1)},n)}(e,function(e,t){if(t){var n={name:"image",size:12345,accepted:!0,type:"image/png"};b.get(0).dropzone.emit("addedfile",n),b.get(0).dropzone.files.push(n),b.get(0).dropzone.emit("thumbnail",n,e),b.get(0).dropzone.emit("processing",n),d.val("").removeClass("loading"),$.magnificPopup.close(),b.get(0).dropzone.emit("complete",n),$(n.previewElement).append('<input type="hidden" name="files[images][]" value="'+e+'">'),r.prop("disabled",!1),w()}else d.removeClass("loading")})}},w=function(){return i.find(".b-attachment").length};return{init:function(){f(),g(),v(),y(),m(),CommentsReply.init()},countFiles:w,filesLimit:n}}(),CommentsReply=function(){var e,t,n,i=$(".js-comment-form"),r=$(".js-comment-form-parent"),o=$(".b-comments__list");return{init:function(){$("body").on("click",".js-comment-reply",function(){return e=$(this),t=e.closest(".b-comment"),n=t.data("comment-id"),e.hasClass("active")?(e.removeClass("active").find(".b-comment__reply__text").text("Ответить"),o.after(r.removeClass("b-comment--reply")),t.removeClass("active"),i.find('input[name="in_reply_to_comment_id"]').remove(),Comments.setReplyActive(!1)):($(".js-comment-reply").removeClass("active").find(".b-comment__reply__text").text("Ответить"),e.addClass("active"),t.after(r.addClass("b-comment--reply")).find(".b-comment__reply__text").text("Не отвечать"),t.addClass("active").siblings().removeClass("active"),i.find("textarea").focus(),i.find('input[name="in_reply_to_comment_id"]').remove(),i.append("<input type=hidden name=in_reply_to_comment_id value="+n+">"),Comments.setReplyActive(!0)),!1})}}}(),Vote=function(){var e=document.querySelector(".b-page"),t=function(e,t){for(var n=e.target;n.parentNode&&n!==e.currentTarget&&("path"===n.tagName||"svg"===n.tagName||!n.classList.contains(t));)n=n.parentNode;if(n.classList.contains(t)){var i=n.parentElement.querySelector(".b-vote__down"),r=n.parentElement.querySelector(".b-vote__up"),o=n.parentElement.querySelector(".b-vote__number"),s=n.dataset.entryId,a=n.dataset.sign,l=n.dataset.csrfToken||"";$.post("/entry/like",{id:s,sign:a,"x-csrf-token":l},function(e){"summ"in e&&(0!=e.summ?(o.innerHTML=(e.summ<0?"–":"+")+Math.abs(e.summ),e.summ>0?(o.classList.remove("negative"),o.classList.add("positive")):e.summ<0&&(o.classList.remove("positive"),o.classList.add("negative"))):(o.innerHTML=Math.abs(e.summ),o.classList.remove("positive","negative")),e.isLiked>0?(i.classList.remove("active"),r.classList.add("active"),Analytics.gtm("Article — Vote Up")):e.isLiked<0&&(r.classList.remove("active"),i.classList.add("active"),Analytics.gtm("Article — Vote Down")))}).fail(function(e){var t=JSON.parse(e.responseText);"error"in t&&Tip.show("error",t.error)})}},n=function(e){t(e,"js-article-rating")};return{init:function(){e.addEventListener("click",n)}}}(),Tip=function(){var e,t,n,i,r={error:'<svg height="128" viewBox="0 0 128 128" width="128" xmlns="http://www.w3.org/2000/svg"><path d="M84.815 43.4c-.78-.783-2.047-.783-2.828 0L64.032 61.355 46.077 43.4c-.78-.783-2.047-.783-2.828 0-.782.78-.782 2.046 0 2.827l17.954 17.957L43.25 82.14c-.782.78-.782 2.048 0 2.83.39.39.9.584 1.413.584s1.023-.195 1.414-.585l17.955-17.957L81.987 84.97c.39.39.902.584 1.414.584s1.024-.195 1.415-.585c.78-.782.78-2.05 0-2.83L66.86 64.185l17.955-17.957c.782-.78.782-2.047 0-2.828zM64.032 14.053c-27.642 0-50.13 22.487-50.13 50.127.003 27.644 22.492 50.132 50.134 50.132 27.64 0 50.125-22.49 50.125-50.13 0-27.64-22.486-50.128-50.128-50.128zm.004 96.26h-.002c-25.435 0-46.13-20.696-46.13-46.132 0-25.435 20.692-46.127 46.128-46.127s46.13 20.693 46.13 46.127c0 25.435-20.692 46.13-46.126 46.13z"/></svg>',success:'<svg height="128" viewBox="0 0 128 128" width="128" xmlns="http://www.w3.org/2000/svg"><path d="M85.263 46.49L54.485 77.267l-11.68-11.683c-.782-.782-2.048-.782-2.83-.002-.78.782-.78 2.048 0 2.83l14.51 14.512 33.606-33.607c.782-.78.782-2.046 0-2.827-.78-.782-2.046-.782-2.827 0zm-21.23-32.62c-27.643 0-50.13 22.49-50.13 50.127.002 27.642 22.49 50.13 50.13 50.13h.005c27.638 0 50.123-22.488 50.123-50.13 0-27.64-22.486-50.126-50.128-50.126zm.005 96.258h-.004c-25.435 0-46.13-20.694-46.13-46.13 0-25.435 20.692-46.127 46.128-46.127s46.13 20.694 46.13 46.127c0 25.437-20.69 46.13-46.124 46.13z"/></svg>'},o={element:$(".b-tips"),max:3,errorIcon:r.error,successIcon:r.success},s=o.element,a=o.max,l=function(){e.length>a&&(e.slice(0,-a).removeClass("visible").addClass("hidden"),setTimeout(function(){e.filter(".hidden").remove(),t=!1},200))},c=function(){n=setInterval(function(){var e=s.children();0==t&&e.length>0?(t=!0,e.slice(0,1).removeClass("visible").addClass("hidden"),setTimeout(function(){e.filter(".hidden").remove(),t=!1},200)):clearInterval(n)},3e3)};return{show:function(r,a){i=$("<div class=b-tip><div class=b-tip__text /></div>"),t=!0,i.find(".b-tip__text").html(a),i.appendTo(s).addClass(r+" visible"),e=s.children(),"error"==r?i.prepend(o.errorIcon):"success"==r&&i.prepend(o.successIcon),l(),setTimeout(function(){t=!1,clearInterval(n),c()},200)}}}(),Up=function(){var e,t,n=document.querySelector(".js-up"),i=function(){e=window.scrollY,0!=e?(t=e,n.classList.add("down"),window.scrollTo(0,0),Analytics.gtm("Scroll Up Button — Scrolled Up")):(n.classList.remove("down"),window.scrollTo(0,t),Analytics.gtm("Scroll Up Button — Scrolled Back Down"))},r=function(){0!=window.scrollY||n.classList.contains("down")?n.classList.contains("visible")||n.classList.add("visible"):n.classList.remove("visible"),0!=window.scrollY&&n.classList.contains("down")&&n.classList.remove("down")};return{init:function(){n&&(n.addEventListener("click",i),window.addEventListener("scroll",r))}}}(),AvatarChange=function(){var e,t,n=$(".js-popup-avatar"),i=n.attr("data-current-url"),r=function(){$("body").on("click",".b-avatar__list__item",function(){var n=$(this).find("img").attr("src"),i=$(".b-avatar__current").find("img");e=n,$(this).addClass("active").siblings().removeClass("active"),i.attr("src",n),t=$(this).attr("data-preset")})},o=function(){$("body").on("click",".js-avatar-save",function(){var n=$(".b-avatar").find(".b-avatar__list__item"),r=$(".js-avatar-upload"),o=$(".b-avatar__save").prev(".form__error"),s=$(this);o.removeClass("visible"),i==e||void 0==e||""==e?$.magnificPopup.close():(n.addClass("disabled"),s.addClass("loading"),r.prop("disabled",!0).next("input").prop("disabled",!0),$.post("/users/settings/avatar",{preset:t,"x-csrf-token":csrfToken||""},function(e){"error"in e?(o.text(e.error).addClass("visible"),n.removeClass("disabled"),s.removeClass("loading"),r.prop("disabled",!1).next("input").prop("disabled",!1)):location.reload()}))})},s=function(){$("body").on("change",".js-avatar-upload",function(){var e=$(".b-avatar").find(".js-avatar-save"),t=$(".b-avatar").find(".b-avatar__list__item"),n=$(".b-avatar__file").prev(".form__error"),i=$(this),r=new FormData;n.removeClass("visible"),"image/jpeg"!=this.files[0].type&&"image/png"!=this.files[0].type?n.text("Выберите картинку в формате JPEG или PNG").addClass("visible"):this.files[0].size>1e7?n.text("Размер файла не должен превышать 10МБ").addClass("visible"):(e.prop("disabled",!0),t.addClass("disabled"),i.prop("disabled",!0).addClass("loading").next("input").addClass("loading"),
r.append("image",this.files[0]),r.append("x-csrf-token",csrfToken),$.ajax({url:"/users/settings/avatar",type:"POST",data:r,processData:!1,contentType:!1,success:function(e,r,o){"error"in e?(n.text(e.error).addClass("visible"),t.removeClass("disabled"),i.prop("disabled",!1).removeClass("loading").next("input").removeClass("loading")):location.reload()},error:function(e,r,o){n.text(o).addClass("visible"),t.removeClass("disabled"),i.prop("disabled",!1).removeClass("loading").next("input").removeClass("loading")}}))})};return{init:function(){r(),o(),s()}}}(),News=function(){var e=document.querySelector(".b-news-index"),t=document.querySelector(".b-news-page"),n=document.querySelector(".js-more-news")||null,i=n?n.querySelector(".b-news__more__text"):null,r=function(t){n.classList.contains("active")||(t.preventDefault(),n.classList.add("active"),i.innerHTML=n.dataset.allText,e.classList.add("active"),Analytics.gtm("News More — Clicked"))},o=function(e){var t=document.createElement("div");return t.innerHTML=e,t.classList.add("b-news__day"),t},s=function(){if(t){var n,i=t.querySelectorAll(".b-news__item"),r="";lastDate=null;for(var s=0,a=i.length;s<a;s++){var l=i[s],c=l.querySelector(".b-news__time time").dataset.momentTimestamp,u=moment.unix(c).format("DD.MM");null!==lastDate&&lastDate==u||(n=u==moment().format("DD.MM")&&moment.unix(c).format("YYYY")==moment().format("YYYY")?"Сегодня, ":u==moment().subtract(1,"day").format("DD.MM")&&moment.unix(c).format("YYYY")==moment().format("YYYY")?"Вчера, ":"",moment.unix(c).format("YYYY")!=moment().format("YYYY")&&(r=" "+moment.unix(c).format("YYYY")),n+=moment.unix(c).format("D MMMM")+r,t.insertBefore(o(n),l)),lastDate=u}}else if(e)for(var i=e.querySelectorAll(".b-news__item"),s=0,a=i.length;s<a;s++){var l=i[s],p=l.querySelector(".b-news__time time"),c=p.dataset.momentTimestamp,u=moment.unix(c).format("DD.MM");u==moment().subtract(1,"day").format("DD.MM")&&(n="вчера",p.innerHTML=n)}};return{init:function(){s(),e&&null!==n&&n.addEventListener("click",r)}}}(),Rates=function(){var e=document.querySelector(".b-news__rates"),t=function(e,t){return'<span class="b-rates b-rates-'+e+'" title="'+t[e].change+'"><strong>'+("XBT"==e?"BTC":e)+'</strong><span class="b-rates__number">'+t[e].rate+'</span><span class="b-rates__change '+(t[e].change>=0?"b-rates--green":"b-rates--red")+'">'+(t[e].change>=0?"↑":"↓")+"</span></span>"};return{init:function(){e&&$.getJSON("/helper/rates","",function(n){if(void 0!=n.rates){for(var i in n.rates)e.innerHTML+=t(i,n.rates);e.classList.add("visible")}})}}}(),EmailSubscribe=function(){var e=document.querySelector(".js-email-subscribe")||null,t=e?e.querySelector("input"):null,n=e?e.querySelector("button"):null,i=e?e.parentElement.querySelector(".b-subscribe__message"):null,r=e?e.parentElement.querySelector(".b-subscribe__success"):null,o=function(){i.innerHTML="Спасибо! Мы записали Вашу почту, на неё придет письмо со ссылкой для подтверждения.",r.classList.add("visible"),e.parentNode.removeChild(e),Analytics.gtm("Email — WeekNewsletter — Add")},s=function(){if(t.value=t.value.trim(),""!==t.value&&t.validity.valid){var n=t.value;e.classList.add("loading"),$.post("/helper/collectEmail",{email:n},function(t){console.log(t),t.result?o():(Tip.show("error","Похоже, произошла ошибка. Попробуйте перезагрузить страницу и попробовать снова."),e.classList.remove("loading"))},"json")}else e.classList.add("shake"),t.focus(),setTimeout(function(){e.classList.remove("shake")},500)};return{init:function(){n&&n.addEventListener("click",s),t&&t.addEventListener("keydown",function(e){13==e.keyCode&&s()})}}}(),AnimatedUpdates=function(){var e=function(e,o,s){t(e),setTimeout(function(){n(e),setTimeout(function(){i(e),setTimeout(function(){r(e)},500)},s)},200+o)},t=function(e){e.removeAttribute("hidden"),e.removeAttribute("name")},n=function(e){e.classList.add("shown")},i=function(e){e.classList.remove("shown")},r=function(e){e.remove()};return{show:function(){for(var t,n,i,r=document.getElementsByName("js-animated-update"),o=r.length-1;o>=0;o--)t=r[o],App.isElementOnScreen(t.parentNode)&&(n=App.random(10,2500),i=t.dataset.lifetime||5e3,e(t,n,parseInt(i,10)));r=null}}}(),Pushes=function(){var e,t,n,i=document.querySelector(".b-push-subscribe"),r=document.querySelector(".js-push-offer-decline"),o=document.querySelector(".js-push-offer-toggle"),s="hidden"!=localStorage.getItem("notification_push"),a=document.querySelector(".js-push-popup"),l={on:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 257.75 20 20"><path d="M5.466 259.977l-1.296-1.295c-2.22 1.666-3.7 4.256-3.886 7.217h1.85c.186-2.5 1.388-4.628 3.332-5.923zm12.4 5.922h1.85c-.185-2.962-1.573-5.552-3.794-7.218l-1.295 1.295c1.85 1.295 3.053 3.424 3.238 5.922zm-1.85.462c0-2.868-1.944-5.182-4.628-5.83v-.647c0-.74-.647-1.388-1.388-1.388-.74 0-1.388.648-1.388 1.388v.648c-2.684.647-4.627 2.96-4.627 5.83v5.088l-1.85 1.852v.926h15.73v-.926l-1.85-1.85v-5.09zM10 277.004h.37c.648-.094 1.11-.556 1.296-1.11.093-.186.185-.464.185-.74h-3.7c0 1.016.832 1.85 1.85 1.85z"/></svg>',off:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 257.75 20 20"><path d="M10.023 277.037c1.02 0 1.856-.835 1.856-1.856H8.166c0 1.022.835 1.857 1.856 1.857zm6.032-10.67c0-2.876-1.95-5.196-4.64-5.846v-.648c0-.742-.65-1.392-1.392-1.392s-1.392.65-1.392 1.392v.65c-.463.092-.926.278-1.297.463l8.723 8.72v-3.338zm-.28 7.885l1.856 1.86 1.208-1.208-15.496-15.497-1.206 1.207 2.69 2.69c-.556.93-.833 1.95-.833 3.063v5.104l-1.856 1.856v.926h13.64z"/></svg>',desktop:'<svg xmlns="http://www.w3.org/2000/svg" width="21.479" height="18.51" viewBox="0 0 21.479 18.51"><path d="M20.066.282v-.03H1.403v.03C.784.325.322.817.25 1.414V13.97c0 .24.063.445.167.628.24.425.597.64 1.09.64H8.34v1.864H6.84c-.325 0-.577.252-.577.577s.25.578.577.578h7.847c.324 0 .585-.253.585-.577s-.262-.576-.586-.576h-1.436V15.24h6.707c.494 0 .853-.215 1.09-.64.11-.19.18-.397.18-.627V1.413c-.074-.597-.566-1.09-1.164-1.132zm0 1.237v11.546c0 .074-.03.105-.105.105H1.508c-.073 0-.105-.03-.105-.104V1.413h18.664v.105z"/></svg>'},c=function(e,t){return'<div class="b-footer-pushes__icon">'+e+'</div><div class="b-footer-pushes__text">'+t+"</div>"},u=function(){App.isLocalStorage()&&localStorage.setItem("notification_push","hidden"),i.classList.remove("fadeIn"),i.classList.add("hide")},p=function(i){var r=i.currentTarget;pushId=r.dataset.id,e=r.dataset.title,t=r.dataset.message,n=r.dataset.url;$.magnificPopup.open({items:{src:'<div class="b-popup"><div class=b-popup__title>Отправить веб-пуш</div><div class=b-popup__content>'+function(){return'<fieldset><input type="text" name="pushTitle" value="'+e+'" placeholder="Заголовок"></fieldset><fieldset><textarea name="pushMessage" placeholder="Сообщение">'+t+'</textarea></fieldset><fieldset><input type="text" name="pushURL" value="'+n+'" placeholder="Ссылка"></fieldset><button type="button" class="b-button js-push-send">Отправить</button><button type="button" class="b-button cancel js-cancel">Отмена</button>'}()+"</div></div>",type:"inline"},callbacks:{open:function(){Popups.openCallback(this.scrollbarSize),document.addEventListener("input",d)},close:function(){document.removeEventListener("input",d),Popups.closeCallback(this.scrollbarSize)}}})},d=function(i){var r=i.target;switch(r.name){case"pushTitle":e=r.value.trim();break;case"pushURL":n=r.value.trim();break;case"pushMessage":t=r.value.trim()}},f=function(i){var r=i.target;r.classList&&r.classList.contains("js-push-send")&&(r.classList.add("loading"),a.classList.add("loading"),$.post("/admin/push/web",{title:e,text:t,url:n,id:pushId,"x-csrf-token":csrfToken||""},function(e){"result"in e&&e.result?($.magnificPopup.close(),a.classList.add("disabled"),a.classList.remove("loading","js-push-send"),a.innerHTML=l.desktop+"Веб-пуш отправлен"):(Tip.show("error","Не удалось отправить пуш. Попробуйте снова"),r.classList.remove("loading"),a.classList.remove("disabled","loading"))}))};return{init:function(){o&&window.sPush.init({offerBlockId:s&&i?"pushOffer":null,subscribeButtonsSelector:".js-push-offer-accept, .js-push-offer-toggle",serviceWorker:"/pushWorker.js",subscribePayloadUrl:"https://push.vc.ru/api/endpoint/put/",unsubscribePayloadUrl:"https://push.vc.ru/api/endpoint/delete/",applePayloadUrl:"https://push.vc.ru/api/safari",appleWebPushId:"web.ru.vc.push",minVisitsToShowOffer:1,subscribeText:c(l.on,"Включить уведомления"),unsubscribeText:c(l.off,"Выключить уведомления"),subscribeCallback:function(){App.isLocalStorage()&&localStorage.setItem("notification_push","made"),Analytics.gtm("Push Notifications — Subscribe")},unsubscribeCallback:function(){App.isLocalStorage()&&localStorage.setItem("notification_push","hidden"),Analytics.gtm("Push Notifications — Unsubscribe")},offerShowedCallback:function(){Analytics.gtm("Push Notifications — Window Shown")}}),r&&r.addEventListener("click",u),a&&(a.addEventListener("click",p),document.addEventListener("click",f))}}}(),Widgets=function(){var e=function(){document.getElementById("js-vk-widget")&&void 0!=VK.Widgets&&VK.Widgets.Group("js-vk-widget",{mode:3,width:"300",height:"205"},33393308)};return{init:function(){e()}}}(),Misprints=function(){var e,t=function(){$.magnificPopup.open({items:{src:'<div class="b-popup"><div class=b-popup__title>Отправить сообщение об опечатке</div><div class=b-popup__content>'+function(){return'<fieldset><span class="b-misprint">'+(e.length>140?e.slice(0,140)+"...":e)+'</span></fieldset><fieldset><textarea name="misprintComment" placeholder="Комментарий (необязательно)"></textarea></fieldset><button type="button" class="b-button js-misprint-send">Отправить</button><button type="button" class="b-button cancel js-cancel">Отмена</button>'}()+"</div></div>",type:"inline"},callbacks:{open:function(){var e=document.querySelector(".js-misprint-send");setTimeout(function(){e.focus()},100),Popups.openCallback(this.scrollbarSize),document.addEventListener("click",n),document.addEventListener("keydown",i)},close:function(){document.removeEventListener("click",n),document.removeEventListener("keydown",i),Popups.closeCallback(this.scrollbarSize)}}}),Analytics.gtm("Misprints Popup — Shown")},n=function(e){var t=e.target;t.classList&&t.classList.contains("js-misprint-send")&&!t.classList.contains("loading")&&(r(),Analytics.gtm("Misprints Popup — Sent"))},i=function(e){13==e.keyCode&&(e.metaKey||e.ctrlKey)&&r()},r=function(){var t=document.querySelector('[name="misprintComment"]'),n=t.value.trim();document.querySelector(".js-misprint-send").classList.add("loading"),newrphus.send(e,n)};return{init:function(){newrphus.init({url:"/helper/newrphus",userId:userLoginedId||0,callback:function(){$.magnificPopup.close(),Tip.show("success","Спасибо. Сообщение об опечатке отправлено нашим редакторам.")},onBeforeSend:function(n){e=n,t()}})}}}(),MoreArticles=function(){var e=document.querySelector(".js-feed-loadHere"),t=document.querySelector(".js-feed-more"),n={},i=function(){t.classList.contains("loading")||(t.classList.add("loading"),n={maxDate:t.dataset.maxdate,count:t.dataset.count,loadMore:t.dataset.loadmore,loadMoreHash:t.dataset.loadmorehash},$.get("/helper/articlesMore",n,function(n){e.innerHTML+=n.html,Moment.init(),t.dataset.maxdate=n.lastArticleDate,(n.lastArticleDate<1||null===n.lastArticleDate)&&t.classList.add("hidden"),t.classList.remove("loading")}))};return{init:function(){t&&t.addEventListener("click",i)}}}(),Navigation=function(){var e=document.querySelector(".js-nav-toggle"),t=e?e.parentNode:null,n=function(){e.classList.contains("active")?(e.classList.remove("active"),t.classList.remove("active")):(e.classList.add("active"),t.classList.add("active"),Analytics.gtm("Navigation More — Clicked"))};return{init:function(){e&&e.addEventListener("click",n)}}}(),Article=function(){var e=document.querySelector(".js-hits-counter"),t={},n=function(){t={id:e.dataset.entryId,hash:e.dataset.hitsHash,timestamp:e.dataset.timestamp},$.post("/paper/hit",t,function(t){t&&void 0!=t.hits&&(e.innerHTML=App.formatNumber(t.hits))},"json")};return{init:function(){e&&n()}}}(),AdsInArticle=function(){var e,t,n=document.querySelector(".b-article"),i=void 0!==window.Ya&&void 0!==window.Ya.adfoxCode,r=function(){var e=document.querySelector(".js-aside-subscribe-block"),t=document.querySelectorAll(".js-aside-widget-block");if(e&&(e.classList.remove("hidden"),Analytics.gtm("Email — WeekNewsletter — Offer Shown")),t.length>0)for(var i=0,r=t.length;i<r;i++)t[i].classList.remove("hidden");n&&"undefined"!=typeof entryId&&n.classList.add("b-article-wide")},o=function(){i||r()};return{init:function(){o(),"undefined"!=typeof adfox_container_id&&App.isDesktop()&&n&&n.offsetHeight>3e3&&(e=0,t=Math.floor(n.offsetHeight/2))},reload:function(){"undefined"!=typeof adfox_container_id&&App.isDesktop()&&i&&((e<=t&&window.pageYOffset>t||e>t&&window.pageYOffset<=t)&&window.Ya.adfoxCode.reload(adfox_container_id),e=window.pageYOffset)},noAdsBehavior:r}}(),Advertising=function(){var e=$(".b-advertising__cases__logos"),t=e.find("li"),n=$(".b-advertising__cases__nav--prev"),i=$(".b-advertising__cases__nav--next");return{init:function(){var r=new Swiper(".js-cases-swiper",{slidesPerView:1,centeredSlides:!0,setWrapperSize:!0,onSlideChangeStart:function(t){e.find("li[data-case-slide="+(t.activeIndex+1)+"]").addClass("active").siblings().removeClass("active"),0==t.activeIndex?n.addClass("disabled"):t.activeIndex==t.slides.length-1?i.addClass("disabled"):(n.removeClass("disabled"),i.removeClass("disabled"))}});t.on("click",function(){var e=$(this);e.addClass("active").siblings().removeClass("active"),r.slideTo(e.data("case-slide")-1)}),n.on("click",function(){r.slidePrev()}),i.on("click",function(){r.slideNext()})}}}(),SocketIo=function(){var e,t,n=[],i=[],r=function(){var e=document.querySelector(".js-hits-counter");"undefined"!=typeof entryId&&null!==entryId&&(i.push({data:{paperId:entryId,action:"hit"}}),n.push({name:"paperHitsCount"+entryId,callback:function(t){var n=parseInt(e.innerHTML.replace(" ",""));1==t.hit?++paperHitsCount>n&&(e.innerHTML=App.formatNumber(paperHitsCount)):void 0!=t.hits&&(paperHitsCount=t.hits,paperHitsCount>n&&(e.innerHTML=App.formatNumber(paperHitsCount)))}}))},o=function(){var e,t=document.querySelector(".js-notifications-counter");userLoginedId&&n.push({name:"mainNotifications",id:uniqueRplId,callback:function(n){""!==t.innerHTML&&"99+"!==t.innerHTML?(e=parseInt(t.innerHTML),t.innerHTML=e+1):t.innerHTML=1}})},s=function(){n.length&&$.each(n,function(n,i){var r=i.name;void 0!=i.id&&(r+="@id_"+i.id),t[r]=i.callback,e.emit("subscribe",r)}),i.length&&$.each(i,function(t,n){e.emit("direct message",n.data)})},a=function(e){void 0!=e.room&&t[e.room](e.data)};return{init:function(){r(),o(),(n.length||i.length)&&(e=io("//node.vc.ru/"),t=[],e.on("connect",function(){s()}),e.on("message",function(e){a(e)}))}}}(),RequestForms=function(){var e=function(){grecaptcha.render("g-recaptcha",{sitekey:"6LeJqw8UAAAAAPiUueFrK7K7pFsUnqeORODJHCm6"})},t=function(e){var t=document.querySelector(e.dataset.infoSelector);e.classList.toggle("active"),t.classList.toggle("active")},n=function(t){var n=document.getElementById(t.dataset.windowId),i=n.outerHTML;$.magnificPopup.open({items:{src:i,type:"inline"},callbacks:{open:function(){Popups.openCallback(this.scrollbarSize),e()}}})},i=function(e){for(var t=e.elements,n=[],i=0,r=t.length;i<r;i++)("input"==t[i].tagName.toLowerCase()&&"button"!=t[i].type||"textarea"==t[i].tagName.toLowerCase())&&n.push(t[i]);return n},r=function(e,t){for(var n,r=i(e),o=0,s=r.length;o<s;o++){var a=r[o],l=a.validity.valid;if(n=!1,!l){a.classList.add("shake"),a.focus(),setTimeout(function(){a.classList.remove("shake")},500);break}n=!0}n&&"function"==typeof t&&t()},o=function(e){var t=e.form,n=new FormData(t),i=t.action,o=t.querySelector(".b-request-window__error");r(t,function(){o.innerHTML="",e.classList.add("loading"),$.ajax({url:i,type:"POST",data:n,processData:!1,contentType:!1,success:function(n){"result"in n?($.magnificPopup.close(),Tip.show("success",t.dataset.success)):"error"in n&&(o.innerHTML=n.error,e.classList.remove("loading"))},error:function(t){o.innerHTML=t.error,e.classList.remove("loading")}})})},s=function(e){for(var i=e.target;i.parentNode&&i!==e.currentTarget&&(!i.classList||"path"===i.tagName||"svg"===i.tagName||!(i.classList.contains("js-request-window")||i.classList.contains("js-request-info")||i.classList.contains("js-request-submit")));)i=i.parentNode;i.classList&&(i.classList.contains("js-request-window")?n(i):i.classList.contains("js-request-info")?t(i):i.classList.contains("js-request-submit")&&o(i))},a=function(){var e=document.querySelector(".js-request-window");e&&"open"in e.dataset&&n(e)};return{init:function(){a(),document.addEventListener("click",s)},renderCaptcha:e}}(),StartupsVote=function(){var e=document.querySelector(".b-article-panel-startups"),t=e?e.querySelector(".b-article-panel-startups__counter.yes"):null,n=e?e.querySelector(".b-article-panel-startups__counter.no"):null,i=function(){$.get("/special/getWillFlyData",{id:entryId},function(e){"error"in e||(t.innerHTML=e.will,n.innerHTML=e.wont,e.amIwill?t.parentNode.classList.add("active"):e.amIwont&&n.parentNode.classList.add("active"))},"json")},r=function(e){var i=e.classList.contains("yes")?1:0;$.post("/special/voteWillFly",{id:entryId,vote:i},function(e){"error"in e||(t.innerHTML=e.will,n.innerHTML=e.wont,e.amIwill?(t.parentNode.classList.add("active"),n.parentNode.classList.remove("active")):e.amIwont&&(n.parentNode.classList.add("active"),t.parentNode.classList.remove("active")))},"json")},o=function(e){for(var t=e.target;t.parentNode&&t!==e.currentTarget&&("path"===t.tagName||"svg"===t.tagName||!t.classList||!t.classList.contains("js-startup-vote"));)t=t.parentNode;t.classList&&t.classList.contains("js-startup-vote")&&r(t)};return{init:function(){e&&entryId&&(i(),document.addEventListener("click",o))}}}(),Analytics=function(){var e=function(e){var t=e.dataset.gaCategory,n=e.dataset.gaAction||"click",i=e.dataset.gaLabel;if(t&&n&&i)try{ga("send","event",t,n,i)}catch(e){}},t=function(e){var t="string"==typeof e?e:e.dataset.gtmEvent;if(""!==t.trim())try{dataLayer.push({event:"data_event",data_description:t})}catch(e){}},n=function(n){for(var i=n.target;i.parentNode&&i!==n.currentTarget;){if("path"!==i.tagName&&"svg"!==i.tagName){if(i.dataset&&"gaCategory"in i.dataset)break;if(i.dataset&&"gtmEvent"in i.dataset)break}i=i.parentNode}i.dataset&&"gaCategory"in i.dataset&&e(i),i.dataset&&"gtmEvent"in i.dataset&&t(i)};return{init:function(){document.addEventListener("click",n)},gtm:t}}(),App=function(){return{init:function(){Moment.init(),Anchors.init(),Widgets.init(),Header.init(),Up.init(),Sticky.init(),Favorite.init(),Popups.init(),DefaultForms.init(),BestArticles.init(),PopularArticles.init(),VideoPreviews.init(),GifPreviews.init(),TwitterWidgets.init(),InstagramEmbeds.init(),Comments.init(),CommentsForm.init(),NewComments.init(),Favorite.init(),AvatarChange.init(),Vote.init(),News.init(),Rates.init(),EmailSubscribe.init(),AnimatedUpdates.show(),Pushes.init(),Misprints.init(),MoreArticles.init(),Navigation.init(),Article.init(),Advertising.init(),SocketIo.init(),RequestForms.init(),StartupsVote.init(),AdsInArticle.init(),Analytics.init()},resize:function(){Sticky.init(),BestArticles.resize(),PopularArticles.resize()},scroll:function(){AnimatedUpdates.show(),AdsInArticle.reload()},isDesktop:function(){return Modernizr.mq("(min-width: 760px)")},isLargeDesktop:function(){return Modernizr.mq("(min-width: 1340px)")},htmlEscape:function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},isLocalStorage:function(){var e="localStorageCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},isElementOnScreen:function(e){var t=jQuery(e),n=t.offset().top;return window.scrollY+window.innerHeight>n},random:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},formatNumber:function(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,s=void 0===i?" ":i,a=void 0===n?",":n,l="";return l=(o?function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}(r,o):""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(a)}}}(),globalEvents=function(){return{scroll:function(){this.scrollFinishTimeout_&&clearTimeout(this.scrollFinishTimeout_),this.scrollFinishTimeout_=setTimeout(App.scroll,100)},resize:function(){this.resizeFinishTimeout_&&clearTimeout(this.resizeFinishTimeout_),this.resizeFinishTimeout_=setTimeout(App.resize,350)}}}();App.init(),window.addEventListener("scroll",globalEvents.scroll),window.addEventListener("resize",globalEvents.resize);